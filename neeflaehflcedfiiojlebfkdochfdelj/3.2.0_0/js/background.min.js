!function(n){var r={};function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=n,i.c=r,i.d=function(exports,e,t){i.o(exports,e)||Object.defineProperty(exports,e,{enumerable:!0,get:t})},i.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=32)}([,function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.default={isRecording:"isRecording",startRecording:"startRecording",reviewRecording:"reviewRecording",getRecording:"getRecording",addNewSnapshot:"addNewSnapshot",trashRecording:"trashRecording",saveLastPopup:"saveLastPopup",loadPopupState:"loadPopupState",initMonitor:"initMonitor",configureMonitor:"configureMonitor",stopMonitor:"stopMonitor"}},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e){u(this,t),this.name=e,this.commands=[],this.sanityChecks=[]}return n(t,[{key:"addCommand",value:function(e){this.commands.push(e)}},{key:"addManyCommand",value:function(e){var t;(t=this.commands).push.apply(t,i(e))}},{key:"addSanityCheck",value:function(e){this.sanityChecks.push(e)}},{key:"addManySanityCheck",value:function(e){var t;(t=this.sanityChecks).push.apply(t,i(e))}},{key:"toJSON",value:function(){return{Type:"Trail",Version:"4.0",CreationDate:(e=new Date,t=function(e){return e<10?"0"+e:""+e},e.getFullYear()+"-"+t(e.getMonth())+"-"+t(e.getDate())),Name:this.name,Commands:this.commands,SanityChecks:this.sanityChecks};var e,t}}]),t}(),c=function(){function c(e,t,n,r,i,o,a){u(this,c),this.title=n,this.type=e,this.version=t,this.command=r,this.target=i,this.value=o,this.args=!!Array.isArray(a)&&a}return n(c,[{key:"toJSON",value:function(){var e={Type:this.type,Version:this.version,Command:this.command,Target:this.target,Value:this.value,Title:this.title};return!1!==this.args&&(e.Arguments=this.args),e}}]),c}(),s=function(e){function i(){return u(this,i),r(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return a(i,c),n(i,null,[{key:"_create",value:function(e,t,n,r){return new i("Selenium","1.0",e,t,n,r)}},{key:"createOpenCommand",value:function(e){return this._create("Browse to","open",e,"")}},{key:"createClickCommand",value:function(e){return this._create("Click on","click","css="+e,"")}},{key:"createClickAndWaitCommand",value:function(e){return this._create("Click on and wait","clickAndWait","css="+e,"")}},{key:"createWaitForPageToLoadCommand",value:function(e){return this._create("Wait for page to load","waitForPageToLoad",e,"")}},{key:"createWaitForElementPresentCommand",value:function(e){return this._create("Wait for element to be present","waitForElementPresent","css="+e,"")}},{key:"createVerifyTextPresentCommand",value:function(e){return this._create("Verify text exists","verifyTextPresent",e,"")}},{key:"createAssertTextPresentCommand",value:function(e){return this.createVerifyTextPresentCommand(e)}},{key:"createVerifyElementPresentCommand",value:function(e){return this._create("Verify element exists","verifyElementPresent","css="+e,"")}},{key:"createAssertElementPresentCommand",value:function(e){return this.createVerifyElementPresentCommand(e)}},{key:"createVerifyTextCommand",value:function(e,t){return this._create("Verify text of","verifyText","css="+e,t)}},{key:"createAssertTextCommand",value:function(e,t){return this.createVerifyTextCommand(e,t)}},{key:"createVerifyTitleCommand",value:function(e){return this._create("Verify title of page","verifyTitle",e,"")}},{key:"createAssertTitleCommand",value:function(e){return this.createVerifyTitleCommand(e)}},{key:"createVerifyURLCommand",value:function(e){return this._create("Verify url of page","verifyURL",e,"")}},{key:"createAssertURLCommand",value:function(e){return this.createVerifyURLCommand(e)}},{key:"createTypeCommand",value:function(e,t){return this._create("Type in","type","css="+e,t)}},{key:"createRunScriptCommand",value:function(e){return this._create("Run script","runScript",e,"")}}]),i}(),d=function(e){function o(){return u(this,o),r(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return a(o,c),n(o,null,[{key:"_create",value:function(e,t,n,r,i){return new o("UserAction","1.0",e,t,n,r,i||[])}},{key:"createTypeCommand",value:function(e,t,n){return this._create("Type in","type","css="+e,n,["xpath="+t])}},{key:"createChangeTabFocusCommand",value:function(e){return this._create("Change tab to","tabFocus",e,"")}},{key:"createMouseClickCommand",value:function(e,t){return this._create("Click on","mouseClick","css="+e,"xpath="+t)}},{key:"createMouseDownCommand",value:function(e,t){return this._create("Mouse button down","mouseDown","css="+e,"xpath="+t)}},{key:"createMouseUpCommand",value:function(e,t){return this._create("Mouse button up","mouseUp","css="+e,"xpath="+t)}},{key:"createKeyPressCommand",value:function(e,t,n,r,i,o){return this._create("Key press","keyPress","css="+e,"xpath="+t,[n,r,i,o])}},{key:"createKeyDownCommand",value:function(e,t,n,r,i,o){return this._create("Key press","keyDown","css="+e,"xpath="+t,[n,r,i,o])}},{key:"createKeyUpCommand",value:function(e,t,n,r,i,o){return this._create("Key up","keyUp","css="+e,"xpath="+t,[n,r,i,o])}},{key:"createFocusCommand",value:function(e,t){return this._create("Focus on","focus","css="+e,"xpath="+t)}},{key:"createBlurCommand",value:function(e,t){return this._create("Lose focus from","blur","css="+e,"xpath="+t)}},{key:"createInputCommand",value:function(e,t){return this._create("Type in","input","css="+e,t)}},{key:"createScrollCommand",value:function(e,t){return this._create("Scroll to","scroll",e,t)}},{key:"createSetViewportCommand",value:function(e,t){return this._create("Set screen size","setViewport",e,t)}}]),o}(),l=function(e){function i(){return u(this,i),r(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return a(i,c),n(i,null,[{key:"_create",value:function(e,t,n,r){return new i("Helper","1.0",e,t,n,r)}},{key:"createLogCommand",value:function(e){return this._create("Write to log","log",e,"")}},{key:"createSleepCommand",value:function(e){return this._create("Wait for","sleep",e.toString(),"")}}]),i}(),f=function(e){function i(){return u(this,i),r(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return a(i,c),n(i,null,[{key:"_create",value:function(e,t,n,r){return new i("Extractor","1.0",e,t,n,r)}},{key:"createExtractCookieCommand",value:function(e){return this._create("Extract cookie","cookie",e,"")}},{key:"createExtractCookiesCommand",value:function(){return this._create("Extract all cookies","cookies","","")}},{key:"createExtractLinksCommand",value:function(e){return this._create("Extract links","links","css="+e,"")}},{key:"createExtractAllLinksCommand",value:function(){return this._create("Extract all links","links","","")}},{key:"createExtractURLCommand",value:function(){return this._create("Extract url","url","","")}},{key:"createExtractScreenshotCommand",value:function(){return this._create("Take screenshot","screenshot","","")}}]),i}();exports.Trail=o,exports.TrailCommand=c,exports.TrailSeleniumCommand=s,exports.TrailUserActionCommand=d,exports.TrailHelperCommand=l,exports.TrailExtractorCommand=f,exports.createMetaCommand=function(e,t,n){return n=n||{},e._identifier=(t||"0").toString(),e._tag=n.tagName||!1,e._screenShotIdentifier=n.screenShotIdentifier||"",e._scrollInfo=n.scroll||{scrollX:0,scrollY:0},e._timeStamp=n.timeStamp||0,e._location=n.location||!1,e._sensitiveValue=n.sensitiveValue||!1,e._stripFromOutput=n.stripFromOutput||!1,e._causedByNavigation=n.causedByNavigation||!1,e}},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.default={startRecording:"startRecording",whileRecording:"whileRecording"}},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.default={Invalid:"invalid",Waiting:"waiting",Attached:"attached",Error:"error"}},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.tabName=exports.isTabAlive=exports.isRelevantTab=exports.createNewTab=exports.findTitleAndURL=exports.refreshTab=exports.unbindTabStateChanged=exports.onTabStateChanged=exports.findActiveTab=exports.currentRealTabState=exports.currentTabState=exports.deinitTabManager=exports.initTabManager=void 0;var n,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r=t(21),o=t(9),a=t(6),c=t(4),u=(n=c)&&n.__esModule?n:{default:n};var s="undefined"==typeof Promise?t(8).Promise:Promise,d=function(e){-1<e&&(_(-1,e),S(e).then(function(e){T(e.id)&&_(e.id,e.windowId)}).catch(function(){return _(-1,-1)}))},l=function(e){T(e.tabId)?_(e.tabId,e.windowId):_(-1,-1)},f=function(e){(-1<e.openerTabId&&T(e.openerTabId)||e.windowId!==w().windowId&&-1<g.indexOf(e.windowId))&&"chrome://newtab/"!==e.url&&!1===(0,r.isReviewTab)(e.id)&&v.push({tabId:e.id,windowId:e.windowId})},m=function(e){return g.push(e.id)},h=!1,v=[],p=[],g=[],y={tabId:-1,windowId:-1,session:null},b={tabId:-1,windowId:-1},S=function(e,t){var r={active:!0};return e&&i(r,{windowId:e}),t&&i(r,{currentWindow:!0}),new s(function(t,n){chrome.tabs.query(r,function(e){0<e.length?t(e[0]):n()})})},_=function(t,e){if(b.tabId=t,b.windowId=e,y.tabId!==t||y.windowId!==e)if(T(t)){void 0===p.find(function(e){return e.tabId===t})&&p.push({tabId:t,name:String.fromCharCode(65+p.length)}),null!==y.session&&(0,o.closeSessionByIdentifier)(y.session.identifier);var n=i({},y);y.tabId=t,y.windowId=e,y.session=(0,o.newSession)(t,e);var r={newState:y,oldState:n};C.forEach(function(e){return e(r)})}else-1===t&&(0,a.updateInjectionStatus)(-1,u.default.Invalid);(0,a.updateIconState)()},w=function(){return y},C=[],T=function(t){return-1<t&&void 0!==v.find(function(e){return e.tabId===t})};exports.initTabManager=function(e,t){h||(h=!0,v=[{tabId:e,windowId:t}],p=[{tabId:e,name:String.fromCharCode(65)}],y={tabId:e,windowId:t,session:(0,o.newSession)(e,t)},b={tabId:e,windowId:t},_(e,t),chrome.tabs.onCreated.addListener(f),chrome.tabs.onActivated.addListener(l),chrome.windows.onFocusChanged.addListener(d),chrome.windows.onCreated.addListener(m))},exports.deinitTabManager=function(){h=!1,v=[],p=[],y={tabId:-1,windowId:-1,session:null},b={tabId:-1,windowId:-1},chrome.tabs.onCreated.removeListener(f),chrome.tabs.onActivated.removeListener(l),chrome.windows.onFocusChanged.removeListener(d),chrome.windows.onCreated.removeListener(m)},exports.currentTabState=w,exports.currentRealTabState=function(){return b},exports.findActiveTab=S,exports.onTabStateChanged=function(e){return C.push(e)},exports.unbindTabStateChanged=function(n){C=C.reduce(function(e,t){return t===n?e:[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e),[t])},[])},exports.refreshTab=function(t,n){return new s(function(e){chrome.tabs.update(t,{url:n},function(){e()})})},exports.findTitleAndURL=function(e){return new s(function(t,n){chrome.tabs.executeScript(e,{code:"(function(){let x = [document.title, document.location.href]; return x;})();"},function(e){chrome.runtime.lastError?n(chrome.runtime.lastError.message):void 0===e||null===e[0]?n("no results"):t({url:e[0][1].toString(),title:e[0][0].toString()})})})},exports.createNewTab=function(e,r){return new s(function(t,n){chrome.tabs.create({url:e,active:r},function(e){0<e.id?t(e.id):n()})})},exports.isRelevantTab=T,exports.isTabAlive=function(e){return new s(function(t){-1<e?chrome.tabs.get(e,function(e){chrome.runtime.lastError?t(!1):t(!!e)}):t(!1)})},exports.tabName=function(t){var e=p.find(function(e){return e.tabId===t});return!!e&&e.name}},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.lastInjectedTabId=exports.injectionStatus=exports.injectionStatuses=exports.clearInjectionStatuses=exports.updateInjectionStatus=exports.lastPopupSlide=exports.updatePopupState=exports.isReviewing=exports.isRecording=exports.updateState=exports.updateIconState=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n=t(36),r=c(t(3)),a=c(t(4)),i=t(5);function c(e){return e&&e.__esModule?e:{default:e}}var u=!1,s=!1,d=r.default.startRecording,l={},f=-1,m=function(){if(h())switch(p((0,i.currentRealTabState)().tabId)){case a.default.Attached:(0,n.useRecordingIcon)();break;case a.default.Waiting:(0,n.useWaitingIcon)();break;case a.default.Error:(0,n.useErrorIcon)();break;case a.default.Invalid:(0,n.useInvalidIcon)()}else v()?(0,n.useReviewingIcon)():(0,n.useIdleIcon)()},h=function(){return s},v=function(){return u},p=function(e){return l[e]||a.default.Invalid};exports.updateIconState=m,exports.updateState=function(e,t){s=void 0===e?s:e,u=void 0===t?u:t,m()},exports.isRecording=h,exports.isReviewing=v,exports.updatePopupState=function(e){d=e},exports.lastPopupSlide=function(){return d},exports.updateInjectionStatus=function(e,t){var n,r,i;o(l,(i=t,(r=e)in(n={})?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n)),t===a.default.Attached&&(f=e),m()},exports.clearInjectionStatuses=function(){l={},f=-1,m()},exports.injectionStatuses=function(){return Object.keys(l).map(function(e){return{tabId:parseInt(e),status:l[e]}})},exports.injectionStatus=p,exports.lastInjectedTabId=function(){return f}},,function(e,exports,t){(function(W,B){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.5+7f2b526d
 */
e.exports=function(){"use strict";function s(e){return"function"==typeof e}var n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=0,t=void 0,i=void 0,c=function(e,t){f[r]=e,f[r+1]=t,2===(r+=2)&&(i?i(m):y())},e="undefined"!=typeof window?window:void 0,o=e||{},a=o.MutationObserver||o.WebKitMutationObserver,u="undefined"==typeof self&&void 0!==W&&"[object process]"==={}.toString.call(W),d="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function l(){var e=setTimeout;return function(){return e(m,1)}}var f=new Array(1e3);function m(){for(var e=0;e<r;e+=2){var t=f[e],n=f[e+1];t(n),f[e]=void 0,f[e+1]=void 0}r=0}var h,v,p,g,y=void 0;function b(e,t){var n=this,r=new this.constructor(w);void 0===r[_]&&V(r);var i=n._state;if(i){var o=arguments[i-1];c(function(){return N(i,r,o,n._result)})}else x(n,r,e,t);return r}function S(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(w);return O(t,e),t}y=u?function(){return W.nextTick(m)}:a?(v=0,p=new a(m),g=document.createTextNode(""),p.observe(g,{characterData:!0}),function(){g.data=v=++v%2}):d?((h=new MessageChannel).port1.onmessage=m,function(){return h.port2.postMessage(0)}):void 0===e?function(){try{var e=Function("return this")().require("vertx");return void 0===(t=e.runOnLoop||e.runOnContext)?l():function(){t(m)}}catch(e){return l()}}():l();var _=Math.random().toString(36).substring(2);function w(){}var C=void 0,T=1,I=2,k={error:null};function R(e){try{return e.then}catch(e){return k.error=e,k}}function M(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function A(e,t,n){var r,i,o,a;t.constructor===e.constructor&&n===b&&t.constructor.resolve===S?(o=e,(a=t)._state===T?j(o,a._result):a._state===I?E(o,a._result):x(a,void 0,function(e){return O(o,e)},function(e){return E(o,e)})):n===k?(E(e,k.error),k.error=null):void 0===n?j(e,t):s(n)?(r=t,i=n,c(function(t){var n=!1,e=M(i,r,function(e){n||(n=!0,r!==e?O(t,e):j(t,e))},function(e){n||(n=!0,E(t,e))},t._label);!n&&e&&(n=!0,E(t,e))},e)):j(e,t)}function O(e,t){var n,r;e===t?E(e,new TypeError("You cannot resolve a promise with itself")):(r=typeof(n=t),null===n||"object"!==r&&"function"!==r?j(e,t):A(e,t,R(t)))}function P(e){e._onerror&&e._onerror(e._result),L(e)}function j(e,t){e._state===C&&(e._result=t,e._state=T,0!==e._subscribers.length&&c(L,e))}function E(e,t){e._state===C&&(e._state=I,e._result=t,c(P,e))}function x(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+T]=n,i[o+I]=r,0===o&&e._state&&c(L,e)}function L(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?N(n,r,i,o):i(o);e._subscribers.length=0}}function N(e,t,n,r){var i=s(n),o=void 0,a=void 0,c=void 0,u=void 0;if(i){if((o=function(e,t){try{return e(t)}catch(e){return k.error=e,k}}(n,r))===k?(u=!0,a=o.error,o.error=null):c=!0,t===o)return void E(t,new TypeError("A promises callback cannot return that same promise."))}else o=r,c=!0;t._state!==C||(i&&c?O(t,o):u?E(t,a):e===T?j(t,o):e===I&&E(t,o))}var U=0;function V(e){e[_]=U++,e._state=void 0,e._result=void 0,e._subscribers=[]}var F=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(w),this.promise[_]||V(this.promise),n(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?j(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&j(this.promise,this._result))):E(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===C&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===S){var i=R(t);if(i===b&&t._state!==C)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===J){var o=new n(w);A(o,t,i),this._willSettleAt(o,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===C&&(this._remaining--,e===I?E(r,n):this._result[t]=n),0===this._remaining&&j(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;x(e,void 0,function(e){return n._settledAt(T,t,e)},function(e){return n._settledAt(I,t,e)})},e}(),J=function(){function t(e){this[_]=U++,this._result=this._state=void 0,this._subscribers=[],w!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(t,e){try{e(function(e){O(t,e)},function(e){E(t,e)})}catch(e){E(t,e)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this.constructor;return s(t)?this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})}):this.then(t,t)},t}();return J.prototype.then=b,J.all=function(e){return new F(this,e).promise},J.race=function(i){var o=this;return n(i)?new o(function(e,t){for(var n=i.length,r=0;r<n;r++)o.resolve(i[r]).then(e,t)}):new o(function(e,t){return t(new TypeError("You must pass an array to race."))})},J.resolve=S,J.reject=function(e){var t=new this(w);return E(t,e),t},J._setScheduler=function(e){i=e},J._setAsap=function(e){c=e},J._asap=c,J.polyfill=function(){var e=void 0;if(void 0!==B)e=B;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=J},J.Promise=J}()}).call(this,t(34),t(35))},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSessionsInOrder=exports.getLatestSessionByTab=exports.closeSessionByTabAndWindow=exports.closeSessionByIdentifier=exports.getLatestSessionByTabAndWindow=exports.newSession=exports.deinitSessionManager=exports.initSessionManager=void 0;var i=t(22),o=[],a=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})};exports.initSessionManager=function(){o=[]},exports.deinitSessionManager=function(){o=[]},exports.newSession=function(e,t,n){var r={identifier:a(),tabId:e,windowId:t,started:n||(0,i.time)(),ended:0};return o.push(r),r},exports.getLatestSessionByTabAndWindow=function(t,n){return o.find(function(e){return e.tabId===t&&e.windowId===n&&0===e.ended})||null},exports.closeSessionByIdentifier=function(t,n){o.filter(function(e){return e.identifier===t}).forEach(function(e){e.ended=n||(0,i.time)()})},exports.closeSessionByTabAndWindow=function(t,n,r){o.filter(function(e){return e.tabId===t&&e.windowId===n&&0===e.ended}).forEach(function(e){e.ended=r||(0,i.time)()})},exports.getLatestSessionByTab=function(t){return o.find(function(e){return e.tabId===t&&0===e.ended})||{}},exports.getSessionsInOrder=function(){return o.reduce(function(e,t){return e.push(t.identifier),e},[]).sort(function(e,t){return e.started>t.started?-1:e.started<t.started?1:0})}},,,,,,,,,,,,function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isReviewTab=exports.showReviewTab=exports.hasReviewTab=exports.closeReview=exports.createReviewTab=void 0;var n=t(6),r=t(5),i=a(t(3)),o=a(t(4));function a(e){return e&&e.__esModule?e:{default:e}}var c=!1,u=-1,s=function(e){c&&e==u&&(c=!1,u=-1,(0,n.updateState)(!1,!1),(0,n.updateInjectionStatus)(e,o.default.Invalid),f(),(0,n.updatePopupState)(i.default.startRecording))},d=!1,l=function(){d||(d=!0,chrome.tabs.onRemoved.addListener(s))},f=function(){d=!1,chrome.tabs.onRemoved.removeListener(s)};exports.createReviewTab=function(){l(),(0,r.createNewTab)("review.html",!0).then(function(e){c=!0,u=e})},exports.closeReview=function(){c&&chrome.tabs.remove(u)},exports.hasReviewTab=function(){return c},exports.showReviewTab=function(){chrome.tabs.update(u,{active:!0},function(e){})},exports.isReviewTab=function(e){return e==u}},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.time=function(){return Math.floor((new Date).getTime()).toString()}},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.NavigationDelayOffset=2e4,exports.TabSwitchingDelay=500},,,,,,,,,function(e,exports,t){"use strict";var d=n(t(1)),l=t(2),f=t(33),m=t(21),h=t(38),v=t(6),p=t(5),g=n(t(4)),y=t(9);function n(e){return e&&e.__esModule?e:{default:e}}var r=function(t,e,n){var r=t.tabId;if(r||void 0!==e.tab&&(r=e.tab.id),r)switch(t.action){case d.default.getRecording:n({lastURL:h.activeRecording.getLastURL(),commands:h.activeRecording.getCommands(),sanityChecks:h.activeRecording.getSanityChecks(),screenshots:h.activeRecording.getScreenShots()});break;case d.default.initMonitor:if((0,v.isRecording)()&&(0,p.isRelevantTab)(r)){(0,v.updateInjectionStatus)(r,g.default.Attached),r===(0,p.currentTabState)().tabId&&(0,h.onMonitorAsAttached)((0,p.currentTabState)().session.identifier,t.timeStamp,t.url);var i=!1,o=(0,y.getLatestSessionByTab)(r);o&&(i=o.identifier),n({recording:!0,identifier:i})}else n({recording:!1,identifier:!1});break;case d.default.addNewSnapshot:var a=t.sessionIdentifier||((0,y.getLatestSessionByTab)(r)||{}).identifier||(0,p.currentTabState)().session.identifier,c="";t.takeScreenShot&&(r===(0,p.currentTabState)().tabId?(c=(0,f.createImageIdentifier)(a,t.takeScreenShot.elementIdentifier),!1===h.activeRecording.hasScreenshot(c)&&(h.activeRecording.addScreenShot(c,""),(0,f.takeScreenshot)(e.tab.windowId).then(function(e){(0,f.cropImage)(e,Math.max(0,t.takeScreenShot.x-25),Math.max(0,t.takeScreenShot.y-25),t.takeScreenShot.width+50,t.takeScreenShot.height+50,350,100).then(function(e){h.activeRecording.addScreenShot(c,e)}).catch(function(e){console.log("unable to crop screenshot ("+e+")")})}).catch(function(e){console.log("unable to capture screenshot ("+e+")")}))):console.log("skipped screenshot because user changed tab (got "+r+" expected "+(0,p.currentTabState)().tabId+")")),h.activeRecording.addCommand((0,l.createMetaCommand)(t.snapshot,a,{screenShotIdentifier:c,scroll:t.scroll,tagName:t.tagName,timeStamp:t.timeStamp,sensitiveValue:t.sensitiveValue}));break;case d.default.isRecording:n((0,v.isRecording)());break;case d.default.loadPopupState:n({lastPopup:(0,v.lastPopupSlide)(),isReviewable:-1!==(0,v.lastInjectedTabId)()&&0<h.activeRecording.getCommands().length});break;case d.default.saveLastPopup:(0,v.updatePopupState)(t.lastPopup);break;case d.default.startRecording:h.activeRecording.reset(),(0,p.deinitTabManager)(),(0,p.findActiveTab)(!1,!0).then(function(e){(0,h.startRecording)(e.id,e.windowId);var t=(0,p.currentTabState)().session.identifier;h.activeRecording.addManyCommands([(0,l.createMetaCommand)(l.TrailUserActionCommand.createSetViewportCommand(e.width.toString(),e.height.toString()).toJSON(),t),(0,l.createMetaCommand)(l.TrailUserActionCommand.createChangeTabFocusCommand("A").toJSON(),t,{stripFromOutput:!0}),(0,l.createMetaCommand)(l.TrailSeleniumCommand.createOpenCommand(e.url).toJSON(),t)]),(0,p.refreshTab)(e.id,e.url)}).catch(function(e){console.log(e),console.log("unable to find tab to start recording on")});break;case d.default.reviewRecording:if((0,m.hasReviewTab)())return void(0,m.showReviewTab)();var u=function(e){(0,p.findTitleAndURL)(e).then(function(e){var t,n,r=(0,p.currentTabState)().session.identifier,i=(0,y.getSessionsInOrder)();(0,h.stopRecording)(!0),h.activeRecording.setLastURL(e.url),h.activeRecording.addManyCommands([(0,l.createMetaCommand)(l.TrailExtractorCommand.createExtractScreenshotCommand().toJSON(),r,{location:e.url}),(0,l.createMetaCommand)(l.TrailExtractorCommand.createExtractCookiesCommand().toJSON(),r),(0,l.createMetaCommand)(l.TrailExtractorCommand.createExtractAllLinksCommand().toJSON(),r),(0,l.createMetaCommand)(l.TrailExtractorCommand.createExtractURLCommand().toJSON(),r)]),e.title.trim()&&h.activeRecording.addSanityCheck((0,l.createMetaCommand)(l.TrailSeleniumCommand.createVerifyTitleCommand(e.title).toJSON(),r)),h.activeRecording.addSanityCheck((0,l.createMetaCommand)(l.TrailSeleniumCommand.createVerifyURLCommand((t=e.url,n=document.createElement("a"),n.href=t,"glob:"+n.origin+"/*")).toJSON(),r)),h.activeRecording.postProcess(i),(0,m.createReviewTab)()}).catch(function(e){console.log(e),console.log("Unable to end on this page!")})},s=(0,p.currentTabState)().tabId;(0,p.isTabAlive)(s).then(function(e){if(e)u(s);else{console.log("Unable to create sanity checks from last focused tab, fallback to last injected tab");var t=(0,v.lastInjectedTabId)();(0,p.isTabAlive)(t).then(function(e){e?(h.activeRecording.addCommand((0,l.createMetaCommand)(l.TrailUserActionCommand.createChangeTabFocusCommand((0,p.tabName)(t)).toJSON(),-1,{timeStamp:time()})),u(t)):(console.log("Unable to create sanity checks from last injected tab, fallback to current tab"),(0,p.findActiveTab)((0,p.currentTabState)().windowId).then(function(e){h.activeRecording.addCommand((0,l.createMetaCommand)(l.TrailUserActionCommand.createChangeTabFocusCommand((0,p.tabName)(e.id)).toJSON(),-1,{timeStamp:time()})),u(e.id)}).catch(function(){console.log("Unable to create sanity check from current tab in last used window, fallback to any focued tab."),(0,p.findActiveTab)().then(function(e){h.activeRecording.addCommand((0,l.createMetaCommand)(l.TrailUserActionCommand.createChangeTabFocusCommand((0,p.tabName)(e.id)).toJSON(),-1,{timeStamp:time()})),u(e.id)}).catch(function(){console.log("Unable to find tab to create sanity checks from")})}))})}});break;case d.default.trashRecording:(0,v.isRecording)()?(0,h.stopRecording)(!1):((0,v.clearInjectionStatuses)(),(0,v.updateState)(!1,!1)),(0,m.closeReview)(),h.activeRecording.reset(),n(!1)}};chrome.runtime.onMessage.addListener(r)},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n="undefined"==typeof Promise?t(8).Promise:Promise,f=document.createElement("canvas"),m=f.getContext("2d");exports.cropImage=function(e,a,c,u,s,d,l){return new n(function(i,t){var o=document.createElement("img");o.onload=function(){f.width=d,f.height=l;var e=f.width/u,t=f.height/s,n=Math.min(e,t),r=(f.height-s*n)/2;m.drawImage(o,a,c,u,s,0,r,u*n,s*n),i(f.toDataURL("image/png"))},o.onerror=function(e){t(e)},o.src=e})},exports.createImageIdentifier=function(e,t){return e+"-"+t},exports.takeScreenshot=function(r){return new n(function(t,n){chrome.tabs.captureVisibleTab(r,{format:"jpeg",quality:70},function(e){chrome.runtime.lastError?n(chrome.runtime.lastError.message+" - "+r):t(e)})})}},function(e,exports){var n,r,t=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var c,u=[],s=!1,d=-1;function l(){s&&c&&(s=!1,c.length?u=c.concat(u):d=-1,u.length&&f())}function f(){if(!s){var e=a(l);s=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,s=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new m(e,t)),1!==u.length||s||a(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=h,t.addListener=h,t.once=h,t.off=h,t.removeListener=h,t.removeAllListeners=h,t.emit=h,t.prependListener=h,t.prependOnceListener=h,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(e,exports){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(e){"object"==typeof window&&(t=window)}e.exports=t},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useInvalidIcon=exports.useErrorIcon=exports.useReviewingIcon=exports.useRecordingIcon=exports.useIdleIcon=exports.useWaitingIcon=void 0;var n,r=t(37),i=(n=r)&&n.__esModule?n:{default:n};var o=function(e){chrome.browserAction.setIcon({path:e})};exports.useWaitingIcon=function(){o(i.default.Waiting)},exports.useIdleIcon=function(){o(i.default.Idle)},exports.useRecordingIcon=function(){o(i.default.Recording)},exports.useReviewingIcon=function(){o(i.default.Reviewing)},exports.useErrorIcon=function(){o(i.default.Error)},exports.useInvalidIcon=function(){o(i.default.Invalid)}},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.default={Idle:"icon_idle.png",Waiting:"icon_waiting.png",Recording:"icon_recording.png",Reviewing:"icon_review.png",Error:"icon_error.png",Invalid:"icon_invalid.png"}},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.onMonitorAsAttached=exports.activeRecording=exports.stopRecording=exports.startRecording=void 0;var r=t(2),i=t(5),n=t(39),o=t(6),a=t(40),c=m(t(41)),u=t(23),s=m(t(1)),d=t(9),l=t(22),f=m(t(4));function m(e){return e&&e.__esModule?e:{default:e}}var h=new c.default,v=function(e){(0,o.updateIconState)();var t=(0,i.tabName)(e.newState.tabId);if(!1!==t){var n=(0,r.createMetaCommand)(r.TrailUserActionCommand.createChangeTabFocusCommand(t).toJSON(),e.newState.session.identifier,{timeStamp:(0,l.time)()});(0,i.findTitleAndURL)(e.newState.tabId).then(function(e){n._location=e.url,h.addCommand(n)}).catch(function(){h.addCommand(n)})}chrome.tabs.sendMessage(e.newState.tabId,{action:s.default.configureMonitor,identifier:e.newState.session.identifier},function(){chrome.runtime.lastError&&(console.log(chrome.runtime.lastError.message+" - "+windowId),(0,o.updateInjectionStatus)(e.newState.tabId,f.default.Error))})},p=function(e,t){h.addCommand((0,r.createMetaCommand)(r.TrailSeleniumCommand.createOpenCommand(e).toJSON(),(0,i.currentTabState)().session.identifier,{timeStamp:Math.floor(t).toString()}))};exports.startRecording=function(e,t){!1===(0,o.isRecording)()?((0,o.updateState)(!0,!1),(0,d.initSessionManager)(),(0,i.initTabManager)(e,t),(0,i.onTabStateChanged)(v),(0,n.initNavigationManager)(),(0,n.onNavigationAction)(p),(0,a.initInjector)()):console.log("[warn] Plugin is already recording")},exports.stopRecording=function(e){(0,o.isRecording)()?((0,a.cleanUpMonitors)(),(0,o.updateState)(!1,e),(0,o.clearInjectionStatuses)(),(0,i.deinitTabManager)(),(0,i.unbindTabStateChanged)(v),(0,d.deinitSessionManager)(),(0,n.deinitNavigationManager)(),(0,n.unbindNavigationAction)(p),(0,a.deinitInjector)()):console.log("[warn] Plugin is not recording")},exports.activeRecording=h,exports.onMonitorAsAttached=function(e,t,n){h.addManyCommands([(0,r.createMetaCommand)(r.TrailHelperCommand.createSleepCommand(5e3+u.NavigationDelayOffset).toJSON(),e,{timeStamp:t,causedByNavigation:!0}),(0,r.createMetaCommand)(r.TrailExtractorCommand.createExtractScreenshotCommand().toJSON(),e,{timeStamp:t,location:n,causedByNavigation:!0})])}},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.unbindNavigationAction=exports.onNavigationAction=exports.deinitNavigationManager=exports.initNavigationManager=void 0;var n=t(5);var r=function(t){(0,n.currentTabState)().tabId==t.tabId&&0==t.frameId&&(-1<t.transitionQualifiers.indexOf("from_address_bar")||-1<t.transitionQualifiers.indexOf("forward_back"))&&i.forEach(function(e){return e(t.url,t.timeStamp)})},i=[],o=!1;exports.initNavigationManager=function(){o||(o=!0,chrome.webNavigation.onCommitted.addListener(r,{},[]))},exports.deinitNavigationManager=function(){o=!1,chrome.webNavigation.onCommitted.removeListener(r)},exports.onNavigationAction=function(e){i.push(e)},exports.unbindNavigationAction=function(n){i=i.reduce(function(e,t){return t===n?e:[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e),[t])},[])}},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.cleanUpMonitors=exports.deinitInjector=exports.initInjector=void 0;var n=t(6),r=a(t(1)),i=t(5),o=a(t(4));function a(e){return e&&e.__esModule?e:{default:e}}var c="undefined"==typeof Promise?t(8).Promise:Promise,u=function(e){(0,n.isRecording)()&&"main_frame"===e.type&&((0,i.isRelevantTab)(e.tabId)?(0,n.updateInjectionStatus)(e.tabId,o.default.Waiting):(0,n.updateInjectionStatus)(e.tabId,o.default.Invalid))},s=function(t){return new c(function(e){chrome.tabs.sendMessage(t,{action:r.default.stopMonitor},function(){chrome.runtime.lastError&&console.log("We failed to stop the monitor, usually means it's not there anymore."+chrome.runtime.lastError.message),e()})})};exports.initInjector=function(){chrome.webRequest.onBeforeRequest.addListener(u,{urls:["*://*/*"]},[])},exports.deinitInjector=function(){chrome.webRequest.onBeforeRequest.removeListener(u)},exports.cleanUpMonitors=function(){(0,n.injectionStatuses)().forEach(function(e){e.status===o.default.Attached&&s(e.tabId).then(function(){})})}},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),r=t(42);function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.reset()}return n(e,[{key:"reset",value:function(){this._lastURL="",this._commands=[],this._sanityChecks=[],this._screenShots={}}},{key:"addCommand",value:function(e){this._commands.push(e)}},{key:"addManyCommands",value:function(e){var t;(t=this._commands).push.apply(t,i(e))}},{key:"getCommands",value:function(){return this._commands}},{key:"postProcess",value:function(e){this._commands=(0,r.processCommandsList)(this._commands,e)}},{key:"addSanityCheck",value:function(e){this._sanityChecks.push(e)}},{key:"addManySanityChecks",value:function(e){var t;(t=this._sanityChecks).push.apply(t,i(e))}},{key:"getSanityChecks",value:function(){return this._sanityChecks}},{key:"addScreenShot",value:function(e,t){this._screenShots[e]=t}},{key:"getScreenShots",value:function(){return this._screenShots}},{key:"hasScreenshot",value:function(e){return this._screenShots.hasOwnProperty(e)}},{key:"getLastURL",value:function(){return this._lastURL}},{key:"setLastURL",value:function(e){this._lastURL=e}}]),e}();exports.default=o},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.processCommandsList=void 0;var o=t(2),i=t(23);function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var r=function(r){return r.reduce(function(e,t,n){return"tabFocus"!==t.Command||!0===t._stripFromOutput?[].concat(c(e),[t]):[r[n+1]||{},r[n+2]||{},r[n+3]||{}].find(function(e){return!0===e._causedByNavigation||"screenshot"===e.Command})?[].concat(c(e),[(0,o.createMetaCommand)(o.TrailHelperCommand.createSleepCommand(i.TabSwitchingDelay).toJSON(),t._identifier,{timeStamp:t._timeStamp-1}),t]):[].concat(c(e),[(0,o.createMetaCommand)(o.TrailHelperCommand.createSleepCommand(i.TabSwitchingDelay).toJSON(),t._identifier,{timeStamp:t._timeStamp-1}),t,(0,o.createMetaCommand)(o.TrailHelperCommand.createSleepCommand(i.TabSwitchingDelay).toJSON(),t._identifier,{timeStamp:t._timeStamp+1}),(0,o.createMetaCommand)(o.TrailExtractorCommand.createExtractScreenshotCommand().toJSON(),t._identifier,{timeStamp:t._timeStamp+2})])},[])},a=function(e,n){return e.reduce(function(e,t){return(e[t[n]]=e[t[n]]||[]).push(t),e},{})},u=function(e){var i=e.length,o=[],a="";return e.reduce(function(e,t,n){var r=n===i-1;return"type"===t.Command?(t.Target===a||(0<o.length&&(e=[].concat(c(e),[o[o.length-1]]),o=[]),a=t.Target),o.push(t),r&&(e=[].concat(c(e),[o[o.length-1]]),o=[])):(0<o.length&&(e=[].concat(c(e),[o[o.length-1]]),o=[]),e=[].concat(c(e),[t])),e},[])},s=function(e){var t=[].concat(c(new Set(e.filter(function(e){return"keyPress"===e.Command}).map(function(e){return e._keyIdentifier})))).filter(function(e){return!!e});return e.filter(function(e){return!0===(e._keyIdentifier||!0)||"keyPress"===e.Command||-1===t.indexOf(e._keyIdentifier)})},d=function(e){var n={scrollX:0,scrollY:0};return e.reduce(function(e,t){return!t.hasOwnProperty("_scrollInfo")||n.scrollX===t._scrollInfo.scrollX&&n.scrollY===t._scrollInfo.scrollY||(n=t._scrollInfo,e=[].concat(c(e),[o.TrailUserActionCommand.createScrollCommand(t._scrollInfo.scrollX.toString(),t._scrollInfo.scrollY.toString()).toJSON()])),[].concat(c(e),[t])},[])},l=function(e){var r=-1,i=0;return e.reduce(function(e,t){if(r!==t._identifier)r=t._identifier,i=t._timeStamp;else{if(0<i){var n=Math.floor(t._timeStamp-i);1e3<=n&&(e=[].concat(c(e),[o.TrailHelperCommand.createSleepCommand(n.toString()).toJSON()]))}i=t._timeStamp}return[].concat(c(e),[t])},[])},f=function(e){var n="";return e.reduce(function(e,t){return"screenshot"===t.Command&&"screenshot"===n?e:(n=t.Command,[].concat(c(e),[t]))},[])};exports.processCommandsList=function(e,t){var n=a(e,"_identifier");return t.reduce(function(e,t){return[].concat(c(e),c(r(d(f(s(u(l(n[t]))))))))},[])}}]);