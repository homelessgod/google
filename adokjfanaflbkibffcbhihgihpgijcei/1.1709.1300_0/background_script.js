var MODULESETS = {}; var ROW_KEYS = {}; var ROW_KEY_SIGNATURES = {};
MODULESETS['background_script.js'] = 'background'; ROW_KEYS['background'] = 'classroom-live.background.en_US.nhuU7z8NCL0.OL';
MODULESETS['inject_script.js'] = 'inject'; ROW_KEYS['inject'] = 'classroom-live.inject.en_US.xriV1CXnofA.OL';
MODULESETS['options_script.js'] = 'options'; ROW_KEYS['options'] = 'classroom-live.options.en_US.LuiABgAcAOg.OL';
MODULESETS['popup_script.js'] = 'popup'; ROW_KEYS['popup'] = 'classroom-live.popup.en_US.UK5ys52jGHY.OL';
/* _GlobalPrefix_ */
/* _Module_:background */
try{
var h,_DumpException=function(a){throw a;};var aa=aa||{},l=this,n=function(a){return void 0!==a},q=function(a){return"string"==typeof a},ba=function(a){return"number"==typeof a},ca=function(a,b){a=a.split(".");b=b||l;for(var c=0;c<a.length;c++)if(b=b[a[c]],null==b)return null;return b},da=function(){},r=function(a){a.Cc=void 0;a.B=function(){return a.Cc?a.Cc:a.Cc=new a}},ea=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==
c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},fa=function(a){return"array"==ea(a)},ha=function(a){var b=ea(a);return"array"==
b||"object"==b&&"number"==typeof a.length},ia=function(a){return"function"==ea(a)},ja=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},ma=function(a){return a[ka]||(a[ka]=++la)},ka="closure_uid_"+(1E9*Math.random()>>>0),la=0,na=function(a,b,c){return a.call.apply(a.bind,arguments)},qa=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,
d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},t=function(a,b,c){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?t=na:t=qa;return t.apply(null,arguments)},ra=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},u=Date.now||function(){return+new Date},sa=function(a,b){var c=["crosswindowmessaging","channel"];b=b||l;c[0]in b||!b.execScript||b.execScript("var "+
c[0]);for(var d;c.length&&(d=c.shift());)!c.length&&n(a)?b[d]=a:b[d]&&b[d]!==Object.prototype[d]?b=b[d]:b=b[d]={}},w=function(a,b){function c(){}c.prototype=b.prototype;a.J=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Sh=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};
var ta=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,ta);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};w(ta,Error);ta.prototype.name="CustomError";var ua;var va=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")},wa=function(a){return/^[\s\xa0]*$/.test(a)},xa=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Ga=function(a){if(!ya.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(za,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Aa,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Ca,"&gt;"));-1!=a.indexOf('"')&&
(a=a.replace(Da,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(Ea,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Fa,"&#0;"));return a},za=/&/g,Aa=/</g,Ca=/>/g,Da=/"/g,Ea=/'/g,Fa=/\x00/g,ya=/[\x00&<>"']/,Ja=function(a){return-1!=a.indexOf("&")?"document"in l?Ha(a):Ia(a):a},Ha=function(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};var c=l.document.createElement("div");return a.replace(Ka,function(a,e){var d=b[a];if(d)return d;"#"==e.charAt(0)&&(e=Number("0"+e.substr(1)),isNaN(e)||(d=String.fromCharCode(e)));
d||(c.innerHTML=a+" ",d=c.firstChild.nodeValue.slice(0,-1));return b[a]=d})},Ia=function(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:return"#"!=c.charAt(0)||(c=Number("0"+c.substr(1)),isNaN(c))?a:String.fromCharCode(c)}})},Ka=/&([^;\s<&]+);?/g,La={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\x0B",'"':'\\"',"\\":"\\\\","<":"<"},Ma={"'":"\\'"},Oa=function(a){a=String(a);
for(var b=['"'],c=0;c<a.length;c++){var d=a.charAt(c),e=d.charCodeAt(0);b[c+1]=La[d]||(31<e&&127>e?d:Na(d))}b.push('"');return b.join("")},Na=function(a){if(a in Ma)return Ma[a];if(a in La)return Ma[a]=La[a];var b=a.charCodeAt(0);if(31<b&&127>b)var c=a;else{if(256>b){if(c="\\x",16>b||256<b)c+="0"}else c="\\u",4096>b&&(c+="0");c+=b.toString(16).toUpperCase()}return Ma[a]=c},Pa=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)},Qa=function(a){return null==
a?"":String(a)},Ra=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^u()).toString(36)},Sa=function(a,b){return a<b?-1:a>b?1:0},Ta=function(a){isFinite(a)&&(a=String(a));return q(a)?/^\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN};
var Ua=function(a){return a[a.length-1]},Va=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(q(a))return q(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Wa=Array.prototype.lastIndexOf?function(a,b,c){return Array.prototype.lastIndexOf.call(a,b,null==c?a.length-1:c)}:function(a,b,c){c=null==c?a.length-1:c;0>c&&(c=Math.max(0,a.length+c));if(q(a))return q(b)&&
1==b.length?a.lastIndexOf(b,c):-1;for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1},Xa=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ya=Array.prototype.filter?function(a,b,c){return Array.prototype.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=q(a)?a.split(""):a,k=0;k<d;k++)if(k in g){var m=g[k];b.call(c,m,k,a)&&(e[f++]=m)}return e},Za=Array.prototype.map?
function(a,b,c){return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=q(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},$a=Array.prototype.some?function(a,b,c){return Array.prototype.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},ab=Array.prototype.every?function(a,b,c){return Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?
a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0},cb=function(a,b,c){b=bb(a,b,c);return 0>b?null:q(a)?a.charAt(b):a[b]},bb=function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1},db=function(a,b){for(var c=q(a)?a.split(""):a,d=a.length-1;0<=d;d--)if(d in c&&b.call(void 0,c[d],d,a))return d;return-1},eb=function(a){if(!fa(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0},fb=function(a,b){0<=Va(a,b)||a.push(b)},
gb=function(a,b){b=Va(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c},hb=function(a){return Array.prototype.concat.apply([],arguments)},ib=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]},lb=function(a,b,c,d){Array.prototype.splice.apply(a,jb(arguments,1))},jb=function(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)},nb=function(a,b){a.sort(b||mb)},pb=function(a,b){if(!ha(a)||!ha(b)||
a.length!=b.length)return!1;for(var c=a.length,d=ob,e=0;e<c;e++)if(!d(a[e],b[e]))return!1;return!0},mb=function(a,b){return a>b?1:a<b?-1:0},ob=function(a,b){return a===b},qb=function(a,b){var c={};Xa(a,function(d,e){c[b.call(void 0,d,e,a)]=d});return c};
var rb;a:{var sb=l.navigator;if(sb){var tb=sb.userAgent;if(tb){rb=tb;break a}}rb=""}var x=function(a){return-1!=rb.indexOf(a)};var ub=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)},vb=function(a,b,c){var d={},e;for(e in a)b.call(c,a[e],e,a)&&(d[e]=a[e]);return d},wb=function(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1},xb=function(a){var b=0,c;for(c in a)b++;return b},yb=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},zb=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},Ab=function(a,b){return null!==a&&b in a},Bb=function(a,b){for(var c in a)if(a[c]==b)return!0;return!1},Cb=function(a,
b){a:{for(var c in a)if(b.call(void 0,a[c],c,a)){b=c;break a}b=void 0}return b&&a[b]},Db=function(a,b){b in a&&delete a[b]},Eb=function(a,b){return null!==a&&b in a?a[b]:void 0},Fb=function(a,b){for(var c in a)if(!(c in b)||a[c]!==b[c])return!1;for(c in b)if(!(c in a))return!1;return!0},Gb=function(a){var b={},c;for(c in a)b[c]=a[c];return b},Hb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Ib=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d= arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Hb.length;f++)c=Hb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};
var Jb=function(){return(x("Chrome")||x("CriOS"))&&!x("Edge")};var Kb=function(){return x("iPhone")&&!x("iPod")&&!x("iPad")},Lb=function(){return Kb()||x("iPad")||x("iPod")};var Mb=function(a){Mb[" "](a);return a};Mb[" "]=da;var Nb=function(a,b){try{return Mb(a[b]),!0}catch(c){}return!1},Ob=function(a,b,c){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:a[b]=c(b)};var Pb=x("Opera"),Qb=x("Trident")||x("MSIE"),Rb=x("Edge"),Sb=x("Gecko")&&!(-1!=rb.toLowerCase().indexOf("webkit")&&!x("Edge"))&&!(x("Trident")||x("MSIE"))&&!x("Edge"),Tb=-1!=rb.toLowerCase().indexOf("webkit")&&!x("Edge"),Ub=x("Macintosh"),Vb=x("Windows"),Wb=x("Android"),Xb=Kb(),Yb=x("iPad"),Zb=x("iPod"),$b=function(){var a=l.document;return a?a.documentMode:void 0},ac;
a:{var bc="",cc=function(){var a=rb;if(Sb)return/rv\:([^\);]+)(\)|;)/.exec(a);if(Rb)return/Edge\/([\d\.]+)/.exec(a);if(Qb)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Tb)return/WebKit\/(\S+)/.exec(a);if(Pb)return/(?:Version)[ \/]?(\S+)/.exec(a)}();cc&&(bc=cc?cc[1]:"");if(Qb){var dc=$b();if(null!=dc&&dc>parseFloat(bc)){ac=String(dc);break a}}ac=bc}
var ec=ac,fc={},gc=function(a){return Ob(fc,a,function(){for(var b=0,c=xa(String(ec)).split("."),d=xa(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",k=d[f]||"";do{g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""];k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""];if(0==g[0].length&&0==k[0].length)break;b=Sa(0==g[1].length?0:parseInt(g[1],10),0==k[1].length?0:parseInt(k[1],10))||Sa(0==g[2].length,0==k[2].length)||Sa(g[2],k[2]);g=g[3];k=k[3]}while(0==b)}return 0<=b})},ic=function(a){return Number(hc)>= a},jc;var kc=l.document;jc=kc&&Qb?$b()||("CSS1Compat"==kc.compatMode?parseInt(ec,10):5):void 0;var hc=jc;
var lc=x("Firefox"),mc=Kb()||x("iPod"),nc=x("iPad"),oc=x("Android")&&!(Jb()||x("Firefox")||x("Opera")||x("Silk")),pc=Jb(),qc=x("Safari")&&!(Jb()||x("Coast")||x("Opera")||x("Edge")||x("Silk")||x("Android"))&&!Lb();var rc=null,sc=null,tc=Sb||Tb&&!qc||Pb||"function"==typeof l.btoa,uc=function(a,b){if(!rc){rc={};sc={};for(var c=0;65>c;c++)rc[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c),sc[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(c)}b=b?sc:rc;c=[];for(var d=0;d<a.length;d+=3){var e=a[d],f=d+1<a.length,g=f?a[d+1]:0,k=d+2<a.length,m=k?a[d+2]:0,p=e>>2;e=(e&3)<<4|g>>4;g=(g&15)<<2|m>>6;m&=63;k||(m=64,f||(g=64));c.push(b[p],b[e],b[g],b[m])}return c.join("")};
var vc=function(){},wc="function"==typeof Uint8Array,xc=[],zc=function(a){if(a.g)for(var b in a.g){var c=a.g[b];if(fa(c))for(var d=0;d<c.length;d++)c[d]&&yc(c[d]);else c&&yc(c)}},yc=function(a){zc(a);return a.a};vc.prototype.toString=function(){zc(this);return this.a.toString()};vc.prototype.clone=function(){return new this.constructor(Ac(yc(this)))};
var Ac=function(a){var b;if(fa(a)){for(var c=Array(a.length),d=0;d<a.length;d++)null!=(b=a[d])&&(c[d]="object"==typeof b?Ac(b):b);return c}if(wc&&a instanceof Uint8Array)return new Uint8Array(a);c={};for(d in a)null!=(b=a[d])&&(c[d]="object"==typeof b?Ac(b):b);return c};
var Cc=function(a){this.g=null;a||(a=[]);this.a=a;a:{if(this.a.length){a=this.a.length-1;var b=this.a[a];if(b&&"object"==typeof b&&!fa(b)&&!(wc&&b instanceof Uint8Array)){this.c=a- -1;this.b=b;break a}}this.c=Number.MAX_VALUE}if(Bc)for(a=0;a<Bc.length;a++)if(b=Bc[a],b<this.c)b+=-1,this.a[b]=this.a[b]||xc;else{var c=this.c+-1;this.a[c]||(this.b=this.a[c]={});this.b[b]=this.b[b]||xc}};w(Cc,vc);var Bc=[2];
var Dc=function(a,b){this.b=a;this.a=b};var Ec=function(a,b,c){this.Cd=a;this.b=b.name||null;this.a={};for(a=0;a<c.length;a++)b=c[a],this.a[b.a]=b},Fc=function(a){a=yb(a.a);nb(a,function(a,c){return a.a-c.a});return a},Gc=function(a,b){return Cb(a.a,function(a){return a.h==b})||null};var Hc=function(a,b,c){this.a=b;this.h=c.name;this.c=!!c.Ha;this.b=c.w;this.g=c.type;this.o=!1;switch(this.b){case 3:case 4:case 6:case 16:case 18:case 2:case 1:this.o=!0}this.l=c.defaultValue},Ic=function(a){return 11==a.b||10==a.b};var y=function(){this.b={};this.c=this.getDescriptor().a;this.a=null},Jc=function(a,b,c){c=c||a;for(var d in a.b){var e=Number(d);a.c[e]||b.call(c,e,a.b[d])}};h=y.prototype;h.has=function(a){return z(this,a.a)};h.get=function(a,b){return A(this,a.a,b)};h.set=function(a,b){B(this,a.a,b)};h.clear=function(a){Kc(this,a.a)};
h.U=function(a){if(!a||this.constructor!=a.constructor)return!1;for(var b=Fc(this.getDescriptor()),c=0;c<b.length;c++){var d=b[c],e=d.a;if(z(this,e)!=z(a,e))return!1;if(z(this,e)){var f=Ic(d),g=Lc(this,e);e=Lc(a,e);if(d.c){if(g.length!=e.length)return!1;for(d=0;d<g.length;d++){var k=g[d],m=e[d];if(f?!k.U(m):k!=m)return!1}}else if(f?!g.U(e):g!=e)return!1}}return!0};
var Nc=function(a,b){for(var c=Fc(a.getDescriptor()),d=0;d<c.length;d++){var e=c[d],f=e.a;if(z(b,f)){a.a&&delete a.a[e.a];var g=Ic(e);if(e.c){e=Lc(b,f)||[];for(var k=0;k<e.length;k++)Mc(a,f,g?e[k].clone():e[k])}else e=Lc(b,f),g?(g=Lc(a,f))?Nc(g,e):B(a,f,e.clone()):B(a,f,e)}}};y.prototype.clone=function(){var a=new this.constructor;a!=this&&(a.b={},a.a&&(a.a={}),Nc(a,this));return a};
var z=function(a,b){return null!=a.b[b]},Lc=function(a,b){a=a.b[b];return null==a?null:a},A=function(a,b,c){var d=Lc(a,b);return a.c[b].c?d[c||0]:d},Oc=function(a,b){if(z(a,b))a=A(a,b,void 0);else a:{a=a.c[b];if(void 0===a.l)if(b=a.g,b===Boolean)a.l=!1;else if(b===Number)a.l=0;else if(b===String)a.l=a.o?"0":"";else{a=new b;break a}a=a.l}return a},Pc=function(a,b){return a.c[b].c?z(a,b)?a.b[b].length:0:z(a,b)?1:0},B=function(a,b,c){a.b[b]=c;a.a&&(a.a[b]=c)},Mc=function(a,b,c){a.b[b]||(a.b[b]=[]);a.b[b].push(c); a.a&&delete a.a[b]},Kc=function(a,b){delete a.b[b];a.a&&delete a.a[b]},C=function(a,b){var c=[],d=b[0],e;for(e in b)0!=e&&c.push(new Hc(0,e,b[e]));return new Ec(a,d,c)};
var Qc=function(){y.call(this)};w(Qc,y);var Rc=null,Sc=function(){y.call(this)};w(Sc,y);var Tc=null;
Qc.prototype.getDescriptor=function(){var a=Rc;a||(Rc=a=C(Qc,{0:{name:"BrowserChannelConfig",fullName:"buzz.channel.proto.BrowserChannelConfig"},1:{name:"authuser",w:4,type:Number},2:{name:"client_type",w:9,type:String},3:{name:"init_delay_ms",w:5,type:Number},4:{name:"service_override",w:9,type:String},5:{name:"gapi_src",w:9,type:String},6:{name:"property_id",w:9,type:String},7:{name:"application_version",w:9,type:String},8:{name:"retry_on_auth_error",w:8,type:Boolean},9:{name:"gsid_servlet_path",
w:9,type:String},10:{name:"page_id",w:9,type:String},11:{name:"initial_retry_delay_ms",w:5,defaultValue:1E4,type:Number},12:{name:"max_backoff_factor",w:5,defaultValue:180,type:Number},13:{name:"use_shared_channel",w:8,type:Boolean},14:{name:"stable_connection_threshold_ms",w:5,defaultValue:3E5,type:Number}}));return a};Qc.getDescriptor=Qc.prototype.getDescriptor;
Sc.prototype.getDescriptor=function(){var a=Tc;a||(Tc=a=C(Sc,{0:{name:"AuthenticationParameters",fullName:"buzz.channel.proto.AuthenticationParameters"},1:{name:"origin",w:9,type:String},2:{name:"scheme",w:5,type:Number},3:{name:"token",w:9,type:String},4:{name:"authuser",w:13,type:Number}}));return a};Sc.getDescriptor=Sc.prototype.getDescriptor;
var Uc={APISIDHASH:1,SAPISIDHASH:2,OAuth:3},Vc={1:"APISIDHASH",2:"SAPISIDHASH",3:"OAuth"};var Wc=function(a){return function(){return a}}(!1);var Xc="StopIteration"in l?l.StopIteration:{message:"StopIteration",stack:""},Yc=function(){};Yc.prototype.next=function(){throw Xc;};Yc.prototype.sa=function(){return this};
var Zc=function(a){if(a instanceof Yc)return a;if("function"==typeof a.sa)return a.sa(!1);if(ha(a)){var b=0,c=new Yc;c.next=function(){for(;;){if(b>=a.length)throw Xc;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");},$c=function(a,b){if(ha(a))try{Xa(a,b,void 0)}catch(c){if(c!==Xc)throw c;}else{a=Zc(a);try{for(;;)b.call(void 0,a.next(),void 0,a)}catch(c){if(c!==Xc)throw c;}}},ad=function(a){if(ha(a))return ib(a);a=Zc(a);var b=[];$c(a,function(a){b.push(a)});return b};
var D=function(a,b){this.b={};this.a=[];this.g=this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof D?(c=a.Z(),d=a.S()):(c=zb(a),d=yb(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}};h=D.prototype;h.P=function(){return this.c};h.S=function(){bd(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a};h.Z=function(){bd(this);return this.a.concat()};
h.La=function(a){for(var b=0;b<this.a.length;b++){var c=this.a[b];if(cd(this.b,c)&&this.b[c]==a)return!0}return!1};h.U=function(a,b){if(this===a)return!0;if(this.c!=a.P())return!1;b=b||dd;bd(this);for(var c,d=0;c=this.a[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};var dd=function(a,b){return a===b};D.prototype.clear=function(){this.b={};this.g=this.c=this.a.length=0};
D.prototype.remove=function(a){return cd(this.b,a)?(delete this.b[a],this.c--,this.g++,this.a.length>2*this.c&&bd(this),!0):!1};var bd=function(a){if(a.c!=a.a.length){for(var b=0,c=0;b<a.a.length;){var d=a.a[b];cd(a.b,d)&&(a.a[c++]=d);b++}a.a.length=c}if(a.c!=a.a.length){var e={};for(c=b=0;b<a.a.length;)d=a.a[b],cd(e,d)||(a.a[c++]=d,e[d]=1),b++;a.a.length=c}};h=D.prototype;h.get=function(a,b){return cd(this.b,a)?this.b[a]:b};
h.set=function(a,b){cd(this.b,a)||(this.c++,this.a.push(a),this.g++);this.b[a]=b};h.forEach=function(a,b){for(var c=this.Z(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};h.clone=function(){return new D(this)};h.sa=function(a){bd(this);var b=0,c=this.g,d=this,e=new Yc;e.next=function(){if(c!=d.g)throw Error("The map has changed since the iterator was created");if(b>=d.a.length)throw Xc;var e=d.a[b++];return a?e:d.b[e]};return e}; var cd=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};
var ed=function(a){return a.P&&"function"==typeof a.P?a.P():ha(a)||q(a)?a.length:xb(a)},fd=function(a){if(a.S&&"function"==typeof a.S)return a.S();if(q(a))return a.split("");if(ha(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return yb(a)},gd=function(a){if(a.Z&&"function"==typeof a.Z)return a.Z();if(!a.S||"function"!=typeof a.S){if(ha(a)||q(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return zb(a)}},hd=function(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,
void 0);else if(ha(a)||q(a))Xa(a,b,void 0);else for(var c=gd(a),d=fd(a),e=d.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)},id=function(a,b){if("function"==typeof a.every)return a.every(b,void 0);if(ha(a)||q(a))return ab(a,b,void 0);for(var c=gd(a),d=fd(a),e=d.length,f=0;f<e;f++)if(!b.call(void 0,d[f],c&&c[f],a))return!1;return!0};
var jd=function(a){this.a=new D;if(a){a=fd(a);for(var b=a.length,c=0;c<b;c++)this.eb(a[c])}},kd=function(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+ma(a):b.substr(0,1)+a};h=jd.prototype;h.P=function(){return this.a.P()};h.eb=function(a){this.a.set(kd(a),a)};h.removeAll=function(a){a=fd(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};h.remove=function(a){return this.a.remove(kd(a))};h.clear=function(){this.a.clear()};h.contains=function(a){a=kd(a);return cd(this.a.b,a)};h.S=function(){return this.a.S()};
h.clone=function(){return new jd(this)};h.U=function(a){return this.P()==ed(a)&&ld(this,a)};var ld=function(a,b){var c=ed(b);if(a.P()>c)return!1;!(b instanceof jd)&&5<c&&(b=new jd(b));return id(a,function(a){var c=b;return c.contains&&"function"==typeof c.contains?c.contains(a):c.La&&"function"==typeof c.La?c.La(a):ha(c)||q(c)?0<=Va(c,a):Bb(c,a)})};jd.prototype.sa=function(){return this.a.sa(!1)};
var od=function(a,b){var c=A(a,2);z(a,3)&&md.contains(c)&&(b.Authorization=Vc[c]+" "+A(a,3),nd.contains(c)&&(b["X-Origin"]=A(a,1),b["X-Goog-AuthUser"]=Oc(a,4)));return b},md=new jd([1,2,3]),nd=new jd([1,2]);var pd=function(){this.a=8;this.b=u()};var qd=function(a,b,c){this.c=b;this.h=c;this.g=a;this.reset()};qd.prototype.reset=function(){this.a=this.c;this.b=!1};var rd=function(a){var b=0;if(a.b){b=Math.ceil(a.g()*a.a);var c=a.c*a.h;a.a<=c&&(a.a*=2,a.a>c&&(a.a=c))}a.b=!0;return b};var td=function(a,b,c){a&&a.c.apply(a,sd(arguments))},E=function(a,b,c){a&&a.ya.apply(a,sd(arguments))},F=function(a,b,c){a&&a.info.apply(a,sd(arguments))},ud=function(a,b,c){a&&a.b.apply(a,sd(arguments))},sd=function(a){a=Array.prototype.slice.call(a);a.shift();return a};
var vd=function(a,b,c,d,e){this.reset(a,b,c,d,e)};vd.prototype.g=0;vd.prototype.a=null;var wd=0;vd.prototype.reset=function(a,b,c,d,e){this.g="number"==typeof e?e:wd++;this.l=d||u();this.b=a;this.h=b;this.c=c;delete this.a};vd.prototype.getMessage=function(){return this.h};
var xd=function(a){this.h=a;this.a=this.g=this.b=this.c=null},yd=function(a,b){this.name=a;this.value=b};yd.prototype.toString=function(){return this.name};var zd=new yd("SEVERE",1E3),Ad=new yd("WARNING",900),Bd=new yd("INFO",800),Cd=new yd("CONFIG",700),Dd=new yd("FINE",500),G=new yd("FINEST",300),Ed=[new yd("OFF",Infinity),new yd("SHOUT",1200),zd,Ad,Bd,Cd,Dd,new yd("FINER",400),G,new yd("ALL",0)],Fd=function(a,b){a.a||(a.a=[]);a.a.push(b)};
xd.prototype.getChildren=function(){this.g||(this.g={});return this.g};var Gd=function(a,b){a.b=b},Hd=function(a){return a.b?a.b:a.c?Hd(a.c):null};xd.prototype.log=function(a,b,c){if(a.value>=Hd(this).value)for(ia(b)&&(b=b()),a=new vd(a,String(b),this.h),c&&(a.a=c),c="log:"+a.getMessage(),(b=l.console)&&b.timeStamp&&b.timeStamp(c),(b=l.msWriteProfilerMark)&&b(c),c=this;c;){var d=c,e=a;if(d.a)for(var f=0;b=d.a[f];f++)b(e);c=c.c}};xd.prototype.ya=function(a,b){this.log(Ad,a,b)};
xd.prototype.info=function(a,b){this.log(Bd,a,b)};var Id={},Jd=null,Kd=function(){Jd||(Jd=new xd(""),Id[""]=Jd,Jd.b=Cd)},Ld=function(){Kd();return Jd},Md=function(a){Kd();var b;if(!(b=Id[a])){b=new xd(a);var c=a.lastIndexOf("."),d=a.substr(c+1);c=Md(a.substr(0,c));c.getChildren()[d]=b;b.c=c;Id[a]=b}return b};
var Nd={},H=function(a,b){a=Md(a);b&&a&&(a.b=b);return a},I=function(a,b,c){a&&a.log(b,c,void 0)},J=function(a,b,c){a&&a.log(zd,b,c)},K=function(a,b,c){a&&a.ya(b,c)},L=function(a,b){a&&a.info(b,void 0)},M=function(a,b){a&&a.log(Dd,b,void 0)};var Pd=function(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,b,d,k,m,p,v,Z){if("%"==p)return"%";var e=c.shift();if("undefined"==typeof e)throw Error("[goog.string.format] Not enough arguments");arguments[0]=e;return Od[p].apply(null,arguments)})},Od={s:function(a,b,c){return isNaN(c)||""==c||a.length>=Number(c)?a:a=-1<b.indexOf("-",0)?
a+Pa(" ",Number(c)-a.length):Pa(" ",Number(c)-a.length)+a},f:function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=parseFloat(a).toFixed(e));var f=0>Number(a)?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=Number(a)&&(d=f+d);if(isNaN(c)||d.length>=Number(c))return d;d=isNaN(e)?Math.abs(Number(a)).toString():Math.abs(Number(a)).toFixed(e);a=Number(c)-d.length-f.length;return d=0<=b.indexOf("-",0)?f+d+Pa(" ",a):f+Pa(0<=b.indexOf("0",0)?"0":" ",a)+d},d:function(a,b,c,d,e,f,g,k){return Od.f(parseInt(a, 10),b,c,d,0,f,g,k)}};Od.i=Od.d;Od.u=Od.d;
var Qd=function(a){this.j=H(a)};Qd.prototype.c=function(a,b){Nd&&Rd(this,zd,arguments)};Qd.prototype.ya=function(a,b){Nd&&Rd(this,Ad,arguments)};Qd.prototype.info=function(a,b){Nd&&Rd(this,Bd,arguments)};Qd.prototype.b=function(a,b){Nd&&Rd(this,Dd,arguments)};var Rd=function(a,b,c){a.j&&b.value>=Hd(a.j).value&&(c=Pd.apply(null,c),I(a.j,b,c))};
var Sd=!Qb||ic(9),Td=!Sb&&!Qb||Qb&&ic(9)||Sb&&gc("1.9.1");Qb&&gc("9");var Ud={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};var Wd=function(){this.a="";this.b=Vd};Wd.prototype.Da=!0;Wd.prototype.ta=function(){return this.a};Wd.prototype.toString=function(){return"Const{"+this.a+"}"};var Xd=function(a){return a instanceof Wd&&a.constructor===Wd&&a.b===Vd?a.a:"type_error:Const"},Vd={},Yd=function(a){var b=new Wd;b.a=a;return b};Yd("");
var $d=function(){this.a="";this.b=Zd};$d.prototype.Da=!0;$d.prototype.ta=function(){return this.a};$d.prototype.Ac=!0;$d.prototype.ub=function(){return 1};var ae=function(a){if(a instanceof $d&&a.constructor===$d&&a.b===Zd)return a.a;ea(a);return"type_error:TrustedResourceUrl"},Zd={};
var ce=function(){this.a="";this.b=be};ce.prototype.Da=!0;ce.prototype.ta=function(){return this.a};ce.prototype.Ac=!0;ce.prototype.ub=function(){return 1};var de=function(a){if(a instanceof ce&&a.constructor===ce&&a.b===be)return a.a;ea(a);return"type_error:SafeUrl"},ee=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,ge=function(a){if(a instanceof ce)return a;a=a.Da?a.ta():String(a);ee.test(a)||(a="about:invalid#zClosurez");return fe(a)},be={},fe=function(a){var b=new ce;b.a=a;return b};fe("about:blank");
var ie=function(){this.a="";this.b=he};ie.prototype.Da=!0;var he={};ie.prototype.ta=function(){return this.a};
var je=function(a){var b=new ie;b.a=a;return b},ke=je(""),pe=function(a){if(a instanceof ce)a='url("'+de(a).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';else if(a instanceof Wd)a=Xd(a);else{a=String(a);var b=a.replace(le,"$1").replace(me,"url");if(b=ne.test(b)){for(var c=b=!0,d=0;d<a.length;d++){var e=a.charAt(d);"'"==e&&c?b=!b:'"'==e&&b&&(c=!c)}b=b&&c}a=b?oe(a):"zClosurez"}return a},ne=/^[-,."'%_!# a-zA-Z0-9]+$/,me=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g, le=/\b(hsl|hsla|rgb|rgba|(rotate|scale|translate)(X|Y|Z|3d)?)\([-0-9a-z.%, ]+\)/g,oe=function(a){return a.replace(me,function(a,c,d,e){var b="";d=d.replace(/^(['"])(.*)\1$/,function(a,c,d){b=c;return d});a=ge(d).ta();return c+b+a+b+e})};
var re=function(){this.a="";this.c=qe;this.b=null};re.prototype.Ac=!0;re.prototype.ub=function(){return this.b};re.prototype.Da=!0;re.prototype.ta=function(){return this.a};
var se=function(a){if(a instanceof re&&a.constructor===re&&a.c===qe)return a.a;ea(a);return"type_error:SafeHtml"},te=/^[a-zA-Z0-9-]+$/,ue={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},we=function(a){var b=0,c="",d=function(a){if(fa(a))Xa(a,d);else{if(a instanceof re)var e=a;else e=null,a.Ac&&(e=a.ub()),a=Ga(a.Da?a.ta():String(a)),e=ve(a,e);c+=se(e);e=e.ub();0==b?b=e:0!=e&&b!=e&&(b=null)}};Xa(arguments,d);return ve(c,b)},qe={},ve=function(a,b){var c=new re;c.a=a;c.b= b;return c};ve("<!DOCTYPE html>",0);ve("",0);ve("<br>",0);
var ye=function(a){return a?new xe(9==a.nodeType?a:a.ownerDocument||a.document):ua||(ua=new xe)},ze=function(a,b){return q(b)?a.getElementById(b):b},Be=function(a,b){ub(b,function(b,d){b&&b.Da&&(b=b.ta());"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:Ae.hasOwnProperty(d)?a.setAttribute(Ae[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})},Ae={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",
height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},Ce=function(a){return a.parentWindow||a.defaultView},Ee=function(a,b,c){var d=arguments,e=document,f=String(d[0]),g=d[1];if(!Sd&&g&&(g.name||g.type)){f=["<",f];g.name&&f.push(' name="',Ga(g.name),'"');if(g.type){f.push(' type="',Ga(g.type),'"');var k={};Ib(k,g);delete k.type;g=k}f.push(">");f=f.join("")}f=e.createElement(f);g&&(q(g)?f.className=g:fa(g)?f.className=
g.join(" "):Be(f,g));2<d.length&&De(e,f,d);return f},De=function(a,b,c){function d(c){c&&b.appendChild(q(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var f=c[e];!ha(f)||ja(f)&&0<f.nodeType?d(f):Xa(Fe(f)?ib(f):f,d)}},Ge=function(a){a&&a.parentNode&&a.parentNode.removeChild(a)},He=function(a){return Td&&void 0!=a.children?a.children:Ya(a.childNodes,function(a){return 1==a.nodeType})},Fe=function(a){if(a&&"number"==typeof a.length){if(ja(a))return"function"==typeof a.item||"string"==typeof a.item;
if(ia(a))return"function"==typeof a.item}return!1},xe=function(a){this.a=a||l.document||document};h=xe.prototype;h.setProperties=Be;h.createElement=function(a){return this.a.createElement(String(a))};h.appendChild=function(a,b){a.appendChild(b)};h.getChildren=He;h.contains=function(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};
var N=l.JSON.stringify;var Ie=function(){};Ie.prototype.b=function(a,b){return Ic(a)?this.c(b):ba(b)&&!isFinite(b)?b.toString():b};var Je=function(a,b,c){b=new b.Cd;a.g(b,c);return b};Ie.prototype.a=function(a,b){if(Ic(a))return b instanceof y?b:Je(this,a.g.prototype.getDescriptor(),b);if(14==a.b)return q(b)&&Ke.test(b)&&(a=Number(b),0<a)?a:b;if(!a.o)return b;a=a.g;if(a===String){if(ba(b))return String(b)}else if(a===Number&&q(b)&&("Infinity"===b||"-Infinity"===b||"NaN"===b||Ke.test(b)))return Number(b);return b}; var Ke=/^-?[0-9]+$/;
var Le=function(a,b){this.h=a;this.l=b};w(Le,Ie);Le.prototype.c=function(a){for(var b=Fc(a.getDescriptor()),c={},d=0;d<b.length;d++){var e=b[d],f=1==this.h?e.h:e.a;if(a.has(e))if(e.c){var g=[];c[f]=g;for(f=0;f<Pc(a,e.a);f++)g.push(this.b(e,a.get(e,f)))}else c[f]=this.b(e,a.get(e))}Jc(a,function(a,b){c[a]=b});return c};Le.prototype.b=function(a,b){return this.l&&8==a.b&&"boolean"==typeof b?b?1:0:Le.J.b.call(this,a,b)};Le.prototype.a=function(a,b){return 8==a.b&&ba(b)?!!b:Le.J.a.call(this,a,b)};
Le.prototype.g=function(a,b){var c=a.getDescriptor(),d;for(d in b){var e,f=b[d],g=!/[^0-9]/.test(d);if(e=g?c.a[parseInt(d,10)]||null:Gc(c,d))if(e.c)for(g=0;g<f.length;g++){var k=this.a(e,f[g]);Mc(a,e.a,k)}else a.set(e,this.a(e,f));else g&&(e=a,g=Number(d),e.b[g]=f,e.a&&delete e.a[g])}};
var Me=function(a,b){this.l=!!a;this.h=!!b};w(Me,Ie);Me.prototype.g=function(a,b){var c=new Ne;return c.parse(a,b.toString(),this.l)?null:c.b};Me.prototype.c=function(a){var b=new Oe;Pe(this,a,b);return b.toString()};
var Pe=function(a,b,c){var d=Fc(b.getDescriptor());Xa(d,function(a){if(b.has(a))for(var d=Pc(b,a.a),e=0;e<d;++e){Qe(c,a.h);11==a.b||10==a.b?(Qe(c," {"),Re(c),c.a+=2):Qe(c,": ");Se(this,b.get(a,e),a,c);if(11==a.b||10==a.b)c.a-=2,Qe(c,"}");Re(c)}},a);Jc(b,function(a,b){Te(this,a,b,c)},a)},Te=function(a,b,c,d){if(null!=c)if(fa(c))Xa(c,function(a){Te(this,b,a,d)},a);else{if(ja(c)){Qe(d,b);Qe(d," {");Re(d);d.a+=2;if(c instanceof y)Pe(a,c,d);else for(var e in c)Te(a,Ta(e),c[e],d);d.a-=2;Qe(d,"}")}else q(c)&&
(c=Oa(c)),Qe(d,b),Qe(d,": "),Qe(d,c.toString());Re(d)}},Se=function(a,b,c,d){switch(c.b){case 1:case 2:case 3:case 4:case 5:case 13:case 6:case 7:case 8:case 15:case 16:case 17:case 18:Qe(d,b);break;case 12:case 9:b=Oa(b.toString());Qe(d,b);break;case 14:if(!a.h){var e=!1;ub(c.g,function(a,c){e||a!=b||(Qe(d,c),e=!0)})}e&&!a.h||Qe(d,b.toString());break;case 10:case 11:Pe(a,b,d)}},Oe=function(){this.a=0;this.b=[];this.c=!0};Oe.prototype.toString=function(){return this.b.join("")};
var Qe=function(a,b){if(a.c){for(var c=0;c<a.a;++c)a.b.push(" ");a.c=!1}a.b.push(b.toString())},Re=function(a){a.b.push("\n");a.c=!0},Ve=function(a,b,c){this.l=!!b;this.h=!!c;this.g=a;this.c=0;this.a=a;this.b={type:Ue,value:null}};Ve.prototype.getCurrent=function(){return this.b};
var Ue=/---end---/,We=/^-?[a-zA-Z][a-zA-Z0-9_]*/,Xe=/^(0x[0-9a-f]+)|(([-])?[0-9][0-9]*(\.?[0-9]+)?(e[+-]?[0-9]+|[f])?)/,Ye=/^#.*/,Ze=/^"([^"\\]|\\.)*"/,$e=/^\s/,af={sg:Ue,Ag:We,Tg:Xe,mg:Ye,Vg:/^{/,fg:/^}/,Xg:/^</,hg:/^>/,Wg:/^\[/,gg:/^\]/,zh:Ze,ig:/^:/,lg:/^,/,th:/^;/,Ph:$e};Ve.prototype.next=function(){for(;bf(this);){var a=this.getCurrent().type;if(a!=$e&&a!=Ye||a==$e&&!this.l||a==Ye&&!this.h)return!0}this.b={type:Ue,value:null};return!1};
var bf=function(a){if(a.c>=a.g.length)return!1;var b=a.a,c=null;wb(af,function(a){if(c||a==Ue)return!1;var d=a.exec(b);d&&0==d.index&&(c={type:a,value:d[0]});return!!c});c&&(a.b=c,a.c+=c.value.length,a.a=a.a.substring(c.value.length));return!!c},Ne=function(){this.a=this.b=null;this.c=!1};Ne.prototype.parse=function(a,b,c){this.b=null;this.c=!!c;this.a=new Ve(b,!0,!0);this.a.next();return cf(this,a,"")};
var cf=function(a,b,c){for(;">"!=a.a.getCurrent().value&&"}"!=a.a.getCurrent().value&&!df(a,Ue);)if(!ef(a,b))return!1;if(c){if(!ff(a,c))return!1}else df(a,Ue)||(a.b="Expected END token");return!0},hf=function(a,b,c){a=gf(a,c);if(null===a)return!1;c.c?Mc(b,c.a,a):b.set(c,a);return!0},jf=function(a){return-1!=a.indexOf(".")?parseFloat(a):Ta(a)},gf=function(a,b){switch(b.b){case 1:case 2:if(b=kf(a,We))if(b=/^-?inf(?:inity)?f?$/i.test(b)?Infinity*(0==b.lastIndexOf("-",0)?-1:1):/^nanf?$/i.test(b)?NaN:
null,null!=b)return b;case 5:case 13:case 7:case 15:case 17:return(a=kf(a,Xe))?jf(a):null;case 3:case 4:case 6:case 16:case 18:return(a=kf(a,Xe))?b.g==Number?jf(a):a:null;case 8:b=kf(a,We);if(!b)return null;switch(b){case "true":return!0;case "false":return!1;default:return a.b="Unknown type for bool: "+b,null}case 14:if(df(a,Xe))return(a=kf(a,Xe))?jf(a):null;var c=kf(a,We);if(!c)return null;b=b.g[c];return null==b?(a.b="Unknown enum value: "+c,null):b;case 12:case 9:if(b=kf(a,Ze)){for(c=JSON.parse(b).toString();df(a,
Ze);)b=kf(a,Ze),c+=JSON.parse(b).toString();a=c}else a=null;return a}},mf=function(a){lf(a,":");if(lf(a,"[")){for(;;){a.a.next();if(lf(a,"]"))break;if(!ff(a,","))return!1}return!0}if(lf(a,"<"))return cf(a,null,">");if(lf(a,"{"))return cf(a,null,"}");a.a.next();return!0},ef=function(a,b){var c=kf(a,We);if(!c)return a.b="Missing field name",!1;var d=null;b&&(d=Gc(b.getDescriptor(),c.toString()));if(null==d){if(a.c)return mf(a);a.b="Unknown field: "+c;return!1}if(11==d.b||10==d.b){lf(a,":");a:{c=d;if(lf(a,
"<"))d=">";else{if(!ff(a,"{")){b=!1;break a}d="}"}var e=new (c.g.prototype.getDescriptor().Cd);cf(a,e,d)?(c.c?Mc(b,c.a,e):b.set(c,e),b=!0):b=!1}if(!b)return!1}else{if(!ff(a,":"))return!1;if(d.c&&lf(a,"["))for(;;){if(!hf(a,b,d))return!1;if(lf(a,"]"))break;if(!ff(a,","))return!1}else if(!hf(a,b,d))return!1}lf(a,",")||lf(a,";");return!0},lf=function(a,b){return a.a.getCurrent().value==b?(a.a.next(),!0):!1},kf=function(a,b){if(!df(a,b))return a.b="Expected token type: "+b,null;b=a.a.getCurrent().value; a.a.next();return b},ff=function(a,b){return lf(a,b)?!0:(a.b='Expected token "'+b+'"',!1)},df=function(a,b){return a.a.getCurrent().type==b};
var nf=new Le,of=new Me,pf=function(a){a=nf.c(a);return N(a)},qf=JSON.parse,rf=function(a,b,c){try{var d=qf(b)}catch(f){return c&&F(c,"Exception parsing json (%s): %s",b,f),null}try{var e=Je(nf,a,d)}catch(f){return c&&E(c,"Exception deserializing the parsed json (%s): %s",d,f),null}return null==e?(c&&E(c,"Incoming msg is unparseable: %s",d),null):e};y.prototype.toString=function(){return of.c(this)}; var sf=function(a){var b=ze(document,a);null==b&&(b=Ee("DIV",{id:a,style:"display:none"}),a=document,a=a.querySelectorAll&&a.querySelector?a.querySelectorAll("BODY"):a.getElementsByTagName("BODY"),a[0].appendChild(b));return b};
var O=function(){this.L=this.L;this.I=this.I};O.prototype.L=!1;O.prototype.Ea=function(){return this.L};O.prototype.W=function(){this.L||(this.L=!0,this.F())};var tf=function(a,b){a.L?n(void 0)?b.call(void 0):b():(a.I||(a.I=[]),a.I.push(n(void 0)?t(b,void 0):b))};O.prototype.F=function(){if(this.I)for(;this.I.length;)this.I.shift()()};var uf=function(a){a&&"function"==typeof a.W&&a.W()};
var vf=!Qb||ic(9),wf=Qb&&!gc("9");!Tb||gc("528");Sb&&gc("1.9b")||Qb&&gc("8")||Pb&&gc("9.5")||Tb&&gc("528");Sb&&!gc("8")||Qb&&gc("9");var xf=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});l.addEventListener("test",da,b);l.removeEventListener("test",da,b);return a}();
var yf=function(a,b){this.type=a;this.a=this.target=b;this.Jd=!0};yf.prototype.c=function(){this.Jd=!1};var Af=function(a,b){yf.call(this,a?a.type:"");this.relatedTarget=this.a=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=0;this.key="";this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.b=null;if(a){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.a=b;(b=a.relatedTarget)?Sb&&(Nb(b,"nodeName")||(b=null)):"mouseover"==c?b=a.fromElement:"mouseout"==
c&&(b=a.toElement);this.relatedTarget=b;null===d?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.key=a.key||"";this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=
a.pointerId||0;this.pointerType=q(a.pointerType)?a.pointerType:zf[a.pointerType]||"";this.state=a.state;this.b=a;a.defaultPrevented&&this.c()}};w(Af,yf);var zf={2:"touch",3:"pen",4:"mouse"};Af.prototype.c=function(){Af.J.c.call(this);var a=this.b;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,wf)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};
var Bf="closure_listenable_"+(1E6*Math.random()|0),Cf=function(a){return!(!a||!a[Bf])},Df=0;var Ef=function(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.ua=e;this.key=++Df;this.removed=this.Ob=!1},Ff=function(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.ua=null};var Gf=function(a){this.src=a;this.a={};this.b=0},If=function(a,b,c,d,e,f){var g=b.toString();b=a.a[g];b||(b=a.a[g]=[],a.b++);var k=Hf(b,c,e,f);-1<k?(a=b[k],d||(a.Ob=!1)):(a=new Ef(c,a.src,g,!!e,f),a.Ob=d,b.push(a));return a};Gf.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.a))return!1;var e=this.a[a];b=Hf(e,b,c,d);return-1<b?(Ff(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.a[a],this.b--),!0):!1};
var Jf=function(a,b){var c=b.type;c in a.a&&gb(a.a[c],b)&&(Ff(b),0==a.a[c].length&&(delete a.a[c],a.b--))};Gf.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.a)if(!a||c==a){for(var d=this.a[c],e=0;e<d.length;e++)++b,Ff(d[e]);delete this.a[c];this.b--}return b};
var Kf=function(a,b,c,d,e){a=a.a[b.toString()];b=-1;a&&(b=Hf(a,c,d,e));return-1<b?a[b]:null},Lf=function(a,b){var c=n(b),d=c?b.toString():"",e=n(void 0);return wb(a.a,function(a){for(var b=0;b<a.length;++b)if(!(c&&a[b].type!=d||e&&void 0!=a[b].capture))return!0;return!1})},Hf=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.ua==d)return e}return-1};
var Mf="closure_lm_"+(1E6*Math.random()|0),Nf={},Of=0,Qf=function(a,b,c,d,e){if(d&&d.once)return Pf(a,b,c,d,e);if(fa(b)){for(var f=0;f<b.length;f++)Qf(a,b[f],c,d,e);return null}c=Rf(c);return Cf(a)?a.listen(b,c,ja(d)?!!d.capture:!!d,e):Sf(a,b,c,!1,d,e)},Sf=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=ja(e)?!!e.capture:!!e,k=Tf(a);k||(a[Mf]=k=new Gf(a));c=If(k,b,c,d,g,f);if(c.proxy)return c;d=Uf();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)xf||(e=g),void 0===e&&(e=
!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(Vf(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");Of++;return c},Uf=function(){var a=Wf,b=vf?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},Pf=function(a,b,c,d,e){if(fa(b)){for(var f=0;f<b.length;f++)Pf(a,b[f],c,d,e);return null}c=Rf(c);return Cf(a)?If(a.g,String(b),c,!0,ja(d)?!!d.capture:!!d,e):Sf(a,b,c,!0,d,e)},Xf=
function(a,b,c,d,e){if(fa(b))for(var f=0;f<b.length;f++)Xf(a,b[f],c,d,e);else d=ja(d)?!!d.capture:!!d,c=Rf(c),Cf(a)?a.a(b,c,d,e):a&&(a=Tf(a))&&(b=Kf(a,b,c,d,e))&&Yf(b)},Yf=function(a){if(!ba(a)&&a&&!a.removed){var b=a.src;if(Cf(b))Jf(b.g,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent&&b.detachEvent(Vf(c),d);Of--;(c=Tf(b))?(Jf(c,a),0==c.b&&(c.src=null,b[Mf]=null)):Ff(a)}}},Zf=function(a,b,c,d,e){c=Rf(c);d=!!d;return Cf(a)?Kf(a.g,String(b),c,
d,e):a?(a=Tf(a))?Kf(a,b,c,d,e):null:null},Vf=function(a){return a in Nf?Nf[a]:Nf[a]="on"+a},ag=function(a,b,c,d){var e=!0;if(a=Tf(a))if(b=a.a[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.removed&&(f=$f(f,d),e=e&&!1!==f)}return e},$f=function(a,b){var c=a.listener,d=a.ua||a.src;a.Ob&&Yf(a);return c.call(d,b)},Wf=function(a,b){if(a.removed)return!0;if(!vf){var c=b||ca("window.event");b=new Af(c,this);var d=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){a:{var e=!1;
if(0==c.keyCode)try{c.keyCode=-1;break a}catch(g){e=!0}if(e||void 0==c.returnValue)c.returnValue=!0}c=[];for(e=b.a;e;e=e.parentNode)c.push(e);a=a.type;for(e=c.length-1;0<=e;e--){b.a=c[e];var f=ag(c[e],a,!0,b);d=d&&f}for(e=0;e<c.length;e++)b.a=c[e],f=ag(c[e],a,!1,b),d=d&&f}return d}return $f(a,new Af(b,this))},Tf=function(a){a=a[Mf];return a instanceof Gf?a:null},bg="__closure_events_fn_"+(1E9*Math.random()>>>0),Rf=function(a){if(ia(a))return a;a[bg]||(a[bg]=function(b){return a.handleEvent(b)});return a[bg]};
var cg=function(a){O.call(this);this.c=a;this.b={}};w(cg,O);var dg=[];cg.prototype.listen=function(a,b,c,d){fa(b)||(b&&(dg[0]=b.toString()),b=dg);for(var e=0;e<b.length;e++){var f=Qf(a,b[e],c||this.handleEvent,d||!1,this.c||this);if(!f)break;this.b[f.key]=f}return this};var eg=function(a,b,c,d,e,f){if(fa(c))for(var g=0;g<c.length;g++)eg(a,b,c[g],d,e,f);else(b=Pf(b,c,d||a.handleEvent,e,f||a.c||a))&&(a.b[b.key]=b)};
cg.prototype.a=function(a,b,c,d,e){if(fa(b))for(var f=0;f<b.length;f++)this.a(a,b[f],c,d,e);else if(a=Zf(a,b,c||this.handleEvent,ja(d)?!!d.capture:!!d,e||this.c||this))Yf(a),delete this.b[a.key];return this};cg.prototype.removeAll=function(){ub(this.b,function(a,b){this.b.hasOwnProperty(b)&&Yf(a)},this);this.b={}};cg.prototype.F=function(){cg.J.F.call(this);this.removeAll()};cg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};
var P=function(){O.call(this);this.g=new Gf(this);this.pa=this;this.aa=null};w(P,O);P.prototype[Bf]=!0;P.prototype.removeEventListener=function(a,b,c,d){Xf(this,a,b,c,d)};
var Q=function(a,b){var c,d=a.aa;if(d)for(c=[];d;d=d.aa)c.push(d);a=a.pa;d=b.type||b;if(q(b))b=new yf(b,a);else if(b instanceof yf)b.target=b.target||a;else{var e=b;b=new yf(d,a);Ib(b,e)}e=!0;if(c)for(var f=c.length-1;0<=f;f--){var g=b.a=c[f];e=fg(g,d,!0,b)&&e}g=b.a=a;e=fg(g,d,!0,b)&&e;e=fg(g,d,!1,b)&&e;if(c)for(f=0;f<c.length;f++)g=b.a=c[f],e=fg(g,d,!1,b)&&e};P.prototype.F=function(){P.J.F.call(this);this.g&&this.g.removeAll(void 0);this.aa=null};
P.prototype.listen=function(a,b,c,d){return If(this.g,String(a),b,!1,c,d)};P.prototype.a=function(a,b,c,d){return this.g.remove(String(a),b,c,d)};var fg=function(a,b,c,d){b=a.g.a[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.removed&&g.capture==c){var k=g.listener,m=g.ua||g.src;g.Ob&&Jf(a.g,g);e=!1!==k.call(m,d)&&e}}return e&&0!=d.Jd},gg=function(a,b){return Lf(a.g,n(b)?String(b):void 0)};
var hg=function(a,b,c){this.g=c;this.c=a;this.h=b;this.b=0;this.a=null};hg.prototype.get=function(){if(0<this.b){this.b--;var a=this.a;this.a=a.next;a.next=null}else a=this.c();return a};var ig=function(a,b){a.h(b);a.b<a.g&&(a.b++,b.next=a.a,a.a=b)};var jg=function(a){l.setTimeout(function(){throw a;},0)},kg,lg=function(){var a=l.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!x("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow;a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host;
a=t(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!x("Trident")&&!x("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(n(c.next)){c=c.next;var a=c.jd;c.jd=null;a()}};return function(a){d.next={jd:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")? function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){l.setTimeout(a,0)}};
var mg=function(){this.b=this.a=null},og=new hg(function(){return new ng},function(a){a.reset()},100);mg.prototype.remove=function(){var a=null;this.a&&(a=this.a,this.a=this.a.next,this.a||(this.b=null),a.next=null);return a};var ng=function(){this.next=this.b=this.a=null};ng.prototype.set=function(a,b){this.a=a;this.b=b;this.next=null};ng.prototype.reset=function(){this.next=this.b=this.a=null};
var tg=function(a,b){pg||qg();rg||(pg(),rg=!0);var c=sg,d=og.get();d.set(a,b);c.b?c.b.next=d:c.a=d;c.b=d},pg,qg=function(){if(-1!=String(l.Promise).indexOf("[native code]")){var a=l.Promise.resolve(void 0);pg=function(){a.then(ug)}}else pg=function(){var a=ug;!ia(l.setImmediate)||l.Window&&l.Window.prototype&&!x("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(kg||(kg=lg()),kg(a)):l.setImmediate(a)}},rg=!1,sg=new mg,ug=function(){for(var a;a=sg.remove();){try{a.a.call(a.b)}catch(b){jg(b)}ig(og, a)}rg=!1};
var vg=function(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0},wg=function(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};var R=function(a,b){this.a=0;this.o=void 0;this.g=this.b=this.c=null;this.h=this.l=!1;this.v=[];xg(this,Error("created"));this.I=0;if(a!=da)try{var c=this;a.call(b,function(a){yg(c,2,a)},function(a){yg(c,3,a)})}catch(d){yg(this,3,d)}},zg=function(){this.next=this.g=this.b=this.h=this.a=null;this.c=!1};zg.prototype.reset=function(){this.g=this.b=this.h=this.a=null;this.c=!1};
var Ag=new hg(function(){return new zg},function(a){a.reset()},100),Bg=function(a,b,c){var d=Ag.get();d.h=a;d.b=b;d.g=c;return d},S=function(a){if(a instanceof R)return a;var b=new R(da);yg(b,2,a);return b},Cg=function(a){return new R(function(b,c){c(a)})},Eg=function(a,b,c){Dg(a,b,c,null)||tg(ra(b,a))},Fg=function(a){return new R(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a,c){d--;e[a]=c;0==d&&b(e)},g=function(a){c(a)},k=0,m;k<a.length;k++)m=a[k],Eg(m,ra(f,k),g);else b(e)})},Hg=function(){var a,
b,c=new R(function(c,e){a=c;b=e});return new Gg(c,a,b)};R.prototype.then=function(a,b,c){xg(this,Error("then"));return Ig(this,ia(a)?a:null,ia(b)?b:null,c)};vg(R);var Kg=function(a,b,c){xg(a,Error("thenAlways"));b=Bg(b,b,c);b.c=!0;Jg(a,b);return a},Lg=function(a,b,c){xg(a,Error("thenCatch"));return Ig(a,null,b,c)};R.prototype.cancel=function(a){0==this.a&&tg(function(){var b=new Mg(a);Ng(this,b)},this)};
var Ng=function(a,b){if(0==a.a)if(a.c){var c=a.c;if(c.b){for(var d=0,e=null,f=null,g=c.b;g&&(g.c||(d++,g.a==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(0==c.a&&1==d?Ng(c,b):(f?(d=f,d.next==c.g&&(c.g=d),d.next=d.next.next):Og(c),Pg(c,e,3,b)))}a.c=null}else yg(a,3,b)},Jg=function(a,b){a.b||2!=a.a&&3!=a.a||Qg(a);a.g?a.g.next=b:a.b=b;a.g=b},Ig=function(a,b,c,d){var e=Bg(null,null,null);e.a=new R(function(a,g){e.h=b?function(c){try{var e=b.call(d,c);a(e)}catch(p){g(p)}}:a;e.b=c?function(b){try{var e=c.call(d,
b);!n(e)&&b instanceof Mg?g(b):a(e)}catch(p){g(p)}}:g});e.a.c=a;Jg(a,e);return e.a};R.prototype.A=function(a){this.a=0;yg(this,2,a)};R.prototype.C=function(a){this.a=0;yg(this,3,a)};
var yg=function(a,b,c){0==a.a&&(a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself")),a.a=1,Dg(c,a.A,a.C,a)||(a.o=c,a.a=b,a.c=null,Qg(a),3!=b||c instanceof Mg||Rg(a,c)))},Dg=function(a,b,c,d){if(a instanceof R)return xg(a,Error("then")),Jg(a,Bg(b||da,c||null,d)),!0;if(wg(a))return a.then(b,c,d),!0;if(ja(a))try{var e=a.then;if(ia(e))return Sg(a,e,b,c,d),!0}catch(f){return c.call(d,f),!0}return!1},Sg=function(a,b,c,d,e){var f=!1,g=function(a){f||(f=!0,c.call(e,a))},k=function(a){f||(f=!0,
d.call(e,a))};try{b.call(a,g,k)}catch(m){k(m)}},Qg=function(a){a.l||(a.l=!0,tg(a.L,a))},Og=function(a){var b=null;a.b&&(b=a.b,a.b=b.next,b.next=null);a.b||(a.g=null);return b};R.prototype.L=function(){for(var a;a=Og(this);)this.I++,Pg(this,a,this.a,this.o);this.l=!1};
var Pg=function(a,b,c,d){if(3==c&&b.b&&!b.c)for(;a&&a.h;a=a.c)a.h=!1;if(b.a)b.a.c=null,Tg(b,c,d);else try{b.c?b.h.call(b.g):Tg(b,c,d)}catch(e){Ug.call(null,e)}ig(Ag,b)},Tg=function(a,b,c){2==b?a.h.call(a.g,c):a.b&&a.b.call(a.g,c)},xg=function(a,b){if(q(b.stack)){var c=b.stack.split("\n",4)[3];b=b.message;b+=Array(11-b.length).join(" ");a.v.push(b+c)}},Rg=function(a,b){a.h=!0;tg(function(){if(a.h){if(b&&q(b.stack)&&a.v.length){for(var c=["Promise trace:"],d=a;d;d=d.c){for(var e=a.I;0<=e;e--)c.push(d.v[e]); c.push("Value: ["+(3==d.a?"REJECTED":"FULFILLED")+"] <"+String(d.o)+">")}b.stack+="\n\n"+c.join("\n")}Ug.call(null,b)}})},Ug=jg,Mg=function(a){ta.call(this,a)};w(Mg,ta);Mg.prototype.name="cancel";var Gg=function(a,b,c){this.a=a;this.b=b;this.c=c};
var Vg=function(a,b){P.call(this);this.c=a||1;this.b=b||l;this.h=t(this.Wf,this);this.l=u()};w(Vg,P);h=Vg.prototype;h.xb=!1;h.na=null;h.Wf=function(){if(this.xb){var a=u()-this.l;0<a&&a<.8*this.c?this.na=this.b.setTimeout(this.h,this.c-a):(this.na&&(this.b.clearTimeout(this.na),this.na=null),Q(this,"tick"),this.xb&&(this.na=this.b.setTimeout(this.h,this.c),this.l=u()))}};h.start=function(){this.xb=!0;this.na||(this.na=this.b.setTimeout(this.h,this.c),this.l=u())};
h.stop=function(){this.xb=!1;this.na&&(this.b.clearTimeout(this.na),this.na=null)};h.F=function(){Vg.J.F.call(this);this.stop();delete this.b};
var Wg=function(a,b,c){if(ia(a))c&&(a=t(a,c));else if(a&&"function"==typeof a.handleEvent)a=t(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:l.setTimeout(a,b||0)},Xg=function(a){l.clearTimeout(a)},Yg=function(a){var b=null;return Lg(new R(function(c,d){b=Wg(function(){c(void 0)},a);-1==b&&d(Error("Failed to schedule timer."))}),function(a){Xg(b);throw a;})};
var Zg=function(){this.a=u()},$g=null;Zg.prototype.set=function(a){this.a=a};Zg.prototype.reset=function(){this.set(u())};Zg.prototype.get=function(){return this.a};var ah=function(){$g||($g=new Zg)},bh=function(){$g||($g=new Zg)};w(bh,ah);var ch=function(a,b){this.a=a;this.b=b};ch.prototype.stringify=function(a){return l.JSON.stringify(a,this.a)};ch.prototype.parse=function(a){return l.JSON.parse(a,this.b)};var dh=function(a,b,c){O.call(this);this.g=null!=c?t(a,c):a;this.c=b;this.b=t(this.gf,this);this.a=[]};w(dh,O);h=dh.prototype;h.jb=!1;h.Fb=0;h.Ua=null;h.Se=function(a){this.a=arguments;this.Ua||this.Fb?this.jb=!0:eh(this)};h.stop=function(){this.Ua&&(Xg(this.Ua),this.Ua=null,this.jb=!1,this.a=[])};h.pause=function(){this.Fb++};h.resume=function(){this.Fb--;this.Fb||!this.jb||this.Ua||(this.jb=!1,eh(this))};h.F=function(){dh.J.F.call(this);this.stop()}; h.gf=function(){this.Ua=null;this.jb&&!this.Fb&&(this.jb=!1,eh(this))};var eh=function(a){a.Ua=Wg(a.b,a.c);a.g.apply(null,a.a)};
var fh=function(){};fh.prototype.a=null;var hh=function(a){var b;(b=a.a)||(b={},gh(a)&&(b[0]=!0,b[1]=!0),b=a.a=b);return b};var ih,jh=function(){};w(jh,fh);var kh=function(a){return(a=gh(a))?new ActiveXObject(a):new XMLHttpRequest},gh=function(a){if(!a.b&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.b=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.b};ih=new jh;
var lh=function(a,b,c,d,e){this.b=a;this.a=b;this.h=c;this.c=d;this.g=e||1;this.v=45E3;this.o=new cg(this);a=this.l=new Vg;a.c=250;a.na&&a.xb?(a.stop(),a.start()):a.na&&a.stop()};h=lh.prototype;h.Wa=null;h.oa=!1;h.nb=null;h.Qc=null;h.Gb=null;h.kb=null;h.Oa=null;h.la=null;h.ib=null;h.X=null;h.Hb=0;h.xa=null;h.lb=null;h.Pa=null;h.zb=-1;h.Kd=!0;h.Ra=!1;h.xc=0;h.ec=null;
var mh=function(a,b){switch(a){case 0:return"Non-200 return code ("+b+")";case 1:return"XMLHTTP failure (no data)";case 2:return"HttpConnection timeout";default:return"Unknown error"}},nh={},oh={};lh.prototype.setTimeout=function(a){this.v=a};
var rh=function(a,b,c){a.kb=1;a.Oa=ph(b.clone());a.ib=c;a.I=!0;qh(a,null)},sh=function(a,b,c,d,e){a.kb=1;a.Oa=ph(b.clone());a.ib=null;a.I=c;e&&(a.Kd=!1);qh(a,d)},qh=function(a,b){a.Gb=u();th(a);a.la=a.Oa.clone();uh(a.la,"t",a.g);a.Hb=0;a.X=a.b.qc(a.b.hc()?b:null);0<a.xc&&(a.ec=new dh(t(a.L,a,a.X),a.xc));a.o.listen(a.X,"readystatechange",a.D);b=a.Wa?Gb(a.Wa):{};a.ib?(a.lb="POST",b["Content-Type"]="application/x-www-form-urlencoded",a.X.send(a.la,a.lb,a.ib,b)):(a.lb="GET",a.Kd&&!Tb&&(b.Connection="close"),
a.X.send(a.la,a.lb,null,b));a.b.wa(1);var c=a.ib;if(c){b="";c=c.split("&");for(var d=0;d<c.length;d++){var e=c[d].split("=");if(1<e.length){var f=e[0];e=e[1];var g=f.split("_");b=2<=g.length&&"type"==g[1]?b+(f+"="+e+"&"):b+(f+"=redacted&")}}}else b=null;a.a.info("XMLHTTP REQ ("+a.c+") [attempt "+a.g+"]: "+a.lb+"\n"+a.la+"\n"+b)};lh.prototype.D=function(a){a=a.target;var b=this.ec;b&&3==vh(a)?(this.a.debug("Throttling readystatechange."),b.Se()):this.L(a)};
lh.prototype.L=function(a){try{if(a==this.X)a:{var b=vh(this.X),c=this.X.c,d=wh(this.X);if(Qb&&!ic(10)||Tb&&!gc("420+")){if(4>b)break a}else if(3>b||3==b&&!Pb&&!xh(this.X))break a;this.Ra||4!=b||7==c||(8==c||0>=d?this.b.wa(3):this.b.wa(2));yh(this);var e=wh(this.X);this.zb=e;var f=xh(this.X);f||this.a.debug("No response text for uri "+this.la+" status "+e);this.oa=200==e;this.a.info("XMLHTTP RESP ("+this.c+") [ attempt "+this.g+"]: "+this.lb+"\n"+this.la+"\n"+b+" "+e);this.oa?(4==b&&zh(this),this.I?
(Ah(this,b,f),Pb&&this.oa&&3==b&&(this.o.listen(this.l,"tick",this.C),this.l.start())):(Bh(this.a,this.c,f,null),Ch(this,f)),this.oa&&!this.Ra&&(4==b?this.b.cc(this):(this.oa=!1,th(this)))):(400==e&&0<f.indexOf("Unknown SID")?(this.Pa=3,Dh(),this.a.ya("XMLHTTP Unknown SID ("+this.c+")")):(this.Pa=0,Dh(),this.a.ya("XMLHTTP Bad status "+e+" ("+this.c+")")),zh(this),Eh(this))}else this.a.ya("Called back with an unexpected xmlhttp")}catch(g){this.a.debug("Failed call to OnXmlHttpReadyStateChanged_"),
this.X&&xh(this.X)?Fh(this.a,g,"ResponseText: "+xh(this.X)):Fh(this.a,g,"No response text")}finally{}};var Ah=function(a,b,c){for(var d=!0;!a.Ra&&a.Hb<c.length;){var e=Gh(a,c);if(e==oh){4==b&&(a.Pa=4,Dh(),d=!1);Bh(a.a,a.c,null,"[Incomplete Response]");break}else if(e==nh){a.Pa=4;Dh();Bh(a.a,a.c,c,"[Invalid Chunk]");d=!1;break}else Bh(a.a,a.c,e,null),Ch(a,e)}4==b&&0==c.length&&(a.Pa=1,Dh(),d=!1);a.oa=a.oa&&d;d||(Bh(a.a,a.c,c,"[Invalid Chunked Response]"),zh(a),Eh(a))};
lh.prototype.C=function(){var a=vh(this.X),b=xh(this.X);this.Hb<b.length&&(yh(this),Ah(this,a,b),this.oa&&4!=a&&th(this))};
var Gh=function(a,b){var c=a.Hb,d=b.indexOf("\n",c);if(-1==d)return oh;c=Number(b.substring(c,d));if(isNaN(c))return nh;d+=1;if(d+c>b.length)return oh;b=b.substr(d,c);a.Hb=d+c;return b},Hh=function(a,b){a.Gb=u();th(a);var c=b?window.location.hostname:"";a.la=a.Oa.clone();T(a.la,"DOMAIN",c);T(a.la,"t",a.g);try{a.xa=new ActiveXObject("htmlfile")}catch(g){J(a.a.j,"ActiveX blocked");zh(a);a.Pa=7;Dh();Eh(a);return}var d="<html><body>";if(b){b="";for(var e=0;e<c.length;e++){var f=c.charAt(e);b="<"==f?b+
"\\x3c":">"==f?b+"\\x3e":b+Na(f)}d+='<script>document.domain="'+b+'"\x3c/script>'}d+="</body></html>";Yd("b/12014412");c=ve(d,null);a.xa.open();a.xa.write(se(c));a.xa.close();a.xa.parentWindow.m=t(a.kf,a);a.xa.parentWindow.d=t(a.Fd,a,!0);a.xa.parentWindow.rpcClose=t(a.Fd,a,!1);c=a.xa.createElement("DIV");a.xa.parentWindow.document.body.appendChild(c);d=ge(a.la.toString());d=Ga(de(d));Yd("b/12014412");d=ve('<iframe src="'+d+'"></iframe>',null);c.innerHTML=se(d);a.a.info("TRIDENT REQ ("+a.c+") [ attempt "+
a.g+"]: GET\n"+a.la);a.b.wa(1)};h=lh.prototype;h.kf=function(a){Ih(t(this.jf,this,a),0)};h.jf=function(a){if(!this.Ra){var b=this.a;b.info("TRIDENT TEXT ("+this.c+"): "+Jh(b,a));yh(this);Ch(this,a);th(this)}};h.Fd=function(a){Ih(t(this.hf,this,a),0)};h.hf=function(a){this.Ra||(this.a.info("TRIDENT TEXT ("+this.c+"): "+a?"success":"failure"),zh(this),this.oa=a,this.b.cc(this),this.b.wa(4))};h.cancel=function(){this.Ra=!0;zh(this)};
var th=function(a){a.Qc=u()+a.v;Kh(a,a.v)},Kh=function(a,b){if(null!=a.nb)throw Error("WatchDog timer not null");a.nb=Ih(t(a.A,a),b)},yh=function(a){a.nb&&(l.clearTimeout(a.nb),a.nb=null)};lh.prototype.A=function(){this.nb=null;var a=u();0<=a-this.Qc?(this.oa&&J(this.a.j,"Received watchdog timeout even though request loaded successfully"),this.a.info("TIMEOUT: "+this.la),2!=this.kb&&this.b.wa(3),zh(this),this.Pa=2,Dh(),Eh(this)):(this.a.ya("WatchDog timer called too early"),Kh(this,this.Qc-a))};
var Eh=function(a){a.b.ud()||a.Ra||a.b.cc(a)},zh=function(a){yh(a);uf(a.ec);a.ec=null;a.l.stop();a.o.removeAll();if(a.X){var b=a.X;a.X=null;b.abort();b.W()}a.xa&&(a.xa=null)},Ch=function(a,b){try{a.b.dc(a,b),a.b.wa(4)}catch(c){Fh(a.a,c,"Error in httprequest callback")}};
var Lh=function(){this.j=H("goog.net.BrowserChannel")},Bh=function(a,b,c,d){a.info("XMLHTTP TEXT ("+b+"): "+Jh(a,c)+(d?" "+d:""))};Lh.prototype.debug=function(a){this.info(a)};var Fh=function(a,b,c){J(a.j,(c||"Exception")+b)};Lh.prototype.info=function(a){L(this.j,a)};Lh.prototype.ya=function(a){K(this.j,a)};
var Jh=function(a,b){if(!b||"y2f%"==b)return b;try{var c=JSON.parse(b);if(c)for(var d=0;d<c.length;d++)if(fa(c[d])){var e=c[d];if(!(2>e.length)){var f=e[1];if(fa(f)&&!(1>f.length)){var g=f[0];if("noop"!=g&&"stop"!=g)for(var k=1;k<f.length;k++)f[k]=""}}}return N(c)}catch(m){return a.debug("Exception parsing expected JS array - probably was not JS"),b}};
var Mh=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/,Nh=function(a){var b=a.match(Mh);a=b[1];var c=b[2],d=b[3];b=b[4];var e="";a&&(e+=a+":");d&&(e+="//",c&&(e+=c+"@"),e+=d,b&&(e+=":"+b));return e},Oh=function(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}};
var Ph=function(a,b){this.a=this.o=this.g="";this.v=null;this.h=this.b="";this.l=!1;var c;a instanceof Ph?(this.l=n(b)?b:a.l,Qh(this,a.g),this.o=a.o,Rh(this,a.a),Sh(this,a.v),Th(this,a.b),Uh(this,a.c.clone()),this.h=a.h):a&&(c=String(a).match(Mh))?(this.l=!!b,Qh(this,c[1]||"",!0),this.o=Vh(c[2]||""),Rh(this,c[3]||"",!0),Sh(this,c[4]),Th(this,c[5]||"",!0),Uh(this,c[6]||"",!0),this.h=Vh(c[7]||"")):(this.l=!!b,this.c=new Wh(null,0,this.l))};
Ph.prototype.toString=function(){var a=[],b=this.g;b&&a.push(Xh(b,Yh,!0),":");var c=this.a;if(c||"file"==b)a.push("//"),(b=this.o)&&a.push(Xh(b,Yh,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.v,null!=c&&a.push(":",String(c));if(c=this.b)this.a&&"/"!=c.charAt(0)&&a.push("/"),a.push(Xh(c,"/"==c.charAt(0)?Zh:$h,!0));(c=this.c.toString())&&a.push("?",c);(c=this.h)&&a.push("#",Xh(c,ai));return a.join("")};
var bi=function(a,b){var c=a.clone(),d=!!b.g;d?Qh(c,b.g):d=!!b.o;d?c.o=b.o:d=!!b.a;d?Rh(c,b.a):d=null!=b.v;var e=b.b;if(d)Sh(c,b.v);else if(d=!!b.b)if("/"!=e.charAt(0)&&(a.a&&!a.b?e="/"+e:(a=c.b.lastIndexOf("/"),-1!=a&&(e=c.b.substr(0,a+1)+e))),a=e,".."==a||"."==a)e="";else if(-1!=a.indexOf("./")||-1!=a.indexOf("/.")){e=0==a.lastIndexOf("/",0);a=a.split("/");for(var f=[],g=0;g<a.length;){var k=a[g++];"."==k?e&&g==a.length&&f.push(""):".."==k?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),e&&g==a.length&&
f.push("")):(f.push(k),e=!0)}e=f.join("/")}else e=a;d?Th(c,e):d=""!==b.c.toString();d?Uh(c,b.c.clone()):d=!!b.h;d&&(c.h=b.h);return c};Ph.prototype.clone=function(){return new Ph(this)};
var Qh=function(a,b,c){a.g=c?Vh(b,!0):b;a.g&&(a.g=a.g.replace(/:$/,""))},Rh=function(a,b,c){a.a=c?Vh(b,!0):b},Sh=function(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.v=b}else a.v=null},Th=function(a,b,c){a.b=c?Vh(b,!0):b;return a},Uh=function(a,b,c){b instanceof Wh?(a.c=b,ci(a.c,a.l)):(c||(b=Xh(b,di)),a.c=new Wh(b,0,a.l))},T=function(a,b,c){a.c.set(b,c);return a},uh=function(a,b,c){fa(c)||(c=[String(c)]);ei(a.c,b,c)},ph=function(a){T(a,"zx",Ra());return a},fi=function(a){return a instanceof
Ph?a.clone():new Ph(a,void 0)},gi=function(a,b,c,d){var e=new Ph(null,void 0);a&&Qh(e,a);b&&Rh(e,b);c&&Sh(e,c);d&&Th(e,d);return e},Vh=function(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""},Xh=function(a,b,c){return q(a)?(a=encodeURI(a).replace(b,hi),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null},hi=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},Yh=/[#\/\?@]/g,$h=/[\#\?:]/g,Zh=/[\#\?]/g,di=/[\#\?@]/g,ai=/#/g,Wh=function(a,
b,c){this.b=this.a=null;this.c=a||null;this.g=!!c},ii=function(a){a.a||(a.a=new D,a.b=0,a.c&&Oh(a.c,function(b,c){b=decodeURIComponent(b.replace(/\+/g," "));ii(a);a.c=null;b=ji(a,b);var d=a.a.get(b);d||a.a.set(b,d=[]);d.push(c);a.b+=1}))};Wh.prototype.P=function(){ii(this);return this.b};Wh.prototype.remove=function(a){ii(this);a=ji(this,a);return cd(this.a.b,a)?(this.c=null,this.b-=this.a.get(a).length,this.a.remove(a)):!1};Wh.prototype.clear=function(){this.a=this.c=null;this.b=0};
var ki=function(a,b){ii(a);b=ji(a,b);return cd(a.a.b,b)};h=Wh.prototype;h.La=function(a){var b=this.S();return 0<=Va(b,a)};h.forEach=function(a,b){ii(this);this.a.forEach(function(c,d){Xa(c,function(c){a.call(b,c,d,this)},this)},this)};h.Z=function(){ii(this);for(var a=this.a.S(),b=this.a.Z(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};
h.S=function(a){ii(this);var b=[];if(q(a))ki(this,a)&&(b=hb(b,this.a.get(ji(this,a))));else{a=this.a.S();for(var c=0;c<a.length;c++)b=hb(b,a[c])}return b};h.set=function(a,b){ii(this);this.c=null;a=ji(this,a);ki(this,a)&&(this.b-=this.a.get(a).length);this.a.set(a,[b]);this.b+=1;return this};h.get=function(a,b){a=a?this.S(a):[];return 0<a.length?String(a[0]):b};var ei=function(a,b,c){a.remove(b);0<c.length&&(a.c=null,a.a.set(ji(a,b),ib(c)),a.b+=c.length)};
Wh.prototype.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var a=[],b=this.a.Z(),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=this.S(d);for(var f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f])));a.push(g)}}return this.c=a.join("&")};Wh.prototype.clone=function(){var a=new Wh;a.c=this.c;this.a&&(a.a=this.a.clone(),a.b=this.b);return a}; var ji=function(a,b){b=String(b);a.g&&(b=b.toLowerCase());return b},ci=function(a,b){b&&!a.g&&(ii(a),a.c=null,a.a.forEach(function(a,b){var c=b.toLowerCase();b!=c&&(this.remove(b),ei(this,c,a))},a));a.g=b};
var mi=function(a,b,c,d,e){(new Lh).debug("TestLoadImageWithRetries: "+e);if(0==d)c(!1);else{var f=e||0;d--;li(a,b,function(e){e?c(!0):l.setTimeout(function(){mi(a,b,c,d,f)},f)})}},li=function(a,b,c){var d=new Lh;d.debug("TestLoadImage: loading "+a);var e=new Image;e.onload=function(){try{d.debug("TestLoadImage: loaded"),ni(e),c(!0)}catch(f){Fh(d,f)}};e.onerror=function(){try{d.debug("TestLoadImage: error"),ni(e),c(!1)}catch(f){Fh(d,f)}};e.onabort=function(){try{d.debug("TestLoadImage: abort"),ni(e),
c(!1)}catch(f){Fh(d,f)}};e.ontimeout=function(){try{d.debug("TestLoadImage: timeout"),ni(e),c(!1)}catch(f){Fh(d,f)}};l.setTimeout(function(){if(e.ontimeout)e.ontimeout()},b);e.src=a},ni=function(a){a.onload=null;a.onerror=null;a.onabort=null;a.ontimeout=null};
var oi=function(a,b){this.a=a;this.b=b;this.c=new ch};h=oi.prototype;h.vc=null;h.ma=null;h.fc=!1;h.vd=null;h.Qb=null;h.Fc=null;h.wc=null;h.ja=null;h.Va=-1;h.yb=null;h.qb=null;h.connect=function(a){this.wc=a;a=pi(this.a,this.wc);Dh();this.vd=u();var b=this.a.K;null!=b?(this.yb=b[0],(this.qb=b[1])?(this.ja=1,qi(this)):(this.ja=2,ri(this))):(uh(a,"MODE","init"),this.ma=new lh(this,this.b,void 0,void 0,void 0),this.ma.Wa=this.vc,sh(this.ma,a,!1,null,!0),this.ja=0)};
var qi=function(a){var b=si(a.a,a.qb,"/mail/images/cleardot.gif");ph(b);mi(b.toString(),5E3,t(a.g,a),3,2E3);a.wa(1)};oi.prototype.g=function(a){if(a)this.ja=2,ri(this);else{Dh();var b=this.a;b.a.debug("Test Connection Blocked");b.Ca=b.Ka.Va;ti(b,9)}a&&this.wa(2)};
var ri=function(a){a.b.debug("TestConnection: starting stage 2");var b=a.a.N;if(null!=b)a.b.debug("TestConnection: skipping stage 2, precomputed result is "+b?"Buffered":"Unbuffered"),Dh(),b?(Dh(),ui(a.a,a,!1)):(Dh(),ui(a.a,a,!0));else if(a.ma=new lh(a,a.b,void 0,void 0,void 0),a.ma.Wa=a.vc,b=vi(a.a,a.yb,a.wc),Dh(),!Qb||ic(10))uh(b,"TYPE","xmlhttp"),sh(a.ma,b,!1,a.yb,!1);else{uh(b,"TYPE","html");var c=a.ma;a=!!a.yb;c.kb=3;c.Oa=ph(b.clone());Hh(c,a)}};h=oi.prototype;h.qc=function(a){return this.a.qc(a)};
h.abort=function(){this.ma&&(this.ma.cancel(),this.ma=null);this.Va=-1};h.ud=function(){return!1};
h.dc=function(a,b){this.Va=a.zb;if(0==this.ja)if(this.b.debug("TestConnection: Got data for stage 1"),b){try{var c=this.c.parse(b)}catch(d){Fh(this.b,d);wi(this.a,this);return}this.yb=c[0];this.qb=c[1]}else this.b.debug("TestConnection: Null responseText"),wi(this.a,this);else if(2==this.ja)if(this.fc)Dh(),this.Fc=u();else if("11111"==b){if(Dh(),this.fc=!0,this.Qb=u(),a=this.Qb-this.vd,!Qb||ic(10)||500>a)this.Va=200,this.ma.cancel(),this.b.debug("Test connection succeeded; using streaming connection"),
Dh(),ui(this.a,this,!0)}else Dh(),this.Qb=this.Fc=u(),this.fc=!1};
h.cc=function(){this.Va=this.ma.zb;this.ma.oa?0==this.ja?(this.b.debug("TestConnection: request complete for initial check"),this.qb?(this.ja=1,qi(this)):(this.ja=2,ri(this))):2==this.ja&&(this.b.debug("TestConnection: request complete for stage 2"),(!Qb||ic(10)?!this.fc:200>this.Fc-this.Qb)?(this.b.debug("Test connection failed; not using streaming"),Dh(),ui(this.a,this,!1)):(this.b.debug("Test connection succeeded; using streaming connection"),Dh(),ui(this.a,this,!0))):(this.b.debug("TestConnection: request failed, in state "+ this.ja),0==this.ja?Dh():2==this.ja&&Dh(),wi(this.a,this))};h.hc=function(){return this.a.hc()};h.wa=function(a){this.a.wa(a)};
var xi=function(a){P.call(this);this.headers=new D;this.N=a||null;this.h=!1;this.M=this.b=null;this.$=this.C="";this.c=0;this.D="";this.v=this.T=this.H=this.O=!1;this.l=0;this.G=null;this.A="";this.K=this.o=!1};w(xi,P);xi.prototype.j=H("goog.net.XhrIo");var yi=/^https?$/i,zi=["POST","PUT"],Ai=[],Bi=function(a,b,c,d,e,f,g){var k=new xi;Ai.push(k);b&&k.listen("complete",b);If(k.g,"ready",k.fa,!0,void 0,void 0);f&&(k.l=Math.max(0,f));g&&(k.o=g);k.send(a,c,d,e)};
xi.prototype.fa=function(){this.W();gb(Ai,this)};xi.prototype.Ub=function(){return this.A};xi.prototype.sd=function(){return this.o};
xi.prototype.send=function(a,b,c,d){if(this.b)throw Error("[goog.net.XhrIo] Object is active with another request="+this.C+"; newUri="+a);b=b?b.toUpperCase():"GET";this.C=a;this.D="";this.c=0;this.$=b;this.O=!1;this.h=!0;this.b=this.N?kh(this.N):kh(ih);this.M=this.N?hh(this.N):hh(ih);this.b.onreadystatechange=t(this.ba,this);try{M(this.j,Ci(this,"Opening Xhr")),this.T=!0,this.b.open(b,String(a),!0),this.T=!1}catch(f){M(this.j,Ci(this,"Error opening Xhr: "+f.message));Di(this,f);return}a=c||"";var e=
this.headers.clone();d&&hd(d,function(a,b){e.set(b,a)});d=cb(e.Z(),Ei);c=l.FormData&&a instanceof l.FormData;!(0<=Va(zi,b))||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");e.forEach(function(a,b){this.b.setRequestHeader(b,a)},this);this.A&&(this.b.responseType=this.A);"withCredentials"in this.b&&this.b.withCredentials!==this.o&&(this.b.withCredentials=this.o);try{Fi(this),0<this.l&&(this.K=Gi(this.b),M(this.j,Ci(this,"Will abort after "+this.l+"ms if incomplete, xhr2 "+
this.K)),this.K?(this.b.timeout=this.l,this.b.ontimeout=t(this.Y,this)):this.G=Wg(this.Y,this.l,this)),M(this.j,Ci(this,"Sending request")),this.H=!0,this.b.send(a),this.H=!1}catch(f){M(this.j,Ci(this,"Send error: "+f.message)),Di(this,f)}};var Gi=function(a){return Qb&&gc(9)&&ba(a.timeout)&&n(a.ontimeout)},Ei=function(a){return"content-type"==a.toLowerCase()};
xi.prototype.Y=function(){"undefined"!=typeof aa&&this.b&&(this.D="Timed out after "+this.l+"ms, aborting",this.c=8,M(this.j,Ci(this,this.D)),Q(this,"timeout"),this.abort(8))};var Di=function(a,b){a.h=!1;a.b&&(a.v=!0,a.b.abort(),a.v=!1);a.D=b;a.c=5;Hi(a);Ii(a)},Hi=function(a){a.O||(a.O=!0,Q(a,"complete"),Q(a,"error"))};xi.prototype.abort=function(a){this.b&&this.h&&(M(this.j,Ci(this,"Aborting")),this.h=!1,this.v=!0,this.b.abort(),this.v=!1,this.c=a||7,Q(this,"complete"),Q(this,"abort"),Ii(this))};
xi.prototype.F=function(){this.b&&(this.h&&(this.h=!1,this.v=!0,this.b.abort(),this.v=!1),Ii(this,!0));xi.J.F.call(this)};xi.prototype.ba=function(){this.Ea()||(this.T||this.H||this.v?Ji(this):this.ra())};xi.prototype.ra=function(){Ji(this)};
var Ji=function(a){if(a.h&&"undefined"!=typeof aa)if(a.M[1]&&4==vh(a)&&2==wh(a))M(a.j,Ci(a,"Local request error detected and ignored"));else if(a.H&&4==vh(a))Wg(a.ba,0,a);else if(Q(a,"readystatechange"),4==vh(a)){M(a.j,Ci(a,"Request complete"));a.h=!1;try{if(a.va())Q(a,"complete"),Q(a,"success");else{a.c=6;try{var b=2<vh(a)?a.b.statusText:""}catch(c){M(a.j,"Can not get status: "+c.message),b=""}a.D=b+" ["+wh(a)+"]";Hi(a)}}finally{Ii(a)}}},Ii=function(a,b){if(a.b){Fi(a);var c=a.b,d=a.M[0]?da:null;
a.b=null;a.M=null;b||Q(a,"ready");try{c.onreadystatechange=d}catch(e){J(a.j,"Problem encountered resetting onreadystatechange: "+e.message)}}},Fi=function(a){a.b&&a.K&&(a.b.ontimeout=null);ba(a.G)&&(Xg(a.G),a.G=null)};
xi.prototype.va=function(){var a=wh(this);a:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break a;default:b=!1}if(!b){if(a=0===a)a=String(this.C).match(Mh)[1]||null,!a&&l.self&&l.self.location&&(a=l.self.location.protocol,a=a.substr(0,a.length-1)),a=!yi.test(a?a.toLowerCase():"");b=a}return b};
var vh=function(a){return a.b?a.b.readyState:0},wh=function(a){try{return 2<vh(a)?a.b.status:-1}catch(b){return-1}},xh=function(a){try{return a.b?a.b.responseText:""}catch(b){return M(a.j,"Can not get responseText: "+b.message),""}},Ki=function(a){try{if(!a.b)return null;if("response"in a.b)return a.b.response;switch(a.A){case "":case "text":return a.b.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.b)return a.b.mozResponseArrayBuffer}J(a.j,"Response type "+a.A+" is not supported on this browser"); return null}catch(b){return M(a.j,"Can not get response: "+b.message),null}},Ci=function(a,b){return b+" ["+a.$+" "+a.C+" "+wh(a)+"]"};
var Li=function(a){this.b=0;this.c=a||100;this.a=[]};h=Li.prototype;h.get=function(a){a=Mi(this,a);return this.a[a]};h.set=function(a,b){a=Mi(this,a);this.a[a]=b};h.P=function(){return this.a.length};h.clear=function(){this.b=this.a.length=0};h.S=function(){var a=this.P(),b=this.P(),c=[];for(a=this.P()-a;a<b;a++)c.push(this.get(a));return c};h.Z=function(){for(var a=[],b=this.P(),c=0;c<b;c++)a[c]=c;return a};h.La=function(a){for(var b=this.P(),c=0;c<b;c++)if(this.get(c)==a)return!0;return!1}; var Mi=function(a,b){if(b>=a.a.length)throw Error("Out of bounds exception");return a.a.length<a.c?b:(a.b+Number(b))%a.c};
var Ni=function(a,b,c,d){this.L=a||null;this.b=1;this.c=[];this.g=[];this.a=new Lh;this.l=new ch;this.K=b||null;this.N=null!=c?c:null;this.o=d||!1},Oi=function(a,b){this.a=a;this.b=b};h=Ni.prototype;h.bb=null;h.sb=null;h.ha=null;h.V=null;h.uc=null;h.Rb=null;h.ed=null;h.Vb=null;h.Db=0;h.cf=0;h.ca=null;h.Na=null;h.Ba=null;h.Ta=null;h.Ka=null;h.Pc=null;h.ac=-1;h.Bd=-1;h.Ca=-1;h.tb=0;h.$a=0;h.ic=!1;h.Sa=8;var Pi=new P,Qi=function(a){yf.call(this,"statevent",a)};w(Qi,yf);
var Ri=function(a){yf.call(this,"timingevent",a)};w(Ri,yf);var Si=function(a){yf.call(this,"serverreachability",a)};w(Si,yf);Ni.prototype.connect=function(a,b,c,d,e){this.a.debug("connect()");Dh();this.uc=b;this.sb=c||{};d&&n(e)&&(this.sb.OSID=d,this.sb.OAID=e);this.o?(Ih(t(this.I,this,a),100),Ti(this)):this.I(a)};
Ni.prototype.disconnect=function(){this.a.debug("disconnect()");Ui(this);if(3==this.b){var a=this.Db++,b=this.Rb.clone();T(b,"SID",this.h);T(b,"RID",a);T(b,"TYPE","terminate");Vi(this,b);a=new lh(this,this.a,this.h,a,void 0);a.kb=2;a.Oa=ph(b.clone());(new Image).src=a.Oa;a.Gb=u();th(a)}Wi(this)};Ni.prototype.I=function(a){this.a.debug("connectTest_()");this.Ka=new oi(this,this.a);this.Ka.vc=this.bb;this.Ka.c=this.l;this.Ka.connect(a)};
var Ti=function(a){a.a.debug("connectChannel_()");a.H(1,0);a.Rb=pi(a,a.uc);Xi(a)},Ui=function(a){a.Ka&&(a.Ka.abort(),a.Ka=null);a.V&&(a.V.cancel(),a.V=null);a.Ba&&(l.clearTimeout(a.Ba),a.Ba=null);Yi(a);a.ha&&(a.ha.cancel(),a.ha=null);a.Na&&(l.clearTimeout(a.Na),a.Na=null)};Ni.prototype.ud=function(){return 0==this.b};Ni.prototype.getState=function(){return this.b};var Xi=function(a){a.ha||a.Na||(a.Na=Ih(t(a.C,a),0),a.tb=0)};
Ni.prototype.C=function(a){this.Na=null;this.a.debug("startForwardChannel_");if(1==this.b)if(a)J(this.a.j,"Not supposed to retry the open");else{this.a.debug("open_()");this.Db=Math.floor(1E5*Math.random());a=this.Db++;var b=new lh(this,this.a,"",a,void 0);b.Wa=this.bb;var c=Zi(this),d=this.Rb.clone();T(d,"RID",a);this.L&&T(d,"CVER",this.L);Vi(this,d);rh(b,d,c);this.ha=b;this.b=2}else 3==this.b&&(a?$i(this,a):0==this.c.length?this.a.debug("startForwardChannel_ returned: nothing to send"):this.ha?
J(this.a.j,"startForwardChannel_ returned: connection already in progress"):($i(this),this.a.debug("startForwardChannel_ finished, sent request")))};
var $i=function(a,b){if(b)if(6<a.Sa){a.c=a.g.concat(a.c);a.g.length=0;var c=a.Db-1;b=Zi(a)}else c=b.c,b=b.ib;else c=a.Db++,b=Zi(a);var d=a.Rb.clone();T(d,"SID",a.h);T(d,"RID",c);T(d,"AID",a.ac);Vi(a,d);c=new lh(a,a.a,a.h,c,a.tb+1);c.Wa=a.bb;c.setTimeout(Math.round(1E4)+Math.round(1E4*Math.random()));a.ha=c;rh(c,d,b)},Vi=function(a,b){a.ca&&(a=a.ca.rd(a))&&ub(a,function(a,d){T(b,d,a)})},Zi=function(a){var b=Math.min(a.c.length,1E3),c=["count="+b];if(6<a.Sa&&0<b){var d=a.c[0].a;c.push("ofs="+d)}else d=
0;for(var e=0;e<b;e++){var f=a.c[e].a,g=a.c[e].b;f=6>=a.Sa?e:f-d;try{ub(g,function(a,b){c.push("req"+f+"_"+b+"="+encodeURIComponent(a))})}catch(k){c.push("req"+f+"_type="+encodeURIComponent("_badmap"))}}a.g=a.g.concat(a.c.splice(0,b));return c.join("&")},aj=function(a){a.V||a.Ba||(a.v=1,a.Ba=Ih(t(a.A,a),0),a.$a=0)},cj=function(a){if(a.V||a.Ba)return J(a.a.j,"Request already in progress"),!1;if(3<=a.$a)return!1;a.a.debug("Going to retry GET");a.v++;a.Ba=Ih(t(a.A,a),bj(a,a.$a));a.$a++;return!0};
Ni.prototype.A=function(){this.Ba=null;this.a.debug("Creating new HttpRequest");this.V=new lh(this,this.a,this.h,"rpc",this.v);this.V.Wa=this.bb;this.V.xc=0;var a=this.ed.clone();T(a,"RID","rpc");T(a,"SID",this.h);T(a,"CI",this.Pc?"0":"1");T(a,"AID",this.ac);Vi(this,a);if(!Qb||ic(10))T(a,"TYPE","xmlhttp"),sh(this.V,a,!0,this.Vb,!1);else{T(a,"TYPE","html");var b=this.V,c=!!this.Vb;b.kb=3;b.Oa=ph(a.clone());Hh(b,c)}this.a.debug("New Request created")};
var ui=function(a,b,c){a.a.debug("Test Connection Finished");a.Pc=c;a.Ca=b.Va;a.o||Ti(a)},wi=function(a,b){a.a.debug("Test Connection Failed");a.Ca=b.Va;ti(a,2)};
Ni.prototype.dc=function(a,b){if(0!=this.b&&(this.V==a||this.ha==a))if(this.Ca=a.zb,this.ha==a&&3==this.b)if(7<this.Sa){try{var c=this.l.parse(b)}catch(d){c=null}if(fa(c)&&3==c.length)if(b=c,0==b[0])a:if(this.a.debug("Server claims our backchannel is missing."),this.Ba)this.a.debug("But we are currently starting the request.");else{if(this.V)if(this.V.Gb+3E3<this.ha.Gb)Yi(this),this.V.cancel(),this.V=null;else break a;else this.a.ya("We do not have a BackChannel established");cj(this);Dh()}else this.Bd=
b[1],a=this.Bd-this.ac,0<a&&(b=b[2],this.a.debug(b+" bytes (in "+a+" arrays) are outstanding on the BackChannel"),37500>b&&this.Pc&&0==this.$a&&!this.Ta&&(this.Ta=Ih(t(this.M,this),6E3)));else this.a.debug("Bad POST response data returned"),ti(this,11)}else"y2f%"!=b&&(this.a.debug("Bad data returned - missing/invald magic cookie"),ti(this,11));else if(this.V==a&&Yi(this),!wa(b))for(a=c=this.l.parse(b),b=0;b<a.length;b++)c=a[b],this.ac=c[0],c=c[1],2==this.b?"c"==c[0]?(this.h=c[1],this.Vb=c[2],c=c[3],
null!=c?this.Sa=c:this.Sa=6,this.b=3,this.ca&&this.ca.hd(this),this.ed=vi(this,this.Vb,this.uc),aj(this)):"stop"==c[0]&&ti(this,7):3==this.b&&("stop"==c[0]?ti(this,7):"noop"!=c[0]&&this.ca&&this.ca.gd(this,c),this.$a=0)};Ni.prototype.M=function(){null!=this.Ta&&(this.Ta=null,this.V.cancel(),this.V=null,cj(this),Dh())};var Yi=function(a){null!=a.Ta&&(l.clearTimeout(a.Ta),a.Ta=null)};
Ni.prototype.cc=function(a){this.a.debug("Request complete");if(this.V==a){Yi(this);this.V=null;var b=2}else if(this.ha==a)this.ha=null,b=1;else return;this.Ca=a.zb;if(0!=this.b)if(a.oa)1==b?(u(),Q(Pi,new Ri(Pi)),Xi(this),this.g.length=0):aj(this);else{var c=a.Pa;if(3==c||7==c||0==c&&0<this.Ca)this.a.debug("Not retrying due to error type");else{this.a.debug("Maybe retrying, last error: "+mh(c,this.Ca));var d;if(d=1==b)this.ha||this.Na?(J(this.a.j,"Request already in progress"),d=!1):1==this.b||2<=
this.tb?d=!1:(this.a.debug("Going to retry POST"),this.Na=Ih(t(this.C,this,a),bj(this,this.tb)),this.tb++,d=!0);if(d||2==b&&cj(this))return;this.a.debug("Exceeded max number of retries")}this.a.debug("Error: HTTP request failed");switch(c){case 1:ti(this,5);break;case 4:ti(this,10);break;case 3:ti(this,6);break;case 7:ti(this,12);break;default:ti(this,2)}}};var bj=function(a,b){var c=5E3+Math.floor(1E4*Math.random());a.ca||(a.a.debug("Inactive channel"),c*=2);return c*b};
Ni.prototype.H=function(a){if(!(0<=Va(arguments,this.b)))throw Error("Unexpected channel state: "+this.b);};var ti=function(a,b){a.a.info("Error code "+b);if(2==b||9==b){var c=null;a.ca&&(c=null);var d=t(a.O,a);c||(c=new Ph("http://www.google.com/images/cleardot.gif"),ph(c));li(c.toString(),1E4,d)}else Dh();dj(a,b)};Ni.prototype.O=function(a){a?(this.a.info("Successfully pinged google.com"),Dh()):(this.a.info("Failed to ping google.com"),Dh(),dj(this,8))};
var dj=function(a,b){a.a.debug("HttpChannel: error - "+b);a.b=0;a.ca&&a.ca.pc(a,b);Wi(a);Ui(a)},Wi=function(a){a.b=0;a.Ca=-1;if(a.ca)if(0==a.g.length&&0==a.c.length)a.ca.oc(a);else{a.a.debug("Number of undelivered maps, pending: "+a.g.length+", outgoing: "+a.c.length);var b=ib(a.g),c=ib(a.c);a.g.length=0;a.c.length=0;a.ca.oc(a,b,c)}},pi=function(a,b){b=si(a,null,b);a.a.debug("GetForwardChannelUri: "+b);return b},vi=function(a,b,c){b=si(a,a.hc()?b:null,c);a.a.debug("GetBackChannelUri: "+b);return b},
si=function(a,b,c){var d=fi(c);if(""!=d.a)b&&Rh(d,b+"."+d.a),Sh(d,d.v);else{var e=window.location;d=gi(e.protocol,b?b+"."+e.hostname:e.hostname,e.port,c)}a.sb&&ub(a.sb,function(a,b){T(d,b,a)});T(d,"VER",a.Sa);Vi(a,d);return d};Ni.prototype.qc=function(a){if(a&&!this.ic)throw Error("Can't create secondary domain capable XhrIo object.");a=new xi;a.o=this.ic;return a};var Ih=function(a,b){if(!ia(a))throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},b)};
Ni.prototype.wa=function(){Q(Pi,new Si(Pi))};var Dh=function(){Q(Pi,new Qi(Pi))};Ni.prototype.hc=function(){return this.ic||!(!Qb||ic(10))};new bh;var ej=function(){};h=ej.prototype;h.hd=function(){};h.gd=function(){};h.pc=function(){};h.oc=function(){};h.rd=function(){return{}};
var fj=function(a,b,c){this.G=!1;this.C=a;this.b=c;this.o=b;this.c=this.l=0;this.j=new Qd("BrowserChannelImpl");this.D=new cg;this.D.listen(Pi,"statevent",t(this.ff,this));this.A=new qd(Math.random,Oc(c,11),Oc(c,12));this.I=new qd(Math.random,6E4,30);rd(this.I);this.H=new qd(Math.random,250,7200);rd(this.H);this.g=new Sc;this.M=new pd;this.v=-1;this.h=0;this.L=null};w(fj,ej);var gj=function(a,b){this.a=a;this.g=b;this.b=0;this.j=new Qd("bc-watchdog")};
gj.prototype.c=function(){this.b++;var a=this.a.getState();switch(a){case 1:case 2:if(3==this.b){this.g(this.a);return}break;case 3:if(5==this.b){this.g(this.a);return}break;case 0:return}Wg(this.c,2E4,this);F(this.j,"Channel "+this.a.R()+" checked "+this.b+" times since last activity, state: "+a)};var hj=function(a,b,c){Ni.call(this,a);this.G=c;a=this.D=new gj(this,b);Wg(a.c,2E4,a)};w(hj,Ni);hj.prototype.R=function(){return this.G};
hj.prototype.dc=function(a,b){var c=this.D;3==c.a.getState()&&(c.b=0);hj.J.dc.call(this,a,b)};var ij=function(a,b){b!=a.l&&(a.l=b,a.c++);return a.c};fj.prototype.start=function(){ij(this,1);this.open(this.A)};fj.prototype.open=function(a){if(1!=this.l)F(this.j,"Not opening since not closed (state = %s)",this.l);else{ij(this,2);a=rd(a)+Oc(this.b,3);B(this.b,3,0);var b=this.c;Wg(function(){jj(this,b)},a,this)}};
fj.prototype.K=function(a){switch(a.getState()){case 1:case 2:a.disconnect();E(this.j,"Channel %s connection attempt timed out",a.R());break;case 3:a.disconnect();E(this.j,"Channel %s got stuck after becoming open",a.R());break;default:td(this.j,"Channel stuck in CLOSED state: should never happen")}};
var jj=function(a,b){if(a.c!=b)F(a.j,"Not opening since state has changed (%s vs. %s)",b,a.c);else{var c=ij(a,3);a.a=new hj("5",t(a.K,a),c);a.a.ca=a;b={};5==A(a.g,2)?a.a.ic=!0:(b=od(a.g,b),a.a.bb=b);2==a.h?(F(a.j,"Skipping connect because waiting for auth change."),a.pc(a.a,2),a.a.disconnect()):(a.h=0,A(a.b,9)?kj(A(a.b,9),t(function(a){this.c!=c?F(this.j,"Not opening since state has changed (%s vs. %s)",c,this.c):(a&&(this.L=a),lj(this))},a)):lj(a))}},lj=function(a){var b=a.C+"/cbp",c=a.C+"/bind",
d={};mj(a,d);a.a.connect(b,c,d)},mj=function(a,b){z(a.g,4)&&(b.authuser=A(a.g,4));4==A(a.g,2)&&(b.app_auth=A(a.g,3));b.ctype=A(a.b,2);z(a.b,4)&&(b.service=A(a.b,4));z(a.b,6)&&(b.prop=A(a.b,6));z(a.b,7)&&(b.appver=A(a.b,7));a.L&&(b.gsessionid=a.L);z(a.b,10)&&(b.pageId=A(a.b,10));A(a.b,13)&&(b.sw=!0)};h=fj.prototype;h.rd=function(){var a={};mj(this,a);return a};h.close=function(){ij(this,1);null!=this.a&&this.a.disconnect()};
h.hd=function(a){if(a!=this.a)E(this.j,"channelOpened() called for unknown BC");else{ij(this,4);this.I.reset();rd(this.I);var b=this.c;Wg(function(){this.c!=b?F(this.j,"Not resetting delay generator because state changed (%d vs. %d)",b,this.c):this.A.reset()},Oc(this.b,14),this);nj(this.o,new oj)}};
h.gd=function(a,b){if(a!=this.a)E(this.j,"channelHandleArray() called for unknown BC");else{for(a=0;a<b.length;a++){var c=b[a],d=c.gsid;if(d)this.L=d,b.splice(a,1);else if(c=c.osc)400<=c&&499>=c?(this.v=c,pj(this.o,new Dc(2,c)),null!=this.a&&this.a.disconnect()):E(this.j,"Ignoring non-4xx out-of-band status code: %s",c),b.splice(a,1)}if(0<b.length)for(a=this.o,c=0;c<b.length;c++){d=b[c];var e=d.p;if(e){d=a;var f=e,g=qj.getDescriptor();d=rf(g,f,d.j);if(null==d)td(a.j,"Cannot deserialize s2c message: %s",
e);else if(ud(a.j,"Received server message: %s",d),rj(a.C,d)){e=A(d,1);a.v=Math.max(a.v,A(e,4));if(z(d,3))if(e=a,f=A(d,3),g=A(A(f,1),1),1==g){e.g=!0;var k=e.I.S();for(g=0;g<k.length;++g)e.o(k[g]);for(g=0;g<e.c.length;++g)e.o(e.c[g]);k=e.h.S();for(g=0;g<k.length;++g)e.o(k[g]);g={};z(f,2)&&(g.Th=A(f,2));e.l.Ic(e,g)}else 4==g?(F(e.j,"Received CLOSING status from server"),e.g=!1):5==g?(f=u(),f>e.D?(e.D=f+Math.ceil(18E5*Math.random()),F(e.j,"Reloading channel"),e.close(),f=e,f.g=!1,f.l.bc(f),e.b=null,
e.open()):F(e.j,"Not reloading channel since last reload was too recent")):E(e.j,"Received non-SUCCESS status %s from server",g);if(z(d,4))if(f=A(d,4),e=a,g=A(f,1),k=A(g,2),null==k)E(e.j,"Ignoring session-ready message without a session name");else{var m=sj(e,g);if(null==m)for(var p=0;p<e.c.length;++p){var v=e.c[p],Z=A(g,1);if(v.c==Z){m=v;m.b=k;e.c.splice(p,1);Oc(f,3)?cd(e.h.b,Z)?E(e.j,"Duplicate session for the same broadcast service (%s): this is not supported and will be ignored",Z):e.h.set(Z,
m):e.I.set(m.b,m);break}}null==m?E(e.j,"Received address for unknown session: %s, %s",g,f.toString()):z(f,4)&&1!=A(A(f,4),1)?(E(e.j,"Failed to initialize session with service %s: %s",A(g,1),A(A(f,4),2)),g=m.a,g.Ed?g.Ed(0,{af:!1,description:A(A(f,4),2)||""}):F(e.j,"onSessionError() not implemented by handler")):(F(e.j,"Address %s assigned for session %s with service %s",A(f,2),A(g,2),A(g,1)),e=m.a,f=A(f,2),F(e.j,"session open"),e.o=f,tj(e,!0))}z(d,2)&&(e=A(d,2),f=A(e,1),g=sj(a,f),null==g?F(a.j,"Received message for unknown session: %s, %s",
f,d):g.a.receive(g,e.getMessage()))}else td(a.j,"Received invalid server message: %s",d)}else E(a.j,"Proto key missing from map: %s",d)}}};h.pc=function(a,b){a!=this.a?E(this.j,"channelError() called for unknown BC"):(this.v=a.Ca,pj(this.o,new Dc(b,this.v)))};
h.oc=function(a){if(a!=this.a)E(this.j,"channelClosed() called for unknown BC");else{a=this.l;ij(this,1);if(4==a||3==a){a=this.A;switch(this.v){case 401:0!=this.h||A(this.b,8)||(this.h=2);break;case 429:a=this.I;break;case 404:a=this.H}this.open(a)}this.v=-1;this.a=null;a=this.o;a.g=!1;a.l.bc(a)}};h.ff=function(){};h.W=function(){uf(this.D);this.G=!0};h.Ea=function(){return!!this.G};
var uj=function(a,b){Bi(a,function(a){var c=null;try{var e=a.target;if(e.va()){var f=qf(xh(e));c={count:parseInt(f[0],10),yd:f[1].toString()}}}catch(g){}b(c)},"GET",void 0,void 0,500)},kj=function(a,b){uj(a,function(c){c?uj(a,function(a){a?b(c.count<a.count?c.yd:a.yd):b(null)}):b(null)})};
var vj=function(a){this.a=a||{cookie:""}};h=vj.prototype;h.set=function(a,b,c,d,e,f){if(/[;=\s]/.test(a))throw Error('Invalid cookie name "'+a+'"');if(/[;\r\n]/.test(b))throw Error('Invalid cookie value "'+b+'"');n(c)||(c=-1);e=e?";domain="+e:"";d=d?";path="+d:"";f=f?";secure":"";c=0>c?"":0==c?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(u()+1E3*c)).toUTCString();this.a.cookie=a+"="+b+e+d+c+f};
h.get=function(a,b){for(var c=a+"=",d=(this.a.cookie||"").split(";"),e=0,f;e<d.length;e++){f=xa(d[e]);if(0==f.lastIndexOf(c,0))return f.substr(c.length);if(f==a)return""}return b};h.remove=function(a,b,c){var d=n(this.get(a));this.set(a,"",0,b,c);return d};h.Z=function(){return wj(this).keys};h.S=function(){return wj(this).values};h.P=function(){return this.a.cookie?(this.a.cookie||"").split(";").length:0};h.La=function(a){for(var b=wj(this).values,c=0;c<b.length;c++)if(b[c]==a)return!0;return!1};
h.clear=function(){for(var a=wj(this).keys,b=a.length-1;0<=b;b--)this.remove(a[b])};var wj=function(a){a=(a.a.cookie||"").split(";");for(var b=[],c=[],d,e,f=0;f<a.length;f++)e=xa(a[f]),d=e.indexOf("="),-1==d?(b.push(""),c.push(e)):(b.push(e.substring(0,d)),c.push(e.substring(d+1)));return{keys:b,values:c}},xj=new vj("undefined"==typeof document?null:document);xj.b=3950;
var yj=null;var zj=function(){y.call(this)};w(zj,y);var Aj=null,Bj=function(){y.call(this)};w(Bj,y);var Cj=null,Dj=function(){y.call(this)};w(Dj,y);var Ej=null,Fj=function(){y.call(this)};w(Fj,y);var Gj=null,Hj=function(){y.call(this)};w(Hj,y);var Ij=null,Jj=function(){y.call(this)};w(Jj,y);var Kj=null,oj=function(){y.call(this)};w(oj,y);var Lj=null,Mj=function(){y.call(this)};w(Mj,y);var Nj=null,Oj=function(){y.call(this)};w(Oj,y);var Pj=null,Qj=function(){y.call(this)};w(Qj,y);var Rj=null;
Qj.prototype.getMessage=function(){return A(this,2)};var Sj=function(){y.call(this)};w(Sj,y);var Tj=null,qj=function(){y.call(this)};w(qj,y);var Uj=null,Vj=function(){y.call(this)};w(Vj,y);var Wj=null,Xj=function(){y.call(this)};w(Xj,y);var Yj=null,Zj=function(){y.call(this)};w(Zj,y);var ak=null;zj.prototype.getDescriptor=function(){var a=Aj;a||(Aj=a=C(zj,{0:{name:"Version",fullName:"buzz.channel.Version"},1:{name:"major_version",w:5,type:Number},2:{name:"minor_version",w:5,type:Number}}));return a};
zj.getDescriptor=zj.prototype.getDescriptor;Bj.prototype.getDescriptor=function(){var a=Cj;a||(Cj=a=C(Bj,{0:{name:"ProtocolVersion",fullName:"buzz.channel.ProtocolVersion"},1:{name:"version",w:11,type:zj}}));return a};Bj.getDescriptor=Bj.prototype.getDescriptor;
Dj.prototype.getDescriptor=function(){var a=Ej;a||(Ej=a=C(Dj,{0:{name:"ClientVersion",fullName:"buzz.channel.ClientVersion"},1:{name:"version",w:11,type:zj},2:{name:"platform",w:9,type:String},3:{name:"language",w:9,type:String},4:{name:"application_info",w:9,type:String}}));return a};Dj.getDescriptor=Dj.prototype.getDescriptor;
Fj.prototype.getDescriptor=function(){var a=Gj;a||(Gj=a=C(Fj,{0:{name:"SessionId",fullName:"buzz.channel.SessionId"},1:{name:"service_name",w:9,type:String},2:{name:"session_name",w:9,type:String}}));return a};Fj.getDescriptor=Fj.prototype.getDescriptor;
Hj.prototype.getDescriptor=function(){var a=Ij;a||(Ij=a=C(Hj,{0:{name:"ClientToServerMessage",fullName:"buzz.channel.ClientToServerMessage"},1:{name:"header",w:11,type:Jj},2:{name:"init_endpoint_message",w:11,type:oj},3:{name:"init_session_message",w:11,type:Mj},4:{name:"client_data_message_deprecated",w:11,type:Qj},5:{name:"send_on_disconnect_message",w:11,type:Qj},6:{name:"close_session_message",w:11,type:Oj}}));return a};Hj.getDescriptor=Hj.prototype.getDescriptor;
Jj.prototype.getDescriptor=function(){var a=Kj;a||(Kj=a=C(Jj,{0:{name:"ClientHeader",fullName:"buzz.channel.ClientHeader"},1:{name:"protocol_version",w:11,type:Bj},2:{name:"client_version",w:11,type:Dj},3:{name:"client_time_ms",w:3,type:Number},4:{name:"max_known_server_time_ms",w:3,type:Number},5:{name:"message_id",w:9,type:String}}));return a};Jj.getDescriptor=Jj.prototype.getDescriptor;
oj.prototype.getDescriptor=function(){var a=Lj;a||(Lj=a=C(oj,{0:{name:"InitEndpointMessage",fullName:"buzz.channel.InitEndpointMessage"}}));return a};oj.getDescriptor=oj.prototype.getDescriptor;Mj.prototype.getDescriptor=function(){var a=Nj;a||(Nj=a=C(Mj,{0:{name:"InitSessionMessage",fullName:"buzz.channel.InitSessionMessage"},1:{name:"session_id",w:11,type:Fj}}));return a};Mj.getDescriptor=Mj.prototype.getDescriptor;
Oj.prototype.getDescriptor=function(){var a=Pj;a||(Pj=a=C(Oj,{0:{name:"CloseSessionMessage",fullName:"buzz.channel.CloseSessionMessage"},1:{name:"session_id",w:11,type:Fj}}));return a};Oj.getDescriptor=Oj.prototype.getDescriptor;Qj.prototype.getDescriptor=function(){var a=Rj;a||(Rj=a=C(Qj,{0:{name:"DataMessage",fullName:"buzz.channel.DataMessage"},1:{name:"session_id",w:11,type:Fj},2:{name:"message",w:9,type:String}}));return a};Qj.getDescriptor=Qj.prototype.getDescriptor;
Sj.prototype.getDescriptor=function(){var a=Tj;a||(Tj=a=C(Sj,{0:{name:"SessionStatusMessage",fullName:"buzz.channel.SessionStatusMessage"},1:{name:"session_id",w:11,type:Fj},2:{name:"address",w:9,type:String},3:{name:"is_broadcast_to_user",w:8,type:Boolean},4:{name:"status",w:11,type:Xj}}));return a};Sj.getDescriptor=Sj.prototype.getDescriptor;
qj.prototype.getDescriptor=function(){var a=Uj;a||(Uj=a=C(qj,{0:{name:"ServerToClientMessage",fullName:"buzz.channel.ServerToClientMessage"},1:{name:"header",w:11,type:Vj},2:{name:"server_data_message",w:11,type:Qj},3:{name:"channel_status_message",w:11,type:Zj},4:{name:"session_status_message",w:11,type:Sj}}));return a};qj.getDescriptor=qj.prototype.getDescriptor;
Vj.prototype.getDescriptor=function(){var a=Wj;a||(Wj=a=C(Vj,{0:{name:"ServerHeader",fullName:"buzz.channel.ServerHeader"},1:{name:"protocol_version",w:11,type:Bj},4:{name:"server_time_ms",w:3,type:Number},5:{name:"message_id",w:9,type:String}}));return a};Vj.getDescriptor=Vj.prototype.getDescriptor;Xj.prototype.getDescriptor=function(){var a=Yj;a||(Yj=a=C(Xj,{0:{name:"StatusP",fullName:"buzz.channel.StatusP"},1:{name:"code",w:5,type:Number},2:{name:"description",w:9,type:String}}));return a};
Xj.getDescriptor=Xj.prototype.getDescriptor;Zj.prototype.getDescriptor=function(){var a=ak;a||(ak=a=C(Zj,{0:{name:"ChannelStatusMessage",fullName:"buzz.channel.ChannelStatusMessage"},1:{name:"status",w:11,type:Xj},2:{name:"jid_resource",w:9,type:String}}));return a};Zj.getDescriptor=Zj.prototype.getDescriptor;
var bk=new Bj,ck=new zj;B(ck,1,3);B(ck,2,2);B(bk,1,ck);var dk=new zj;B(dk,1,3);B(dk,2,2);var ek=new zj;B(ek,1,3);B(ek,2,2);var fk=function(){if(Vb){var a=/Windows NT ([0-9.]+)/;return(a=a.exec(rb))?a[1]:"0"}return Ub?(a=/10[_.][0-9_.]+/,(a=a.exec(rb))?a[0].replace(/_/g,"."):"10"):Wb?(a=/Android\s+([^\);]+)(\)|;)/,(a=a.exec(rb))?a[1]:""):Xb||Yb||Zb?(a=/(?:iPhone|CPU)\s+OS\s+(\S+)/,(a=a.exec(rb))?a[1].replace(/_/g,"."):""):""}();
var gk=function(a,b){a=new Ph(a);var c=a.a;if("client-channel.google.com"==c){if(!yj){try{var d=!!l.chrome.loadTimes().wasFetchedViaSpdy}catch(e){d=!1}d?yj="0":(d=parseInt(xj.get("llbcs","-1"),10),isNaN(d)&&(d=-1),d=((d+1)%30).toString(),xj.set("llbcs",d,-1,"/",void 0,!1),yj=d)}(d=yj)&&Rh(a,d+"."+c)}this.l=a;this.b=0;this.h=b;this.a=null;(b=(b=window.gapi)?b.load:null)&&b("auth")}; gk.prototype.c=function(){var a;if(l.gapi&&l.gapi.auth&&(a=l.gapi.auth.getAuthHeaderValueForFirstParty))try{var b=a([]);if(b){var c=b.split(" ");var d={scheme:c[0],hash:c[1]}}else d=null;return d}catch(e){}return null};
var hk=function(a){if(!a)return"";a=a.split("#")[0].split("?")[0];a=a.toLowerCase();0==a.indexOf("//")&&(a=window.location.protocol+a);/^[\w\-]*:\/\//.test(a)||(a=window.location.href);var b=a.substring(a.indexOf("://")+3),c=b.indexOf("/");-1!=c&&(b=b.substring(0,c));a=a.substring(0,a.indexOf("://"));if("http"!==a&&"https"!==a&&"chrome-extension"!==a&&"file"!==a&&"android-app"!==a&&"chrome-search"!==a)throw Error("Invalid URI scheme in origin");c="";var d=b.indexOf(":");if(-1!=d){var e=b.substring(d+ 1);b=b.substring(0,d);if("http"===a&&"80"!==e||"https"===a&&"443"!==e)c=":"+e}return a+"://"+b+c};
var ik=function(){function a(){e[0]=1732584193;e[1]=4023233417;e[2]=2562383102;e[3]=271733878;e[4]=3285377520;v=p=0}function b(a){for(var b=g,c=0;64>c;c+=4)b[c/4]=a[c]<<24|a[c+1]<<16|a[c+2]<<8|a[c+3];for(c=16;80>c;c++)a=b[c-3]^b[c-8]^b[c-14]^b[c-16],b[c]=(a<<1|a>>>31)&4294967295;a=e[0];var d=e[1],f=e[2],k=e[3],m=e[4];for(c=0;80>c;c++){if(40>c)if(20>c){var p=k^d&(f^k);var v=1518500249}else p=d^f^k,v=1859775393;else 60>c?(p=d&f|k&(d|f),v=2400959708):(p=d^f^k,v=3395469782);p=((a<<5|a>>>27)&4294967295)+
p+m+v+b[c]&4294967295;m=k;k=f;f=(d<<30|d>>>2)&4294967295;d=a;a=p}e[0]=e[0]+a&4294967295;e[1]=e[1]+d&4294967295;e[2]=e[2]+f&4294967295;e[3]=e[3]+k&4294967295;e[4]=e[4]+m&4294967295}function c(a,c){if("string"===typeof a){a=unescape(encodeURIComponent(a));for(var d=[],e=0,g=a.length;e<g;++e)d.push(a.charCodeAt(e));a=d}c||(c=a.length);d=0;if(0==p)for(;d+64<c;)b(a.slice(d,d+64)),d+=64,v+=64;for(;d<c;)if(f[p++]=a[d++],v++,64==p)for(p=0,b(f);d+64<c;)b(a.slice(d,d+64)),d+=64,v+=64}function d(){var a=[],
d=8*v;56>p?c(k,56-p):c(k,64-(p-56));for(var g=63;56<=g;g--)f[g]=d&255,d>>>=8;b(f);for(g=d=0;5>g;g++)for(var m=24;0<=m;m-=8)a[d++]=e[g]>>m&255;return a}for(var e=[],f=[],g=[],k=[128],m=1;64>m;++m)k[m]=0;var p,v;a();return{reset:a,update:c,digest:d,le:function(){for(var a=d(),b="",c=0;c<a.length;c++)b+="0123456789ABCDEF".charAt(Math.floor(a[c]/16))+"0123456789ABCDEF".charAt(a[c]%16);return b}}};
var kk=function(a,b,c){var d=[],e=[];if(1==(fa(c)?2:1))return e=[b,a],Xa(d,function(a){e.push(a)}),jk(e.join(" "));var f=[],g=[];Xa(c,function(a){g.push(a.key);f.push(a.value)});c=Math.floor((new Date).getTime()/1E3);e=0==f.length?[c,b,a]:[f.join(":"),c,b,a];Xa(d,function(a){e.push(a)});a=jk(e.join(" "));a=[c,a];0==g.length||a.push(g.join(""));return a.join("_")},jk=function(a){var b=ik();b.update(a);return b.le().toLowerCase()};
var lk=function(a,b){gk.call(this,a,b)};w(lk,gk);lk.prototype.g=Wc;
lk.prototype.c=function(a){if(!(a=lk.J.c.call(this,a))){b:{a=[];var b=hk(String(l.location.href)),c=l.__OVERRIDE_SID;null==c&&(c=(new vj(document)).get("SID"));if(c&&(b=(c=0==b.indexOf("https:")||0==b.indexOf("chrome-extension:"))?l.__SAPISID:l.__APISID,null==b&&(b=(new vj(document)).get(c?"SAPISID":"APISID")),b)){c=c?"SAPISIDHASH":"APISIDHASH";var d=String(l.location.href);a=d&&b&&c?[c,kk(hk(d),b,a||null)].join(" "):null;break b}a=null}a?(a=a.split(" "),a={scheme:a[0],hash:a[1]}):a=null}return a};
var mk=function(a,b,c){O.call(this);this.a=a;this.g=b||0;this.b=c;this.c=t(this.Re,this)};w(mk,O);h=mk.prototype;h.ab=0;h.F=function(){mk.J.F.call(this);this.stop();delete this.a;delete this.b};h.start=function(a){this.stop();this.ab=Wg(this.c,n(a)?a:this.g)};h.stop=function(){0!=this.ab&&Xg(this.ab);this.ab=0};h.Re=function(){this.ab=0;this.a&&this.a.call(this.b)};
var nk=function(){O.call(this);this.o={}};w(nk,O);h=nk.prototype;h.td=H("goog.messaging.AbstractChannel");h.connect=function(a){a&&a()};h.ia=function(){return!0};h.registerService=function(a,b,c){this.o[a]={ga:b,Dd:!!c}};h.getService=function(a,b){var c=this.o[a];if(c)return c;if(this.A)return{ga:ra(this.A,a),Dd:ja(b)};K(this.td,'Unknown service name "'+a+'"');return null};h.F=function(){nk.J.F.call(this);delete this.o;delete this.A};
var ok={1:"NativeMessagingTransport",2:"FrameElementMethodTransport",3:"IframeRelayTransport",4:"IframePollingTransport",5:"FlashTransport",6:"NixTransport",7:"DirectTransport"},pk=["pu","lru","pru","lpu","ppu"],qk={},sk=function(a){for(var b=rk,c=b.length,d="";0<a--;)d+=b.charAt(Math.floor(Math.random()*c));return d},rk="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",U=H("goog.net.xpc");
var tk=function(a){O.call(this);this.T=a||ye()};w(tk,O);tk.prototype.Za=0;var uk=function(a){return Ce(a.T.a)};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
var vk=function(a,b){this.l=[];this.D=a;this.A=b||null;this.g=this.a=!1;this.c=void 0;this.I=this.G=this.v=!1;this.o=0;this.b=null;this.h=0};vk.prototype.cancel=function(a){if(this.a)this.c instanceof vk&&this.c.cancel();else{if(this.b){var b=this.b;delete this.b;a?b.cancel(a):(b.h--,0>=b.h&&b.cancel())}this.D?this.D.call(this.A,this):this.I=!0;this.a||this.C(new wk)}};vk.prototype.L=function(a,b){this.v=!1;xk(this,a,b)};
var xk=function(a,b,c){a.a=!0;a.c=c;a.g=!b;yk(a)},Ak=function(a){if(a.a){if(!a.I)throw new zk;a.I=!1}};vk.prototype.ga=function(a){Ak(this);xk(this,!0,a)};vk.prototype.C=function(a){Ak(this);xk(this,!1,a)};var Ck=function(a,b,c){Bk(a,b,null,c)},Bk=function(a,b,c,d){a.l.push([b,c,d]);a.a&&yk(a)};vk.prototype.then=function(a,b,c){var d,e,f=new R(function(a,b){d=a;e=b});Bk(this,d,function(a){a instanceof wk?f.cancel():e(a)});return f.then(a,b,c)};vg(vk);
var Dk=function(a,b){b instanceof vk?Ck(a,t(b.H,b)):Ck(a,function(){return b})};vk.prototype.H=function(a){var b=new vk;Bk(this,b.ga,b.C,b);a&&(b.b=this,this.h++);return b};vk.prototype.isError=function(a){return a instanceof Error};
var Ek=function(a){return $a(a.l,function(a){return ia(a[1])})},yk=function(a){if(a.o&&a.a&&Ek(a)){var b=a.o,c=Fk[b];c&&(l.clearTimeout(c.a),delete Fk[b]);a.o=0}a.b&&(a.b.h--,delete a.b);b=a.c;for(var d=c=!1;a.l.length&&!a.v;){var e=a.l.shift(),f=e[0],g=e[1];e=e[2];if(f=a.g?g:f)try{var k=f.call(e||a.A,b);n(k)&&(a.g=a.g&&(k==b||a.isError(k)),a.c=b=k);if(wg(b)||"function"===typeof l.Promise&&b instanceof l.Promise)d=!0,a.v=!0}catch(m){b=m,a.g=!0,Ek(a)||(c=!0)}}a.c=b;d&&(k=t(a.L,a,!0),d=t(a.L,a,!1),
b instanceof vk?(Bk(b,k,d),b.G=!0):b.then(k,d));c&&(b=new Gk(b),Fk[b.a]=b,a.o=b.a)},zk=function(){ta.call(this)};w(zk,ta);zk.prototype.message="Deferred has already fired";zk.prototype.name="AlreadyCalledError";var wk=function(){ta.call(this)};w(wk,ta);wk.prototype.message="Deferred was canceled";wk.prototype.name="CanceledError";var Gk=function(a){this.a=l.setTimeout(t(this.c,this),0);this.b=a};Gk.prototype.c=function(){delete Fk[this.a];throw this.b;};var Fk={};
var Jk=function(a,b){tk.call(this,b);this.a=a;this.A=new cg(this);tf(this,ra(uf,this.A));this.l=new Vg(100,uk(this));tf(this,ra(uf,this.l));this.g=new vk;this.h=new vk;this.b=new vk;this.v=sk(10);this.o=null;this.c={};this.D=this.a.name;Hk(this.a,this.a.name+"_"+Ik(this.a));this.C=!1;Dk(this.b,this.g);Dk(this.b,this.h);Ck(this.b,this.Te,this);this.b.ga(!0);this.A.listen(this.l,"tick",this.wd);L(U,"DirectTransport created. role="+Ik(this.a))};w(Jk,tk);
var Kk={},Nk=function(a){var b=new Lk(a.channelName,a.service,a.payload);a=b.a;var c=b.service;b=b.payload;M(U,"messageReceived: channel="+a+", service="+c+", payload="+b);var d=qk[a];if(d)return d.b(c,b),!0;d=Mk(b)[0];for(var e in qk){var f=qk[e];if(1==Ik(f)&&!f.ia()&&"tp"==c&&"SETUP"==d)return Hk(f,a),f.b(c,b),!0}L(U,"channel name mismatch; message ignored.");return!1};h=Jk.prototype;h.Za=7;
h.jc=function(a){a=Mk(a);var b=a[1];switch(a[0]){case "SETUP_ACK":this.g.a||this.g.ga(!0);break;case "SETUP":this.send("tp","SETUP_ACK"),this.h.a||this.h.ga(!0),null!=this.o&&this.o!=b&&(L(U,"Sending SETUP and changing peer ID to: "+b),this.send("tp","SETUP,"+this.v)),this.o=b}};h.connect=function(){var a=uk(this);if(a){var b=ma(a);0==(Kk[b]||0)&&null==ca("crosswindowmessaging.channel",a)&&sa(Nk,a);Kk[b]++;this.C=!0;this.wd()}else M(U,"connect(): no window to initialize.")};
h.wd=function(){this.a.ia()?this.l.stop():(this.l.start(),this.send("tp","SETUP,"+this.v))};h.send=function(a,b){this.a.ka?(a=new Lk(this.D+"_"+(0==Ik(this.a)?1:0),a,b),this.a.a.directSyncMode?this.od(a):this.c[ma(a)]=Wg(t(this.od,this,a),0)):M(U,"send(): window not ready")};
h.od=function(a){var b=ma(a);this.c[b]&&delete this.c[b];try{var c=ca("crosswindowmessaging.channel",this.a.ka)}catch(d){K(U,"Can't access other window, ignoring.",d);return}if(null===c)K(U,"Peer window had no global function.");else try{c({channelName:a.a,service:a.service,payload:a.payload}),L(U,"send(): channelName="+a.a+" service="+a.service+" payload="+a.payload)}catch(d){K(U,"Error performing call, ignoring.",d)}};h.Te=function(){Ok(this.a,0)};
h.F=function(){if(this.C){var a=uk(this),b=ma(a);1==--Kk[b]&&sa(null,a)}this.c&&(ub(this.c,function(a){Xg(a)}),this.c=null);this.g&&(this.g.cancel(),delete this.g);this.h&&(this.h.cancel(),delete this.h);this.b&&(this.b.cancel(),delete this.b);Jk.J.F.call(this)};var Mk=function(a){a=a.split(",");a[1]=a[1]||null;return a},Lk=function(a,b,c){this.a=a;this.service=b;this.payload=c};
var Pk=function(a,b){tk.call(this,b);this.b=a;this.c=[];this.l=t(this.ke,this)};w(Pk,tk);h=Pk.prototype;h.Za=2;h.Kc=!1;h.connect=function(){0==Ik(this.b)?(this.a=this.b.fb,this.a.XPC_toOuter=t(this.zd,this)):this.dd()};
h.dd=function(){var a=!0;try{this.a||(this.a=uk(this).frameElement),this.a&&this.a.XPC_toOuter&&(this.g=this.a.XPC_toOuter,this.a.XPC_toOuter.XPC_toInner=t(this.zd,this),a=!1,this.send("tp","SETUP_ACK"),Ok(this.b))}catch(b){J(U,"exception caught while attempting setup: "+b)}a&&(this.h||(this.h=t(this.dd,this)),uk(this).setTimeout(this.h,100))};h.jc=function(a){if(0!=Ik(this.b)||this.b.ia()||"SETUP_ACK"!=a)throw Error("Got unexpected transport message.");this.g=this.a.XPC_toOuter.XPC_toInner;Ok(this.b)};
h.zd=function(a,b){this.Kc||0!=this.c.length?(this.c.push({serviceName:a,payload:b}),1==this.c.length&&uk(this).setTimeout(this.l,1)):this.b.b(a,b)};h.ke=function(){for(;this.c.length;){var a=this.c.shift();this.b.b(a.serviceName,a.payload)}};h.send=function(a,b){this.Kc=!0;this.g(a,b);this.Kc=!1};h.F=function(){Pk.J.F.call(this);this.a=this.g=null};
var Qk=function(a,b){tk.call(this,b);this.a=a;this.C=this.a.a.ppu;this.$=this.a.a.lpu;this.l=[]},Rk,Sk;w(Qk,tk);h=Qk.prototype;h.rf=5;h.Za=4;h.Xb=0;h.mb=!1;h.Wb=!1;h.Hd=null;var Tk=function(a){return"googlexpc_"+a.a.name+"_msg"},Uk=function(a){return"googlexpc_"+a.a.name+"_ack"},Wk=function(a){try{if(!a.Ea()&&Vk(a.a))return a.a.ka.frames||{}}catch(b){M(U,"error retrieving peer frames")}return{}},Xk=function(a,b){return Wk(a)[b]};
Qk.prototype.connect=function(){if(!this.Ea()&&Vk(this.a)){M(U,"transport connect called");if(!this.Wb){M(U,"initializing...");var a=Tk(this);this.g=Yk(this,a);this.v=uk(this).frames[a];a=Uk(this);this.b=Yk(this,a);this.o=uk(this).frames[a];this.Wb=!0}if(Zk(this,Tk(this))&&Zk(this,Uk(this)))M(U,"foreign frames present"),this.M=new $k(this,Xk(this,Tk(this)),t(this.Y,this)),this.G=new $k(this,Xk(this,Uk(this)),t(this.aa,this)),this.K();else{I(U,G,"foreign frames not (yet) present");if(1==Ik(this.a))this.Hd||
0<this.rf--||(I(U,G,"Inner peer reconnect triggered."),Hk(this.a,sk(10)),I(U,G,"switching channels: "+this.a.name),al(this),this.Wb=!1,this.Hd=Yk(this,"googlexpc_reconnect_"+this.a.name));else if(0==Ik(this.a)){I(U,G,"outerPeerReconnect called");a=Wk(this);for(var b=a.length,c=0;c<b;c++){try{if(a[c]&&a[c].name)var d=a[c].name}catch(f){}if(d){var e=d.split("_");if(3==e.length&&"googlexpc"==e[0]&&"reconnect"==e[1]){this.a.name=e[2];al(this);this.Wb=!1;break}}}}uk(this).setTimeout(t(this.connect,this),
100)}}};
var Yk=function(a,b){I(U,G,"constructing sender frame: "+b);var c=document.createElement("IFRAME"),d=c.style;d.position="absolute";d.top="-10px";d.left="10px";d.width="1px";d.height="1px";c.id=c.name=b;c.src=a.C+"#INITIAL";uk(a).document.body.appendChild(c);return c},al=function(a){I(U,G,"deconstructSenderFrames called");a.g&&(a.g.parentNode.removeChild(a.g),a.g=null,a.v=null);a.b&&(a.b.parentNode.removeChild(a.b),a.b=null,a.o=null)},Zk=function(a,b){I(U,G,"checking for receive frame: "+b);try{var c=
Xk(a,b);if(!c||0!=c.location.href.indexOf(a.$))return!1}catch(d){return!1}return!0};Qk.prototype.K=function(){var a=Wk(this);a[Uk(this)]&&a[Tk(this)]?(this.N=new bl(this.C,this.v),this.h=new bl(this.C,this.o),M(U,"local frames ready"),uk(this).setTimeout(t(function(){this.N.send("SETUP");this.mb=!0;M(U,"SETUP sent")},this),100)):(this.H||(this.H=t(this.K,this)),uk(this).setTimeout(this.H,100),M(U,"local frames not (yet) present"))};
var cl=function(a){if(a.D&&a.O){if(Ok(a.a),a.c){M(U,"delivering queued messages ("+a.c.length+")");for(var b=0,c;b<a.c.length;b++)c=a.c[b],a.a.b(c.service,c.payload);delete a.c}}else I(U,G,"checking if connected: ack sent:"+a.D+", ack rcvd: "+a.O)};
Qk.prototype.Y=function(a){I(U,G,"msg received: "+a);if("SETUP"==a)this.h&&(this.h.send("SETUP_ACK"),I(U,G,"SETUP_ACK sent"),this.D=!0,cl(this));else if(this.a.ia()||this.D){var b=a.indexOf("|"),c=a.substring(0,b);a=a.substring(b+1);b=c.indexOf(",");if(-1==b)this.h.send("ACK:"+c),dl(this,a);else{var d=c.substring(0,b);this.h.send("ACK:"+d);c=c.substring(b+1).split("/");b=parseInt(c[0],10);c=parseInt(c[1],10);1==b&&(this.A=[]);this.A.push(a);b==c&&(dl(this,this.A.join("")),delete this.A)}}else K(U,
"received msg, but channel is not connected")};Qk.prototype.aa=function(a){I(U,G,"ack received: "+a);"SETUP_ACK"==a?(this.mb=!1,this.O=!0,cl(this)):this.a.ia()?this.mb?parseInt(a.split(":")[1],10)==this.Xb?(this.mb=!1,el(this)):K(U,"got ack with wrong sequence"):K(U,"got unexpected ack"):K(U,"received ack, but channel not connected")};
var el=function(a){if(!a.mb&&a.l.length){var b=a.l.shift();++a.Xb;a.N.send(a.Xb+b);I(U,G,"msg sent: "+a.Xb+b);a.mb=!0}},dl=function(a,b){var c=b.indexOf(":"),d=b.substr(0,c);b=b.substring(c+1);a.a.ia()?a.a.b(d,b):((a.c||(a.c=[])).push({service:d,payload:b}),I(U,G,"queued delivery"))};Qk.prototype.send=function(a,b){a=a+":"+b;if(!Qb||3800>=b.length)this.l.push("|"+a);else{b=b.length;for(var c=Math.ceil(b/3800),d=0,e=1;d<b;)this.l.push(","+e+"/"+c+"|"+a.substr(d,3800)),e++,d+=3800}el(this)};
Qk.prototype.F=function(){Qk.J.F.call(this);var a=fl;gb(a,this.M);gb(a,this.G);this.M=this.G=null;Ge(this.g);Ge(this.b);this.v=this.o=this.g=this.b=null};
var fl=[],gl=t(function(){var a=fl,b,c=!1;try{for(var d=0;b=a[d];d++)c=c||b.receive()}catch(e){if(L(U,"receive_() failed: "+e),b=b.g.a,L(U,"Transport Error"),b.close(),!a.length)return}a=u();c&&(Rk=a);Sk=window.setTimeout(gl,1E3>a-Rk?10:100)},Qk),hl=function(){M(U,"starting receive-timer");Rk=u();Sk&&window.clearTimeout(Sk);Sk=window.setTimeout(gl,10)},bl=function(a,b){if(!/^https?:\/\//.test(a))throw Error("URL "+a+" is invalid");this.c=a;this.b=b;this.a=0};
bl.prototype.send=function(a){this.a=++this.a%2;a=this.c+"#"+this.a+encodeURIComponent(a);try{if(Tb){var b=this.b.location;if(a instanceof ce)var c=a;else a instanceof ce?c=a:(a=a.Da?a.ta():String(a),ee.test(a)||(a="about:invalid#zClosurez"),c=fe(a));b.href=de(c)}else this.b.location.replace(a)}catch(d){J(U,"sending failed",d)}hl()};var $k=function(a,b,c){this.g=a;this.b=b;this.c=c;this.a=this.b.location.href.split("#")[0]+"#INITIAL";fl.push(this);hl()}; $k.prototype.receive=function(){var a=this.b.location.href;if(a!=this.a){this.a=a;if(a=a.split("#")[1])a=a.substr(1),this.c(decodeURIComponent(a));return!0}return!1};
var jl=function(a,b){tk.call(this,b);this.a=a;this.c=this.a.a.pru;this.b=this.a.a.ifrid;Tb&&il()};w(jl,tk);if(Tb)var kl=[],ll=0,il=function(){ll||(ll=window.setTimeout(function(){ml()},1E3))},ml=function(a){var b=u();for(a=a||3E3;kl.length&&b-kl[0].timestamp>=a;){var c=kl.shift().Ye;Ge(c);I(U,G,"iframe removed")}ll=window.setTimeout(nl,1E3)},nl=function(){ml()};var ol={};jl.prototype.Za=3;jl.prototype.connect=function(){uk(this).xpcRelay||(uk(this).xpcRelay=pl);this.send("tp","SETUP")};
var pl=function(a,b){var c=b.indexOf(":"),d=b.substr(0,c);b=b.substr(c+1);if(Qb&&-1!=(c=d.indexOf("|"))){g=d.substr(0,c);d=d.substr(c+1);c=d.indexOf("+");var e=d.substr(0,c);c=parseInt(d.substr(c+1),10);var f=ol[e];f||(f=ol[e]={qd:[],Gd:0,pd:0});-1!=d.indexOf("++")&&(f.pd=c+1);f.qd[c]=b;f.Gd++;if(f.Gd!=f.pd)return;b=f.qd.join("");delete ol[e]}else var g=d;qk[a].b(g,decodeURIComponent(b))};jl.prototype.jc=function(a){"SETUP"==a?(this.send("tp","SETUP_ACK"),Ok(this.a)):"SETUP_ACK"==a&&Ok(this.a)};
jl.prototype.send=function(a,b){b=encodeURIComponent(b);var c=b.length;if(Qb&&1800<c)for(var d=Ra(),e=0,f=0;e<c;f++){var g=b.substr(e,1800);e+=1800;ql(this,a,g,d+(e>=c?"++":"+")+f)}else ql(this,a,b)};
var ql=function(a,b,c,d){if(Qb){var e=uk(a).document.createElement("DIV"),f={onload:Yd("this.xpcOnload()"),sandbox:null},g={src:null,srcdoc:null},k={sandbox:""};var m={};for(var p in g)m[p]=g[p];for(p in k)m[p]=k[p];for(p in f){var v=p.toLowerCase();if(v in g)throw Error('Cannot override "'+v+'" attribute, got "'+p+'" with value "'+f[p]+'"');v in k&&delete m[v];m[p]=f[p]}f=null;g="";if(m)for(pa in m){if(!te.test(pa))throw Error('Invalid attribute name "'+pa+'".');p=m[pa];if(null!=p){k=pa;v=p;if(v instanceof
Wd)v=Xd(v);else if("style"==k.toLowerCase()){p=void 0;if(!ja(v))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof v+" given: "+v);if(!(v instanceof ie)){var Z="";for(p in v){if(!/^[-_a-zA-Z0-9]+$/.test(p))throw Error("Name allows only [-_a-zA-Z0-9], got: "+p);var oa=v[p];null!=oa&&(oa=fa(oa)?Za(oa,pe).join(" "):pe(oa),Z+=p+":"+oa+";")}v=Z?je(Z):ke}v instanceof ie&&v.constructor===ie&&v.b===he?p=v.a:(ea(v),p="type_error:SafeStyle");v=p}else{if(/^on/i.test(k))throw Error('Attribute "'+
k+'" requires goog.string.Const value, "'+v+'" given.');if(k.toLowerCase()in ue)if(v instanceof $d)v=ae(v);else if(v instanceof ce)v=de(v);else if(q(v))v=ge(v).ta();else throw Error('Attribute "'+k+'" on tag "iframe" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+v+'" given.');}v.Da&&(v=v.ta());k=k+'="'+Ga(String(v))+'"';g+=" "+k}}var pa="<iframe"+g;g=void 0;null!=g?fa(g)||(g=[g]):g=[];!0===Ud.iframe?pa+=">":(f=we(g),pa+=">"+se(f)+"</iframe>",f=f.ub());(m=m&&m.dir)&&(/^(ltr|rtl|auto)$/i.test(m)?
f=0:f=null);m=ve(pa,f);e.innerHTML=se(m);e=e.childNodes[0];e.xpcOnload=rl}else e=uk(a).document.createElement("IFRAME"),Tb?kl.push({timestamp:u(),Ye:e}):Qf(e,"load",rl);m=e.style;m.visibility="hidden";m.width=e.style.height="0px";m.position="absolute";m=a.c;m+="#"+a.a.name;a.b&&(m+=","+a.b);m+="|"+b;d&&(m+="|"+d);m+=":"+c;e.src=m;uk(a).document.body.appendChild(e);I(U,G,"msg sent: "+m)},rl=function(){I(U,G,"iframe-load");Ge(this)};jl.prototype.F=function(){jl.J.F.call(this);Tb&&ml(0)};
var sl=function(a,b,c,d,e){tk.call(this,c);this.h=a;this.l=e||2;this.H=b||"*";this.D=new cg(this);this.o=new Vg(100,uk(this));this.C=!!d;this.c=new vk;this.g=new vk;this.b=new vk;this.K=sk(10);this.A=null;this.C?1==Ik(this.h)?Dk(this.b,this.c):Dk(this.b,this.g):(Dk(this.b,this.c),2==this.l&&Dk(this.b,this.g));Ck(this.b,this.Ue,this);this.b.ga(!0);this.D.listen(this.o,"tick",this.xd);L(U,"NativeMessagingTransport created.  protocolVersion="+this.l+", oneSidedHandshake="+this.C+", role="+Ik(this.h))};
w(sl,tk);sl.prototype.a=null;sl.prototype.G=!1;sl.prototype.Za=1;var tl={};sl.prototype.v=0;
var wl=function(a){var b=a.b.data;if(!q(b))return!1;var c=b.indexOf("|"),d=b.indexOf(":");if(-1==c||-1==d)return!1;var e=b.substring(0,c);c=b.substring(c+1,d);b=b.substring(d+1);M(U,"messageReceived: channel="+e+", service="+c+", payload="+b);if(d=qk[e])return d.b(c,b,a.b.origin),!0;d=ul(b)[0];for(var f in qk){var g=qk[f];if(1==Ik(g)&&!g.ia()&&"tp"==c&&("SETUP"==d||"SETUP_NTPV2"==d)&&vl(g,a.b.origin))return Hk(g,e),g.b(c,b),!0}L(U,'channel name mismatch; message ignored"');return!1};
sl.prototype.jc=function(a){var b=ul(a);a=b[1];switch(b[0]){case "SETUP_ACK":xl(this,1);this.c.a||this.c.ga(!0);break;case "SETUP_ACK_NTPV2":2==this.l&&(xl(this,2),this.c.a||this.c.ga(!0));break;case "SETUP":xl(this,1);yl(this,1);break;case "SETUP_NTPV2":2==this.l&&(b=this.a,xl(this,2),yl(this,2),1!=b&&null==this.A||this.A==a||(L(U,"Sending SETUP and changing peer ID to: "+a),zl(this)),this.A=a)}};
var zl=function(a){2!=a.l||null!=a.a&&2!=a.a||a.send("tp","SETUP_NTPV2,"+a.K);null!=a.a&&1!=a.a||a.send("tp","SETUP")},yl=function(a,b){if(2!=a.l||null!=a.a&&2!=a.a||2!=b){if(null!=a.a&&1!=a.a||1!=b)return;a.send("tp","SETUP_ACK")}else a.send("tp","SETUP_ACK_NTPV2");a.g.a||a.g.ga(!0)},xl=function(a,b){b>a.a&&(a.a=b);1==a.a&&(a.g.a||a.C||a.g.ga(!0),a.A=null)};h=sl.prototype;
h.connect=function(){var a=uk(this),b=ma(a),c=tl[b];ba(c)||(c=0);0==c&&Qf(a.postMessage?a:a.document,"message",wl,!1,sl);tl[b]=c+1;this.G=!0;this.xd()};h.xd=function(){var a=0==Ik(this.h);this.C&&a||this.h.ia()||this.Ea()?this.o.stop():(this.o.start(),zl(this))};
h.send=function(a,b){var c=this.h.ka;c?(this.send=function(a,b){var d=this,e=this.h.name;this.v=Wg(function(){d.v=0;try{var f=c.postMessage?c:c.document;f.postMessage?(f.postMessage(e+"|"+a+":"+b,d.H),M(U,"send(): service="+a+" payload="+b+" to hostname="+d.H)):K(U,"Peer window had no postMessage function.")}catch(m){K(U,"Error performing postMessage, ignoring.",m)}},0)},this.send(a,b)):M(U,"send(): window not ready")};h.Ue=function(){Ok(this.h,1==this.l||1==this.a?200:void 0)};
h.F=function(){if(this.G){var a=uk(this),b=ma(a),c=tl[b];tl[b]=c-1;1==c&&Xf(a.postMessage?a:a.document,"message",wl,!1,sl)}this.v&&(Xg(this.v),this.v=0);uf(this.D);delete this.D;uf(this.o);delete this.o;this.c.cancel();delete this.c;this.g.cancel();delete this.g;this.b.cancel();delete this.b;delete this.send;sl.J.F.call(this)};var ul=function(a){a=a.split(",");a[1]=a[1]||null;return a};
var Al=function(a,b){tk.call(this,b);this.a=a;this.b=a.at||"";this.c=a.rat||"";a=uk(this);if(!a.nix_setup_complete)try{a.execScript("Class GCXPC____NIXVBS_wrapper\n Private m_Transport\nPrivate m_Auth\nPublic Sub SetTransport(transport)\nIf isEmpty(m_Transport) Then\nSet m_Transport = transport\nEnd If\nEnd Sub\nPublic Sub SetAuth(auth)\nIf isEmpty(m_Auth) Then\nm_Auth = auth\nEnd If\nEnd Sub\nPublic Function GetAuthToken()\n GetAuthToken = m_Auth\nEnd Function\nPublic Sub SendMessage(service, payload)\n Call m_Transport.GCXPC____NIXJS_handle_message(service, payload)\nEnd Sub\nPublic Sub CreateChannel(channel)\n Call m_Transport.GCXPC____NIXJS_create_channel(channel)\nEnd Sub\nPublic Sub GCXPC____NIXVBS_container()\n End Sub\nEnd Class\n Function GCXPC____NIXVBS_get_wrapper(transport, auth)\nDim wrap\nSet wrap = New GCXPC____NIXVBS_wrapper\nwrap.SetTransport transport\nwrap.SetAuth auth\nSet GCXPC____NIXVBS_get_wrapper = wrap\nEnd Function",
"vbscript"),a.nix_setup_complete=!0}catch(c){J(U,"exception caught while attempting global setup: "+c)}this.GCXPC____NIXJS_handle_message=this.Ve;this.GCXPC____NIXJS_create_channel=this.ie};w(Al,tk);h=Al.prototype;h.Za=6;h.hb=!1;h.Qa=null;h.connect=function(){0==Ik(this.a)?this.cd():this.bd()};
h.cd=function(){if(!this.hb){var a=this.a.fb;try{a.contentWindow.opener=(0,uk(this).GCXPC____NIXVBS_get_wrapper)(this,this.b),this.hb=!0}catch(b){J(U,"exception caught while attempting setup: "+b)}this.hb||uk(this).setTimeout(t(this.cd,this),100)}};
h.bd=function(){if(!this.hb){try{var a=uk(this).opener;if(a&&"GCXPC____NIXVBS_container"in a){this.Qa=a;if(this.Qa.GetAuthToken()!=this.c){J(U,"Invalid auth token from other party");return}this.Qa.CreateChannel((0,uk(this).GCXPC____NIXVBS_get_wrapper)(this,this.b));this.hb=!0;Ok(this.a)}}catch(b){J(U,"exception caught while attempting setup: "+b);return}this.hb||uk(this).setTimeout(t(this.bd,this),100)}};
h.ie=function(a){"unknown"==typeof a&&"GCXPC____NIXVBS_container"in a||J(U,"Invalid NIX channel given to createChannel_");this.Qa=a;this.Qa.GetAuthToken()!=this.c?J(U,"Invalid auth token from other party"):Ok(this.a)};h.Ve=function(a,b){uk(this).setTimeout(t(function(){this.a.b(a,b)},this),1)};h.send=function(a,b){"unknown"!==typeof this.Qa&&J(U,"NIX channel not connected");this.Qa.SendMessage(a,b)};h.F=function(){Al.J.F.call(this);this.Qa=null};
var Cl=function(a,b){nk.call(this);for(var c=0,d;d=pk[c];c++)if(d in a&&!/^https?:\/\//.test(a[d]))throw Error("URI "+a[d]+" is invalid for field "+d);this.a=a;this.name=this.a.cn||sk(10);this.c=b||ye();this.g=[];this.h=new cg(this);a.lpu=a.lpu||Nh(Ce(this.c.a).location.href)+"/robots.txt";a.ppu=a.ppu||Nh(a.pu||"")+"/robots.txt";qk[this.name]=this;Zf(window,"unload",Bl)||Pf(window,"unload",Bl);L(U,"CrossPageChannel created: "+this.name)};w(Cl,nk);var Dl=/^%*tp$/,El=/^%+tp$/;h=Cl.prototype;h.Ja=null;
h.Aa=null;h.da=null;h.cb=1;h.ia=function(){return 2==this.cb};h.ka=null;h.fb=null;
var Vk=function(a){try{return!!a.ka&&!a.ka.closed}catch(b){return!1}},Hl=function(a,b){L(U,"createPeerIframe()");var c=a.a.ifrid;c||(c=a.a.ifrid="xpcpeer"+sk(4));var d=ye(b).createElement("IFRAME");d.id=d.name=c;d.style.width=d.style.height="100%";Fl(a);a.Aa=new vk(void 0,a);var e=Gl(a);eg(a.h,d,"load",a.Aa.ga,!1,a.Aa);Sb||Tb?window.setTimeout(t(function(){b.appendChild(d);d.src=e.toString();L(U,"peer iframe created ("+c+")")},a),1):(d.src=e.toString(),b.appendChild(d),L(U,"peer iframe created ("+
c+")"))},Fl=function(a){a.Aa&&(a.Aa.cancel(),a.Aa=null);a.g.length=0;a.h.removeAll()},Gl=function(a){var b=a.a.pu;q(b)&&(b=a.a.pu=new Ph(b));var c={};c.cn=a.name;c.tp=a.a.tp;c.osh=a.a.osh;a.a.lru&&(c.pru=a.a.lru);a.a.lpu&&(c.ppu=a.a.lpu);a.a.ppu&&(c.lpu=a.a.ppu);(a=a.a.role)&&(c.role=1==a?0:1);T(b,"xpc",N(c));return b};Cl.prototype.connect=function(a){this.l=a||da;3==this.cb&&(this.cb=1);this.Aa?Ck(this.Aa,this.v):this.v()};
Cl.prototype.v=function(){L(U,"continueConnection_()");this.Aa=null;this.a.ifrid&&(this.fb=ze(this.c.a,this.a.ifrid));if(this.fb){var a=this.fb.contentWindow;a||(a=window.frames[this.a.ifrid]);this.ka=a}if(!this.ka){if(window==window.top)throw Error("CrossPageChannel: Can't connect, peer window-object not set.");this.ka=window.parent}if(!this.da){if(!this.a.tp){a=this.a;if(ia(document.postMessage)||ia(window.postMessage)||Qb&&window.postMessage)var b=1;else if(Sb)b=2;else if(Qb&&this.a.pru)b=3;else{var c;
if(c=Qb){c=!1;try{b=window.opener,window.opener={},c=Nb(window,"opener"),window.opener=b}catch(d){}}b=c?6:4}a.tp=b}switch(this.a.tp){case 1:this.da=new sl(this,this.a.ph,this.c,!!this.a.osh,this.a.nativeProtocolVersion||2);break;case 6:this.da=new Al(this,this.c);break;case 2:this.da=new Pk(this,this.c);break;case 3:this.da=new jl(this,this.c);break;case 4:this.da=new Qk(this,this.c);break;case 7:if(a=this.ka)try{a=window.document.domain==this.ka.document.domain}catch(d){a=!1}a?this.da=new Jk(this,
this.c):L(U,"DirectTransport not supported for this window, peer window in different security context or not set yet.")}if(this.da)L(U,"Transport created: "+(ok[String(this.da.Za)]||""));else throw Error("CrossPageChannel: No suitable transport found!");}for(this.da.connect();0<this.g.length;)this.g.shift()()};Cl.prototype.close=function(){Fl(this);this.cb=3;uf(this.da);this.l=this.da=null;uf(this.Ja);this.Ja=null;L(U,'Channel "'+this.name+'" closed')};
var Ok=function(a,b){a.ia()||a.Ja&&0!=a.Ja.ab||(a.cb=2,L(U,'Channel "'+a.name+'" connected'),uf(a.Ja),n(b)?(a.Ja=new mk(a.l,b),a.Ja.start()):(a.Ja=null,a.l()))};Cl.prototype.send=function(a,b){this.ia()?Vk(this)?(ja(b)&&(b=N(b)),this.da.send(Il(a),b)):(J(U,"Peer has disappeared."),this.close()):J(U,"Can't send. Channel not connected.")};
Cl.prototype.b=function(a,b,c){if(this.Aa)this.g.push(t(this.b,this,a,b,c));else if(vl(this,c))if(this.Ea()||3==this.cb)K(U,"CrossPageChannel::xpcDeliver(): Channel closed.");else if(a&&"tp"!=a)if(this.ia()){if(a=a.replace(/%[0-9a-f]{2}/gi,decodeURIComponent),a=El.test(a)?a.substring(1):a,c=this.getService(a,b)){a:{var d=c.Dd;if(d&&q(b))try{var e=JSON.parse(b);break a}catch(f){K(this.td,"Expected JSON payload for "+a+', was "'+b+'"');e=null;break a}else if(!d&&!q(b)){e=N(b);break a}e=b}null!=e&&c.ga(e)}}else L(U,
"CrossPageChannel::xpcDeliver(): Not connected.");else this.da.jc(b);else K(U,'Message received from unapproved origin "'+c+'" - rejected.')};var Il=function(a){Dl.test(a)&&(a="%"+a);return a.replace(/[%:|]/g,encodeURIComponent)},Ik=function(a){var b=a.a.role;return ba(b)?b:window.parent==a.ka?1:0},Hk=function(a,b){M(U,"changing channel name to "+b);delete qk[a.name];a.name=b;qk[b]=a},vl=function(a,b){var c=a.a.ph;return wa(Qa(b))||wa(Qa(c))||b==a.a.ph}; Cl.prototype.F=function(){this.close();this.fb=this.ka=null;delete qk[this.name];uf(this.h);delete this.h;Cl.J.F.call(this)};var Bl=function(){for(var a in qk)uf(qk[a])};
var Jl=function(a,b,c,d){this.g=a;this.c=b;this.o=c;this.l=d;this.b=new qd(Math.random,5E3,128);this.a=null},Kl=function(a){a.a=new Cl(a.g,a.o||void 0);var b=sf(a.c);Hl(a.a,b);Wg(a.h,rd(a.b)+5E3,a);a.a.connect(t(function(){this.b.reset();this.l(this.a)},a))};Jl.prototype.h=function(){if(this.a&&!this.a.ia()){this.a&&(this.a.close(),this.a=null);var a=this.g.pu,b=He(ze(document,this.c));a=new Ph(a);for(var c=0;c<b.length;++c)if("IFRAME"==b[c].tagName){var d=new Ph(b[c].src);d.a==a.a&&d.b==a.b&&Ge(b[c])}Kl(this)}};
var Ll=function(a){this.a=a},rj=function(a,b){for(var c=b.getDescriptor(),d=a.b()[c.b],e=Fc(c),f=0;f<e.length;++f);for(var g in d){e=d[g];var k=Gc(c,g);for(f=0;f<e.length;++f){if(!e[f](k,b))return!1;for(var m=0;m<Pc(b,k.a);++m){var p=b.get(k,m);if(p instanceof y&&!rj(a,p))return td(a.a,"field %s (index %d) failed validation in %s",g,m,b),!1}}}return!0};Ll.prototype.required=function(a,b){var c=b.has(a);c||td(this.a,"required field %s missing from %s",a.h,b);return c};
Ll.prototype.c=function(a,b,c){var d=!c.has(b)||c.get(b)>=a;d||td(this.a,"%s must be greater than or equal to %d; was %d",b.h,a,c.get(b));return d};Ll.prototype.g=function(a,b){(b=!b.has(a)||""!=b.get(a))||td(this.a,"%s must be non-empty",a.h);return b};
var Ml=function(a){this.a=a;a=function(){return!0};var b=t(this.required,this),c=t(this.c,this,0),d=t(this.g,this);this.h={Version:{major_version:[b,c],minor_version:[b,c]},ProtocolVersion:{version:[b]},ClientVersion:{version:[b],platform:[b],language:[b,d],application_info:[b,d]},ClientToServerMessage:{header:[b],init_endpoint_message:[a],init_session_message:[a],client_data_message_deprecated:[a],send_on_disconnect_message:[a],close_session_message:[a]},ClientHeader:{protocol_version:[b],client_version:[b],
client_time_ms:[b],max_known_server_time_ms:[b],message_id:[a]},SessionId:{service_name:[b,d],session_name:[a]},InitEndpointMessage:{},InitSessionMessage:{session_id:[b]},CloseSessionMessage:{session_id:[b]},SessionStatusMessage:{session_id:[b],address:[a,d],is_broadcast_to_user:[a],status:[a]},DataMessage:{session_id:[b],message:[b]},ServerToClientMessage:{header:[b],server_data_message:[a],channel_status_message:[a],session_status_message:[a]},ServerHeader:{protocol_version:[b],server_time_ms:[b, c],message_id:[a,d]},StatusP:{code:[b],description:[a]},ChannelStatusMessage:{status:[b],jid_resource:[a]}}};w(Ml,Ll);Ml.prototype.b=function(){return this.h};
var Nl=function(a,b,c){this.g=a;this.c=b;this.a=c;this.b=null};Nl.prototype.open=function(){this.g.o(this)};var Ol=function(a,b){this.L=b;this.c=[];this.I=new D;this.h=new D;this.b=null;this.D=0;this.j=new Qd("HangingGetChannel");this.C=new Ml(this.j);this.l=a;this.g=!1;this.a=new Sc;B(this.a,2,2);a=this.a;var c=Nh(self.location.href);B(a,1,c);b=b.b;0!=b&&B(this.a,4,b);this.G=this.v=0;this.A=!1};h=Ol.prototype;
h.fd=function(a){5==A(this.a,2)?td(this.j,"Cannot switch to OAuth with CORS enabled"):(B(this.a,2,3),B(this.a,3,a),Pl(this))};h.open=function(){var a=this.L,b=a.l.toString(),c=a.h,d=a.a;a=(self.SharedWorker&&a.g(),!1);var e=new Qc;B(e,2,c);null!==d&&B(e,4,d);B(e,8,!1);B(e,13,a);this.b=new fj(b,this,e);Pl(this);this.b.start();F(this.j,"Started a browser channel.")};h.close=function(){null!=this.b&&this.b.close()};h.W=function(){this.close();this.A=!0};h.Ea=function(){return this.A};
var Pl=function(a){if(nd.contains(A(a.a,2))){var b=a.L.c(A(a.a,1));if(null!=b){var c=b.scheme;b=b.hash;b!=A(a.a,3)&&(B(a.a,2,Uc[c]),B(a.a,3,b))}else B(a.a,3,"")}if(a.b&&(c=a.b,b=a.a,a=!c.g||A(c.g,3)!==A(b,3),c.g=b.clone(),c.a&&(b={},b=od(c.g,b),c.a.bb=b),a&&(a=c.h,c.h=1,2==a)))switch(c.l){case 1:case 2:a=c.M;b=u();b=Math.floor((b-a.b)/3E5);a.a=Math.min(a.a+b,8);a.b+=3E5*b;0<a.a?(a.a--,a=!0):a=!1;a?(F(c.j,"Opening immediately in response to user request"),2==c.h&&(c.h=0),jj(c,c.c)):F(c.j,"Ignoring immediate connect request open because budget exhausted");
break;default:F(c.j,"Ignoring request to open immediately because already open(ing)")}},pj=function(a,b){F(a.j,"Error %s",b);Pl(a);a.l.Hc(a,b)};Ol.prototype.H=function(a,b){a=new Nl(this,a,b);this.c.push(a);return a};var sj=function(a,b){var c=a.I.get(A(b,2),null);null==c&&(c=a.h.get(A(b,1),null));return c};Ol.prototype.o=function(a){if(this.g){var b=a.c;a=a.b;var c=new Mj,d=new Fj;B(d,1,b);null!=a&&B(d,2,a);B(c,1,d);nj(this,c)}};
var nj=function(a,b){var c="c"+ ++a.G,d=u(),e=a.v,f=new Jj;B(f,1,bk);B(f,3,d);B(f,4,e);B(f,5,c);c=new Dj;B(c,1,ek);B(c,2,fk);B(c,3,"JS");B(c,4,"lcsclient");B(f,2,c);c=new Hj;B(c,1,f);b instanceof oj?B(c,2,b):b instanceof Mj?B(c,3,b):b instanceof Oj&&B(c,6,b);if(rj(a.C,c)){if(b={},f=pf(c),b.p=f,a=a.b,null!=a.a){a=a.a;if(0==a.b)throw Error("Invalid operation: sending map when state is closed");1E3==a.c.length&&(f="Already have 1000 queued maps upon queueing "+a.l.stringify(b),J(a.a.j,f));a.c.push(new Oi(a.cf++, b));2!=a.b&&3!=a.b||Xi(a)}}else td(a.j,"Attempted to send invalid client message: %s",c.toString())};
var Rl=function(a,b,c,d){ta.call(this,a);this.details=b?q(b)?b:b.message:void 0;this.helpText=c;this.errorType=d;Ql(this);a=H("edulive.errors.Error");M(a,this.toString())};w(Rl,ta);Rl.prototype.toJSON=function(){var a={};Object.getOwnPropertyNames(this).forEach(function(b){a[b]=this[b]},this);return a};Rl.prototype.name="edulive.errors.Error";
var Ql=function(a){var b=l.MODULESETS;if(!xb(b))return a;b=Pd("chrome-extension://%s/(%s):(\\d+):(\\d+)",chrome.runtime.id,zb(b).join("|"));a.stack=a.stack.replace(new RegExp(b,"g"),Sl);return a},Sl=function(a,b,c,d){var e=l.MODULESETS;b=e[b];if(!b)return a;a=l.ROW_KEYS[b];var f=l.ROW_KEY_SIGNATURES[b];c-=xb(e)+1;return f?Pd("https://www.gstatic.com/classroom-live/_/js/k=%s/m=%s/rt=j/d=1/rs=%s:%d:%d",a,b,f,c,d):Pd("https://www.gstatic.com/classroom-live/_/js/k=%s/m=%s/rt=j/d=1:%d:%d",a,b,c,d)},Ul=
function(a){Rl.call(this,"");Xa(yb(Tl),function(b){b in a&&(this[b]=a[b])},this)};w(Ul,Rl);Ul.prototype.name="edulive.errors.SerializedError";var Vl=function(a){Rl.call(this,"Unexpected Parameter.",N(a))};w(Vl,Rl);Vl.prototype.name="edulive.errors.UnexpectedParameterError";var Tl={kg:"columnNumber",pg:"details",ug:"errorType",xg:"fileName",zg:"helpText",Qg:"lineNumber",Rg:"message",Xc:"name",wh:"stack",yh:"status",Lh:"type"};
var Wl=function(a,b,c){Rl.call(this,a,b,c,"classroom")};w(Wl,Rl);Wl.prototype.name="edulive.classroom.Error";var Xl=function(a){Wl.call(this,"The specified workgroup cannot be found.",a)};w(Xl,Wl);Xl.prototype.name="edulive.classroom.WorkgroupNotFoundError";var Yl=function(a){Wl.call(this,"You must be the owner in order to modify a workgroup.",a.id)};w(Yl,Wl);Yl.prototype.name="edulive.classroom.WorkgroupNotOwnedError";var Zl=function(a){Rl.call(this,"Participant not enrolled.",a)};w(Zl,Rl); Zl.prototype.name="edulive.classroom.ParticipantNotEnrolled";var $l=function(){Wl.call(this,"The user is not permitted to access Classroom 3rd party APIs")};w($l,Wl);$l.prototype.name="edulive.classroom.HomeroomDisabledError";
var am=function(a,b,c){Rl.call(this,a,b,c,"connection")};w(am,Rl);am.prototype.name="edulive.messaging.Error";var bm=function(a,b){yf.call(this,b.request,a);this.message=b};w(bm,yf);var cm="https://classroomlive-pa.googleapis.com",dm=bi(fi(cm),fi("/v2/")),em=function(a){return bi(dm,fi(Array.prototype.slice.call(arguments).join("/")))},fm=function(a){a=encodeURIComponent(String(a));return{url:em("workgroups",a).toString(),method:"GET",za:"API Call: GET_WORKGROUP"}},gm=function(a){a=em("workgroups",a,"participants");T(a,"omitFlungPages","true");T(a,"omitHasRegistered","true");return{url:a.toString(),method:"GET",za:"API Call: LIST_PARTICIPANTS"}},hm=function(a,b,c){var d={};Xa(c,
function(a){d[a]=!0});a=Ya(zb(a),function(a){return!d[a]});b=Ya(zb(b),function(a){return!d[a]});return pb(a,b)},im={rg:"email",Xc:"fullName",URL:"photoUrl",Pd:"id",rh:"role",Og:"isPresent"},jm=function(a,b){var c=[];if(!hm(a,b,c))return!1;for(var d in a){var e=0<=Va(c,d);if(Bb(im,d)&&!e&&a[d]!=b[d])return!1}return!0},km=function(a,b){return T(new Ph(a),"sz",b||30).toString()},lm={Pd:"id",Xc:"name",sh:"section",Ng:"isOwner",Zg:"owner",jg:"color",eh:"photoUrl",wg:"faviconUrl"},mm=function(a,b){var c=
[];if(!hm(a,b,c))return!1;for(var d in a){var e=0<=Va(c,d);if(Bb(lm,d)&&!e)if("owner"==d){if(!jm(a[d],b[d]))return!1}else if(a[d]!=b[d])return!1}return!0},nm=function(a){var b=Gb(a);b.owner=Gb(a.owner);return b},om=function(a){a.isOwner=!!a.isOwner;var b=a.owner,c=b.photoUrl;b.photoUrl=c?km(c):"unknown_user.png";a.owner=b;return a},pm=function(a){a.workgroupList||(a.workgroupList=[]);a.workgroupList=Za(a.workgroupList,function(a){return om(a)});return a};
var qm={Sc:{1E3:{other:"0K"},1E4:{other:"00K"},1E5:{other:"000K"},1E6:{other:"0M"},1E7:{other:"00M"},1E8:{other:"000M"},1E9:{other:"0B"},1E10:{other:"00B"},1E11:{other:"000B"},1E12:{other:"0T"},1E13:{other:"00T"},1E14:{other:"000T"}},Nd:{1E3:{other:"0 thousand"},1E4:{other:"00 thousand"},1E5:{other:"000 thousand"},1E6:{other:"0 million"},1E7:{other:"00 million"},1E8:{other:"000 million"},1E9:{other:"0 billion"},1E10:{other:"00 billion"},1E11:{other:"000 billion"},1E12:{other:"0 trillion"},1E13:{other:"00 trillion"}, 1E14:{other:"000 trillion"}}},rm=qm;rm=qm;
var sm={AED:[2,"dh","\u062f.\u0625.","DH"],ALL:[0,"Lek","Lek"],AUD:[2,"$","AU$"],BDT:[2,"\u09f3","Tk"],BGN:[2,"lev","lev"],BRL:[2,"R$","R$"],CAD:[2,"$","C$"],CDF:[2,"FrCD","CDF"],CHF:[2,"CHF","CHF"],CLP:[0,"$","CL$"],CNY:[2,"\u00a5","RMB\u00a5"],COP:[32,"$","COL$"],CRC:[0,"\u20a1","CR\u20a1"],CZK:[50,"K\u010d","K\u010d"],DKK:[50,"kr.","kr."],DOP:[2,"RD$","RD$"],EGP:[2,"\u00a3","LE"],ETB:[2,"Birr","Birr"],EUR:[2,"\u20ac","\u20ac"],GBP:[2,"\u00a3","GB\u00a3"],HKD:[2,"$","HK$"],HRK:[2,"kn","kn"],HUF:[34,
"Ft","Ft"],IDR:[0,"Rp","Rp"],ILS:[34,"\u20aa","IL\u20aa"],INR:[2,"\u20b9","Rs"],IRR:[0,"Rial","IRR"],ISK:[0,"kr","kr"],JMD:[2,"$","JA$"],JPY:[0,"\u00a5","JP\u00a5"],KRW:[0,"\u20a9","KR\u20a9"],LKR:[2,"Rs","SLRs"],LTL:[2,"Lt","Lt"],MNT:[0,"\u20ae","MN\u20ae"],MVR:[2,"Rf","MVR"],MXN:[2,"$","Mex$"],MYR:[2,"RM","RM"],NOK:[50,"kr","NOkr"],PAB:[2,"B/.","B/."],PEN:[2,"S/.","S/."],PHP:[2,"\u20b1","PHP"],PKR:[0,"Rs","PKRs."],PLN:[50,"z\u0142","z\u0142"],RON:[2,"RON","RON"],RSD:[0,"din","RSD"],RUB:[50,"\u20bd",
"RUB"],SAR:[2,"Rial","Rial"],SEK:[50,"kr","kr"],SGD:[2,"$","S$"],THB:[2,"\u0e3f","THB"],TRY:[2,"TL","YTL"],TWD:[2,"NT$","NT$"],TZS:[0,"TSh","TSh"],UAH:[2,"\u0433\u0440\u043d.","UAH"],USD:[2,"$","US$"],UYU:[2,"$","$U"],VND:[48,"\u20ab","VN\u20ab"],YER:[0,"Rial","Rial"],ZAR:[2,"R","ZAR"]};
var tm={Uc:".",lc:",",Yc:"%",nc:"0",Sd:"+",Wc:"-",Vc:"E",Zc:"\u2030",mc:"\u221e",Qd:"NaN",Tc:"#,##0.###",Ud:"#E0",Rd:"#,##0%",Od:"\u00a4#,##0.00",ob:"USD"},V=tm;V=tm;var wm=function(a,b,c){this.A=b;this.O=c||0;this.D=40;this.b=1;this.H=0;this.g=3;this.G=this.c=0;this.N=!1;this.C=this.v="";this.h=V.Wc;this.I="";this.a=1;this.o=!1;this.l=[];this.K=this.M=!1;this.L=0;if("number"==typeof a)switch(a){case 1:um(this,V.Tc);break;case 2:um(this,V.Ud);break;case 3:um(this,V.Rd);break;case 4:a=V.Od;b=["0"];c=sm[this.A||V.ob][0]&7;if(0<c){b.push(".");for(var d=0;d<c;d++)b.push("0")}a=a.replace(/0.00/g,b.join(""));um(this,a);break;case 5:vm(this,1);break;case 6:vm(this,2);
break;default:throw Error("Unsupported pattern type.");}else um(this,a)},um=function(a,b){b.replace(/ /g,"\u00a0");var c=[0];a.v=xm(a,b,c);for(var d=c[0],e=-1,f=0,g=0,k=0,m=-1,p=b.length,v=!0;c[0]<p&&v;c[0]++)switch(b.charAt(c[0])){case "#":0<g?k++:f++;0<=m&&0>e&&m++;break;case "0":if(0<k)throw Error('Unexpected "0" in pattern "'+b+'"');g++;0<=m&&0>e&&m++;break;case ",":0<m&&a.l.push(m);m=0;break;case ".":if(0<=e)throw Error('Multiple decimal separators in pattern "'+b+'"');e=f+g+k;break;case "E":if(a.K)throw Error('Multiple exponential symbols in pattern "'+
b+'"');a.K=!0;a.G=0;c[0]+1<p&&"+"==b.charAt(c[0]+1)&&(c[0]++,a.N=!0);for(;c[0]+1<p&&"0"==b.charAt(c[0]+1);)c[0]++,a.G++;if(1>f+g||1>a.G)throw Error('Malformed exponential pattern "'+b+'"');v=!1;break;default:c[0]--,v=!1}0==g&&0<f&&0<=e&&(g=e,0==g&&g++,k=f-g,f=g-1,g=1);if(0>e&&0<k||0<=e&&(e<f||e>f+g)||0==m)throw Error('Malformed pattern "'+b+'"');k=f+g+k;a.g=0<=e?k-e:0;0<=e&&(a.c=f+g-e,0>a.c&&(a.c=0));a.b=(0<=e?e:k)-f;a.K&&(a.D=f+a.b,0==a.g&&0==a.b&&(a.b=1));a.l.push(Math.max(0,m));a.M=0==e||e==k;
d=c[0]-d;a.C=xm(a,b,c);c[0]<b.length&&";"==b.charAt(c[0])?(c[0]++,1!=a.a&&(a.o=!0),a.h=xm(a,b,c),c[0]+=d,a.I=xm(a,b,c)):(a.h+=a.v,a.I+=a.C)},vm=function(a,b){a.L=b;um(a,V.Tc);a.c=0;a.g=2;if(0<a.c)throw Error("Can't combine significant digits and minimum fraction digits");a.H=2};
wm.prototype.parse=function(a,b){b=b||[0];if(0!=this.L)throw Error("Parsing of compact numbers is unimplemented");a=a.replace(/ /g,"\u00a0");var c=a.indexOf(this.v,b[0])==b[0],d=a.indexOf(this.h,b[0])==b[0];c&&d&&(this.v.length>this.h.length?d=!1:this.v.length<this.h.length&&(c=!1));c?b[0]+=this.v.length:d&&(b[0]+=this.h.length);if(a.indexOf(V.mc,b[0])==b[0]){b[0]+=V.mc.length;var e=Infinity}else{e=a;var f=!1,g=!1,k=!1,m=-1,p=1,v=V.Uc,Z=V.lc,oa=V.Vc;if(0!=this.L)throw Error("Parsing of compact style numbers is not implemented");
for(var pa="";b[0]<e.length;b[0]++){var Ba=e.charAt(b[0]),kb=ym(Ba);if(0<=kb&&9>=kb)pa+=kb,k=!0;else if(Ba==v.charAt(0)){if(f||g)break;pa+=".";f=!0}else if(Ba==Z.charAt(0)&&("\u00a0"!=Z.charAt(0)||b[0]+1<e.length&&0<=ym(e.charAt(b[0]+1)))){if(f||g)break}else if(Ba==oa.charAt(0)){if(g)break;pa+="E";g=!0;m=b[0]}else if("+"==Ba||"-"==Ba){if(k&&m!=b[0]-1)break;pa+=Ba}else if(1==this.a&&Ba==V.Yc.charAt(0)){if(1!=p)break;p=100;if(k){b[0]++;break}}else if(1==this.a&&Ba==V.Zc.charAt(0)){if(1!=p)break;p=1E3;
if(k){b[0]++;break}}else break}1!=this.a&&(p=this.a);e=parseFloat(pa)/p}if(c){if(a.indexOf(this.C,b[0])!=b[0])return NaN;b[0]+=this.C.length}else if(d){if(a.indexOf(this.I,b[0])!=b[0])return NaN;b[0]+=this.I.length}return d?-e:e};
var Am=function(a,b){var c=Math.pow(10,a.g);a=0>=a.H?Math.round(b*c):Math.round(zm(b*c,a.H,a.g));isFinite(a)?(b=Math.floor(a/c),c=Math.floor(a-b*c)):c=0;return{Ad:b,Ae:c}},Bm=function(a,b,c,d){if(a.c>a.g)throw Error("Min value must be less than max value");d||(d=[]);b=Am(a,b);var e=b.Ad,f=b.Ae,g=0<a.c||0<f||!1;b=a.c;g&&(b=a.c);for(var k="",m=e;1E20<m;)k="0"+k,m=Math.round(m/10);k=m+k;var p=V.Uc;m=V.nc.charCodeAt(0);var v=k.length,Z=0;if(0<e||0<c){for(e=v;e<c;e++)d.push(String.fromCharCode(m));if(2<=
a.l.length)for(c=1;c<a.l.length;c++)Z+=a.l[c];c=v-Z;if(0<c){e=a.l;Z=v=0;for(var oa,pa=V.lc,Ba=k.length,kb=0;kb<Ba;kb++)if(d.push(String.fromCharCode(m+1*Number(k.charAt(kb)))),1<Ba-kb)if(oa=e[Z],kb<c){var Lt=c-kb;(1===oa||0<oa&&1===Lt%oa)&&d.push(pa)}else Z<e.length&&(kb===c?Z+=1:oa===kb-c-v+1&&(d.push(pa),v+=oa,Z+=1))}else{c=k;k=a.l;e=V.lc;oa=c.length;pa=[];for(v=k.length-1;0<=v&&0<oa;v--){Z=k[v];for(Ba=0;Ba<Z&&0<=oa-Ba-1;Ba++)pa.push(String.fromCharCode(m+1*Number(c.charAt(oa-Ba-1))));oa-=Z;0<oa&&
pa.push(e)}d.push.apply(d,pa.reverse())}}else g||d.push(String.fromCharCode(m));(a.M||g)&&d.push(p);f=String(f);g=f.split("e+");2==g.length&&(f=String(zm(parseFloat(g[0]),a.H,1)),f=f.replace(".",""),f+=Pa("0",parseInt(g[1],10)-f.length+1));a.g+1>f.length&&(f="1"+Pa("0",a.g-f.length)+f);for(a=f.length;"0"==f.charAt(a-1)&&a>b+1;)a--;for(e=1;e<a;e++)d.push(String.fromCharCode(m+1*Number(f.charAt(e))))},Cm=function(a,b,c){c.push(V.Vc);0>b?(b=-b,c.push(V.Wc)):a.N&&c.push(V.Sd);b=""+b;for(var d=V.nc,e=
b.length;e<a.G;e++)c.push(d);c.push(b)},ym=function(a){a=a.charCodeAt(0);if(48<=a&&58>a)return a-48;var b=V.nc.charCodeAt(0);return b<=a&&a<b+10?a-b:-1},xm=function(a,b,c){for(var d="",e=!1,f=b.length;c[0]<f;c[0]++){var g=b.charAt(c[0]);if("'"==g)c[0]+1<f&&"'"==b.charAt(c[0]+1)?(c[0]++,d+="'"):e=!e;else if(e)d+=g;else switch(g){case "#":case "0":case ",":case ".":case ";":return d;case "\u00a4":if(c[0]+1<f&&"\u00a4"==b.charAt(c[0]+1))c[0]++,d+=a.A||V.ob;else switch(a.O){case 0:d+=sm[a.A||V.ob][1];
break;case 2:g=a.A||V.ob;var k=sm[g];d+=g==k[1]?g:g+" "+k[1];break;case 1:d+=sm[a.A||V.ob][2]}break;case "%":if(!a.o&&1!=a.a)throw Error("Too many percent/permill");if(a.o&&100!=a.a)throw Error("Inconsistent use of percent/permill characters");a.a=100;a.o=!1;d+=V.Yc;break;case "\u2030":if(!a.o&&1!=a.a)throw Error("Too many percent/permill");if(a.o&&1E3!=a.a)throw Error("Inconsistent use of percent/permill characters");a.a=1E3;a.o=!1;d+=V.Zc;break;default:d+=g}}return d},Dm={prefix:"",Ld:"",rc:0},
Em=function(a,b){a=1==a.L?rm.Sc:rm.Nd;null==a&&(a=rm.Sc);if(3>b)return Dm;b=Math.min(14,b);var c=a[Math.pow(10,b)];for(--b;!c&&3<=b;)c=a[Math.pow(10,b)],b--;if(!c)return Dm;a=c.other;return a&&"0"!=a?(a=/([^0]*)(0+)(.*)/.exec(a))?{prefix:a[1],Ld:a[3],rc:b+1-(a[2].length-1)}:Dm:Dm},Fm=function(a){if(!isFinite(a))return 0<a?a:0;for(var b=0;1<=(a/=10);)b++;return b},zm=function(a,b,c){if(!a)return a;b=b-Fm(a)-1;if(b<-c)return c=Math.pow(10,c),Math.round(a/c)*c;c=Math.pow(10,b);return Math.round(a*c)/ c};
var Gm=function(a){return 1==a%10&&11!=a%100?"one":2==a%10&&12!=a%100?"two":3==a%10&&13!=a%100?"few":"other"},Hm=Gm;Hm=Gm;var Im=function(a,b){if(void 0===b){b=a+"";var c=b.indexOf(".");b=Math.min(-1==c?0:b.length-c-1,3)}return 1==(a|0)&&0==b?"one":"other"},Jm=Im;Jm=Im;var Nm=function(a){this.g=a;this.b=this.a=this.h=null;a=V;var b=rm;if(Km!==a||Lm!==b)Km=a,Lm=b,Mm=new wm(1);this.l=Mm},Km=null,Lm=null,Mm=null,Om=/'([{}#].*?)'/g,Pm=/''/g,Qm=function(a,b,c,d,e){for(var f=0;f<b.length;f++)switch(b[f].type){case 4:e.push(b[f].value);break;case 3:var g=b[f].value,k=a,m=e,p=c[g];n(p)?(k.a.push(p),m.push(k.c(k.a))):m.push("Undefined parameter - "+g);break;case 2:g=b[f].value;k=e;m=g.Nb;n(c[m])?(m=g[c[m]],n(m)||(m=g.other),Qm(a,m,c,d,k)):k.push("Undefined parameter - "+
m);break;case 0:g=b[f].value;Rm(a,g,c,Jm,d,e);break;case 1:g=b[f].value,Rm(a,g,c,Hm,d,e)}},Rm=function(a,b,c,d,e,f){var g=b.Nb,k=b.ad,m=+c[g];if(isNaN(m))f.push("Undefined or invalid parameter - "+g);else if(k=m-k,g=b[c[g]],n(g)||(d=a.l.T?d(k,a.l.T()):d(k),g=b[d],n(g)||(g=b.other)),b=[],Qm(a,g,c,e,b),c=b.join(""),e)f.push(c);else{a=a.l;d=k;if(isNaN(d))a=V.Qd;else{e=[];k=d;0==a.L?k=Dm:(k=Math.abs(k),b=Em(a,1>=k?0:Fm(k)).rc,k=Em(a,b+Fm(Am(a,k/Math.pow(10,b)).Ad)));d/=Math.pow(10,k.rc);e.push(k.prefix);
b=0>d||0==d&&0>1/d;e.push(b?a.h:a.v);if(isFinite(d))if(d=d*(b?-1:1)*a.a,a.K)if(g=d,0==g)Bm(a,g,a.b,e),Cm(a,0,e);else{d=Math.floor(Math.log(g)/Math.log(10)+2E-15);m=Math.pow(10,d);isFinite(m)&&0!==m?g/=m:(m=Math.pow(10,Math.floor(d/2)),g=g/m/m,1==d%2&&(g=0<d?g/10:10*g));m=a.b;if(1<a.D&&a.D>a.b){for(;0!=d%a.D;)g*=10,d--;m=1}else 1>a.b?(d++,g/=10):(d-=a.b-1,g*=Math.pow(10,a.b-1));Bm(a,g,m,e);Cm(a,d,e)}else Bm(a,d,a.b,e);else e.push(V.mc);e.push(b?a.I:a.C);e.push(k.Ld);a=e.join("")}f.push(c.replace(/#/g,
a))}},Sm=function(a,b){var c=a.h,d=t(a.c,a);b=b.replace(Pm,function(){c.push("'");return d(c)});return b=b.replace(Om,function(a,b){c.push(b);return d(c)})},Tm=function(a){var b=0,c=[],d=[],e=/[{}]/g;e.lastIndex=0;for(var f;f=e.exec(a);){var g=f.index;"}"==f[0]?(c.pop(),0==c.length&&(f={type:1},f.value=a.substring(b,g),d.push(f),b=g+1)):(0==c.length&&(b=a.substring(b,g),""!=b&&d.push({type:0,value:b}),b=g+1),c.push("{"))}b=a.substring(b);""!=b&&d.push({type:0,value:b});return d},Um=/^\s*(\w+)\s*,\s*plural\s*,(?:\s*offset:(\d+))?/,
Vm=/^\s*(\w+)\s*,\s*selectordinal\s*,/,Wm=/^\s*(\w+)\s*,\s*select\s*,/,$m=function(a,b){var c=[];b=Tm(b);for(var d=0;d<b.length;d++){var e={};if(0==b[d].type)e.type=4,e.value=b[d].value;else if(1==b[d].type){var f=b[d].value;switch(Um.test(f)?0:Vm.test(f)?1:Wm.test(f)?2:/^\s*\w+\s*/.test(f)?3:5){case 2:e.type=2;e.value=Xm(a,b[d].value);break;case 0:e.type=0;e.value=Ym(a,b[d].value);break;case 1:e.type=1;e.value=Zm(a,b[d].value);break;case 3:e.type=3,e.value=b[d].value}}c.push(e)}return c},Xm=function(a,
b){var c="";b=b.replace(Wm,function(a,b){c=b;return""});var d={};d.Nb=c;b=Tm(b);for(var e=0;e<b.length;){var f=b[e].value;e++;if(1==b[e].type)var g=$m(a,b[e].value);d[f.replace(/\s/g,"")]=g;e++}return d},Ym=function(a,b){var c="",d=0;b=b.replace(Um,function(a,b,e){c=b;e&&(d=parseInt(e,10));return""});var e={};e.Nb=c;e.ad=d;b=Tm(b);for(var f=0;f<b.length;){var g=b[f].value;f++;if(1==b[f].type)var k=$m(a,b[f].value);e[g.replace(/\s*(?:=)?(\w+)\s*/,"$1")]=k;f++}return e},Zm=function(a,b){var c="";b=
b.replace(Vm,function(a,b){c=b;return""});var d={};d.Nb=c;d.ad=0;b=Tm(b);for(var e=0;e<b.length;){var f=b[e].value;e++;if(1==b[e].type)var g=$m(a,b[e].value);d[f.replace(/\s*(?:=)?(\w+)\s*/,"$1")]=g;e++}return d};Nm.prototype.c=function(a){return"\ufddf_"+(a.length-1).toString(10)+"_"};
var an=chrome.i18n.getMessage("2050089326602918210"),bn=chrome.i18n.getMessage("4849976898594713883",[an,"https://classroomlive-pa.googleapis.com"]),cn=chrome.i18n.getMessage("9217362152767454370",[an]);chrome.i18n.getMessage("7604563725603697690");chrome.i18n.getMessage("533692309512814645");chrome.i18n.getMessage("7826444313570725162");chrome.i18n.getMessage("5936353814217802658");chrome.i18n.getMessage("1258929983314547244");chrome.i18n.getMessage("4491595920888170943");var dn=chrome.i18n.getMessage("8657495129257769609");
chrome.i18n.getMessage("9200475522066047621");var en=chrome.i18n.getMessage("6042567254866620046",[an]),fn=chrome.i18n.getMessage("7798244153502527716",[an]);chrome.i18n.getMessage("4811423455816775324",[an]);var gn=chrome.i18n.getMessage("3727581148109420602"),hn=chrome.i18n.getMessage("826991190228103925");chrome.i18n.getMessage("4748990655911819545");var jn=chrome.i18n.getMessage("7582805180132294390",[an]);chrome.i18n.getMessage("6576961868476783976",[an]);
var kn=function(a,b){P.call(this);this.b=a;this.id=b||window.location.pathname;this.H=!("undefined"==typeof window.chrome||!chrome||!chrome.runtime)};w(kn,P);kn.prototype.sendRequest=function(a,b,c){return new R(function(d,e){var f={sender:this.id,request:a,params:b,expectResponse:!0},g=c||4E4;g=new mk(t(this.O,this,d,e,f),g);d=t(this.N,this,d,e,f,g);M(this.b,this.id+": Sending (and expect response):"+N(f));this.sendMessage(f,d);g.start()},this)};
kn.prototype.sendMessage=function(a,b){if(!this.H)throw new am("Not running in Chrome.",navigator.appVersion);chrome.runtime.sendMessage(a,b)};
kn.prototype.N=function(a,b,c,d,e){var f=chrome.runtime.lastError;d.W();f?(K(this.b,this.id+": Failed sending "+c.request+". Reason: "+f.message),b(new am("Failed to dispatch message. There was no recipient to receive the message.",f))):ja(e)&&(n(e.response)||n(e.error))?(I(this.b,e.error?Ad:Dd,this.id+": Received response: "+N(e)+" for message: "+N(c)),n(e.response)?a(e.response):b(new Ul(e.error))):b(new am("Invalid response from message request.",N(e)))}; kn.prototype.O=function(a,b,c){K(this.b,this.id+": Failed to receive a response to "+c.request+" in the time alotted.");b(new am("Failed to receive a response in the time alotted.",c.request,jn))};
var ln=function(a,b){if(!ja(a))return!1;ja(b)&&(b=yb(b));return ab(b,function(b){return Ab(a,b)})};var W=function(a,b){b=b||H("edulive.messaging.InternalMessageDispatcher");kn.call(this,b,a);this.l=t(this.K,this);chrome.runtime.onMessage.addListener(this.l);chrome.runtime.onMessageExternal&&chrome.runtime.onMessageExternal.addListener(this.l);this.C=t(this.D,this);chrome.runtime.onConnectExternal&&chrome.runtime.onConnectExternal.addListener(this.C);this.c={};this.h={};this.v={}};w(W,kn);r(W);
W.prototype.F=function(){Xa(zb(this.h),function(a){mn(this,a,!0)},this);this.c={};chrome.runtime.onConnectExternal&&chrome.runtime.onConnectExternal.removeListener(this.C);chrome.runtime.onMessageExternal&&chrome.runtime.onMessageExternal.removeListener(this.l);chrome.runtime.onMessage.removeListener(this.l);W.J.F.call(this)};
var nn=function(a,b,c){b={sender:a.id,request:b,params:c,expectResponse:!1};M(a.b,a.id+": Sending : "+N(b));a.sendMessage(b)},X=function(a,b,c){if(Ab(a.c,b))throw new am("Handler already installed for the message.",b);a.c[b]=c},Y=function(a,b,c){Ab(a.c,b)&&a.c[b]==c&&delete a.c[b]};W.prototype.sendMessage=function(a,b){b?on(this,a,b)||W.J.sendMessage.call(this,a,b):(tg(t(this.A,this,a)),W.J.sendMessage.call(this,a,b),pn(this,a))};var pn=function(a,b){ub(a.h,function(a){a.postMessage(b)},a)};
W.prototype.K=function(a,b,c){if(!n(a)||!ja(a))return!1;if(!ln(a,["sender","request","expectResponse"]))return K(this.b,this.id+": Invalid message: "+N(a)+" from: "+N(b)),!1;if(a.sender==this.id)return!1;M(this.b,this.id+": Received message: "+N(a)+" from: "+N(b));if(a.expectResponse)return b.id==chrome.runtime.id&&a.sender==this.id?!1:on(this,a,c);this.A(a);return!1};W.prototype.A=function(a){Q(this,new bm(this,a))};
var on=function(a,b,c){var d=b.request;if(!Ab(a.c,d))return!1;var e=new bm(a,b);try{var f=(0,a.c[d])(e);if(f){var g=t(a.M,a,b,c),k=t(a.o,a,b,c);f.then(g,k)}return!!f}catch(m){return a.o(b,c,m),!1}};W.prototype.M=function(a,b,c){try{JSON.stringify(c),M(this.b,"Responding to "+N(a)+" with "+N(c)),b({response:c})}catch(d){this.o(a,b,d)}};
W.prototype.o=function(a,b,c){if("Attempting to use a disconnected port object"==c.message)K(this.b,a.sender+" disconnected! Cannot respond to "+N(a));else{c instanceof Error&&(c=new Ul(c));try{JSON.stringify(c),K(this.b,"Responding to "+N(a)+" with the error "+N(c)),b({error:Object(c)})}catch(d){K(this.b,"Failed to serialize: "+(ia(c.toString)?c.toString():c)+". Returning "+(ia(d.toString)?d.toString():d)+" instead."),this.o(a,b,d)}}};
var mn=function(a,b,c){L(a.b,"Ending connection with "+b);var d=a.h[b];d&&(Db(a.h,b),c&&d.disconnect(),c=a.v[b],Db(a.v,b),d.onDisconnect.removeListener(c))};
W.prototype.D=function(a){if(a.name!=this.id)M(this.b,"Ignoring connection from "+JSON.stringify(a)+" because it is for another page.");else{var b=a.sender;if(b){var c=[];b.id&&c.push(b.id);b.url&&c.push(b.url);c.length?(b=c.join("|"),Ab(this.h,b)?(K(this.b,"Already have a connection with "+b+". Disconnecting"),a.disconnect()):(L(this.b,"Establishing connection with "+b),this.h[b]=a,c=t(this.G,this,b),a.onDisconnect.addListener(c),this.v[b]=c)):(K(this.b,"Could not find an id for "+JSON.stringify(a)+ ". Disconnecting."),a.disconnect())}}};W.prototype.G=function(a){mn(this,a)};
l._gaq=l._gaq||[];var qn=function(){O.call(this);this.a=W.B();this.g=t(this.v,this);this.c=t(this.o,this);this.l=t(this.C,this);this.h=t(this.A,this);this.b={}};w(qn,O);r(qn);var rn=Xd(Yd("https://ssl.google-analytics.com/ga.js")),sn=new $d;sn.a=rn;
qn.prototype.F=function(){Y(this.a,"edulive.messages.analytics.Requests.trackPageView",this.g);Y(this.a,"edulive.messages.analytics.Requests.trackEvent",this.c);Y(this.a,"edulive.messages.analytics.Requests.trackTimingStart",this.l);Y(this.a,"edulive.messages.analytics.Requests.trackTimingEnd",this.h);qn.J.F.call(this)};
var tn=function(){var a=qn.B(),b=document.createElement("SCRIPT");b.type="text/javascript";b.async=!0;b.src=ae(sn);var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c);l._gaq.push(["_setAccount","UA-61107128-1"]);X(a.a,"edulive.messages.analytics.Requests.trackPageView",a.g);X(a.a,"edulive.messages.analytics.Requests.trackEvent",a.c);X(a.a,"edulive.messages.analytics.Requests.trackTimingStart",a.l);X(a.a,"edulive.messages.analytics.Requests.trackTimingEnd",a.h)};
qn.prototype.v=function(a){un(a.message.params);return S(!0)};var un=function(a){l._gaq.push(["_trackPageview",a])};qn.prototype.o=function(a){if((a=a.message.params)&&!ln(a,["category","action"]))return Cg(new Vl(a));vn(0,a.category,a.action,a.label,a.value);return S(!0)};var vn=function(a,b,c,d,e){l._gaq.push(["_trackEvent",b,c,d,e,!0])};
qn.prototype.C=function(a){if((a=a.message.params)&&!ln(a,["category","variable","timestamp"]))return Cg(new Vl(a));this.b[a.category+a.variable+a.label+a.key]=a.timestamp;return S(!0)};qn.prototype.A=function(a){if((a=a.message.params)&&!ln(a,["category","variable","timestamp"]))return Cg(new Vl(a));wn(this,a.category,a.variable,a.timestamp,a.label,a.key);return S(!0)};var wn=function(a,b,c,d,e,f){f=b+c+e+f;l._gaq.push(["_trackTiming",b,c,d-a.b[f],e,100]);a.b[f]=null};
var xn=function(){P.call(this);this.j=H("edulive.connection.Gcm");qn.B();this.b=void 0;this.l=new Li;this.c=t(this.o,this);chrome.gcm.onMessage.addListener(this.c)};w(xn,P);r(xn);xn.prototype.F=function(){chrome.gcm.onMessage.removeListener(this.c);xn.J.F.call(this)};var yn=["332529424876"],zn=function(a){return"eduLiveGcmMessage:"+a},An=function(a,b){if(a.b!=b){var c=n(a.b)&&null!=b;a.b=b;a.b&&M(a.j,"GCM Id: "+a.b);c&&Q(a,"a")}};
xn.prototype.h=function(a,b,c,d,e,f,g){if(chrome.runtime.lastError)if(Bn()&&4>d){K(this.j,"GCM Registration failure: '"+chrome.runtime.lastError.message+"' Attempt: "+(d+1)+" of 4");var k=t(this.h,this,a,b,c,++d,2*e,f);Wg(function(){f(k)},e)}else vn(0,"Error",a?"GCM: Register":"GCM: Unregister",chrome.runtime.lastError.message),c(new Cn("GCM Registration failed.",chrome.runtime.lastError));else An(this,n(g)?g:null),b(this.b)};
var Bn=function(){var a=chrome.runtime.lastError.message;return"Server error occurred."==a||"Network error occurred."==a||"Asynchronous operation is pending."==a||"Function was called with invalid parameters."==a},Dn=function(){var a=xn.B();return new R(function(a,c){chrome.gcm.register(yn,t(this.h,this,!0,a,c,0,1E3,ra(chrome.gcm.register,yn)))},a)};
xn.prototype.o=function(a){En(Fn.B()).then(function(b){if(b)K(this.j,"Ignoring message because this client is obsolete: "+N(a));else if(b=a.data||{},b.ignore)M(this.j,"Ignoring STATE GCM event because of ignore flag: "+N(a));else if("LOCK_STATUS"==b.type)M(this.j,"Ignoring GCM event because the flag for this feature is off: "+N(a));else{var c=b.nextGuid||b.pageId;if(c){if(this.l.La(c)&&"LOCK_STATUS"!=b.type){L(this.j,"Ignoring GCM event because it was already processed: "+N(a));return}var d=this.l;
d.a[d.b]=c;d.b=(d.b+1)%d.c}c=new Gn(this,b);Hn(c)?gg(this,c.type)?(L(this.j,"Received GCM Message from "+a.from+": "+N(b)),Q(this,c)):K(this.j,"Unknown GCM Action: "+c.type+". Message Details: "+N(a)):K(this.j,"Ill-formed GCM Message: "+N(a))}},void 0,this)};
var In=zn("UNREGISTER"),Jn=zn("WORKGROUP"),Kn=zn("PARTICIPANTS"),Ln=zn("SETTINGS"),Mn=zn("PAGE"),Nn=zn("REGISTRATION"),On=zn("LOCK_STATUS"),Gn=function(a,b){yf.call(this,zn(b.type),a);this.id=b.id||b.workgroupId||b.studentId;this.state=b.state;this.lastGuid=b.lastGuid;this.payload=b.payload;this.nextGuid=b.nextGuid;this.millisToMute=b.millisToMute?parseInt(b.millisToMute,10):void 0;this.type==Mn&&b.pageId&&(a={id:b.pageId||"",millisToExpire:0,senderId:b.senderId||"",uri:b.uri||"",tabId:b.tabId},b.title&&
(a.title=b.title),b.thumbnail&&(a.thumbnail=b.thumbnail),b.favIconUrl&&(a.favIconUrl=b.favIconUrl),b.millisToExpire&&(a.millisToExpire=u()+parseInt(b.millisToExpire,10)),this.page=a,this.previousId=b.previousId,this.sentByTeacher="true"==b.sentByTeacher);this.type==On&&(this.lockStatus="true"==b.lockStatus,this.studentId=b.studentId)};w(Gn,yf);
var Hn=function(a){switch(a.type){case On:return void 0!=a.studentId&&void 0!=a.lockStatus;case In:return!0;case Jn:case Kn:case Nn:return!!a.id;case Ln:return void 0!=a.millisToMute;case Mn:return!!(a.id&&a.page&&a.page.id&&a.page.millisToExpire&&a.page.senderId&&a.page.uri);default:return!1}},Cn=function(a,b){Rl.call(this,a,b)};w(Cn,Rl);Cn.prototype.name="edulive.connection.Gcm.Error";
var Pn=function(){P.call(this);this.j=H("edulive.net.OAuthProvider");qn.B();this.b=""};w(Pn,P);r(Pn);Pn.prototype.c=function(){return new R(function(a,b){chrome.identity.getAuthToken({interactive:!0},t(this.h,this,a,b))},this)};
Pn.prototype.h=function(a,b,c){chrome.runtime.lastError?(K(this.j,"getToken failed: "+chrome.runtime.lastError.message),vn(0,"Error","OAuth: GetToken",chrome.runtime.lastError.message),Q(this,"oauthFailed"),b(new Qn("Unable to proceed without user permission.",chrome.runtime.lastError,cn,"profile"))):(c!=this.b&&(this.b=c,M(this.j,"OAuth2 Token: "+this.b)),a(this.b))};
var Rn=function(a){return new R(function(a,c){""==this.b?a(!0):chrome.identity.removeCachedAuthToken({token:this.b},t(this.l,this,a,c))},a)};Pn.prototype.l=function(a,b){this.b="";chrome.runtime.lastError?b(new Qn("chrome.identity.removeCachedAuthToken failed. Unexpected error.",chrome.runtime.lastError)):a(!0)};var Qn=function(a,b,c,d){Rl.call(this,a,b,c,d)};w(Qn,Rl);Qn.prototype.name="edulive.net.OAuthProvider.Error";
var Sn=function(){O.call(this);this.j=H("edulive.errors.ErrorManager");this.a=W.B();this.h=t(this.Ge,this);X(this.a,"edulive.messages.errors.Requests.getError",this.h);this.o=t(this.Ke,this);X(this.a,"edulive.messages.errors.Requests.getLastError",this.o);this.l=t(this.He,this);X(this.a,"edulive.messages.errors.Requests.getException",this.l);this.v=t(this.If,this);X(this.a,"edulive.messages.errors.Requests.setError",this.v);this.c=t(this.ge,this);X(this.a,"edulive.messages.errors.Requests.clearError",
this.c);this.A=t(this.Jf,this);X(this.a,"edulive.messages.errors.Requests.setException",this.A);this.C=this.g=this.b=null};w(Sn,O);r(Sn);
Sn.prototype.F=function(){Y(this.a,"edulive.messages.errors.Requests.getError",this.h);Y(this.a,"edulive.messages.errors.Requests.getLastError",this.o);Y(this.a,"edulive.messages.errors.Requests.getException",this.l);Y(this.a,"edulive.messages.errors.Requests.setError",this.v);Y(this.a,"edulive.messages.errors.Requests.clearError",this.c);Y(this.a,"edulive.messages.errors.Requests.setException",this.A);Sn.J.F.call(this)};
var Tn=function(a,b){var c=null==a.b?null:a.b.errorType,d=null==b?null:b.errorType;b&&K(a.j,"setError: "+N(b));if(a.b=b)a.g=b;c!=d&&nn(a.a,"edulive.messages.errors.Events.errorChanged",b);return c!=d},Un=function(a,b){var c=!1;a.b&&a.b.errorType==b&&(Tn(a,null),c=!0);return c};h=Sn.prototype;h.Ge=function(){return S(this.b)};h.Ke=function(){return S(this.g)};h.He=function(){return S(this.C)};h.If=function(a){a=a.message.params;return ja(a)&&a.helpText?S(Tn(this,a)):Cg(new Vl(a))}; h.Jf=function(a){this.C=a.message.params;return S(!0)};h.ge=function(a){a=a.message.params;return q(a)?S(Un(this,a)):Cg(new Vl(a))};
var Vn=function(){this.b=[];this.a=[]},Wn=function(a){0==a.b.length&&(a.b=a.a,a.b.reverse(),a.a=[]);return a.b.pop()};h=Vn.prototype;h.P=function(){return this.b.length+this.a.length};h.clear=function(){this.b=[];this.a=[]};h.contains=function(a){return 0<=Va(this.b,a)||0<=Va(this.a,a)};h.remove=function(a){var b=this.b;var c=Wa(b,a);0<=c?(Array.prototype.splice.call(b,c,1),b=!0):b=!1;return b||gb(this.a,a)}; h.S=function(){for(var a=[],b=this.b.length-1;0<=b;--b)a.push(this.b[b]);var c=this.a.length;for(b=0;b<c;++b)a.push(this.a[b]);return a};
var Xn=function(a,b){O.call(this);this.v=a||0;this.c=b||10;if(this.v>this.c)throw Error("[goog.structs.Pool] Min can not be greater than max");this.a=new Vn;this.b=new jd;this.l=null;this.Mb()};w(Xn,O);Xn.prototype.Tb=function(){var a=u();if(!(null!=this.l&&0>a-this.l)){for(var b;0<this.a.P()&&(b=Wn(this.a),!this.o(b));)this.Mb();!b&&this.P()<this.c&&(b=this.h());b&&(this.l=a,this.b.eb(b));return b}};Xn.prototype.pb=function(a){this.b.remove(a);this.o(a)&&this.P()<this.c?this.a.a.push(a):Yn(a)};
Xn.prototype.Mb=function(){for(var a=this.a;this.P()<this.v;){var b=this.h();a.a.push(b)}for(;this.P()>this.c&&0<this.a.P();)Yn(Wn(a))};Xn.prototype.h=function(){return{}};var Yn=function(a){if("function"==typeof a.W)a.W();else for(var b in a)a[b]=null};Xn.prototype.o=function(a){return"function"==typeof a.ce?a.ce():!0};Xn.prototype.contains=function(a){return this.a.contains(a)||this.b.contains(a)};Xn.prototype.P=function(){return this.a.P()+this.b.P()}; Xn.prototype.F=function(){Xn.J.F.call(this);if(0<this.b.P())throw Error("[goog.structs.Pool] Objects not released");delete this.b;for(var a=this.a;0!=a.b.length||0!=a.a.length;)Yn(Wn(a));delete this.a};
var Zn=function(a,b){this.a=a;this.b=b};Zn.prototype.clone=function(){return new Zn(this.a,this.b)};var $n=function(a){this.a=[];if(a)a:{if(a instanceof $n){var b=a.Z();a=a.S();if(0>=this.P()){for(var c=this.a,d=0;d<b.length;d++)c.push(new Zn(b[d],a[d]));break a}}else b=zb(a),a=yb(a);for(d=0;d<b.length;d++)ao(this,b[d],a[d])}},ao=function(a,b,c){var d=a.a;d.push(new Zn(b,c));b=d.length-1;a=a.a;for(c=a[b];0<b;)if(d=b-1>>1,a[d].a>c.a)a[b]=a[d],b=d;else break;a[b]=c};h=$n.prototype;
h.remove=function(){var a=this.a,b=a.length,c=a[0];if(!(0>=b)){if(1==b)eb(a);else{a[0]=a.pop();a=0;b=this.a;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,g=2*a+2;f=g<d&&b[g].a<b[f].a?g:f;if(b[f].a>e.a)break;b[a]=b[f];a=f}b[a]=e}return c.b}};h.S=function(){for(var a=this.a,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].b);return b};h.Z=function(){for(var a=this.a,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].a);return b};h.La=function(a){return $a(this.a,function(b){return b.b==a})};h.clone=function(){return new $n(this)}; h.P=function(){return this.a.length};h.clear=function(){eb(this.a)};
var bo=function(){$n.call(this)};w(bo,$n);var co=function(a,b){this.g=new bo;Xn.call(this,a,b)};w(co,Xn);h=co.prototype;h.Tb=function(a,b){if(!a)return co.J.Tb.call(this);ao(this.g,n(b)?b:100,a);this.zc()};h.zc=function(){for(var a=this.g;0<a.P();){var b=this.Tb();if(b)a.remove().apply(this,[b]);else break}};h.pb=function(a){co.J.pb.call(this,a);this.zc()};h.Mb=function(){co.J.Mb.call(this);this.zc()};h.F=function(){co.J.F.call(this);l.clearTimeout(void 0);this.g.clear();this.g=null};
var eo=function(a,b,c,d){this.A=a;this.C=!!d;co.call(this,b,c)};w(eo,co);eo.prototype.h=function(){var a=new xi,b=this.A;b&&b.forEach(function(b,d){a.headers.set(d,b)});this.C&&(a.o=!0);return a};eo.prototype.o=function(a){return!a.Ea()&&!a.b};var fo=function(a,b,c,d,e,f){P.call(this);this.l=n(a)?a:1;this.o=n(e)?Math.max(0,e):0;this.v=!!f;this.c=new eo(b,c,d,f);this.b=new D;this.h=new cg(this)};w(fo,P);var go="ready complete success error abort timeout".split(" ");fo.prototype.send=function(a,b,c,d,e,f,g,k,m,p){if(this.b.get(a))throw Error("[goog.net.XhrManager] ID in use");b=new ho(b,t(this.C,this,a),c,d,e,g,n(k)?k:this.l,m,n(p)?p:this.v);this.b.set(a,b);a=t(this.A,this,a);this.c.Tb(a,f);return b};
fo.prototype.abort=function(a,b){var c=this.b.get(a);if(c){var d=c.kc;c.$c=!0;b&&(d&&(this.h.a(d,go,c.Rc),Pf(d,"ready",function(){var a=this.c;a.b.remove(d)&&a.pb(d)},!1,this)),this.b.remove(a));d&&d.abort()}};fo.prototype.A=function(a,b){var c=this.b.get(a);c&&!c.kc?(this.h.listen(b,go,c.Rc),b.l=Math.max(0,this.o),b.A=c.Ub(),b.o=c.sd(),c.kc=b,Q(this,new io("ready",this,a,b)),jo(this,a,b),c.$c&&b.abort()):(a=this.c,a.b.remove(b)&&a.pb(b))};
fo.prototype.C=function(a,b){var c=b.target;switch(b.type){case "ready":jo(this,a,c);break;case "complete":a:{var d=this.b.get(a);if(7==c.c||c.va()||d.Ab())if(Q(this,new io("complete",this,a,c)),d&&(d.md=!0,d.ld)){a=d.ld.call(c,b);break a}a=null}return a;case "success":Q(this,new io("success",this,a,c));break;case "timeout":case "error":this.b.get(a).Ab()&&Q(this,new io("error",this,a,c));break;case "abort":Q(this,new io("abort",this,a,c))}return null};
var jo=function(a,b,c){var d=a.b.get(b);!d||d.md||d.Ab()?(d&&(a.h.a(c,go,d.Rc),a.b.remove(b)),a=a.c,a.b.remove(c)&&a.pb(c)):(d.Bc(),c.send(d.wb(),d.Sb(),d.tc(),d.vb()))};fo.prototype.F=function(){fo.J.F.call(this);this.c.W();this.c=null;this.h.W();this.h=null;this.b.clear();this.b=null};var io=function(a,b,c,d){yf.call(this,a,b);this.id=c;this.kc=d};w(io,yf);
var ho=function(a,b,c,d,e,f,g,k,m){this.o=a;this.h=c||"GET";this.b=d;this.c=e||null;this.g=n(g)?g:1;this.a=0;this.$c=this.md=!1;this.Rc=b;this.ld=f;this.l=k||"";this.v=!!m;this.kc=null};h=ho.prototype;h.wb=function(){return this.o};h.Sb=function(){return this.h};h.tc=function(){return this.b};h.vb=function(){return this.c};h.sd=function(){return this.v};h.Bc=function(){this.a++};h.Ab=function(){return this.a>this.g};h.Ub=function(){return this.l};
var ko=function(a,b,c){this.v=c||H("edulive.net.XhrPool");this.I=b||"edulive.net.XhrPool:";this.A=0;this.l=a||3;this.c=qn.B();this.L=Sn.B()};r(ko);var lo=new fo(0);ko.prototype.send=function(a){a=q(a)?new mo(a):a;a.g||no(a,this.l);var b=a.b;if(b){a.v=u();var c=u();this.c.b["API Timing"+b+void 0+String(a.I)]=c}oo(this,a);return a.L.a};
var oo=function(a,b){b.Bc();var c=t(a.C,a,b);lo.send(a.I+(++a.A).toString(),b.wb(),b.Sb(),b.tc(),b.vb(),void 0,c,0,b.Ub())},po=function(a,b,c){return a.b(b,c)?(c=Math.pow(2,b.a-1)*b.A||750,c+=(Math.random()-.5)*c,Yg(c).then(function(){oo(this,b)},void 0,a),!0):!1};ko.prototype.b=function(a){return!a.Ab()};
ko.prototype.a=function(a){a=(q(a)?new mo(a):a).clone();var b=new D(a.vb());b.set("Content-Type","application/json");a.c=b;return this.send(a).then(function(a){return null!=a&&q(a)&&!wa(a)?JSON.parse(a):a})};
ko.prototype.C=function(a,b){b=b.target;if(b.va()){Un(this.L,"connection");qo(this,a,b);var c=Ki(b);a.L.b(c)}else{switch(b.c){case 6:switch(wh(b)){case -1:c=new ro(String(b.C));break;case 0:c=new so;break;default:c=new to(xh(b),wh(b))}break;case 7:uo(this,a,b,new Mg("The operation was cancelled by the user."));return;case 8:c=new ro(String(b.C))}po(this,a,c)||uo(this,a,b,c)}};
var uo=function(a,b,c,d){qo(a,b,c);c=u()-b.v;K(a.v,b.Sb()+" "+b.wb()+" failed after "+b.a+" attempts in "+c+"ms: "+JSON.stringify(d));b.L.c(d)},qo=function(a,b,c){var d=b.b;d&&(wn(a.c,"API Timing",d,u(),void 0,String(b.I)),a=wh(c),vn(0,"API",d,0<a?"HTTP:"+a:"ERROR:"+c.c))},mo=function(a){this.C=a;this.A=this.g=this.o=this.c=this.h=this.l=void 0;this.a=0;this.b=void 0;this.v=0;this.I=++vo;this.L=Hg()},vo=0;
mo.prototype.clone=function(){var a=new mo(this.C);a.l=this.l;a.h=this.h;a.c=new D(this.c);a.o=this.o;a.g=this.g;a.A=this.A;a.a=this.a;a.b=this.b;a.v=this.v;a.I=this.I;return a};var xo=function(a){var b=wo(new mo(a.url),a.method);b.b=a.za;return b};mo.prototype.wb=function(){return this.C};mo.prototype.Sb=function(){return this.l};var wo=function(a,b){a.l=b;return a};mo.prototype.vb=function(){return this.c};mo.prototype.tc=function(){return this.h};
var yo=function(a,b){!b||!ja(b)||b instanceof ArrayBuffer||b instanceof Blob||b instanceof Document||b instanceof FormData||(b=JSON.stringify(b));a.h=b;return a};mo.prototype.Ub=function(){return this.o};var zo=function(a){a.o="blob";return a},no=function(a,b){a.g=b;return a};mo.prototype.Bc=function(){return++this.a};mo.prototype.Ab=function(){return this.a>this.g};var Ao=function(a,b,c){Rl.call(this,a,void 0,b,c||"connection")};w(Ao,Rl);Ao.prototype.name="edulive.net.XhrPool.Error";
var to=function(a,b,c,d){Ao.call(this,a,c,d);this.status=b};w(to,Ao);to.prototype.name="edulive.net.XhrPool.HttpError";var ro=function(a){var b=new Ph(a);Ao.call(this,"There was no response from the server.",chrome.i18n.getMessage("8250116767525441148",[an,b.a?b.a:a]))};w(ro,Ao);ro.prototype.name="edulive.net.XhrPool.Timeout";var so=function(){Ao.call(this,"Disconnected",dn,"connection")};w(so,Ao);so.prototype.name="edulive.net.XhrPool.DisconnectedError";
var Bo=function(a,b,c){ko.call(this,a,b||"edulive.net.OAuthXhrPool:",c||H("edulive.net.OAuthXhrPool"))};w(Bo,ko);r(Bo);Bo.prototype.send=function(a){var b=q(a)?new mo(a):a.clone();a=t(this.g,this,b);b=t(this.o,this,b);return Lg(Pn.B().c().then(a),b)};Bo.prototype.g=function(a,b){var c=new D(a.vb());c.set("Authorization","Bearer "+b);a.c=c;return ko.prototype.send.call(this,a)};Bo.prototype.b=function(a,b){return Bo.J.b.call(this,a,b)?b instanceof to?401!=b.status:!0:!1}; Bo.prototype.o=function(a,b){if(b instanceof to&&401==b.status)return b=t(Pn.B().c,Pn.B()),a=t(this.g,this,a.clone()),Rn(Pn.B()).then(b).then(a);throw b;};
var Co=function(a){Bo.call(this,a,"edulive.net.ApiXhrPool:",H("edulive.net.ApiXhrPool"))};w(Co,Bo);r(Co);
var Do={InternalServerError:"INTERNAL",WorkgroupAlreadyExists:"ALREADY_EXISTS",NotAllowed:"PERMISSION_DENIED",NotEnrolled:"FAILED_PRECONDITION",NotJoined:"FAILED_PRECONDITION",NotRegistered:"FAILED_PRECONDITION",BadRequest:"INVALID_ARGUMENT",MethodNotAllowed:"UNIMPLEMENTED",StateNotFound:"NOT_FOUND",StateOutOfSync:"OUT_OF_RANGE",WorkgroupNotFound:"NOT_FOUND",WorkgroupNotInSession:"FAILED_PRECONDITION"},Eo={NotRegistered:en,BadGateway:bn};
Co.prototype.send=function(a){return Lg(Co.J.send.call(this,a),t(this.h,this))};Co.prototype.a=function(a){return Lg(Co.J.a.call(this,a),function(a){if(a instanceof SyntaxError)throw new Fo(a.message,502,"BadGateway");throw a;},this)};Co.prototype.b=function(a,b){if(!Co.J.b.call(this,a,b))return!1;if(b instanceof ro||b instanceof so)return!0;if(b instanceof to)switch(b.status){case 500:case 502:case 503:case 504:case 405:return!0}return!1};
Co.prototype.h=function(a){if(a instanceof to){try{var b=JSON.parse(a.message)}catch(d){throw new Fo(a.message,a.status,"BadGateway");}a:{if(q(b.error)){if(b.error in Do){var c={error:b.error,info:b.debug};break a}}else if(ja(b.error)&&Bb(Do,b.error.status)){c={error:b.error.status,info:b.error.message};break a}c=null}if(null==c)throw a;b=c.error;c=c.info;throw new Fo(n(c)&&!wa(c)?c:b,a.status,b);}throw a;};var Fo=function(a,b,c){to.call(this,a,b,Eb(Eo,c),c)};w(Fo,to);Fo.prototype.name="edulive.net.ApiXhrPool.Error"; var Go=function(a){if(!(a instanceof Fo))return!1;a=a.errorType;return"WorkgroupNotFound"==a||a==Do.WorkgroupNotFound};
var Ho=function(a,b){return new R(function(c,d){chrome.storage.local.get(a,function(e){chrome.runtime.lastError?d(chrome.runtime.lastError):c(n(e[a])?e[a]:b)})})},Io=function(a,b){return new R(function(c,d){var e={};e[a]=b;chrome.storage.local.set(e,function(){chrome.runtime.lastError?d(chrome.runtime.lastError):c()})})},Jo=function(){new R(function(a,b){chrome.storage.local.remove("edulive.tango.Listener.LAST_VERSIONS",function(){chrome.runtime.lastError?b(chrome.runtime.lastError):a()})})};
var Ko=function(){P.call(this);this.j=H("edulive.startup.Startup");this.D=Pn.B();this.K=u();this.ba=window.setInterval(t(this.Nf,this),5E3);this.h=0;this.G=!0;this.c=!1;this.A=null;this.o=this.b=this.l=void 0;this.M=0;this.N=t(this.fa,this);this.D.listen("oauthFailed",this.N);this.Y=t(this.Pf,this);chrome.runtime.onStartup.addListener(this.Y);this.H=t(this.Ze,this);chrome.runtime.onInstalled.addListener(this.H);this.T=t(this.Lf,this);chrome.identity.onSignInChanged.addListener(this.T);this.O=t(this.ra,
this);chrome.idle.onStateChanged.addListener(this.O);chrome.runtime.onUpdateAvailable.addListener(t(this.Ia,this));this.Mc=this.C=!1};w(Ko,P);r(Ko);Ko.prototype.F=function(){chrome.idle.onStateChanged.removeListener(this.O);chrome.identity.onSignInChanged.removeListener(this.T);chrome.runtime.onInstalled.removeListener(this.H);chrome.runtime.onStartup.removeListener(this.Y);this.D.a("oauthFailed",this.N);this.h&&(Xg(this.h),this.h=0);window.clearInterval(this.ba);Ko.J.F.call(this)};
var Mo=function(){var a=Ko.B();return Fg([a.v(),Lo(a)])};Ko.prototype.v=function(){var a=(this.A?this.A:S()).then(this.$,void 0,this);this.A=a;return Kg(a,function(){this.A==a&&(this.A=null)},this)};var Lo=function(a){return n(a.o)?S(a.o):new R(function(a){chrome.idle.queryState(60,t(function(b){this.o="locked"==b;a(this.o)},this))},a)},No=function(a){a.h||(a.h=Wg(a.Mf,500,a))};
Ko.prototype.$=function(){var a=this.G,b=this.b;this.G=!1;var c=this.b?S(this.b):Oo(this),d=t(this.Xe,this,a,b),e=t(this.We,this,a);a=t(this.$d,this,a,this.c,b);return Kg(c.then(this.de,void 0,this).then(d,e),a)};var Oo=function(a){return new R(function(a,c){chrome.identity.getProfileUserInfo(t(function(b){var d=b&&b.email;b=b&&b.id;d&&b?(this.l=b,this.b=d.toLowerCase(),a(this.b)):c(new Po)},this))},a)};h=Ko.prototype;
h.de=function(){return this.D.c().then(function(){return this.b},function(a){if(a instanceof Qn)throw new Po;throw a;},this)};h.Xe=function(a,b,c){c!=b&&L(this.j,c+" signed in.");a||this.c||W.B().sendRequest("edulive.messages.errors.Requests.clearError","profile");this.h&&(Xg(this.h),this.h=0);this.c=!0;return c};h.We=function(a,b){a&&K(this.j,"No signed in user. email="+this.b+", id="+this.l);(this.l||this.b)&&No(this);this.c=!1;throw b;};
h.$d=function(a,b,c){a||(b!=this.c||c!=this.b)&&Q(this,this.c?"signin":"signout")};h.Nf=function(){var a=u(),b=a-this.K;1E4<=b&&(L(this.j,"Slept for "+b/1E3+" seconds. Firing WOKEUP event."),Q(this,"wokeup"));this.K=a};h.Pf=function(){M(this.j,"Detected chrome.runtime.onStartup.");Q(this,"started")};
h.Ze=function(a){M(this.j,"Detected chrome.runtime.chrome.runtime.onInstalled("+N(a)+").");switch(a.reason){case "install":Q(this,"installed");break;case "chrome_update":case "shared_module_update":Q(this,"upgraded");break;case "update":var b=!0;if(a=a.previousVersion){var c=chrome.runtime.getManifest();(b=c.version!=a)&&L(this.j,"Detected extension upgrade from "+a+" to "+c.version)}b&&Q(this,"upgraded")}};
h.Lf=function(a,b){a=a&&a.id;b?this.l&&this.l!=a||(this.l=this.b=void 0,this.c=!1,Q(this,"signin")):this.l==a&&(K(this.j,this.b+" signed out!"),this.l=this.b=void 0,this.c=!1,Q(this,"signout"))};h.Mf=function(){this.h=0;Lg(this.v(),function(a){if(!(a instanceof Po))throw a;},this)};var Qo=function(){var a=Ko.B(),b=u();36E5>b-a.M||(a.M=b,chrome.runtime.requestUpdateCheck(t(function(a){"update_available"==a&&(this.C=!0)},a)))};
Ko.prototype.Ia=function(){Ho("PREVIOUS_CLIENT_VERSION_KEY").then(function(a){var b=chrome.runtime.getManifest().version;a!=b&&Io("PREVIOUS_CLIENT_VERSION_KEY",b).then(function(){this.Mc=!0},function(a){this.j.ya("Error updating: "+a.message)},this)},function(a){this.j.ya("Error getting version: "+a.message)},this)};
var Ro=function(a){qn.B();a.C&&vn(0,"Other","Reloading to update client");Wg(function(){chrome.runtime.reload();J(this.j,"Reload apparently did not work.");vn(0,"Other","Reload failed")},a.C?2E3:0,a)};Ko.prototype.ra=function(a){M(this.j,"chrome.idle.onStateChanged("+a+")");var b="locked"==a;b!=this.o&&(this.o=b,Q(this,this.o?"locked":"unlocked"));"idle"==a&&this.Mc&&(J(this.j,"reloading..."),this.Mc=!1,Ro(this))};
Ko.prototype.fa=function(){this.b&&(K(this.j,this.b+" failed OAuth2. Treating as if signed out!"),this.c&&Q(this,"signout"),this.c=!1,No(this))};var Po=function(){Rl.call(this,"User not signed in.",void 0,fn,"profile")};w(Po,Rl);Po.prototype.name="edulive.startup.Startup.UserNotSignedInError";
var So=function(a){O.call(this);this.a=Gb(a);this.a.email=this.a.email&&this.a.email.toLowerCase();this.a.id=this.a.id||this.a.email;this.a.photoUrl=this.a.photoUrl?km(this.a.photoUrl):"unknown_user.png"};w(So,O);H("edulive.userinfo.UserInfo");So.prototype.R=function(){return this.a.id};var To=function(a){return"HOMEROOM_NOT_AVAILABLE"!=a};So.prototype.isTeacher=function(){return"TEACHER"==this.a.role};
var Uo=function(a){return Gb(a.a)},Vo=function(a){return Za(a,function(a){return Gb(a.a)})},Wo=null,Xo=function(){return Ko.B().v().then(function(a){return{id:null,fullName:null,photoUrl:null,email:a,role:null}})},Yo=function(a){return Wo=new So(a)},ap=function(a){Zo();if(a instanceof SyntaxError)throw new $o("Could not parse user information. Reason: ",a);throw a;},bp=function(){Zo()},Zo=function(){Wo=null;Ko.B().a("signout",bp)},$o=function(a,b){Rl.call(this,a,b)};w($o,Rl);$o.prototype.name="edulive.userinfo.UserInfo.Error";
var cp=function(){P.call(this);this.j=H("edulive.userinfo.SelfInfoManager");this.c=W.B();this.b=void 0;this.h=null;this.l=t(this.ze,this);Ko.B().listen("signout",this.l);this.c.listen("edulive.messages.options.Events.customServerEndpointChanged",this.l);this.v=t(this.Me,this);X(this.c,"edulive.messages.userInfo.Requests.self",this.v);this.o=t(this.A,this);X(this.c,"edulive.messages.userInfo.Requests.canUseHomeroom",this.o)};w(cp,P);r(cp);
cp.prototype.F=function(){Ko.B().a("signout",this.l);this.c.a("edulive.messages.options.Events.customServerEndpointChanged",this.l);Y(this.c,"edulive.messages.userInfo.Requests.canUseHomeroom",this.o);Y(this.c,"edulive.messages.userInfo.Requests.self",this.v);cp.J.F.call(this)};var ep=function(a){return dp(a).then(function(a){return To(a.a.role)},void 0,a)};cp.prototype.A=function(){return ep(this)};
var dp=function(a){return a.c.sendRequest("edulive.messages.userInfo.Requests.isClientObsolete").then(function(a){if(a)a=new So({id:"unused",fullName:"unused",photoUrl:"unused",email:"unused",role:"HOMEROOM_NOT_AVAILABLE"});else{if(a=this.b)a=this.b.a.role,a="STUDENT"==a||"TEACHER"==a;a?a=S(this.b):(this.h||(M(this.j,"Beginning requestSelf process."),this.h=Kg(Lg(Ko.B().v().then(this.oe,void 0,this),this.zf,this),t(this.fe,this,this.h))),a=this.h)}return a},function(a){if(a.name==so.prototype.name||
a.name==ro.prototype.name||a.name==Fo.prototype.name)return Wo?a=S(Wo):(Ko.B().listen("signout",bp),a=Xo().then(Yo,ap)),a;throw a;},a)};h=cp.prototype;h.oe=function(a){var b={url:em("participants","me").toString(),method:"GET",za:"API Call: GET_PARTICIPANT"};b=no(yo(xo(b),{}),6);a=t(this.Af,this,a);return Co.B().a(b).then(a)};
h.Af=function(a,b){(b=b.participant)&&To(b.role)?L(this.j,a+" ("+b.id+") now registered, role = "+b.role):(L(this.j,a+" cannot use homeroom"),b.email=a,Q(this,"requestFailed"));a=new So(b);b=!this.b||this.b.R()!=a.R();this.b=a;b&&Q(this,"selfChanged");return this.b};h.zf=function(a){K(this.j,"Failed getting self info");Q(this,"requestFailed");throw a;};h.fe=function(){this.h=null};h.ze=function(){M(this.j,"Self info cache cleared");this.b=null;Q(this,"selfChanged")};h.Me=function(){return dp(this).then(Uo)};
var Fn=function(){P.call(this);this.j=H("edulive.connection.RegistrationManager");this.b=W.B();this.C=cp.B();this.h=0;this.v=this.A=void 0;this.c=null;this.o=t(this.Bf,this);Ko.B().listen("wokeup",this.o);Ko.B().listen("signin",this.o);this.l=t(this.Xf,this);xn.B().listen(In,this.l);Ko.B().listen("signout",this.l);this.C.listen("requestFailed",this.l);this.N=t(this.Ne,this);X(this.b,"edulive.messages.connection.Requests.state",this.N);this.H=t(this.Fe,this);X(this.b,"edulive.messages.options.Requests.getDefaultServerEndpoint",
this.H);this.G=t(this.Ee,this);X(this.b,"edulive.messages.options.Requests.getCustomServerEndpoint",this.G);this.T=t(this.Hf,this);X(this.b,"edulive.messages.options.Requests.setCustomServerEndpoint",this.T);this.O=t(this.xf,this);X(this.b,"edulive.messages.connection.Requests.register",this.O);this.K=t(this.Ie,this);X(this.b,"edulive.messages.connection.Requests.homeroomUrl",this.K);this.D=t(this.ve,this);this.b.listen("edulive.messages.errors.Events.errorChanged",this.D);this.M=t(this.Je,this);
X(this.b,"edulive.messages.userInfo.Requests.isClientObsolete",this.M)};w(Fn,P);r(Fn);
Fn.prototype.F=function(){Y(this.b,"edulive.messages.userInfo.Requests.isClientObsolete",this.M);this.b.a("edulive.messages.errors.Events.errorChanged",this.D);Y(this.b,"edulive.messages.connection.Requests.register",this.O);Y(this.b,"edulive.messages.options.Requests.getDefaultServerEndpoint",this.H);Y(this.b,"edulive.messages.options.Requests.getCustomServerEndpoint",this.G);Y(this.b,"edulive.messages.options.Requests.setCustomServerEndpoint",this.T);Y(this.b,"edulive.messages.connection.Requests.state",
this.N);Y(this.b,"edulive.messages.connection.Requests.homeroomUrl",this.K);this.C.a("requestFailed",this.l);Ko.B().a("signout",this.l);xn.B().a(In,this.l);Ko.B().a("signin",this.o);Ko.B().a("wokeup",this.o);Fn.J.F.call(this)};var fp=function(a){return Lg(a.register(),function(a){if(a instanceof Po||a instanceof so||a instanceof Qn)return this.Ya(0);throw a;},a)};Fn.prototype.register=function(){return this.gc(!1)};
var gp=function(a){return a.Ma().then(function(){return this.A},void 0,a)},En=function(a){return a.Ma().then(function(){return this.v},void 0,a)};h=Fn.prototype;h.Je=function(){return En(this)};h.getState=function(){return this.h};h.Ma=function(){return this.c?this.c.then(this.Ma,void 0,this):2==this.h?S(this.h):this.register()};
h.Ya=function(a){if(this.h!=a){switch(a){case 0:var b="Unknown";break;case 1:b="Registering";break;case 2:b="Registered";break;default:b="Bad State!"}L(this.j,"State: "+b);this.h=a;Q(this,"stateChanged");nn(this.b,"edulive.messages.connection.Events.stateChanged",this.h)}return this.h};h.gc=function(a){if(this.c&&!a)return this.c;this.c=(this.c||S()).then(t(this.Of,this,a));Kg(this.c,t(this.ee,this,this.c));return this.c};
h.Of=function(a){var b=S(this.h);if(a||2!=this.h)M(this.j,"Beginning registration process."),a=Ko.B(),b=Lg(b.then(t(this.Ya,this,1)).then(a.v,void 0,a).then(function(){return Dn()},void 0,this).then(this.ne,void 0,this),this.wf,this);return b};h.ne=function(a){var b={url:em("participants","me").toString(),method:"PUT",za:"API Call: UPDATE_PARTICIPANT"},c={gcmId:a,omitParticipantInResponse:!0,clientVersion:chrome.runtime.getManifest().version||"unknown"};b=no(yo(xo(b),c),6);a=t(this.yf,this,a);return Co.B().a(b).then(a)};
h.yf=function(a,b){if((this.v="OBSOLETE"==b.clientStatus)||"SHOULD_UPDATE"==b.clientStatus)K(this.j,"Client status: "+b.clientStatus),Qo();this.A=b.serverParameters&&b.serverParameters.homeroomUrl||"https://classroom.google.com/";L(this.j,"Now registered at "+this.A);return this.Ya(2)};h.wf=function(a){this.Ya(0);throw a;};h.ee=function(a){this.c==a&&(this.c=null)};h.Bf=function(){Lg(this.gc(!0),function(a){if(!(a instanceof Po))throw a;})};h.Xf=function(){this.Ya(0)};h.Ne=function(){return S(this.getState())};
h.Ie=function(){return gp(this)};h.Hf=function(a){a=a.message.params;var b=cm!=a;b&&(cm=a,dm=bi(fi(cm),fi("/v2/")));var c=S(this.h);b&&(nn(this.b,"edulive.messages.options.Events.customServerEndpointChanged",a),c=c.then(t(this.Ya,this,0)));return c.then(t(this.gc,this,b))};h.Ee=function(){return S(cm)};h.Fe=function(){return S("https://classroomlive-pa.googleapis.com")};h.xf=function(a){return this.gc(!!a.message.params)};h.ve=function(a){a.message.params instanceof so&&this.Ya(0)};
var hp=function(){};r(hp);hp.prototype.b=function(){return!0};hp.prototype.U=function(a,b){return a==b};hp.prototype.hash=function(a){return a};var ip=function(a,b){this.b=a;this.a=b};ip.prototype.wb=function(){return this.b};ip.prototype.R=function(){return this.a};var jp=function(a){this.a=a};var kp=function(a){this.g=a||"spreadsheets|docs|drive|script|sites|jamboard"};r(kp);
var lp=function(a){var b=4,c=[],d={rb:"/d/([0-9a-zA-Z\\-\\_]+)",Eb:b+=1};c.push(d);d={rb:"(\\?|&|&amp;)(id|docid|key|docID|DocId)=([0-9a-zA-Z\\-\\_]+)",Eb:b+=3};c.push(d);d={rb:"/folders/([0-9a-zA-Z\\-\\_]+)",Eb:b+=1};c.push(d);d={rb:"/?s/([0-9a-zA-Z\\-\\_]+)(?:/p/[0-9a-zA-Z\\-\\_]+)?/edit",Eb:b+=1};c.push(d);c.push({rb:"d/([0-9a-zA-Z\\-\\_]+)/(?:edit|viewer)",Eb:b+1});d=[];for(b=0;b<c.length;b++)d.push(c[b].Eb);a.b=d;d="(https?://)?("+a.g+")[0-9]?.google.com";var e="(";for(b=0;b<c.length;b++)e+=
c[b].rb,b!=c.length-1&&(e+="|");a.c=new RegExp("\\b"+d+"(:[0-9]+)?\\/\\S*"+(e+")")+"[0-9a-zA-Z$\\-\\_\\.\\+\\!\\*'\\,;:@&=/\\?]*(#[0-9a-zA-Z$\\-\\_\\.\\+\\!\\*'\\,;:@&=/\\?]+)?\\b","g");a.a=/(\bspreadsheet\/gform\b)|(\bforms\/\b)|(\bpub\b)/},mp=function(a){a.c||lp(a);return a.c},np=function(a){a.a||lp(a);return a.a},op=function(a,b){if(!b)return b;var c=np(a);a=Ya(b,function(a){return!a.match(c)});return 0==a.length?null:a};
var pp=function(){this.a=kp.B()};r(pp);pp.prototype.b=function(a){return!!this.R(a)};pp.prototype.U=function(a,b){a=this.R(a);b=this.R(b);return!(!a||!b)&&a==b};pp.prototype.hash=function(a){return this.R(a)||a};
pp.prototype.R=function(a){var b=this.a;if(a=(a=op(b,a.match(mp(b))))?Za(a,Ja):a){for(var c=[],d=0;d<a.length;d++){var e=a[d];b:{var f=b;var g=e;var k=mp(f);k.lastIndex=0;if(g=k.exec(g))for(f.b||lp(f),f=f.b,k=0;k<f.length;k++){var m=g[f[k]];if(m){g=m;break b}}g=null}try{fi(e).c.get("authkey")}catch(p){}c.push(new ip(e,g))}b=new jp(c)}else b=null;return b?(b=b.a)&&b.length?b[0].R():null:null};
var qp=function(){this.a=[]};r(qp);var rp=function(a){if(0==a.a.length){var b=pp.B();fb(a.a,b);b=hp.B();fb(a.a,b)}};qp.prototype.b=function(){return!0};qp.prototype.U=function(a,b){0==this.a.length&&rp(this);return cb(this.a,function(c){return c.b(a)||c.b(b)},this).U(a,b)};qp.prototype.hash=function(a){0==this.a.length&&rp(this);return cb(this.a,function(b){return b.b(a)},this).hash(a)};
var sp=function(){P.call(this);this.j=H("edulive.tabs.Tabs");this.b=Ko.B();this.h=null;this.c={};this.v=t(this.lf,this);chrome.tabs.onUpdated.addListener(this.v);this.l=t(this.df,this);chrome.tabs.onActivated.addListener(this.l);this.o=t(this.ef,this);chrome.tabs.onRemoved.addListener(this.o);this.A=t(this.mf,this);chrome.windows.onFocusChanged.addListener(this.A);this.C=t(this.Qf,this);this.b.listen("locked",this.C);this.D=t(this.Rf,this);this.b.listen("unlocked",this.D)};w(sp,P);r(sp);
sp.prototype.F=function(){this.b.a("unlocked",this.D);this.b.a("locked",this.C);chrome.windows.onFocusChanged.removeListener(this.A);chrome.tabs.onRemoved.removeListener(this.o);chrome.tabs.onActivated.removeListener(this.l);chrome.tabs.onUpdated.removeListener(this.v);sp.J.F.call(this)};
var up=function(a,b){I(a.j,G,"getTab("+b+")");return new R(function(a,d){chrome.tabs.get(b,t(function(c){chrome.runtime.lastError?(c=new tp("Tab not found",chrome.runtime.lastError),K(this.j,"Tab "+b+" not found. Details: "+N(c)),d(c)):a(c)},this))},a)},vp=function(a,b){var c=qp.B();I(a.j,Dd,"getTabByUrl("+b+", undefined)");return new R(function(a){chrome.tabs.query({},t(function(d){d=d||[];d=Ya(d,function(a){return c.U(b,a.url)},this);d.length?a(d[0]):a(null)},this))},a)},xp=function(a){I(a.j,G,
"getActiveTab()");return wp(a).then(function(a){if(!a||!a.tabs)return null;a=cb(a.tabs,function(a){return a.active});I(this.j,G,"ActiveTab: "+N(a));return a},void 0,a)},zp=function(a){I(a.j,G,"getLastViewedTab()");return yp(a).then(function(a){if(!a||!a.tabs)return null;a=cb(a.tabs,function(a){return a.active});I(this.j,G,"LastViewedTab: "+N(a));return a},void 0,a)},Dp=function(a,b){I(a.j,G,"createTab("+b+", false)");return Ap(a).then(function(a){return a?Bp(this,b,a):Cp(this,b)},void 0,a)},Fp=function(a,
b){I(a.j,G,"showTab("+b+")");return new R(function(a,d){chrome.tabs.update(b,{active:!0},t(function(c){if(chrome.runtime.lastError){var e=new tp("Tab not found",chrome.runtime.lastError);K(this.j,"Tab "+b+" not found. Details: "+N(e));d(e)}else Ep(this,c.windowId).then(function(){a(c)},void 0,this)},this))},a)},Gp=function(a,b){I(a.j,G,"getWindow("+b+")");return new R(function(a,d){chrome.windows.get(b,{populate:!0},t(function(c){chrome.runtime.lastError?(c=new tp("Window not found",chrome.runtime.lastError),
K(this.j,"Window "+b+" not found. Details: "+N(c)),d(c)):a(c)},this))},a)},yp=function(a){I(a.j,G,"getLastFocusedWindow()");return new R(function(a,c){var b={populate:!0},e=t(function(b){if(chrome.runtime.lastError)if("No last-focused window"==chrome.runtime.lastError.message||0==chrome.runtime.lastError.message.lastIndexOf("No window with id",0))b=null;else{var d=new tp("Window not found",chrome.runtime.lastError);K(this.j,"getLastFocused failed. Details: "+N(d));c(d)}b=b&&!b.incognito?b:null;I(this.j,
G,"FocusedWindow: "+N(b));a(b)},this);null!=this.h?chrome.windows.get(this.h,b,e):chrome.windows.getLastFocused(b,e)},a)},wp=function(a){return Fg([Lo(a.b),yp(a)]).then(function(a){var b=a[1];return b?!a[0]&&b.focused?b:null:null},void 0,a)},Cp=function(a,b){var c="createTabInNewWindow("+b+", false)";I(a.j,G,c);var d=Hg();chrome.windows.create({url:b,focused:!0,type:"normal"},t(function(a){chrome.runtime.lastError?(a=new tp("Tab Create Failed",chrome.runtime.lastError),J(this.j,c+" failed. Details: "+
N(a)),d.c(a)):(M(this.j,c+". Created window: "+a.id),this.c[a.tabs[0].id]=d)},a));return d.a},Ep=function(a,b){I(a.j,G,"showWindow("+b+")");return new R(function(a,d){Gp(this,b).then(function(b){b.focused&&a(b);chrome.windows.update(b.id,{focused:!0},t(function(c){chrome.runtime.lastError?(c=new tp("Could not bring window to the front",chrome.runtime.lastError),J(this.j,"Setting focus to "+b.id+" failed. Details: "+N(c)),d(c)):a(c)},this))},void 0,this)},a)},Hp=function(a,b){I(a.j,G,"getThumbnail("+
b+")");return up(a,b).then(function(a){return a.active?S(a):Fp(this,a.id)},void 0,a).then(a.G,void 0,a)};sp.prototype.G=function(a){return new R(function(b){chrome.tabs.captureVisibleTab(a.windowId,{format:"png"},t(function(c){chrome.runtime.lastError&&(K(this.j,'Failed to create a thumbnail for "'+a.url+'". Reason: '+chrome.runtime.lastError.message),c="unknown_thumbnail.png");M(this.j,"Generated "+c+" for tab "+a.id);b(c)},this))},this)};
var Ap=function(a){return new R(function(a){chrome.windows.getLastFocused({populate:!0},t(function(b){!b||b.incognito||"normal"!=b.type?chrome.windows.getAll(t(function(b){b&&b.length?(b=cb(b,function(a){return a.incognito||"normal"!=a.type?!1:!0},this),a(b)):a(null)},this)):a(b)},this))},a)},Bp=function(a,b,c){var d="createTab_("+b+(c?", "+c.id:"")+")";I(a.j,G,d);var e=Hg(),f={url:b};c?f.windowId=c.id:f.active=!0;chrome.tabs.create(f,t(function(a){chrome.runtime.lastError?(a=new tp("Tab Create Failed",
chrome.runtime.lastError),J(this.j,d+" failed. Details: "+N(a)),e.c(a)):(M(this.j,"Created Tab "+a.id+" for "+b),this.c[a.id]=e,Ep(this,a.windowId))},a));return e.a};h=sp.prototype;
h.lf=function(a,b,c){M(this.j,"chrome.tabs.onUpdated("+a+","+JSON.stringify(b)+")");(c?S(c):up(this,a)).then(function(c){var d=b.status,f=this.c[a];f?"complete"==d&&(M(this.j,a+" is now showing "+c.url),Db(this.c,a),f.b(c),Q(this,new Ip(this,"url_changed",c))):(d=b.url,gg(this,"url_changed")&&n(d)&&Q(this,new Ip(this,"url_changed",c)))},function(c){if(c instanceof tp)K(this.j,"Could not find tab for "+a+", "+JSON.stringify(b));else throw c;},this)};
h.df=function(a){M(this.j,"chrome.tabs.onActivated("+JSON.stringify(a)+")");if(gg(this,"activated")){var b=a.tabId;Lg(up(this,b),function(a){if(a instanceof tp)return K(this.j,"Can't get data for tab "+b),null;throw a;},this).then(function(a){a=a&&!a.incognito?a:null;Q(this,new Ip(this,"activated",a))},void 0,this)}};h.ef=function(a,b){M(this.j,"chrome.tabs.onRemoved_("+a+", "+JSON.stringify(b)+")");gg(this,"closed")&&Q(this,new Ip(this,"closed",null,a))};
h.mf=function(a){M(this.j,"chrome.windows.onFocusChanged("+a+")");a!=chrome.windows.WINDOW_ID_NONE&&(this.h=a);(a!=chrome.windows.WINDOW_ID_NONE?xp(this):S(null)).then(function(a){Q(this,new Ip(this,"activated",a))},void 0,this)};h.Qf=function(){Q(this,new Ip(this,"activated",null))};h.Rf=function(){xp(this).then(function(a){Q(this,new Ip(this,"activated",a))},void 0,this)};var Ip=function(a,b,c,d){yf.call(this,b,a);this.tabId=c&&c.id||d;this.b=c};w(Ip,yf);var tp=function(a,b){Rl.call(this,a,b)}; w(tp,Rl);tp.prototype.name="edulive.tabs.Tabs.Error";
var Jp=function(){O.call(this);this.j=H("edulive.icon.IconState");this.h=W.B();this.c=sp.B();this.a=0;this.b=null;this.o=t(this.tf,this);chrome.runtime.onConnect.addListener(this.o);this.g={};this.l=t(this.pf,this);X(this.h,"edulive.messages.icon.Requests.open",this.l)};w(Jp,O);r(Jp);h=Jp.prototype;h.F=function(){Y(this.h,"edulive.messages.icon.Requests.open",this.l);chrome.runtime.onConnect.removeListener(this.o);ub(this.g,function(a){a()});this.b&&this.c.a("activated",this.b);Jp.J.F.call(this)};
h.pf=function(){if(this.a)return M(this.j,"Popup already open (handler)"),S(!0);M(this.j,"Focusing windows to open popup");return yp(this.c).then(function(a){return Lg(new R(function(b,c){a?chrome.windows.update(a.id,{focused:!0},t(this.Jc,this,b,c)):chrome.windows.create(void 0,t(this.Jc,this,b,c))},this),function(a){if("Window not found"==a.message){if(!this.b)return K(this.j,"Opening popup failed.  Trying again after Chrome is in focus."),new R(function(a,b){this.b=t(this.nf,this,a,b);this.c.listen("activated",
this.b)},this)}else throw a;},this)},void 0,this)};h.Jc=function(a,b){L(this.j,"Opening popup");this.a?(M(this.j,"Popup already open (openPopup_)"),a(!0)):chrome.browserAction.openPopup(t(function(c){!chrome.runtime.lastError&&c?(M(this.j,"Popup opened the first try"),a(!0)):(M(this.j,"Popup failed to open.  Trying again."),Wg(function(){chrome.browserAction.openPopup(function(c){!chrome.runtime.lastError&&c?a(!0):(c=new tp("Window not found",chrome.runtime.lastError),b(c))})},500))},this))};
h.nf=function(a,b){this.c.a("activated",this.b);this.b=null;this.Jc(a,b)};h.tf=function(a){if("edulive.messages.icon.CONNECT_NAME"==a.name){this.a+=1;M(this.j,this.a+" popups now open");var b=t(this.sf,this,a);this.g[ma(a)]=b;a.onDisconnect.addListener(b)}};h.sf=function(a){--this.a;M(this.j,this.a+" popups now open");var b=this.g[ma(a)];a.onDisconnect.removeListener(b);delete this.g[ma(a)]};
var Kp=function(a,b,c){yf.call(this,b,a);this.workgroupId=c};w(Kp,yf);var Lp=function(){y.call(this)};w(Lp,y);var Mp=null,Np=function(){y.call(this)};w(Np,y);var Op=null,Pp=function(){y.call(this)};w(Pp,y);var Qp=null,Rp=function(){y.call(this)};w(Rp,y);var Sp=null,Tp={SUCCESS:1,Kh:2,$g:3},Up=function(){y.call(this)};w(Up,y);var Vp=null,Wp=function(){y.call(this)};w(Wp,y);var Xp=null,Yp=function(){y.call(this)};w(Yp,y);var Zp=null,$p=function(){y.call(this)};w($p,y);var aq=null,bq={kh:1,Nh:2},cq=function(){y.call(this)};w(cq,y);var dq=null,eq=function(){y.call(this)};
w(eq,y);var fq=null,gq=function(){y.call(this)};w(gq,y);var hq=null,iq=function(){y.call(this)};w(iq,y);var jq=null,kq={dg:1,Ug:2},lq=function(){y.call(this)};w(lq,y);var mq=null,nq=function(){y.call(this)};w(nq,y);var oq=null,pq=function(){y.call(this)};w(pq,y);var qq=null,rq=function(){y.call(this)};w(rq,y);var sq=null,tq=function(){y.call(this)};w(tq,y);var uq=null,vq=function(){y.call(this)};w(vq,y);var wq=null,xq=function(){y.call(this)};w(xq,y);var yq=null,zq=function(){y.call(this)};w(zq,y);
var Aq=null,Bq=function(){y.call(this)};w(Bq,y);var Cq=null,Dq=function(){y.call(this)};w(Dq,y);var Eq=null,Fq=function(){y.call(this)};w(Fq,y);var Gq=null,Hq=function(){y.call(this)};w(Hq,y);var Iq=null,Jq=function(){y.call(this)};w(Jq,y);var Kq=null,Lq={yg:1},Mq=function(){y.call(this)};w(Mq,y);var Nq=null;Mq.prototype.P=function(){return A(this,2)};var Oq=function(){y.call(this)};w(Oq,y);var Pq=null,Qq=function(){y.call(this)};w(Qq,y);var Rq=null,Sq=function(){y.call(this)};w(Sq,y);
var Tq=null,Uq=function(){y.call(this)};w(Uq,y);var Vq=null,Wq={bg:1,Mh:1E4};Lp.prototype.getDescriptor=function(){var a=Mp;a||(Mp=a=C(Lp,{0:{name:"Version",fullName:"ipc.invalidation.Version"},1:{name:"major_version",w:5,type:Number},2:{name:"minor_version",w:5,type:Number}}));return a};Lp.getDescriptor=Lp.prototype.getDescriptor;
Np.prototype.getDescriptor=function(){var a=Op;a||(Op=a=C(Np,{0:{name:"ProtocolVersion",fullName:"ipc.invalidation.ProtocolVersion"},1:{name:"version",w:11,type:Lp}}));return a};Np.getDescriptor=Np.prototype.getDescriptor;
Pp.prototype.getDescriptor=function(){var a=Qp;a||(Qp=a=C(Pp,{0:{name:"ClientVersion",fullName:"ipc.invalidation.ClientVersion"},1:{name:"version",w:11,type:Lp},2:{name:"platform",w:9,type:String},3:{name:"language",w:9,type:String},4:{name:"application_info",w:9,type:String}}));return a};Pp.getDescriptor=Pp.prototype.getDescriptor;
Rp.prototype.getDescriptor=function(){var a=Sp;a||(Sp=a=C(Rp,{0:{name:"StatusP",fullName:"ipc.invalidation.StatusP"},1:{name:"code",w:14,defaultValue:1,type:Tp},2:{name:"description",w:9,type:String}}));return a};Rp.getDescriptor=Rp.prototype.getDescriptor;Up.prototype.getDescriptor=function(){var a=Vp;a||(Vp=a=C(Up,{0:{name:"ObjectIdP",fullName:"ipc.invalidation.ObjectIdP"},1:{name:"source",w:5,type:Number},2:{name:"name",w:12,type:String}}));return a};Up.getDescriptor=Up.prototype.getDescriptor;
Wp.prototype.getDescriptor=function(){var a=Xp;a||(Xp=a=C(Wp,{0:{name:"ApplicationClientIdP",fullName:"ipc.invalidation.ApplicationClientIdP"},1:{name:"client_type",w:5,type:Number},2:{name:"client_name",w:12,type:String}}));return a};Wp.getDescriptor=Wp.prototype.getDescriptor;
Yp.prototype.getDescriptor=function(){var a=Zp;a||(Zp=a=C(Yp,{0:{name:"InvalidationP",fullName:"ipc.invalidation.InvalidationP"},1:{name:"object_id",w:11,type:Up},2:{name:"is_known_version",w:8,type:Boolean},3:{name:"version",w:3,type:String},6:{name:"is_trickle_restart",w:8,defaultValue:!0,type:Boolean},4:{name:"payload",w:12,type:String}}));return a};Yp.getDescriptor=Yp.prototype.getDescriptor;
$p.prototype.getDescriptor=function(){var a=aq;a||(aq=a=C($p,{0:{name:"RegistrationP",fullName:"ipc.invalidation.RegistrationP"},1:{name:"object_id",w:11,type:Up},2:{name:"op_type",w:14,defaultValue:1,type:bq}}));return a};$p.getDescriptor=$p.prototype.getDescriptor;
cq.prototype.getDescriptor=function(){var a=dq;a||(dq=a=C(cq,{0:{name:"RegistrationSummary",fullName:"ipc.invalidation.RegistrationSummary"},1:{name:"num_registrations",w:5,type:Number},2:{name:"registration_digest",w:12,type:String}}));return a};cq.getDescriptor=cq.prototype.getDescriptor;
eq.prototype.getDescriptor=function(){var a=fq;a||(fq=a=C(eq,{0:{name:"ClientHeader",fullName:"ipc.invalidation.ClientHeader"},1:{name:"protocol_version",w:11,type:Np},2:{name:"client_token",w:12,type:String},3:{name:"registration_summary",w:11,type:cq},4:{name:"client_time_ms",w:3,type:Number},5:{name:"max_known_server_time_ms",w:3,type:Number},6:{name:"message_id",w:9,type:String},7:{name:"client_type",w:5,type:Number}}));return a};eq.getDescriptor=eq.prototype.getDescriptor;
gq.prototype.getDescriptor=function(){var a=hq;a||(hq=a=C(gq,{0:{name:"ClientToServerMessage",fullName:"ipc.invalidation.ClientToServerMessage"},1:{name:"header",w:11,type:eq},2:{name:"initialize_message",w:11,type:iq},3:{name:"registration_message",w:11,type:lq},4:{name:"registration_sync_message",w:11,type:nq},5:{name:"invalidation_ack_message",w:11,type:Hq},6:{name:"info_message",w:11,type:rq}}));return a};gq.getDescriptor=gq.prototype.getDescriptor;
iq.prototype.getDescriptor=function(){var a=jq;a||(jq=a=C(iq,{0:{name:"InitializeMessage",fullName:"ipc.invalidation.InitializeMessage"},1:{name:"client_type",w:5,type:Number},2:{name:"nonce",w:12,type:String},3:{name:"application_client_id",w:11,type:Wp},4:{name:"digest_serialization_type",w:14,defaultValue:1,type:kq}}));return a};iq.getDescriptor=iq.prototype.getDescriptor;
lq.prototype.getDescriptor=function(){var a=mq;a||(mq=a=C(lq,{0:{name:"RegistrationMessage",fullName:"ipc.invalidation.RegistrationMessage"},1:{name:"registration",Ha:!0,w:11,type:$p}}));return a};lq.getDescriptor=lq.prototype.getDescriptor;nq.prototype.getDescriptor=function(){var a=oq;a||(oq=a=C(nq,{0:{name:"RegistrationSyncMessage",fullName:"ipc.invalidation.RegistrationSyncMessage"},1:{name:"subtree",Ha:!0,w:11,type:pq}}));return a};nq.getDescriptor=nq.prototype.getDescriptor;
pq.prototype.getDescriptor=function(){var a=qq;a||(qq=a=C(pq,{0:{name:"RegistrationSubtree",fullName:"ipc.invalidation.RegistrationSubtree"},1:{name:"registered_object",Ha:!0,w:11,type:Up}}));return a};pq.getDescriptor=pq.prototype.getDescriptor;
rq.prototype.getDescriptor=function(){var a=sq;a||(sq=a=C(rq,{0:{name:"InfoMessage",fullName:"ipc.invalidation.InfoMessage"},1:{name:"client_version",w:11,type:Pp},2:{name:"config_parameter",Ha:!0,w:11,type:tq},3:{name:"performance_counter",Ha:!0,w:11,type:tq},4:{name:"server_registration_summary_requested",w:8,type:Boolean},5:{name:"client_config",w:11,type:Qq}}));return a};rq.getDescriptor=rq.prototype.getDescriptor;
tq.prototype.getDescriptor=function(){var a=uq;a||(uq=a=C(tq,{0:{name:"PropertyRecord",fullName:"ipc.invalidation.PropertyRecord"},1:{name:"name",w:9,type:String},2:{name:"value",w:5,type:Number}}));return a};tq.getDescriptor=tq.prototype.getDescriptor;
vq.prototype.getDescriptor=function(){var a=wq;a||(wq=a=C(vq,{0:{name:"ServerHeader",fullName:"ipc.invalidation.ServerHeader"},1:{name:"protocol_version",w:11,type:Np},2:{name:"client_token",w:12,type:String},3:{name:"registration_summary",w:11,type:cq},4:{name:"server_time_ms",w:3,type:Number},5:{name:"message_id",w:9,type:String}}));return a};vq.getDescriptor=vq.prototype.getDescriptor;
xq.prototype.getDescriptor=function(){var a=yq;a||(yq=a=C(xq,{0:{name:"ServerToClientMessage",fullName:"ipc.invalidation.ServerToClientMessage"},1:{name:"header",w:11,type:vq},2:{name:"token_control_message",w:11,type:zq},3:{name:"invalidation_message",w:11,type:Hq},4:{name:"registration_status_message",w:11,type:Dq},5:{name:"registration_sync_request_message",w:11,type:Fq},6:{name:"config_change_message",w:11,type:Sq},7:{name:"info_request_message",w:11,type:Jq},8:{name:"error_message",w:11,type:Uq}}));
return a};xq.getDescriptor=xq.prototype.getDescriptor;zq.prototype.getDescriptor=function(){var a=Aq;a||(Aq=a=C(zq,{0:{name:"TokenControlMessage",fullName:"ipc.invalidation.TokenControlMessage"},1:{name:"new_token",w:12,type:String}}));return a};zq.getDescriptor=zq.prototype.getDescriptor;Bq.prototype.getDescriptor=function(){var a=Cq;a||(Cq=a=C(Bq,{0:{name:"RegistrationStatus",fullName:"ipc.invalidation.RegistrationStatus"},1:{name:"registration",w:11,type:$p},2:{name:"status",w:11,type:Rp}}));return a};
Bq.getDescriptor=Bq.prototype.getDescriptor;Dq.prototype.getDescriptor=function(){var a=Eq;a||(Eq=a=C(Dq,{0:{name:"RegistrationStatusMessage",fullName:"ipc.invalidation.RegistrationStatusMessage"},1:{name:"registration_status",Ha:!0,w:11,type:Bq}}));return a};Dq.getDescriptor=Dq.prototype.getDescriptor;Fq.prototype.getDescriptor=function(){var a=Gq;a||(Gq=a=C(Fq,{0:{name:"RegistrationSyncRequestMessage",fullName:"ipc.invalidation.RegistrationSyncRequestMessage"}}));return a};Fq.getDescriptor=Fq.prototype.getDescriptor;
Hq.prototype.getDescriptor=function(){var a=Iq;a||(Iq=a=C(Hq,{0:{name:"InvalidationMessage",fullName:"ipc.invalidation.InvalidationMessage"},1:{name:"invalidation",Ha:!0,w:11,type:Yp}}));return a};Hq.getDescriptor=Hq.prototype.getDescriptor;Jq.prototype.getDescriptor=function(){var a=Kq;a||(Kq=a=C(Jq,{0:{name:"InfoRequestMessage",fullName:"ipc.invalidation.InfoRequestMessage"},1:{name:"info_type",Ha:!0,w:14,defaultValue:1,type:Lq}}));return a};Jq.getDescriptor=Jq.prototype.getDescriptor;
Mq.prototype.getDescriptor=function(){var a=Nq;a||(Nq=a=C(Mq,{0:{name:"RateLimitP",fullName:"ipc.invalidation.RateLimitP"},1:{name:"window_ms",w:5,type:Number},2:{name:"count",w:5,type:Number}}));return a};Mq.getDescriptor=Mq.prototype.getDescriptor;
Oq.prototype.getDescriptor=function(){var a=Pq;a||(Pq=a=C(Oq,{0:{name:"ProtocolHandlerConfigP",fullName:"ipc.invalidation.ProtocolHandlerConfigP"},1:{name:"batching_delay_ms",w:5,defaultValue:500,type:Number},2:{name:"rate_limit",Ha:!0,w:11,type:Mq}}));return a};Oq.getDescriptor=Oq.prototype.getDescriptor;
Qq.prototype.getDescriptor=function(){var a=Rq;a||(Rq=a=C(Qq,{0:{name:"ClientConfigP",fullName:"ipc.invalidation.ClientConfigP"},1:{name:"version",w:11,type:Lp},2:{name:"network_timeout_delay_ms",w:5,defaultValue:6E4,type:Number},3:{name:"write_retry_delay_ms",w:5,defaultValue:1E4,type:Number},4:{name:"heartbeat_interval_ms",w:5,defaultValue:12E5,type:Number},5:{name:"perf_counter_delay_ms",w:5,defaultValue:216E5,type:Number},6:{name:"max_exponential_backoff_factor",w:5,defaultValue:500,type:Number},
7:{name:"smear_percent",w:5,defaultValue:20,type:Number},8:{name:"is_transient",w:8,defaultValue:!1,type:Boolean},9:{name:"initial_persistent_heartbeat_delay_ms",w:5,defaultValue:2E3,type:Number},10:{name:"protocol_handler_config",w:11,type:Oq},11:{name:"channel_supports_offline_delivery",w:8,defaultValue:!1,type:Boolean},12:{name:"offline_heartbeat_threshold_ms",w:5,defaultValue:6E4,type:Number},13:{name:"allow_suppression",w:8,defaultValue:!0,type:Boolean}}));return a};Qq.getDescriptor=Qq.prototype.getDescriptor;
Sq.prototype.getDescriptor=function(){var a=Tq;a||(Tq=a=C(Sq,{0:{name:"ConfigChangeMessage",fullName:"ipc.invalidation.ConfigChangeMessage"},1:{name:"next_message_delay_ms",w:3,type:Number}}));return a};Sq.getDescriptor=Sq.prototype.getDescriptor;Uq.prototype.getDescriptor=function(){var a=Vq;a||(Vq=a=C(Uq,{0:{name:"ErrorMessage",fullName:"ipc.invalidation.ErrorMessage"},1:{name:"code",w:14,defaultValue:1,type:Wq},2:{name:"description",w:9,type:String}}));return a};Uq.getDescriptor=Uq.prototype.getDescriptor;
var Xq=function(a,b){this.b=a|0;this.a=b|0},Yq={},Zq={},$q=function(a){return Ob(Yq,a,function(a){return new Xq(a,0>a?-1:0)})},er=function(a){return isNaN(a)?$q(0):a<=-ar?br():a+1>=ar?cr():0>a?dr(er(-a)):new Xq(a%4294967296|0,a/4294967296|0)},fr=function(a,b){if(0==a.length)throw Error("number format error: empty string");b=b||10;if(2>b||36<b)throw Error("radix out of range: "+b);if("-"==a.charAt(0))return dr(fr(a.substring(1),b));if(0<=a.indexOf("-"))throw Error('number format error: interior "-" character: '+
a);for(var c=er(Math.pow(b,8)),d=$q(0),e=0;e<a.length;e+=8){var f=Math.min(8,a.length-e),g=parseInt(a.substring(e,e+f),b);8>f?(f=er(Math.pow(b,f)),d=gr(hr(d,f),er(g))):(d=hr(d,c),d=gr(d,er(g)))}return d},ar=4294967296*4294967296/2,cr=function(){return Ob(Zq,1,function(){return new Xq(-1,2147483647)})},br=function(){return Ob(Zq,2,function(){return new Xq(0,-2147483648)})},ir=function(){return Ob(Zq,6,function(){return new Xq(16777216,0)})};
Xq.prototype.toString=function(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(jr(this))return"0";if(0>this.a){if(this.U(br())){var b=er(a),c=kr(this,b);b=lr(hr(c,b),this);return c.toString(a)+b.b.toString(a)}return"-"+dr(this).toString(a)}c=er(Math.pow(a,6));b=this;for(var d="";;){var e=kr(b,c),f=(lr(b,hr(e,c)).b>>>0).toString(a);b=e;if(jr(b))return f+d;for(;6>f.length;)f="0"+f;d=""+f+d}};var mr=function(a){return 0<=a.b?a.b:4294967296+a.b},jr=function(a){return 0==a.a&&0==a.b};
Xq.prototype.U=function(a){return this.a==a.a&&this.b==a.b};
var nr=function(a,b){if(a.U(b))return 0;var c=0>a.a,d=0>b.a;return c&&!d?-1:!c&&d?1:0>lr(a,b).a?-1:1},dr=function(a){return a.U(br())?br():gr(new Xq(~a.b,~a.a),$q(1))},gr=function(a,b){var c=a.a>>>16,d=a.a&65535,e=a.b>>>16,f=b.a>>>16,g=b.a&65535,k=b.b>>>16;a=0+((a.b&65535)+(b.b&65535));k=0+(a>>>16)+(e+k);e=0+(k>>>16);e+=d+g;c=0+(e>>>16)+(c+f)&65535;return new Xq((k&65535)<<16|a&65535,c<<16|e&65535)},lr=function(a,b){return gr(a,dr(b))},hr=function(a,b){if(jr(a)||jr(b))return $q(0);if(a.U(br()))return 1==
(b.b&1)?br():$q(0);if(b.U(br()))return 1==(a.b&1)?br():$q(0);if(0>a.a)return 0>b.a?hr(dr(a),dr(b)):dr(hr(dr(a),b));if(0>b.a)return dr(hr(a,dr(b)));if(0>nr(a,ir())&&0>nr(b,ir()))return er((4294967296*a.a+mr(a))*(4294967296*b.a+mr(b)));var c=a.a>>>16,d=a.a&65535,e=a.b>>>16;a=a.b&65535;var f=b.a>>>16,g=b.a&65535,k=b.b>>>16;b=b.b&65535;var m=0+a*b;var p=0+(m>>>16)+e*b;var v=0+(p>>>16);p=(p&65535)+a*k;v+=p>>>16;v+=d*b;var Z=0+(v>>>16);v=(v&65535)+e*k;Z+=v>>>16;v=(v&65535)+a*g;Z=Z+(v>>>16)+(c*b+d*k+e*g+
a*f)&65535;return new Xq((p&65535)<<16|m&65535,Z<<16|v&65535)},kr=function(a,b){if(jr(b))throw Error("division by zero");if(jr(a))return $q(0);if(a.U(br())){if(b.U($q(1))||b.U($q(-1)))return br();if(b.U(br()))return $q(1);var c=1;if(0==c)c=a;else{var d=a.a;c=32>c?new Xq(a.b>>>c|d<<32-c,d>>c):new Xq(d>>c-32,0<=d?0:-1)}c=kr(c,b);d=1;if(0!=d){var e=c.b;c=32>d?new Xq(e<<d,c.a<<d|e>>>32-d):new Xq(0,e<<d-32)}if(c.U($q(0)))return 0>b.a?$q(1):$q(-1);a=lr(a,hr(b,c));return gr(c,kr(a,b))}if(b.U(br()))return $q(0);
if(0>a.a)return 0>b.a?kr(dr(a),dr(b)):dr(kr(dr(a),b));if(0>b.a)return dr(kr(a,dr(b)));for(d=$q(0);0<=nr(a,b);){c=Math.max(1,Math.floor((4294967296*a.a+mr(a))/(4294967296*b.a+mr(b))));e=Math.ceil(Math.log(c)/Math.LN2);e=48>=e?1:Math.pow(2,e-48);for(var f=er(c),g=hr(f,b);0>g.a||0<nr(g,a);)c-=e,f=er(c),g=hr(f,b);jr(f)&&(f=$q(1));d=gr(d,f);a=lr(a,g)}return d};
var or=function(){this.a=new D},pr=function(a){return A(a,1).toString()+":"+A(a,2)};var qr=new Np,rr=new Lp;B(rr,1,3);B(rr,2,2);B(qr,1,rr);var sr=new Lp;B(sr,1,3);B(sr,2,2);var tr=new Lp;B(tr,1,3);B(tr,2,20150820);var ur=new Up;B(ur,2,"");B(ur,1,1);var vr={gh:1,hh:2},wr=function(){y.call(this)};w(wr,y);var xr=null,yr={Bh:1,cg:111,Ah:112,ag:113,Pg:114,Dh:115,fh:116,Fh:117,Eh:118};wr.prototype.getDescriptor=function(){var a=xr;a||(xr=a=C(wr,{0:{name:"NetworkEndpointId",fullName:"ipc.invalidation.NetworkEndpointId"},1:{name:"network_address",w:14,defaultValue:1,type:yr},2:{name:"client_address",w:12,type:String},3:{name:"is_offline",w:8,type:Boolean}}));return a};wr.getDescriptor=wr.prototype.getDescriptor;
var zr=function(){y.call(this)};w(zr,y);var Ar=null,Br=function(){y.call(this)};w(Br,y);var Cr=null,Dr=function(){y.call(this)};w(Dr,y);var Er=null;zr.prototype.getDescriptor=function(){var a=Ar;a||(Ar=a=C(zr,{0:{name:"AckHandleP",fullName:"ipc.invalidation.AckHandleP"},1:{name:"invalidation",w:11,type:Yp}}));return a};zr.getDescriptor=zr.prototype.getDescriptor;
Br.prototype.getDescriptor=function(){var a=Cr;a||(Cr=a=C(Br,{0:{name:"PersistentTiclState",fullName:"ipc.invalidation.PersistentTiclState"},1:{name:"client_token",w:12,type:String},2:{name:"last_message_send_time_ms",w:3,defaultValue:"0",type:String}}));return a};Br.getDescriptor=Br.prototype.getDescriptor;
Dr.prototype.getDescriptor=function(){var a=Er;a||(Er=a=C(Dr,{0:{name:"PersistentStateBlob",fullName:"ipc.invalidation.PersistentStateBlob"},1:{name:"ticl_state",w:11,type:Br},2:{name:"authentication_code",w:12,type:String}}));return a};Dr.getDescriptor=Dr.prototype.getDescriptor;
var Fr=function(){y.call(this)};w(Fr,y);var Gr=null,Hr={eg:1,uh:2,qg:3,Ch:4,vh:5};
Fr.prototype.getDescriptor=function(){var a=Gr;a||(Gr=a=C(Fr,{0:{name:"ClientGatewayMessage",fullName:"ipc.invalidation.ClientGatewayMessage"},1:{name:"is_client_to_server",w:8,type:Boolean},2:{name:"service_context",w:12,type:String},3:{name:"rpc_scheduling_hash",w:3,type:String},5:{name:"protocol_version",w:11,type:Np},6:{name:"message_type",w:14,defaultValue:1,type:Hr},7:{name:"encoding",w:14,defaultValue:1,type:vr},8:{name:"client_endpoint_id",w:11,type:wr},9:{name:"service_endpoint_id",w:12, type:String},4:{name:"network_message",w:12,type:String},10:{name:"debug_info",w:9,type:String}}));return a};Fr.getDescriptor=Fr.prototype.getDescriptor;
var Ir=function(a,b){var c=new $p;B(c,1,a);B(c,2,b?1:2);return c},Jr=function(a){var b=new Br;B(b,1,a);return b};var Kr=function(a){this.a=a};Kr.prototype.U=function(a){return pb(this.a,a.a)};Kr.prototype.toString=function(){return Pd("Digest: <%s, %s>",uc(this.a),this.a.toString())};var Lr=function(){this.b=-1};var Mr=function(){this.b=64;this.a=[];this.l=[];this.o=[];this.g=[];this.g[0]=128;for(var a=1;a<this.b;++a)this.g[a]=0;this.h=this.c=0;this.reset()};w(Mr,Lr);Mr.prototype.reset=function(){this.a[0]=1732584193;this.a[1]=4023233417;this.a[2]=2562383102;this.a[3]=271733878;this.a[4]=3285377520;this.h=this.c=0};
var Nr=function(a,b,c){c||(c=0);var d=a.o;if(q(b))for(var e=0;16>e;e++)d[e]=b.charCodeAt(c)<<24|b.charCodeAt(c+1)<<16|b.charCodeAt(c+2)<<8|b.charCodeAt(c+3),c+=4;else for(e=0;16>e;e++)d[e]=b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3],c+=4;for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=(f<<1|f>>>31)&4294967295}b=a.a[0];c=a.a[1];var g=a.a[2],k=a.a[3],m=a.a[4];for(e=0;80>e;e++){if(40>e)if(20>e){f=k^c&(g^k);var p=1518500249}else f=c^g^k,p=1859775393;else 60>e?(f=c&g|k&(c|g),p=2400959708):(f=c^g^
k,p=3395469782);f=(b<<5|b>>>27)+f+m+p+d[e]&4294967295;m=k;k=g;g=(c<<30|c>>>2)&4294967295;c=b;b=f}a.a[0]=a.a[0]+b&4294967295;a.a[1]=a.a[1]+c&4294967295;a.a[2]=a.a[2]+g&4294967295;a.a[3]=a.a[3]+k&4294967295;a.a[4]=a.a[4]+m&4294967295};
Mr.prototype.update=function(a,b){if(null!=a){n(b)||(b=a.length);for(var c=b-this.b,d=0,e=this.l,f=this.c;d<b;){if(0==f)for(;d<=c;)Nr(this,a,d),d+=this.b;if(q(a))for(;d<b;){if(e[f]=a.charCodeAt(d),++f,++d,f==this.b){Nr(this,e);f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,f==this.b){Nr(this,e);f=0;break}}this.c=f;this.h+=b}};
Mr.prototype.digest=function(){var a=[],b=8*this.h;56>this.c?this.update(this.g,56-this.c):this.update(this.g,this.b-(this.c-56));for(var c=this.b-1;56<=c;c--)this.l[c]=b&255,b/=256;Nr(this,this.l);for(c=b=0;5>c;c++)for(var d=24;0<=d;d-=8)a[b]=this.a[c]>>d&255,++b;return a};
var Or=function(){this.a=new Mr};Or.prototype.reset=function(){this.a.reset()};Or.prototype.update=function(a){this.a.update(a)};var Pr=function(a){a=a.a.digest();return new Kr(a)},Qr=function(a,b){b.reset();for(var c=[],d=A(a,1),e=0;4>e;e++)c[e]=d&255,d>>=8;b.update(c);b.update(A(a,2));return Pr(b)};
var Sr=function(a,b){b=Rr(a,b);b=uc(b.a);var c=new Dr;B(c,1,a);B(c,2,b);return pf(c)},Rr=function(a,b){b.reset();b.update(pf(a));return Pr(b)};var Zr=function(){this.b=new D;this.a=new D;this.c=new D;this.h=new D;this.g=new D;Tr(this.b,yb(Ur));Tr(this.a,yb(Vr));Tr(this.c,yb(Wr));Tr(this.h,yb(Xr));Tr(this.g,yb(Yr))},Tr=function(a,b){for(var c=0;c<b.length;c++)a.set(b[c],0)},as=function(a,b){$r(a.g,b)},bs=function(a,b,c){for(var d=a.Z(),e=0;e<d.length;e++){var f=d[e],g=a.get(f);f=c+"."+f;0<g&&b.set(f,g)}},$r=function(a,b){a.set(b,a.get(b)+1)},Ur={Cg:"INFO",Hg:"INITIALIZE",Mg:"INVALIDATION_ACK",Td:"REGISTRATION",nh:"REGISTRATION_SYNC",Vd:"TOTAL"},
Vr={Gg:"INFO_REQUEST",Lg:"INVALIDATION",mh:"REGISTRATION_STATUS",oh:"REGISTRATION_SYNC_REQUEST",Gh:"TOKEN_CONTROL",tg:"ERROR",og:"CONFIG_CHANGE",xh:"STALE_INVALIDATION",Vd:"TOTAL"},Wr={Zf:"ACKNOWLEDGE",Td:"REGISTRATION",Oh:"UNREGISTRATION"},Xr={Dg:"INFORM_ERROR",Eg:"INFORM_REGISTRATION_FAILURE",Fg:"INFORM_REGISTRATION_STATUS",Ig:"INVALIDATE",Jg:"INVALIDATE_ALL",Kg:"INVALIDATE_UNKNOWN",qh:"REISSUE_REGISTRATIONS"},Yr={$f:"ACKNOWLEDGE_HANDLE_FAILURE",Bg:"INCOMING_MESSAGE_FAILURE",Yg:"OUTGOING_MESSAGE_FAILURE",
ah:"PERSISTENT_DESERIALIZATION_FAILURE",bh:"PERSISTENT_READ_FAILURE",dh:"PERSISTENT_WRITE_FAILURE",ih:"PROTOCOL_VERSION_FAILURE",lh:"REGISTRATION_DISCREPANCY",Sg:"NONCE_MISMATCH",Hh:"TOKEN_MISMATCH",Ih:"TOKEN_MISSING_FAILURE",Jh:"TOKEN_TRANSIENT_FAILURE",NETWORK_DISCONNECTED:"NETWORK_DISCONNECTED"};
var cs=function(a){this.a=a;a=function(){return!0};var b=t(this.required,this),c=t(function(a){return t(this.c,this,a)},this),d=c(0),e=t(this.g,this);this.h={Version:{major_version:[b,d],minor_version:[b,d]},ProtocolVersion:{version:[b]},ObjectIdP:{name:[b],source:[b,d]},InvalidationP:{object_id:[b],is_known_version:[b],version:[b,d],payload:[a],is_trickle_restart:[a]},RegistrationP:{object_id:[b],op_type:[b]},RegistrationSummary:{num_registrations:[b,d],registration_digest:[b,e]},InvalidationMessage:{invalidation:[b]},
ClientHeader:{protocol_version:[b],client_token:[a,e],registration_summary:[a],client_time_ms:[b],max_known_server_time_ms:[b],client_type:[a],message_id:[a]},ApplicationClientIdP:{client_type:[b],client_name:[b,e]},InitializeMessage:{client_type:[b],nonce:[b,e],digest_serialization_type:[b],application_client_id:[b]},RegistrationMessage:{registration:[b]},ClientVersion:{version:[b],platform:[b],language:[b],application_info:[b]},PropertyRecord:{name:[b],value:[b]},InfoMessage:{client_version:[b],
config_parameter:[a],performance_counter:[a],client_config:[a],server_registration_summary_requested:[a]},ClientConfigP:{version:[b],network_timeout_delay_ms:[a],write_retry_delay_ms:[a],heartbeat_interval_ms:[a],perf_counter_delay_ms:[a],max_exponential_backoff_factor:[a],smear_percent:[a],is_transient:[a],initial_persistent_heartbeat_delay_ms:[a],channel_supports_offline_delivery:[a],protocol_handler_config:[b],offline_heartbeat_threshold_ms:[a],allow_suppression:[a]},ProtocolHandlerConfigP:{batching_delay_ms:[a],
rate_limit:[a]},RateLimitP:{window_ms:[b,c(1E3)],count:[b]},RegistrationSubtree:{registered_object:[a]},RegistrationSyncMessage:{subtree:[b]},ClientToServerMessage:{header:[b],info_message:[a],initialize_message:[a],invalidation_ack_message:[a],registration_message:[a],registration_sync_message:[a]},ServerHeader:{protocol_version:[b],client_token:[b,e],registration_summary:[a],server_time_ms:[b,d],message_id:[a,e]},StatusP:{code:[b],description:[a]},TokenControlMessage:{new_token:[a]},ErrorMessage:{code:[b],
description:[b]},RegistrationStatus:{registration:[b],status:[b]},RegistrationStatusMessage:{registration_status:[b]},RegistrationSyncRequestMessage:{},InfoRequestMessage:{info_type:[b]},ConfigChangeMessage:{next_message_delay_ms:[a,c(1)]},ServerToClientMessage:{header:[b],token_control_message:[a],invalidation_message:[a],registration_status_message:[a],registration_sync_request_message:[a],config_change_message:[a],info_request_message:[a],error_message:[a]}}};w(cs,Ll);cs.prototype.b=function(){return this.h};
var es=function(a,b,c,d,e,f){var g=new Pp;B(g,1,tr);B(g,2,fk+"");B(g,3,"JS");B(g,4,d);this.L=g;this.a=a.j;this.A=a.a;this.h=e;this.I=f;this.v=1;this.o=this.l=0;this.c=b;this.b=new ds(a,b);this.g=c},ds=function(a,b){this.a=b;this.o=a;this.l=new D;this.b=new D;this.h=new D;this.c=this.g=null},fs=function(a,b){this.token=a;this.a=b};fs.prototype.toString=function(){return Pd("Token: %s, Summary: %s",null==this.token?"null":this.token,this.a.toString())};
var gs=function(a){var b=A(a,1);this.a=new fs(A(b,2),z(b,3)?A(b,3):null);this.c=z(a,2)?A(a,2):null;this.h=z(a,3)?A(a,3):null;this.l=z(a,4)?A(a,4):null;this.o=z(a,5)?A(a,5):null;z(a,6)&&A(a,6);this.g=z(a,7)?A(a,7):null;this.b=z(a,8)?A(a,8):null},hs=function(a,b){var c=xq.getDescriptor();b=rf(c,b,a.a);if(null==b)return null;ud(a.a,"Incoming message: %s",b.toString());if(!rj(a.I,b))return as(a.c,"INCOMING_MESSAGE_FAILURE"),td(a.a,"Received invalid message: %s",b.toString()),null;c=A(b,1);if(3!=A(A(A(c,
1),1),1))return as(a.c,"PROTOCOL_VERSION_FAILURE"),td(a.a,"Dropping message with incompatible version: %s",b.toString()),null;if(z(b,6))return b=A(b,6),$r(a.c.a,"CONFIG_CHANGE"),z(b,1)&&(a.o=u()+Oc(b,1)),null;a.l=Math.max(a.l,A(c,4));return new gs(b)};
var is=function(a,b){null!=a&&this.yc.apply(this,arguments)};h=is.prototype;h.Xa="";h.set=function(a){this.Xa=""+a};h.yc=function(a,b,c){this.Xa+=String(a);if(null!=b)for(var d=1;d<arguments.length;d++)this.Xa+=arguments[d];return this};h.clear=function(){this.Xa=""};h.toString=function(){return this.Xa};
var js=function(){};js.prototype.toString=function(){var a=new is,b=!0,c;for(c in this){var d=this[c];ia(d)||(b||a.yc(", "),b=!1,a.yc(c+" = "+d))}return a.toString()};var ks=function(a,b){this.b=a;this.a=b;for(a=0;a<b.length;a++);};w(ks,js);ks.prototype.U=function(a){return this==a?!0:this.b==a.b&&this.a==a.a};var ls=function(a,b,c){this.a=a;this.c=b;this.b=c||null};w(ls,js);var ms=function(a,b){this.a=a;this.b=b};w(ms,js);ms.prototype.getMessage=function(){return this.b};ms.prototype.va=function(){return 0==this.a};var ns=function(a,b){this.a=b};w(ns,js);ns.prototype.af=function(){return this.a};var os=function(a){this.a=a};w(os,js); os.prototype.U=function(a){return a instanceof os&&this.a===a.a};
var ps=function(a){return new ks(A(a,1),A(a,2))},qs=function(a){var b=a.b;a=a.a;var c=new Up;B(c,1,b);B(c,2,a);return c};var rs=function(a,b){this.a=a;this.b=b};rs.prototype.toString=function(){return this.a};var ts=function(a,b,c,d,e,f,g){this.L=a;this.I=c;this.A=b;this.l=f;this.o=g;this.h=d;this.c=e;this.g=!1;this.C=new rs(a,t(function(){this.g=!1;this.a()?ss(this,!0,"Retry"):null!=e&&this.c.reset()},this))};w(ts,js);var ss=function(a,b,c){a.g||(b=b?null!=a.c?a.o+rd(a.c):a.o+us(a.h,a.l):us(a.h,a.l),ud(a.I,"[%s] Scheduling %s with a delay %s, Now = %s",c,a.L,b,u()),vs(a.A,b,a.C),a.g=!0)};
var xs=function(a){this.Pb=a||ws},ws=function(a,b){return String(a)<String(b)?-1:String(a)>String(b)?1:0};h=xs.prototype;h.ea=null;h.Pb=null;h.Ga=null;h.Fa=null;
h.eb=function(a){if(null==this.ea)return this.Fa=this.Ga=this.ea=new ys(a),!0;var b=null;zs(this,function(c){var d=null,e=this.Pb(c.value,a);0<e?(d=c.left,null==c.left&&(b=new ys(a,c),c.left=b,c==this.Ga&&(this.Ga=b))):0>e&&(d=c.right,null==c.right&&(b=new ys(a,c),c.right=b,c==this.Fa&&(this.Fa=b)));return d});b&&(zs(this,function(a){a.count++;return a.parent},b.parent),As(this,b.parent));return!!b};
h.remove=function(a){var b=null;zs(this,function(c){var d=null,e=this.Pb(c.value,a);0<e?d=c.left:0>e?d=c.right:(b=c.value,Bs(this,c));return d});return b};h.clear=function(){this.Fa=this.Ga=this.ea=null};h.contains=function(a){var b=!1;zs(this,function(c){var d=null,e=this.Pb(c.value,a);0<e?d=c.left:0>e?d=c.right:b=!0;return d});return b};h.P=function(){return this.ea?this.ea.count:0};h.S=function(){var a=[];Cs(this,function(b){a.push(b)});return a};
var Cs=function(a,b){if(a.ea){var c;a=c=Ds(a);for(c=c.left?c.left:c;null!=a;)if(null!=a.left&&a.left!=c&&a.right!=c)a=a.left;else{if(a.right!=c&&b(a.value))break;var d=a;a=null!=a.right&&a.right!=c?a.right:a.parent;c=d}}},zs=function(a,b,c){for(c=c?c:a.ea;c&&null!=c;)c=b.call(a,c)},As=function(a,b){zs(a,function(a){var b=a.left?a.left.height:0,c=a.right?a.right.height:0;1<b-c?(a.left.right&&(!a.left.left||a.left.left.height<a.left.right.height)&&Es(this,a.left),Fs(this,a)):1<c-b&&(a.right.left&&(!a.right.right||
a.right.right.height<a.right.left.height)&&Fs(this,a.right),Es(this,a));b=a.left?a.left.height:0;c=a.right?a.right.height:0;a.height=Math.max(b,c)+1;return a.parent},b)},Es=function(a,b){Gs(b)?(b.parent.left=b.right,b.right.parent=b.parent):Hs(b)?(b.parent.right=b.right,b.right.parent=b.parent):(a.ea=b.right,a.ea.parent=null);a=b.right;b.right=b.right.left;null!=b.right&&(b.right.parent=b);a.left=b;b.parent=a;a.count=b.count;b.count-=(a.right?a.right.count:0)+1},Fs=function(a,b){Gs(b)?(b.parent.left=
b.left,b.left.parent=b.parent):Hs(b)?(b.parent.right=b.left,b.left.parent=b.parent):(a.ea=b.left,a.ea.parent=null);a=b.left;b.left=b.left.right;null!=b.left&&(b.left.parent=b);a.right=b;b.parent=a;a.count=b.count;b.count-=(a.left?a.left.count:0)+1},Bs=function(a,b){if(null!=b.left||null!=b.right){var c=null;if(null!=b.left){var d=Is(a,b.left);zs(a,function(a){a.count--;return a.parent},d);if(d!=b.left){if(d.parent.right=d.left)d.left.parent=d.parent;d.left=b.left;d.left.parent=d;c=d.parent}d.parent=
b.parent;d.right=b.right;d.right&&(d.right.parent=d);b==a.Fa&&(a.Fa=d)}else{d=Ds(a,b.right);zs(a,function(a){a.count--;return a.parent},d);if(d!=b.right){if(d.parent.left=d.right)d.right.parent=d.parent;d.right=b.right;d.right.parent=d;c=d.parent}d.parent=b.parent;d.left=b.left;d.left&&(d.left.parent=d);b==a.Ga&&(a.Ga=d)}d.count=b.count;Gs(b)?b.parent.left=d:Hs(b)?b.parent.right=d:a.ea=d;As(a,c?c:d)}else zs(a,function(a){a.count--;return a.parent},b.parent),Gs(b)?(b.parent.left=null,b==a.Ga&&(a.Ga=
b.parent),As(a,b.parent)):Hs(b)?(b.parent.right=null,b==a.Fa&&(a.Fa=b.parent),As(a,b.parent)):a.clear()},Ds=function(a,b){if(!b)return a.Ga;var c=b;zs(a,function(a){var b=null;a.left&&(b=c=a.left);return b},b);return c},Is=function(a,b){if(!b)return a.Fa;var c=b;zs(a,function(a){var b=null;a.right&&(b=c=a.right);return b},b);return c},ys=function(a,b){this.value=a;this.parent=b?b:null;this.count=1};ys.prototype.left=null;ys.prototype.right=null;ys.prototype.height=1; var Hs=function(a){return!!a.parent&&a.parent.right==a},Gs=function(a){return!!a.parent&&a.parent.left==a};
var Ls=function(a){this.a=new xs(Js);this.b=a;Ks(this)},Ms=function(a,b){this.digest=a;this.Gc=b};Ms.prototype.toString=function(){return Pd("[%s, %s]",this.digest.toString(),this.Gc.toString())};var Js=function(a,b){a:{a=a.digest.a;b=b.digest.a;for(var c=mb,d=Math.min(a.length,b.length),e=0;e<d;e++){var f=c(a[e],b[e]);if(0!=f){a=f;break a}}a=mb(a.length,b.length)}return a};
Ls.prototype.remove=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=Qr(d,this.b);e=new Ms(e,d);this.a.contains(e)&&(this.a.remove(e),b.push(d))}0<b.length&&Ks(this);return b};Ls.prototype.removeAll=function(){for(var a=[],b=this.a.S(),c=0;c<b.length;c++)a.push(b[c].Gc);this.a.clear();Ks(this);return a};Ls.prototype.contains=function(a){var b=Qr(a,this.b);return this.a.contains(new Ms(b,a))};
var Ks=function(a){for(var b=[],c=a.a.S(),d=0;d<c.length;d++)b.push(c[d].digest);c=a.b;c.reset();for(d=0;d<b.length;d++)c.update(b[d].a);b=Pr(c);a.c=b};Ls.prototype.toString=function(){return Pd("Digest: %s, Regs: %s",this.c.toString(),this.a.S().toString())};
var Os=function(a,b,c){this.a=new Ls(c);this.g=b;this.c=Ns(this);this.b=new D;this.j=a},Ns=function(a){var b=new cq,c=a.a.a.P();B(b,1,c);a=uc(a.a.c.a);B(b,2,a);return b},Ps=function(a){return a.c.U(Ns(a))};Os.prototype.toString=function(){return Pd("Last known digest: %s, Requested regs: %s",this.c.toString(),this.a.toString())};
var Qs=function(){this.a=1};Qs.prototype.start=function(){this.a=2};Qs.prototype.stop=function(){this.a=3};var Rs=function(a,b){this.a=a;this.b=b/100},us=function(a,b){a=(2*a.a()-1)*a.b;return Math.ceil(b+b*a)};var Xs=function(a,b,c,d,e,f,g){this.D=null==b?Math.random:b;this.G=a;this.I=a.b;this.j=a.j;this.g=g;this.c=e;b=new Wp;B(b,1,c);B(b,2,d);this.$=b;this.a=new Zr;this.M=new Or;this.h=new Os(this.j,this.a,this.M);this.fa=new cs(this.j);this.C=new Rs(this.D,Oc(e,7));Oc(e,10);this.v=new es(a,this.a,c,f,this,this.fa);this.o=new Qs;this.l=this.b=null;this.K=!1;this.ba=u();this.N=!0;this.ra=this.ba;this.H=this.O=this.T=0;this.Y=new Ss(this);this.Kb=new Ts(this);this.Jb=new Us(this);this.pa=new Vs(this);a=
Oc(this.c,10);this.L=new Ws(this.I,this.j,this.C,Oc(a,1),this.v);a=t(this.Ia,this);this.G.a.I=a;a=t(this.Ib,this);this.G.a.L.push(a);this.aa=new or;F(this.j,"Created client: %s",this)},Ss=function(a){var b=a.c,c=Ys(a,Oc(b,2));ts.call(this,"AcquireToken",a.I,a.j,a.C,c,0,Oc(b,2));this.b=a};w(Ss,ts);
Ss.prototype.a=function(){var a=this.b;if(null==a.b){Zs(a,(0,this.b.D)().toString());var b=a.v,c=a.$;a=a.l;var d=this.b.L;A(c,1)!=b.g&&E(b.a,"Client type in application id does not match constructor-provided type: %s vs %s",c,b.g);var e=b.g,f=new iq;B(f,1,e);B(f,3,c);B(f,4,2);B(f,2,a);b.b.g=f;F(b.a,"Batching initialize message for client: %s, %s","AcquireToken",f);ss(d,!1,"AcquireToken");return!0}return!1};
var Ts=function(a){var b=Oc(a.c,2),c=Ys(a,b);ts.call(this,"RegSyncHeartbeat",a.I,a.j,a.C,c,b,b);this.b=a};w(Ts,ts);Ts.prototype.a=function(){var a=this.b;if(Ps(a.h))return F(a.j,"Not sending message since state is now in sync"),!1;F(a.j,"Registration state not in sync with server: %s",a.h);a.A(!1,!0);return!0};var Us=function(a){var b=a.c,c=Ys(a,Oc(b,3));ts.call(this,"PersistentWrite",a.I,a.j,a.C,c,0,Oc(b,3));this.v=a;this.b=null};w(Us,ts);
Us.prototype.a=function(){var a=this.v,b=a.b,c=Jr(b),d=Sr(c,a.M);if(null==b||b==this.b)return!1;b=function(b){F(a.j,"Write state completed: %s",b);b.va()?this.b=A(c,1):as(a.a,"PERSISTENT_WRITE_FAILURE")}.bind(this);a.G.c.c("ClientToken",d,b);return!0};var Vs=function(a){ts.call(this,"Heartbeat",a.I,a.j,a.C,null,Oc(a.c,4),0);this.v=a;this.b=0};w(Vs,ts);
Vs.prototype.a=function(){var a=this.v;F(a.j,"Sending heartbeat to server: %s",a.toString());var b=this.b<=u();if(b){var c=Oc(a.c,5);this.b=u()+us(this.h,c)}a.A(b,!Ps(a.h));return!0};var Ws=function(a,b,c,d,e){ts.call(this,"Batching",a,b,c,null,d,0);this.b=e};w(Ws,ts);
Ws.prototype.a=function(){var a=this.b;if(a.o>u())E(a.a,"In quiet period: not sending message to server: %s > %s",a.o,u());else{var b=a.b;var c=null!=a.h.b,d=new gq,e=b.o.j;null!=b.g&&($r(b.a.b,"INITIALIZE"),B(d,2,b.g),b.g=null);if(c||z(d,2)){if(0!=b.b.c){c=b.b.S();b.b.clear();for(var f=new Hq,g=0;g<c.length;g++)Mc(f,1,c[g]);B(d,5,f);$r(b.a.b,"INVALIDATION_ACK")}if(0!=b.l.c){c=b.l.S();b.l.clear();f=new lq;for(g=0;g<c.length;g++)Mc(f,1,c[g]);B(d,3,f);$r(b.a.b,"REGISTRATION")}if(0!=b.h.c){c=new nq;
f=b.h.S();for(g=0;g<f.length;g++)Mc(c,1,f[g]);B(d,4,c);b.h.clear();$r(b.a.b,"REGISTRATION_SYNC")}null!=b.c&&($r(b.a.b,"INFO"),B(d,6,b.c),b.c=null);ud(e,"Created message to server: %s",d.toString());b=d}else E(e,"Cannot send message since no token and no initialize msg: %s",d.toString()),as(b.a,"TOKEN_MISSING_FAILURE"),b=null;null!=b&&(d=new eq,B(d,1,qr),e=u(),B(d,4,e),B(d,6,a.v.toString()),B(d,5,a.l),e=Ns(a.h.h),B(d,3,e),B(d,7,a.g),e=a.h.b,null!=e&&(ud(a.a,"Sending token on client->server message: %s",
e),B(d,2,e)),B(b,1,d),a.v++,d=b,rj(a.I,d)?(e=z(A(d,1),2),d=z(d,2)?!e:e):d=!1,d?(ud(a.a,"Sending message to server: %s",b.toString()),$r(a.c.b,"TOTAL"),b=pf(b),a.A.sendMessage(b),a.h.H=u()):(td(a.a,"Tried to send invalid msg: %s",b.toString()),as(a.c,"OUTGOING_MESSAGE_FAILURE")))}return!1};var $s=function(){var a=new Qq;B(a,1,sr);var b=new Oq,c=new Mq;B(c,1,5E3);B(c,2,3);Mc(b,2,c);B(a,10,b);return a};
Xs.prototype.start=function(){2==this.o.a?td(this.j,"Ignoring start call since already started: client = %s",this.toString()):(Zs(this,(0,this.D)().toString()),F(this.j,"Starting with JS config: %s",this.c.toString()),at(this))};Xs.prototype.stop=function(){E(this.j,"Ticl being stopped: %s",this);2==this.o.a&&this.o.stop()};Xs.prototype.register=function(a){bt(this,Array.prototype.slice.call(arguments),1)};Xs.prototype.unregister=function(a){bt(this,Array.prototype.slice.call(arguments),2)};
var bt=function(a,b,c){if(3==a.o.a)td(a.j,"Ticl stopped: register (%s) of %s ignored",c,b);else if(2==a.o.a){var d=[];for(k=0;k<b.length;k++)m=b[k],m=qs(m),$r(a.a.c,1==c?"REGISTRATION":"UNREGISTRATION"),F(a.j,"Register %s, %s",m.toString(),c),d.push(m);b=a.h;for(k=0;k<d.length;k++)b.b.set(pf(d[k]),c);if(1==c){b=b.a;k=[];for(m=0;m<d.length;m++){var e=d[m],f=Qr(e,b.b);f=new Ms(f,e);b.a.contains(f)||(b.a.eb(f),k.push(e))}0<k.length&&Ks(b);d=k}else d=b.a.remove(d);if(a.K&&0<d.length){b=a.v;k=a.L;c=1==
c;for(m=0;m<d.length;m++){e=b.b;f=d[m];var g=Ir(f,c);e.l.set(pf(f),g)}ss(k,!1,"Send-registrations")}ss(a.Kb,!1,"performRegister")}else{td(a.j,"Ticl is not yet started; failing registration call; client = %s, objects = %s, op = %s",a.toString(),b,c);for(var k=0;k<b.length;k++){var m=b[k];a.g.Bb(a,m,!0,"Client not yet ready")}}};
Xs.prototype.Lb=function(a){var b=rf(zr.getDescriptor(),a.a,this.j);if(null==b)E(this.j,"Bad ack handle : %s",a.a),as(this.a,"ACKNOWLEDGE_HANDLE_FAILURE");else{if(a=z(b,1))a=A(b,1),a=rj(this.fa,a);if(a){b=A(b,1);Kc(b,4);$r(this.a.c,"ACKNOWLEDGE");a=this.v;var c=this.L;ud(a.a,"Sending ack for invalidation %s",b.toString());a.b.b.set(pf(b),b);ss(c,!1,"Send-ack");a=this.aa;if(A(b,6)&&A(b,2)){c=pr(A(b,1));b=fr(A(b,3));var d=a.a.get(c,$q(-1));0<nr(b,d)&&a.a.set(c,b)}}else E(this.j,"Incorrect ack handle: %s",
b),as(this.a,"ACKNOWLEDGE_HANDLE_FAILURE")}};Xs.prototype.Ib=function(a){var b=this.N;(this.N=a)&&!b&&u()>this.H+Oc(this.c,12)&&(F(this.j,"Sending heartbeat after reconnection: previous send was %s ms ago",u()-this.H),this.A(!0,!Ps(this.h)));if(a!=b){a=u();var c=a-this.H;this.ra=a;b?(this.T+=c,as(this.a,"NETWORK_DISCONNECTED")):this.O+=c}};
Xs.prototype.Ia=function(a){$r(this.a.a,"TOTAL");var b=hs(this.v,a);if(null==b)E(this.j,"Ignoring invalid message: %s",a);else if(ct(this,b)){if(null!=b.c){$r(this.a.a,"TOKEN_CONTROL");a=b.a.token;var c=z(b.c,1)?A(b.c,1):null;if(null!=c){var d=a==this.b;a==this.l||d?(F(this.j,"New token being assigned at client: %s, Old = %s",c,this.b),ss(this.pa,!1,"Heartbeat-after-new-token"),Zs(this,null),dt(this,c),ss(this.Jb,!1,"Write-after-new-token")):F(this.j,"Ignoring new token; %s does not match nonce = %s or existing token = %s",
c,this.l,this.b)}else F(this.j,"Destroying existing token: %s",this.b),dt(this,null),ss(this.Y,!1,"Destroy")}if(null!=this.b){c=b.a;if(null!=c.a){this.K=!0;d=this.h;a=c.a;null!=a&&(d.c=a);a=[];if(Ps(d)){for(var e=d.b.Z(),f=(new Up).getDescriptor(),g=0;g<e.length;g++){var k=rf(f,e[g],d.j),m=1==d.b.get(e[g]);k=Ir(k,m);a.push(k)}d.b.clear()}ud(this.j,"Receivced new server registration summary (%s); will make %s upcalls",c.a,a.length);for(c=0;c<a.length;c++)e=a[c],d=ps(A(e,1)),e=A(e,2),this.g.Zb(this,
d,1==e?0:1)}if(null!=b.h)for($r(this.a.a,"INVALIDATION"),a=Lc(b.h,1)||[],c=0;c<a.length;c++)e=d=a[c],f=new zr,B(f,1,e),e=pf(f),e=new os(e),f=this.aa,k=d,A(k,2)?(g=pr(A(k,1)),k=fr(A(k,3)),f=f.a.get(g,$q(-1)),f=0<=nr(f,k)):f=!1,f?(F(this.j,"Stale invalidation %s, not delivering",d),this.Lb(e),$r(this.a.a,"STALE_INVALIDATION")):A(d,1).U(ur)?(F(this.j,"Issuing invalidate all"),this.g.Ec(this,e),$r(this.a.h,"INVALIDATE_ALL")):(f=d,g=ps(A(f,1)),k=parseInt(A(f,3),10),m=z(f,4)?A(f,4):void 0,z(f,6)&&A(f,6),
f=new ls(g,k,m),g=Oc(d,6),k=Oc(this.c,13),F(this.j,"Issuing invalidate (known-version = %s, is-trickle-restart=%s): %s",A(d,2),g,f),!A(d,2)||g&&!k?this.g.$b(this,f.a,e):this.g.Dc(this,f,e));if(null!=b.l){$r(this.a.a,"REGISTRATION_STATUS");a=Lc(b.l,1)||[];d=this.h;c=[];for(e=0;e<a.length;e++)m=a[e],f=A(A(m,1),1),d.b.remove(pf(f)),g=!0,1==A(A(m,2),1)?(k=d.a.contains(f),m=1==A(A(m,1),2),m!=k&&(d.a.remove([f]),as(d.g,"REGISTRATION_DISCREPANCY"),F(d.j,"Ticl discrepancy detected: registered = %s, requested = %s. Removing %s from requested",
m,k,f.toString()),g=!1)):(d.a.remove([f]),ud(d.j,"Removing %s from committed",f.toString()),g=!1),c.push(g);for(d=0;d<a.length;++d)f=a[d],g=c[d],ud(this.j,"Process reg status: %s",f),e=A(A(f,1),1),e=ps(e),g?(f=A(A(f,1),2),this.g.Zb(this,e,1==f?0:1)):(g=A(f,2),f=1==A(g,1)?"Registration discrepancy detected":A(A(f,2),2),g=3==A(g,1),this.g.Bb(this,e,!g,f))}if(null!=b.o){$r(this.a.a,"REGISTRATION_SYNC_REQUEST");d=this.h;a=new pq;c=[];d=d.a.a.S();for(e=0;e<d.length;e++)c.push(d[e].Gc);for(d=0;d<c.length;d++)Mc(a,
1,c[d]);c=this.v;d=this.L;c.b.h.set(pf(a),a);F(c.a,"Adding subtree: %s",a.toString());ss(d,!1,"Send-reg-sync")}if(null!=b.g){$r(this.a.a,"INFO_REQUEST");a=Lc(b.g,1)||[];c=!1;for(d=0;d<a.length&&!(c=1==a[d]);d++);this.A(c,!Ps(this.h))}if(null!=b.b&&($r(this.a.a,"ERROR"),a=A(b.b,1),b=A(b.b,2),td(this.j,"Received error message: %s, %s",a,null!=b?b.toString():"null"),this.g.Yb(this,new ns(0,!1)),1==a)){a=this.h;e=new D;d=a.a.removeAll();for(c=0;c<d.length;c++)e.set(pf(d[c]),"");d=a.b.Z();for(c=0;c<d.length;c++)e.set(d[c],
"");a.b.clear();d=[];e=e.Z();f=(new Up).getDescriptor();for(c=0;c<e.length;c++)g=rf(f,e[c],a.j),d.push(g);E(this.j,"Issuing failure for %d objects",d.length);for(a=0;a<d.length;a++)c=ps(d[a]),this.g.Bb(this,c,!1,"Auth error: "+b)}}}};
var ct=function(a,b){if(null!=a.b)return a.b!=b.a.token?(F(a.j,"Incoming message has bad token: server = %s, client = %s",b.a.token,a.b),as(a.a,"TOKEN_MISMATCH"),!1):!0;if(null!=a.l){if(a.l!=b.a.token)return as(a.a,"NONCE_MISMATCH"),F(a.j,"Rejecting server message with mismatched nonce: Client = %s, Server = %s",a.l,b.a.token),!1;F(a.j,"Accepting server message with matching nonce: %s",a.l);return!0}E(a.j,"Neither token nor nonce was set in validateToken: %s, %s",a.b,a.l);return!1};
Xs.prototype.A=function(a,b){F(this.j,"Sending info message to server; request server summary = %s",b);var c=new D,d=null;if(a){a=this.a;bs(a.b,c,"SentMessageType");bs(a.a,c,"ReceivedMessageType");bs(a.c,c,"IncomingOperationType");bs(a.h,c,"ListenerEventType");bs(a.g,c,"ClientErrorType");a=u();c.set("NonCounterType.CLIENT_UPTIME_MS",a-this.ba);a-=this.ra;d=this.T;var e=this.O;if(this.N){d+=a;var f=1}else e+=a,f=0;c.set("NonCounterType.IS_NETWORK_ONLINE",f);c.set("NonCounterType.NETWORK_STATUS_DURATION_MS",
a);c.set("NonCounterType.TOTAL_NETWORK_UPTIME_MS",d);c.set("NonCounterType.TOTAL_NETWORK_DOWNTIME_MS",e);d=this.c}a=this.v;f=d;d=this.L;e=new rq;B(e,1,a.L);null!=f&&B(e,5,f);f=c.Z();for(var g=0;g<f.length;g++){var k=f[g],m=c.get(f[g]),p=new tq;B(p,1,k);B(p,2,m);Mc(e,3,p)}B(e,4,b);a.b.c=e;ss(d,!1,"Send-info")};
var at=function(a){a.G.c.h("ClientToken",t(function(a,c){c=a.va()?c:null;a.va()||(as(this.a,"PERSISTENT_READ_FAILURE"),E(this.j,"Could not read state blob: %s",a.getMessage()));if(null==c)a=null;else{a=this.j;var b=this.M,e=Dr.getDescriptor();e=rf(e,c,a);var f=null==e?null:A(e,1);null==f?a=null:(b=Rr(f,b),uc(b.a)!=A(e,2)?(a&&E(a,"Ticl state failed MAC check: computed %s vs %s",b,A(e,2)),a=null):a=f)}null!=c&&null==a&&(as(this.a,"PERSISTENT_DESERIALIZATION_FAILURE"),td(this.j,"Failed deserializing persistent state: %s",
c));null!=a?(c=A(a,1),F(this.j,"Restarting from persistent state: %s",c),Zs(this,null),dt(this,c),this.K=!1,c=new rs("SendFirstPersistentInfo",t(this.A,this,!1,!0)),a=Oc(this.c,9),vs(this.I,a,c),ss(this.pa,!1,"Startup-after-persistence")):(F(this.j,"Starting with no previous state"),this.K=!0,dt(this,null),ss(this.Y,!1,"Startup"))},a))},Zs=function(a,b){if(null==b)b=null;else if(tc)b=l.btoa(b);else{for(var c=[],d=0,e=0;e<b.length;e++){var f=b.charCodeAt(e);255<f&&(c[d++]=f&255,f>>=8);c[d++]=f}b=uc(c,
void 0)}a.l=b},dt=function(a,b){var c=2!=a.o.a&&null==a.b&&null!=b;a.b=b;c&&(a.o.start(),a.g.Cb(a),a.g.Lc(a,"",0),F(a.j,"Ticl started: %s",a))},Ys=function(a,b){return new qd(a.D,b,Oc(a.c,6))};Xs.prototype.toString=function(){var a=this.b;return Pd("Client: clientName = %s, token = %s, state = %s",this.$.toString(),null!=a?a.toString():"null",this.o.toString())};
var et=function(a){this.a=a.j;this.D=a.g;this.g=new D;this.v=!1;a=$s();this.A=new qd(Math.random,Oc(a,2),Oc(a,6))};h=et.prototype;h.register=function(a,b){var c=Array.prototype.slice.call(arguments);c.shift();F(this.a,"Will register objects: %s",c);for(var d=0;d<c.length;d++){var e=c[d],f=pf(qs(e));this.g.set(f,e)}ft(this,a,!0,c)};
h.unregister=function(a,b){var c=Array.prototype.slice.call(arguments);c.shift();F(this.a,"Will unregister objects: %s",c);for(var d=0;d<c.length;d++){var e=pf(qs(c[d]));this.g.remove(e)}ft(this,a,!1,c)};h.Cb=function(a){F(this.a,"Listener received ready call");this.v=!0;gt(this,a);F(this.a,"Cleared all waiting registrations")};h.Lc=function(a){F(this.a,"Listener received reissueRegistrations call");this.v?gt(this,a):td(this.a,"Ticl issued reissueRegistrations but not ready!")};
h.Zb=function(a,b,c){F(this.a,"informRegistrationStatus: %s, %s",b,c);ht(this,a,b,c);this.A.reset()};h.Bb=function(a,b,c,d){F(this.a,"informRegistrationFailure: %s, %s, %s",b,c,d);c?ht(this,a,b,null):(b=pf(qs(b)),this.g.remove(b),this.Yb(a,new ns(0,!1)))};
var ht=function(a,b,c,d){var e=pf(qs(c)),f=cd(a.g.b,e);if(null==d||0==d!=f)ud(a.a,"handleRegistrationStatus_: Obj: %s, Reg: %s, Desired: %s",c,d,f),d=rd(a.A),vs(a.D,d,new rs("Reissue regop",t(function(){f?this.register(b,c):this.unregister(b,c)},a)))},ft=function(a,b,c,d){a.v?c?b.register.apply(b,d):b.unregister.apply(b,d):F(a.a,"Cannot perform reg ops since ready not received")},gt=function(a,b){0!=a.g.c&&(a=a.g.S(),b.register.apply(b,a))};
var it=function(a){this.a=a};it.prototype.R=function(){return this.a.a.substring(3)};var jt=function(a,b,c,d,e){et.call(this,c);this.L=a;this.l=b;this.o=Hg();this.j=d;this.I=e;this.c=this.b=null;this.h={};this.gb=null;this.C=new jd};w(jt,et);var kt=function(a){return Ho("edulive.tango.Listener.LAST_VERSIONS",{}).then(function(a){this.gb=a},null,a)},lt=function(a){a.gb?Io("edulive.tango.Listener.LAST_VERSIONS",a.gb):Jo()},mt=function(a,b){a.b=b;return Fg([a.o.a,kt(a)])};h=jt.prototype;h.Cb=function(a){jt.J.Cb.call(this,a);this.o.b()};
h.Dc=function(a,b,c){a=[b.a.a,b.c,b.b];M(this.j,"invalidate("+a.join(", ")+")");var d=void 0;try{var e=b.b;d=e?new Cc(e?JSON.parse(e):null):void 0}catch(f){e=f instanceof Error?f.toString():JSON.stringify(f),K(this.j,'Invalid payload: "'+b.b+'". For invalidation: "'+a.join(", ")+'". Ignoring payload. Reason: '+e)}nt(this,b.a,b.c,d);this.l(c)};h.$b=function(a,b,c){a=b.a;M(this.j,"invalidateUnknownVersion("+a+")");this.C.contains(a)?nt(this,b):this.C.eb(a);this.l(c)};
h.Ec=function(a,b){M(this.j,"invalidateAll()");ot(this,"refreshAll");this.gb={};lt(this);this.l(b)};h.Yb=function(a,b){K(this.j,"informError( "+b+")");this.o.c(b)};h.stop=function(){ub(this.h,function(a,b){pt(this,b)},this);qt(this);this.b=null};
var rt=function(a){return a.c?S():dp(cp.B()).then(function(a){this.b&&!this.c&&a.R()&&To(a.a.role)&&(a=a.R(),a=new ks(1053,this.I+"u:"+a),M(this.j,"registerUser("+a.a+")"),this.register(this.b,a),this.c=a)},void 0,a)},qt=function(a){a.c&&(M(a.j,"unregisterUser("+a.c.a+")"),a.unregister(a.b,a.c),a.c=null)},st=function(a,b){return(a.c?S():rt(a)).then(function(){if(this.b&&!Ab(this.h,b)){var a=new ks(1053,this.I+"c:"+b);M(this.j,"registerCourse("+a.a+")");this.register(this.b,a);this.h[b]=a}},void 0,
a)},pt=function(a,b){var c=a.h[b];c&&(M(a.j,"unregisterCourse("+c.a+")"),Db(a.h,b),a.unregister(a.b,c))},nt=function(a,b,c,d){var e;if(e=d)1<d.c?(e=d.a[0],e=e===xc?d.a[0]=[]:e):d.b?(e=d.b[1],e=e===xc?d.b[1]=[]:e):e=void 0;d=c||0;var f=a.gb[b.a]||0;c=n(c)&&f>=d;var g=new it(b);if(!e&&!c){if(1==g.a.a.indexOf("u:"))var k="refreshAll";else if(1==g.a.a.indexOf("c:")){k="refreshWorkgroup";var m=g.R()}else K(a.j,"Unknown objectId: "+b.a);k&&ot(a,k,m)}d=Math.max(f||0,d);a.gb[b.a]=d;lt(a)},ot=function(a,b, c){L(a.j,"Sending "+b+(n(c)?" for workgroup "+c:""));Q(a.L,new Kp(a.L,b,c))};
var tt=function(a,b,c,d){a=new Ph(a);0!=b&&T(a,"authuser",b);null!=c&&T(a,"service",c);this.b=a.toString();this.ua=d;this.h=0};tt.prototype.start=function(){ut(this.ua)};tt.prototype.send=function(a,b,c){var d=new Ph(this.b),e;for(e in c)T(d,e,c[e]);Bi(d.toString(),t(this.c,this,this.h++),"POST",a,b,void 0,!0)};tt.prototype.c=function(a,b){b=b.target;b.va()?F(this.ua.j,"post success."):(xh(b),E(this.ua.j,"error during post: "+a))};
var vt=function(a,b,c,d,e,f,g){tt.call(this,a,d,e,g);a=new Ph(this.b);null!=c&&T(a,"oauth_token",c);0!=d&&T(a,"authuser",d);null!=e&&T(a,"service",e);c={};c.pu=a.toString();this.g=new Jl(c,b,f,t(this.$e,this));this.a=null;this.j=new Qd("XpcSenderClient")};w(vt,tt);h=vt.prototype;h.$e=function(a){this.a=a;this.a.registerService("ss",t(this.Ef,this));this.a.registerService("sf",t(this.Df,this),!0);ut(this.ua)};h.start=function(){F(this.j,"Attempting to connect cross-page channel");Kl(this.g)}; h.send=function(a,b,c){this.a.send("s",[a,b,c])};h.Ef=function(){F(this.ua.j,"post success.")};h.Df=function(a){E(this.ua.j,"error during post: "+a[0])};
var wt=function(a,b,c,d,e){this.I=null;this.L=[];this.j=new Qd("LcsPushChannel");this.H=this.l=!1;this.G=b;this.K=c||"lcssenderclient";this.b=[];this.g=d||null;this.M=e||"tango_service";this.c=this.C=null;this.h=(self.SharedWorker&&a.g(),new Ol(this,a));null!=this.g&&this.h.fd(this.g);this.h.open();this.o=this.A=null;this.D=0;b=a.b;a.g()?this.v=new vt(this.G,this.K,this.g,b,a.a,null,this):this.v=new tt(this.G,b,a.a,this);this.v.start()};
wt.prototype.Ic=function(a,b){this.A||(this.A=a.H(this.M,this),this.A.open());null!=this.c&&this.c.Ic(a,b);F(this.j,"LCS push-only channel opened")};wt.prototype.a=function(a){this.j=a.j};wt.prototype.stop=function(){this.h.Ea()||this.h.W()};wt.prototype.sendMessage=function(a){this.l?xt(this,a):(10<=this.b.length&&this.b.shift(),this.b.push(a),F(this.j,"not online. Buffer message "+a))};
var xt=function(a,b){if(a.l){var c=a.o,d=new wr;B(d,1,114);B(d,2,c);c=a.D.toString();var e=new Lp;B(e,2,2);B(e,1,3);var f=new Np;B(f,1,e);e=new Fr;B(e,5,f);B(e,6,1);B(e,7,2);B(e,4,b);B(e,8,d);B(e,1,!0);B(e,10,c);a.D++;F(a.j,"sending "+e);b=pf(e);d={"Content-Type":"text/plain"};c={};null!=a.g?d.Authorization="OAuth "+a.g:null!=a.C&&(c.app_auth=a.C);a.v.send(b,d,c)}else E(a.j,"no session yet: not sending "+b)};wt.prototype.receive=function(a,b){this.I&&this.I(b)};
wt.prototype.Hc=function(a,b){null!=this.c&&this.c.Hc(a,b);E(this.j,"channel error: %s",b)};wt.prototype.bc=function(a){tj(this,!1);null!=this.c&&this.c.bc(a);F(this.j,"channel closed")};wt.prototype.Ed=function(a,b){E(this.j,"failed to create session: %s",b.description)};var ut=function(a){F(a.j,"cross-page channel open");a.H=!0;tj(a,!0)},tj=function(a,b){a.l=b&&null!=a.o&&a.H;if(a.l&&0!=a.b.length){for(b=0;b<a.b.length;b++)xt(a,a.b[b]);eb(a.b)}for(b=0;b<a.L.length;++b)a.L[b](a.l)};
var yt=function(a,b,c,d,e,f){a=new lk(a,c);d&&(a.b=d);f&&(a.a=f);wt.call(this,a,b,void 0,e)};w(yt,wt);var zt=function(a,b,c,d,e){this.b=b;this.g=c;this.j=a;this.a=d;this.c=e;this.h=new Qs;this.b.a(this);this.g.a(this);this.j&&this.j.a(this);this.a.a(this);this.c.a(this)};zt.prototype.start=function(){this.h.start()};zt.prototype.stop=function(){this.h.stop();this.a.stop()};
var At=function(){};var Bt=function(){};w(Bt,At);Bt.prototype.P=function(){var a=0;$c(this.sa(!0),function(){a++});return a};Bt.prototype.clear=function(){var a=ad(this.sa(!0)),b=this;Xa(a,function(a){b.remove(a)})};var Ct=function(a){this.a=a};w(Ct,Bt);h=Ct.prototype;h.isAvailable=function(){if(!this.a)return!1;try{return this.a.setItem("__sak","1"),this.a.removeItem("__sak"),!0}catch(a){return!1}};h.set=function(a,b){try{this.a.setItem(a,b)}catch(c){if(0==this.a.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded";}};h.get=function(a){a=this.a.getItem(a);if(!q(a)&&null!==a)throw"Storage mechanism: Invalid value was encountered";return a};h.remove=function(a){this.a.removeItem(a)};
h.P=function(){return this.a.length};h.sa=function(a){var b=0,c=this.a,d=new Yc;d.next=function(){if(b>=c.length)throw Xc;var d=c.key(b++);if(a)return d;d=c.getItem(d);if(!q(d))throw"Storage mechanism: Invalid value was encountered";return d};return d};h.clear=function(){this.a.clear()};h.key=function(a){return this.a.key(a)};
var Dt=function(){var a=null;try{a=window.localStorage||null}catch(b){}this.a=a};w(Dt,Ct);var Et=function(a,b){this.b=a;this.a=b+"::"};w(Et,Bt);Et.prototype.set=function(a,b){this.b.set(this.a+a,b)};Et.prototype.get=function(a){return this.b.get(this.a+a)};Et.prototype.remove=function(a){this.b.remove(this.a+a)};Et.prototype.sa=function(a){var b=this.b.sa(!0),c=this,d=new Yc;d.next=function(){for(var d=b.next();d.substr(0,c.a.length)!=c.a;)d=b.next();return a?d.substr(c.a.length):c.b.get(d)};return d};
var Ft=function(a){var b=new Dt;return b.isAvailable()?a?new Et(b,a):b:null};var Gt=function(a){this.j=a;F(this.j,"Creating concurrent store %s","tokens-1053");this.c=Ra();this.b=(this.a=Ft("google_notification_values_tokens-1053"))?Ft("google_notification_remover_tokens-1053"):null},Jt=function(a){for(var b=null,c=5;null==b&&0<c--;){var d=a.a?ad(a.a.sa(!0)):[];if(0==d.length)break;b=Math.floor(Math.random()*d.length);var e=d[b];F(a.j,"Returning random item %d of %d: %s",b,d.length,e);d=e;b=a;e=d;Ht(b,e,b.c);var f=b;var g=e,k=f.a.get(g);F(f.j,"Got value of %s for %s",k,g);
f=k;It(b,e,null);g=b;k=e;var m=g.b.get(k);F(g.j,"Got lastRemover of %s for %s",m,k);m==b.c?F(b.j,"Last remover, returning %s for %s",f,e):(F(b.j,"Not last remover, returning null for %s",e),f=null);Ht(b,e,null);b=f;F(a.j,"Got value %s for %s",b,d)}return b},It=function(a,b,c){null!=c?(F(a.j,"Setting value of slot %s to %s",b,c),a.a.set(b,c)):(F(a.j,"Removing slot %s",b),a.a.remove(b))},Ht=function(a,b,c){c?(F(a.j,"Setting lastRemover of slot %s to %s",b,c),a.b.set(b,c)):(F(a.j,"Clearing lastRemover of slot %s", b),a.b.remove(b))};
var Kt=function(a,b,c,d,e,f,g){Xs.call(this,a,b,c,d,e,f,g)};w(Kt,Xs);var Mt=function(a,b,c,d,e){this.a=a;this.g=b;this.j=c;this.c=d;this.b=[];this.h=e};h=Mt.prototype;h.start=function(){this.a.start()};h.stop=function(){this.a.stop()};h.register=function(a){this.a.register.apply(this.a,arguments);for(var b=0;b<arguments.length;b++){var c=arguments[b];if(this.h){F(this.j,"Generating invalidation for registration for %s with a recycled client token",c);var d=new qd(Math.random,1E3,1E3);rd(d);var e="client-ack-handle-"+Ra();e=new os(e);this.b.push(e);Nt(this,c,e,d)}}};
h.unregister=function(a){this.a.unregister.apply(this.a,arguments)};h.Lb=function(a){var b=Ot(this,a);null!=b?(F(this.j,"Client-generated invalidation acked."),a=this.b,this.b=a.slice(0,b).concat(a.slice(b+1))):this.a.Lb(a)};
var Nt=function(a,b,c,d){a.g.$b(a,b,c);var e=rd(d);vs(a.c,e,new rs("retry invalidation",t(function(){null!=Ot(this,c)&&(F(this.j,"Client-generated invalidation for %s not acked, retrying after %d ms",b,e),Nt(this,b,c,d))},a)))},Ot=function(a,b){for(var c=0;c<a.b.length;c++)if(a.b[c].U(b))return c;return null};
var Qt=function(a,b,c,d){this.g=a;this.l=b;this.o=c;this.j=d;this.b=null;this.v=Pt(this)};Qt.prototype.c=function(a,b,c){this.g.c(a,b,c);a==this.l&&(this.b=b)};Qt.prototype.h=function(a,b){return this.g.h(a,b)};Qt.prototype.a=function(a){this.g.a(a)};var Pt=function(a){a.b=Jt(a.o);if(null!=a.b){var b=a.j;F(b,"Reusing existing state blob: %s",a.b);a.c(a.l,a.b,function(a){F(b,"Write state blob completed: %s",a)});return!0}return!1};
var Rt=function(a){this.b=a;this.a=null};h=Rt.prototype;h.Cb=function(){this.b.Cb(this.a)};h.Dc=function(a,b,c){this.b.Dc(this.a,b,c)};h.$b=function(a,b,c){this.b.$b(this.a,b,c)};h.Ec=function(a,b){this.b.Ec(this.a,b)};h.Zb=function(a,b,c){this.b.Zb(this.a,b,c)};h.Bb=function(a,b,c,d){this.b.Bb(this.a,b,c,d)};h.Lc=function(a,b,c){this.b.Lc(this.a,b,c)};h.Yb=function(a,b){this.b.Yb(this.a,b)};
var St=function(){this.b=Ra();this.a=$s()},Tt=function(a,b,c){var d=a.j,e=b.a,f=a.g,g=new Gt(d),k=new Qt(a.c,"ClientToken",g,d);Pf(window,"unload",function(){if(null!=k.b){var a=k.o,b=k.b;null==a.a?E(a.j,"Storage unsupported, dropping value"):10<=a.a.P()?E(a.j,"Store is full, dropping value"):It(a,Ra(),b)}});g=new zt(d,a.b,f,a.a,k);g.start();a=new Rt(c);b=new Kt(g,Math.random,1053,b.b,e,"hr",a);c=new Mt(b,c,d,f,k.v);return a.a=c};
var Ut=function(){this.j=this.b=null},vs=function(a,b,c){a=t(function(){2==this.b.h.a?c.b():E(this.j,"Not running on internal thread since resources are not started %s, %s",b,c)},a);Wg(a,b)};Ut.prototype.a=function(a){this.b=a;this.j=this.b.j};var Vt=function(a){this.j=H("invalidation-"+a)};w(Vt,Qd);Vt.prototype.a=function(){};var Wt=function(){this.j=this.b=null;this.g=new D};Wt.prototype.a=function(a){this.b=a.b;this.j=a.j};
Wt.prototype.c=function(a,b,c){var d=t(function(){this.g.set(a,b);c(new ms(0,""))},this);vs(this.b,0,new rs("writeKey",d))};Wt.prototype.h=function(a,b){var c=t(function(){var c=this.g.get(a);c?b(new ms(0,""),c):b(new ms(2,"No value present in map for "+a),"")},this);vs(this.b,0,new rs("readKey",c))};
var Xt=function(a,b,c,d,e){this.a=b;this.b=c;this.j=a;this.c=d;this.g=e},Yt=function(a){a.seal();return new zt(a.j,a.a,a.b,a.c,a.g)};Xt.prototype.seal=function(){};var Zt=function(a,b,c,d,e){Xt.call(this,a,b,c,d,e)};w(Zt,Xt);var $t=function(a){return new Zt(new Vt("hr"),new Ut,new Ut,a,new Wt)};var au=function(){P.call(this);this.j=H("edulive.tango.Manager");this.N=cp.B();this.D=Fn.B();this.h=W.B();this.o=null;this.v=[];this.c=this.l=this.b=null;this.G="p";this.H=0;this.M=t(this.Cf,this);this.N.listen("selfChanged",this.M);this.K=t(this.ye,this);this.D.listen("stateChanged",this.K);this.A=t(this.we,this);this.h.listen("edulive.messages.classroom.Events.selfEnrolled",this.A);this.h.listen("edulive.messages.classroom.Events.selfOwned",this.A);this.C=t(this.xe,this);this.h.listen("edulive.messages.classroom.Events.selfUnenrolled",
this.C);this.h.listen("edulive.messages.classroom.Events.selfUnowned",this.C)};w(au,P);r(au);au.prototype.F=function(){bu(this);this.h.a("edulive.messages.classroom.Events.selfUnowned",this.C);this.h.a("edulive.messages.classroom.Events.selfUnenrolled",this.C);this.h.a("edulive.messages.classroom.Events.selfOwned",this.A);this.h.a("edulive.messages.classroom.Events.selfEnrolled",this.A);this.D.a("stateChanged",this.K);this.N.a("selfChanged",this.M);au.J.F.call(this)};
var cu={classroom:"p",prod:"p",qa:"q"},eu=function(){var a=au.B();fp(a.D).then(function(a){return 2==a?du(this):S()},void 0,a)};au.prototype.Ic=da;au.prototype.Hc=function(a,b){K(this.j,"onError("+[b.b,b.a].join(", ")+")");a=b.a;!this.c||400!=a&&401!=a||(a=this.H?u()-this.H:6E5,this.H=u(),b=Pn.B(),(6E5>a?Rn(b):S()).then(b.c,void 0,b).then(function(a){if(this.c){L(this.j,"Refreshing OAuth2 token: "+a);var b=this.l;b.g=a;b.h.fd(a)}},void 0,this))};au.prototype.bc=da;
var du=function(a){var b=a.o||S(),c=Pn.B();b=b.then(c.c,void 0,c).then(a.T,void 0,a);return fu(a,b)},fu=function(a,b){var c=Lg(b,function(){});a.o=Kg(c,t(a.O,a,c));return b};au.prototype.O=function(a){this.o==a&&(this.o=null)};
var gu=function(a){return gp(a.D).then(function(a){var b=/^https:\/\/(?:(?:homeroom-(prod|qa)-.+)|(?:(classroom)))\.google\.com/.exec(a);if(b){b=b[1]||b[2];var d=cu[b];L(this.j,a+" ("+b+") maps to Tango prefix: "+d)}d||(K(this.j,"Could not determine prefix for "+a+". Defaulting to p"),d="p");return this.G=d},void 0,a)};
au.prototype.T=function(a){return!a||this.b||this.c?S():gu(this).then(function(){M(this.j,"Setting up tango with OAuth2 token: "+a);this.l=new yt("https://client-channel.google.com/client-channel/channel","https://clients4.google.com/invalidation/lcs/request","hr",void 0,a,"classroom");this.l.c=this;var b=Yt($t(this.l));b.start();var c=t(function(a){this.c.Lb(a)},this);this.b=new jt(this,c,b,this.j,this.G);c=new St;this.c=Tt(b,c,this.b);this.c.start();return mt(this.b,this.c)},void 0,this).then(function(){if(this.b)return hu(this)},
void 0,this)};
var hu=function(a){var b=Za(a.v,function(a){var b=a.message.params;switch(a.message.request){case "edulive.messages.classroom.Events.selfEnrolled":case "edulive.messages.classroom.Events.selfOwned":return st(this.b,b.id);case "edulive.messages.classroom.Events.selfUnenrolled":case "edulive.messages.classroom.Events.selfUnowned":return new R(function(a){pt(this.b,b.id);a(null)},this);default:return K(this.j,"Unknown event: "+JSON.stringify(a.message)),S()}},a);a.v=[];return Fg(b)},bu=function(a){var b=
(a.o||S()).then(a.me,void 0,a);fu(a,b)};h=au.prototype;h.me=function(){L(this.j,"Closing tango connection");this.b&&(this.b.stop(),this.b=null);this.c&&(this.c.stop(),this.c=null);this.l=null};h.ye=function(a){switch(a.target.getState()){case 0:bu(this);break;case 2:du(this)}};h.Cf=function(){this.b&&(qt(this.b),rt(this.b))};h.we=function(a){this.b?st(this.b,a.message.params.id):fb(this.v,a)};h.xe=function(a){this.b?pt(this.b,a.message.params.id):fb(this.v,a)};
var iu=function(){O.call(this);this.j=H("edulive.classroom.ClassroomManager");this.a=W.B();this.Jb=cp.B();this.D=Fn.B();this.v=xn.B();this.aa=Co.B();this.G=au.B();this.Md=Jp.B();this.c={};this.l=null;this.A={};this.b="ALL_CLASSROOMS";this.h=this.g=null;this.N=t(this.re,this);this.D.listen("stateChanged",this.N);this.o=t(this.qe,this);this.v.listen(Jn,this.o);this.v.listen(Kn,this.o);this.v.listen(Mn,this.o);this.T=t(this.te,this);this.G.listen("refreshWorkgroup",this.T);this.O=t(this.se,this);this.G.listen("refreshAll",
this.O);this.ba=t(this.Qe,this);X(this.a,"edulive.messages.classroom.Requests.get",this.ba);this.fa=t(this.pa,this,void 0);X(this.a,"edulive.messages.classroom.Requests.list",this.fa);this.Ib=t(this.je,this);X(this.a,"edulive.messages.classroom.Requests.refresh",this.Ib);this.Y=t(this.Zd,this);X(this.a,"edulive.messages.classroom.Requests.enrolled",this.Y);this.Ia=t(this.ae,this);X(this.a,"edulive.messages.classroom.Requests.owned",this.Ia);this.$=t(this.Ce,this);X(this.a,"edulive.messages.classroom.Requests.getActive",
this.$);this.Kb=t(this.Ff,this);X(this.a,"edulive.messages.classroom.Requests.setActive",this.Kb)};w(iu,O);r(iu);
iu.prototype.F=function(){Y(this.a,"edulive.messages.classroom.Requests.setActive",this.Kb);Y(this.a,"edulive.messages.classroom.Requests.getActive",this.$);Y(this.a,"edulive.messages.classroom.Requests.owned",this.Ia);Y(this.a,"edulive.messages.classroom.Requests.enrolled",this.Y);Y(this.a,"edulive.messages.classroom.Requests.refresh",this.Ib);Y(this.a,"edulive.messages.classroom.Requests.list",this.fa);Y(this.a,"edulive.messages.classroom.Requests.get",this.ba);this.G.a("refreshAll",this.O);this.G.a("refreshWorkgroup",
this.T);this.v.a(Mn,this.o);this.v.a(Kn,this.o);this.v.a(Jn,this.o);this.D.a("stateChanged",this.N);iu.J.F.call(this)};var ju=function(){var a=iu.B();M(a.j,"initialized");S(a.C(a.c))};iu.prototype.pa=function(a){return ku(this,a).then(this.C,void 0,this)};iu.prototype.Zd=function(){return lu(this,!1).then(this.C,void 0,this)};iu.prototype.ae=function(){return lu(this,!0).then(this.C,void 0,this)};
iu.prototype.je=function(){return this.M().then(function(a){this.b=null;return a},void 0,this).then(this.C,void 0,this)};
var ru=function(a,b){var c=mu(a,b);if(nu(a,b)){var d=a.b;a.b=null;if(d!=b)return c=Lg(c.then(a.M,void 0,a),function(a){ou(this,d);throw a;},a),pu(a,c).then(t(a.K,a,b)).then(nm);c=Lg(c.then(t(a.be,a,b)).then(nm),function(a){a instanceof Xl||ou(this,d);throw a;},a);return qu(a,b,c)}return c.then(t(a.K,a,b)).then(nm)},tu=function(a,b){M(a.j,"setActiveWorkgroup("+b+")");b=(b?ru(a,b):S(null)).then(a.H,void 0,a).then(function(a){return a&&nm(a)},void 0,a);return su(a,b)},vu=function(a){var b=Lg(uu(a,a.g),
function(a){if(a instanceof Xl)return this.H(null);throw a;},a).then(function(a){return a&&nm(a)},void 0,a);return su(a,b)},xu=function(a,b){return mu(a,b).then(function(){var a=this.c[b];if(!a)return null;wu(this,a);return a},void 0,a)};iu.prototype.C=function(a){return Za(yb(a),function(a){return nm(a)},this)};
var ku=function(a,b){M(a.j,"getWorkgroups_("+b+")");b&&yu(a);b=mu(a);if(nu(a)){var c=a.b;a.b=null;b=b.then(a.M,function(a){c&&ou(this,c);throw a;},a);return pu(a,b)}return b.then(function(){return this.c},void 0,a)},lu=function(a,b){return ku(a).then(function(a){return vb(a,function(a){return a.isOwner==b},this)},void 0,a)};iu.prototype.M=function(){return ep(this.Jb).then(function(a){return a?zu(this):{workgroupList:[]}},void 0,this).then(this.ra,void 0,this)};
var zu=function(a){L(a.j,"listWorkgroups_()");var b={url:em("workgroups").toString(),method:"GET",za:"API Call: LIST_WORKGROUPS"},c=xo(b);return a.D.Ma().then(function(){return this.aa.a(c)},void 0,a).then(pm)};iu.prototype.ra=function(a){var b=qb(a.workgroupList,function(a){return a.id});a=vb(this.c,function(a){return!Ab(b,a.id)},this);ub(a,function(a){wu(this,a)},this);ub(b,function(a){Ab(this.c,a.id)?Au(this,a):Bu(this,a)},this);a=this.g?this.c[this.g]:null;this.g&&!a&&this.H(null);return this.c};
var Bu=function(a,b){a.c[b.id]=b;var c=b.isOwner?"edulive.messages.classroom.Events.selfOwned":"edulive.messages.classroom.Events.selfEnrolled";L(a.j,c+": "+JSON.stringify(b));nn(a.a,c,b)},wu=function(a,b){a.g==b.id&&a.H(null);Db(a.c,b.id);var c=b.isOwner?"edulive.messages.classroom.Events.selfUnowned":"edulive.messages.classroom.Events.selfUnenrolled";L(a.j,c+": "+JSON.stringify(b));nn(a.a,c,b)},Au=function(a,b){var c=a.c[b.id];a.c[b.id]=b;!!c.isOwner!=!!b.isOwner?(wu(a,c),Bu(a,b)):mm(c,b)||(L(a.j,
"CHANGED from: "+JSON.stringify(c)+" to: "+JSON.stringify(b)),nn(a.a,"edulive.messages.classroom.Events.changed",b))};iu.prototype.pe=function(a){Ab(this.c,a.id)?Au(this,a):Bu(this,a);return S(a)};iu.prototype.K=function(a){M(this.j,"getWorkgroup: "+a);var b=this.c[a];if(!b)throw new Xl(a);M(this.j,"Got Workgroup: "+N(b));return b};
iu.prototype.be=function(a){M(this.j,"refreshWorkgroup_("+a+")");return Cu(this,a).then(this.pe,function(b){if(b instanceof Xl){var c=this.c[a];c&&wu(this,c)}throw b;},this)};
var Cu=function(a,b){L(a.j,"fetchWorkgroup_("+b+")");var c=fm(b),d=xo(c);return Lg(a.D.Ma().then(function(){return this.aa.a(d)},void 0,a).then(om),function(a){if(Go(a))throw new Xl(b);throw a;},a)},nu=function(a,b){return a.b?"ALL_CLASSROOMS"!=a.b&&b?a.b==b:!0:!1},mu=function(a,b){var c=[];a.l&&fb(c,a.l);ub(a.A,function(a,e){b&&b!=e||fb(c,a)});return Fg(c)},pu=function(a,b){var c=Lg(b,function(){},a);a.l=Kg(c,t(a.Yd,a,c));return b};
iu.prototype.Yd=function(a){a==this.l&&(M(this.j,"LIST_WORKGROUP complete"),this.l=null)};var qu=function(a,b,c){var d=Lg(c,function(){},a);d=Kg(d,t(a.Xd,a,b,d));a.A[b]=d;return c};iu.prototype.Xd=function(a,b){b==this.A[a]&&(M(this.j,"FETCH_WORKGROUP("+a+") complete"),Db(this.A,a))};iu.prototype.H=function(a){var b=a&&a.id;b!=this.g&&(this.g=b,nn(this.a,"edulive.messages.classroom.Events.active",a));return a};
var uu=function(a,b){b&&nu(a,b)&&Du(a);b=[];fb(b,mu(a));a.h&&fb(b,a.h);return Fg(b).then(function(){return this.g&&this.K(this.g)},void 0,a)},su=function(a,b){var c=Lg(b,function(){},a);a.h=Kg(c,t(a.Wd,a,c));return b};iu.prototype.Wd=function(a){this.h==a&&(M(this.j,"set/getActive complete"),this.h=null)};
var Eu=function(a,b){return a.Md.a?b?!a.g||a.g==b:!0:!1},ou=function(a,b){M(a.j,"Marking "+b+" as out-of-date.");a.b=a.b&&a.b!=b?"ALL_CLASSROOMS":b},yu=function(a){M(a.j,"Marking ALL_CLASSROOMS as out-of-date.");a.b="ALL_CLASSROOMS"},Du=function(a){a.b?(L(a.j,"Refreshing stale classroom "+a.b),Lg("ALL_CLASSROOMS"==a.b?a.pa(!0):ru(a,a.b),function(a){if(!(a instanceof Xl))throw a;},a)):S(null)};h=iu.prototype;
h.re=function(a){switch(a.target.getState()){case 2:yu(this);Eu(this)&&Du(this);break;case 0:this.l&&(this.h&&(this.h.cancel(),this.h=null),ub(this.A,function(a){a.cancel()},this),this.A={},this.l.cancel(),this.l=null),this.ra({workgroupList:[]})}};
h.qe=function(a){this.c[a.id]||(ou(this,a.id),Eu(this,a.id)&&Du(this));if(a.type==Mn){var b=a.id;this.g!=b&&(this.g?a.sentByTeacher&&Fg([ru(this,this.g),dp(this.Jb)]).then(function(c){var d=c[1];c[0].isOwner&&d.R()!=a.page.senderId||tu(this,b)},null,this):tu(this,b))}};h.te=function(a){ou(this,a.workgroupId);Eu(this,a.workgroupId)&&Du(this)};h.se=function(){yu(this);Eu(this)&&Du(this)};h.Qe=function(a){a=a.message.params;return q(a)?ru(this,a):Cg(new Vl(a))}; h.Ce=function(){return vu(this).then(function(a){return a?nm(a):null},void 0,this)};h.Ff=function(a){return(a=a.message.params)&&!q(a)?Cg(new Vl(a)):tu(this,a).then(function(a){return a?nm(a):null},void 0,this)};
var Fu=function(){O.call(this);this.j=H("edulive.classroom.CourseManager");this.g=Fn.B();this.v=Bo.B();this.c=au.B();this.b={};this.a={};this.h=t(this.C,this);this.g.listen("stateChanged",this.h);this.o=t(this.G,this);this.c.listen("refreshWorkgroup",this.o);this.l=t(this.D,this);this.c.listen("refreshAll",this.l)};w(Fu,O);r(Fu);Fu.prototype.F=function(){this.c.a("refreshAll",this.l);this.c.a("refreshWorkgroup",this.o);this.g.a("stateChanged",this.h);Fu.J.F.call(this)};
var Gu={"https://classroom.google.com/":"https://classroom.googleapis.com","https://homeroom-prod-day0.sandbox.google.com":"https://prod-day0-classroom.sandbox.googleapis.com","https://homeroom-qa-day0.sandbox.google.com":"https://qa-day0-classroom.sandbox.googleapis.com","https://homeroom-qa-stable.sandbox.google.com":"https://qa-stable-classroom.sandbox.googleapis.com"},Hu=function(){var a=Fu.B();M(a.j,"initialized");S()},Ju=function(a,b){M(a.j,"getCourse("+b+")");var c=a.b[b];if(c)return S(c);
if(c=a.a[b])return c;c=Iu(a,b);c=Kg(c,t(a.A,a,b,c));return a.a[b]=c},Ku=function(a){return gp(a.g).then(function(a){return Gu[a]},void 0,a)},Lu=function(a,b){var c="/v1/courses";b&&(c+="/"+b);return Ku(a).then(function(a){return Th(fi(a),c).toString()},void 0,a)},Iu=function(a,b){return Lu(a,b).then(a.v.a,void 0,a.v).then(function(a){return this.b[b]=a},function(a){if(a instanceof to){var c=a.status;if(404==c)throw new Xl(b);if(403==c)throw new $l;}throw a;},a)};
Fu.prototype.A=function(a,b){b==this.a[a]&&(M(this.j,"FETCH_COURSE("+a+") complete"),Db(this.a,a))};var Mu=function(a,b){M(a.j,b+" is out-of-date. Marking dirty.");return(a.a[b]||S()).then(function(){Db(this.b,b)},void 0,a)},Nu=function(a){M(a.j,"Marking all cached courses dirty.");Fg(Za(zb(a.b),function(a){return Mu(this,a)},a))};Fu.prototype.C=function(a){0==a.target.getState()&&(ub(this.a,function(a){a.cancel()}),this.a={},Nu(this))};Fu.prototype.G=function(a){Mu(this,a.workgroupId)}; Fu.prototype.D=function(){Nu(this)};
var Ou=function(a){O.call(this);this.j=H("edulive.classroom.ParticipantList");this.b=a;this.h=!1;this.g=W.B();this.o=Fn.B();this.l=xn.B();this.A=au.B();this.D=Co.B();this.M=iu.B();this.c=this.a=null;this.v=t(this.ue,this);this.o.listen("stateChanged",this.v);this.H=t(this.vf,this);this.l.listen(Kn,this.H);this.G=t(this.qf,this);this.l.listen(Mn,this.G);this.C=t(this.N,this);this.g.listen("edulive.messages.classroom.Events.changed",this.C);this.K=t(this.Vf,this);this.A.listen("refreshWorkgroup",this.K);
this.T=t(this.O,this);this.g.listen("edulive.messages.classroom.Events.lockStatusChanged",this.T)};w(Ou,O);Ou.prototype.F=function(){this.l.a(Mn,this.G);this.l.a(Kn,this.H);this.o.a("stateChanged",this.v);this.A.a("refreshWorkgroup",this.K);this.g.a("edulive.messages.classroom.Events.changed",this.C);this.a&&(ub(this.a,function(a){a.W()}),this.a=null);Ou.J.F.call(this)};Ou.prototype.N=function(a){a=a.message.params;this.b.id==a.id&&(this.b=a)};
var Qu=function(a){return a.b.isOwner?Pu(a,void 0).then(function(a){return Ya(a,function(a){return!a.isTeacher()})}):Cg(new Yl(a.b))},Ru=function(a){return Pu(a,void 0).then(function(a){return Ya(a,function(a){return a.isTeacher()})})},Pu=function(a,b){(b=!!b||a.h)&&M(a.j,"Forcing reload of participants from the server for classroom: "+a.b.id);var c=a.h;a.h=!1;if(a.c)b&&(b=a.c.then(t(a.Id,a),function(a){this.h=c;throw a;},a),Kg(b,t(a.kd,a,b)),a.c=b);else{if(a.a&&!b)return S(yb(a.a));b=a.Id();a.c=
Kg(b,t(a.kd,a,b))}return a.c.then(yb,t(function(a){this.h=c;throw a;},a))};h=Ou.prototype;h.nd=function(a){if(!this.a||this.c)return Pu(this).then(t(this.nd,this,a));var b=this.a[a];return b?S(b):Cg(new Zl(a))};h.Id=function(){var a=gm(this.b.id);a=xo(a);return Lg(this.o.Ma().then(t(this.D.a,this.D,a)).then(t(this.bf,this)),function(a){if(Go(a)){var b=this.b.id;return xu(this.M,b).then(function(){throw new Xl(b);})}throw a;},this)};h.kd=function(a){this.c==a&&(this.c=null)};
h.ue=function(a){2==a.target.getState()&&Pu(this,!0)};h.vf=function(a){a.id==this.b.id&&Pu(this,!0)};h.Vf=function(a){a.workgroupId==this.b.id&&(L(this.j,"Tango Notification for "+this.b.id),this.h=!0)};h.qf=function(a){var b=a.page&&a.page.senderId;a.id!=this.b.id||this.a&&this.a[b]||(L(this.j,"Received state change notification in workgroup "+a.id+" for unknown user "+b+". Loading participant(s)."),Pu(this,!0))};
h.bf=function(a){this.a||(this.a={});var b={};Xa(a.participantList||[],function(a){a=new So(a);b[a.R()]=a},this);a=vb(this.a,function(a){return!Ab(b,a.R())},this);ub(a,function(a){Su(this,a)},this);ub(b,function(a){Ab(this.a,a.R())?Tu(this,a):Uu(this,a)},this);return this.a};
var Uu=function(a,b){a.a[b.R()]=b;var c={workgroupId:a.b.id,participant:Gb(b.a)};b=b.isTeacher()?"edulive.messages.classroom.Events.owned":"edulive.messages.classroom.Events.enrolled";L(a.j,b+": "+N(c));nn(a.g,b,c)},Tu=function(a,b){var c=Gb(b.a),d=a.a[b.R()];if(d.isTeacher()!=b.isTeacher())Su(a,d),Uu(a,b);else{var e=Gb(d.a);a.a[b.R()]=b;b={workgroupId:a.b.id,participant:c};jm(e,c)||(L(a.j,"CHANGED from: "+N(e)+" to: "+N(c)),nn(a.g,"edulive.messages.classroom.Events.participantChanged",b));d.W()}},
Su=function(a,b){var c=Gb(b.a);Db(a.a,b.R());c={workgroupId:a.b.id,participant:c};var d=b.isTeacher()?"edulive.messages.classroom.Events.unowned":"edulive.messages.classroom.Events.unenrolled";L(a.j,d+": "+N(c));nn(a.g,d,c);b.W()};Ou.prototype.O=function(a){a=a.message.params;a.workgroupId==this.b.id&&(a=new So(a.participant),Ab(this.a,a.R())?Tu(this,a):Uu(this,a))};
var Vu=function(){O.call(this);this.o=xn.B();this.v=Fn.B();this.a=W.B();this.l=iu.B();this.b={};this.c=t(this.H,this);this.a.listen("edulive.messages.classroom.Events.selfUnowned",this.c);this.a.listen("edulive.messages.classroom.Events.selfUnenrolled",this.c);this.D=t(this.C,this);X(this.a,"edulive.messages.userInfo.Requests.participant",this.D);this.g=t(this.G,this);X(this.a,"edulive.messages.userInfo.Requests.list",this.g);this.h=t(this.A,this);X(this.a,"edulive.messages.userInfo.Requests.listOwners",
this.h)};w(Vu,O);r(Vu);Vu.prototype.F=function(){Y(this.a,"edulive.messages.userInfo.Requests.listOwners",this.h);Y(this.a,"edulive.messages.userInfo.Requests.list",this.g);Y(this.a,"edulive.messages.userInfo.Requests.participant",this.g);this.a.a("edulive.messages.classroom.Events.selfUnenrolled",this.c);this.a.a("edulive.messages.classroom.Events.selfUnowned",this.c);ub(this.b,function(a){a.W()});this.b={};this.o.a(On,this.K);Vu.J.F.call(this)};
var Wu=function(){var a=Vu.B();fp(a.v)},Yu=function(a,b){return Xu(a,b).then(function(a){return Qu(a)},void 0,a)},Zu=function(a,b){return Xu(a,b).then(function(a){return Ru(a)},void 0,a)},$u=function(a,b,c){return Xu(a,b).then(function(a){return a.nd(c)},void 0,a)},Xu=function(a,b){var c=Eb(a.b,b);return c?S(c):ru(a.l,b).then(function(a){if(c=Eb(this.b,b))return c;c=new Ou(a);return this.b[b]=c},void 0,a)};Vu.prototype.H=function(a){a=a.message.params.id;var b=Eb(this.b,a);b&&(Db(this.b,a),b.W())};
Vu.prototype.G=function(a){a=a.message.params;return q(a)?Yu(this,a).then(Vo):Cg(new Vl(a))};Vu.prototype.A=function(a){a=a.message.params;return q(a)?Zu(this,a).then(Vo):Cg(new Vl(a))};Vu.prototype.C=function(a){a=a.message.params;return ln(a,["workgroupId","participantId"])?$u(this,a.workgroupId,a.participantId).then(Uo):Cg(new Vl(a))};
var av=function(){O.call(this);this.j=H("edulive.classroom.UnregisteredStudentsManager");this.c=W.B();this.h=Fn.B();this.C=au.B();this.v=xn.B();this.b=this.a=null;this.G=t(this.M,this);X(this.c,"edulive.messages.classroom.Requests.getStudentRegistrationData",this.G);this.A=t(this.K,this);this.h.listen("stateChanged",this.A);this.l=t(this.D,this);this.c.listen("edulive.messages.classroom.Events.selfOwned",this.l);this.o=t(this.H,this);this.c.listen("edulive.messages.classroom.Events.selfUnowned",this.o);
this.g=t(this.O,this);this.C.listen("refreshAll",this.g);this.v.listen(Nn,this.g)};w(av,O);r(av);av.prototype.F=function(){this.c.a("edulive.messages.classroom.Events.selfOwned",this.l);this.c.a("edulive.messages.classroom.Events.selfUnowned",this.o);this.h.a("stateChanged",this.A);Y(this.c,"edulive.messages.classroom.Requests.getStudentRegistrationData",this.G);this.C.a("refreshAll",this.g);this.v.a(Nn,this.g)};var bv=function(a){a.b=null;a.a&&(a.a.cancel(),a.a=null)};
av.prototype.K=function(a){0==a.target.getState()&&bv(this)};av.prototype.O=function(){this.b||this.a?(M(this.j,"Reloading data"),bv(this),cv(this)):M(this.j,"Ignoring data reload, as it was not already loaded")};av.prototype.D=function(a){var b=a.message.params;this.a?this.a.then(function(){this.D(a)},void 0,this):(this.b&&!this.b[b.id]&&bv(this),cv(this))};av.prototype.H=function(a){this.b&&Db(this.b,a.message.params.id)};
var cv=function(a){return a.b?S(a.b):a.a?a.a:dv(a)},dv=function(a){var b={url:em("registrations").toString(),method:"GET",za:"API Call: GET_REGISTRATIONS"},c=xo(b);a.a=a.h.Ma().then(function(){var a=Co.B();M(this.j,"Calling registrations API");return this.a=a.a(c).then(this.N,void 0,this)},void 0,a);return a.a};
av.prototype.N=function(a){this.b={};Xa(a.data,function(a){this.b[a.workgroupId]=a},this);nn(this.c,"edulive.messages.classroom.Events.studentRegistrationChanged");M(this.j,"Broadcast student registration changed");this.a=null;return this.b};av.prototype.M=function(a){var b=a.message.params;return cv(this).then(function(a){a=a[b];if(!a)throw new Xl(b);return a})};
var ev=function(a,b,c){Rl.call(this,a,b,c,"drive")};w(ev,Rl);ev.prototype.name="edulive.drive.Error";var fv=function(a){ev.call(this,"The specified url does not point to a Google Drive document.",a)};w(fv,ev);fv.prototype.name="edulive.drive.NotDriveUrlError";
var gv={jh:"READER",ng:"COMMENTER",Qh:"WRITER",Rh:"WRITER_ADD_TEACHER"},hv=function(){O.call(this);this.j=H("edulive.drive.Manager");this.l=pp.B();this.g=Bo.B();this.c=iu.B();this.b=Fu.B();this.a=W.B();this.h=t(this.v,this);X(this.a,"edulive.messages.drive.Requests.getNextRole",this.h);this.o=t(this.A,this);X(this.a,"edulive.messages.drive.Requests.setRole",this.o)};w(hv,O);r(hv);
hv.prototype.F=function(){Y(this.a,"edulive.messages.drive.Requests.setRole",this.o);Y(this.a,"edulive.messages.drive.Requests.getNextRole",this.h);hv.J.F.call(this)};
var kv=function(a,b,c){M(a.j,"getNextRoleLevel("+b+", "+c+")");var d=a.l.R(c);if(!d)return S(null);M(a.j,c+" ==> "+d);var e=null,f=null,g=!1;return Fg([ru(a.c,b),Ju(a.b,b)]).then(function(a){g=a[0].isOwner;a=a[1];e=a.teacherGroupEmail;f=a.courseGroupEmail;return iv(this,d,g?[e,f]:[e],"WRITER")},void 0,a).then(function(a){return jv(this,d,e,f,g,a)},void 0,a)},mv=function(a,b,c,d){M(a.j,"setRoleLevel("+b+", "+c+", "+d+")");var e=a.l.R(c);if(!e)return Cg(new fv(c));var f;return Fg([ru(a.c,b),Ju(a.b,
b)]).then(function(a){var b=a[0].isOwner,c=a[1];a=c.teacherGroupEmail;var g=c.courseGroupEmail;c=b?"WRITER":d;f=b?"Teacher":"Student";return lv(this,e,[a],c).then(function(){return b?lv(this,e,[g],d):S()},void 0,this)},void 0,a).then(function(){vn(qn.B(),f,"Update Drive Permissions",d);return d})},jv=function(a,b,c,d,e,f){if("ALL_FIXABLE"!==f.fixabilitySummaryState)return M(a.j,"No fix needed for "+b),S(null);var g=nv(f);if(!g)return K(a.j,"No viable fix available for "+b+". ("+JSON.stringify(f)+
")"),S(null);f=0<=Va(g.fixableRecipientEmailAddresses,c);g=0<=Va(g.fixableRecipientEmailAddresses,d);if(e&&!g&&f)return K(a.j,b+" has permissions for "+d+" but not "+c+". Returning WRITER_ADD_TEACHER permission"),S("WRITER_ADD_TEACHER");var k=e?d:c;return iv(a,b,[k],"COMMENTER").then(function(a){return"ALL_FIXABLE"===a.fixabilitySummaryState?iv(this,b,[k],"READER").then(function(a){return"ALL_FIXABLE"===a.fixabilitySummaryState?"READER":"COMMENTER"},void 0,this):"WRITER"},void 0,a)},iv=function(a,
b,c,d){b={fileIds:[b],recipientEmailAddresses:c,role:d};b=yo(wo(new mo("https://www.googleapis.com/drive/v2internal/files/checkPermissions"),"POST"),b);return a.g.a(b)},lv=function(a,b,c,d){b={fileIds:[b],fixOptionType:"ADD_COLLABORATORS",recipientEmailAddresses:c,role:d};b=yo(wo(new mo("https://www.googleapis.com/drive/v2internal/files/fixPermissions"),"POST"),b);return a.g.a(b).then(function(){return d},void 0,a)};
hv.prototype.v=function(a){a=a.message.params;return ln(a,["workgroupId","url"])?kv(this,a.workgroupId,a.url):Cg(new Vl(a))};hv.prototype.A=function(a){a=a.message.params;return ln(a,["workgroupId","url","role"])&&Bb(gv,a.role)?mv(this,a.workgroupId,a.url,a.role):Cg(new Vl(a))};var nv=function(a){return cb(a.fixOptions,function(a){return"ADD_COLLABORATORS"==a.optionType})};
var ov=function(a){a=H(a,Bd);L(a,"Logging enabled.");return a};var pv=function(a){this.a=a;this.b="empty";this.c={}};var sv=function(a,b,c,d){this.g=b;this.h=c;this.c="__webmonitoring_RateThrottler_history_"+a;this.a=[];null===qv&&(qv=ov("webmonitoring.RateThrottler"));this.b=null;d&&(this.b=new Dt);if(null!=this.b&&this.b.isAvailable()&&(a=this.b.get(this.c),null!=a))try{this.a=JSON.parse(a)||[]}catch(e){J(qv,"Could not parse old history.",e)}a=!1;fa(this.a)||(this.a=[],a=!0);for(;this.a.length>this.g;)this.a.shift(),a=!0;a&&rv(this)},rv=function(a){if(null!=a.b&&a.b.isAvailable())try{a.b.set(a.c,N(a.a))}catch(b){J(qv, "Could not save history.",b)}};sv.prototype.exec=function(a){var b=u();if(this.a.length==this.g)if(this.a[0]<b-this.h)this.a.shift();else return!1;this.a.push(b);rv(this);null!=a&&a();return!0};var qv=null;
var tv=function(a){O.call(this);this.a=a;this.g=!1};w(tv,O);tv.prototype.setEnabled=function(a){this.g=a};var uv=function(a){return(a=a.exec(rb))?a[1]:""},vv=function(){if(lc)return uv(/Firefox\/([0-9.]+)/);if(Qb||Rb||Pb)return ec;if(pc)return Lb()?uv(/CriOS\/([0-9.]+)/):uv(/Chrome\/([0-9.]+)/);if(qc&&!Lb())return uv(/Version\/([0-9.]+)/);if(mc||nc){var a=/Version\/(\S+).*Mobile\/(\S+)/.exec(rb);if(a)return a[1]+"."+a[2]}else if(oc)return(a=uv(/Android\s+([0-9.]+)/))?a:uv(/Version\/([0-9.]+)/);return""}();
var xv=function(a){tv.call(this,a);this.v=100;this.A={};this.l=null;this.o="";this.b=null;this.c=!1;null===wv&&(wv=ov("webmonitoring.JsErrorsReporter"))};w(xv,tv);xv.prototype.enable=function(){if(this.g)return!1;this.h=window.onerror;window.onerror=this.D.bind(this);this.setEnabled(!0);return!0};
xv.prototype.D=function(a,b,c,d,e){var f=fi(window.location.href),g=null!=e&&null!=e.message?e.message:a;L(wv,va('The following error:" %s" occurred at URL: %s',g,f.b));if(ia(this.l)&&!this.l(f.b,g,b,c,d,e))L(wv,"The error was throttled by a custom handler and will not be uploaded.");else if(this.c){for(var k=Object.keys(this.A),m=100,p=0;p<k.length;++p){var v=k[p];(new RegExp(v)).test(g)&&(m=this.A[v])}(100*Math.random()).toFixed(6)>=this.v*m/100?L(wv,"The error upload was throttled due to sampling."):
(null===this.b&&(this.b=new sv("hourlyRate",10,36E5,!0)),(null===this.b?0:!this.b.exec())?L(wv,"The error upload was throttled since it exceeded the maximum allowed hourly rate."):this.c&&(k=Gb(this.a.c),k.url=f.b,k.type="JavascriptError",k.error_message=g,m="Other",Pb?m="Opera":Qb?m="Internet Explorer":lc?m="Firefox":pc?m="Chrome":qc&&(m="Safari"),k.browser=m,k.browser_version=vv,k.os=x("CrOS")?"Chrome OS":x("Linux")?"Linux":x("Windows")?"Windows":x("Android")?"Android":Kb()?"iPhone":x("iPad")?"iPad":
x("iPod")?"iPod":x("Macintosh")?"Mac":"Unknown",m=rb,p="",x("Windows")?(p=/Windows (?:NT|Phone) ([0-9.]+)/,p=(m=p.exec(m))?m[1]:"0.0"):Lb()?(p=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/,p=(m=p.exec(m))&&m[1].replace(/_/g,".")):x("Macintosh")?(p=/Mac OS X ([0-9_.]+)/,p=(m=p.exec(m))?m[1].replace(/_/g,"."):"10"):x("Android")?(p=/Android\s+([^\);]+)(\)|;)/,p=(m=p.exec(m))&&m[1]):x("CrOS")&&(p=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/,p=(m=p.exec(m))&&m[1]),k.os_version=p||"",wa(this.o)||(k.guid=this.o),
null!=b&&(k.src=b),null!=c&&(k.line=c),null!=d&&(k.column=d),k.prod=this.a.a,k.ver=this.a.b,m=null!=e?Qa(e.stack):"",k=yv(k),wa(g)||(p=m.split("\n"),-1<p[0].indexOf(g)&&(p.splice(0,1),m=p.join("\n"))),zv(this,"https://clients2.google.com/cr/staging_report",k,m),f={product:this.a.a,url:f.b,js_errors_count:"1"},g=Qa(null),wa(g)||(f.version=g),zv(this,"https://clients2.google.com/cr/staging_perf",yv(f))))}null!=this.h&&ia(this.h)&&this.h(a,b,c,d,e)};
var yv=function(a){var b="",c;for(c in a)b+=wa(b)?"?":"&",b+=c+"="+encodeURIComponent(a[c]);return b},zv=function(a,b,c,d){d=d||"";var e=wa(d)?{}:{"Content-Type":"text/plain"};Bi(b+c,a.C.bind(a,b),"POST",d,e,6E4,!0)};
xv.prototype.C=function(a,b){b=b.target;switch(a){case "https://clients2.google.com/cr/staging_perf":a="Crash Performance Data Collector";break;case "https://clients2.google.com/cr/staging_report":a="Crash Report Collector"}var c=xh(b);b.va()?L(wv,"JS exception successfully uploaded to "+a+";Response: "+c):J(wv,"Failed uploading JS exception to "+a+". Response: "+c)};var wv=null;
var Bv=function(a){tv.call(this,a);this.b=0;null===Av&&(Av=ov("webmonitoring.MemoryUsageReporter"))};w(Bv,tv);var Cv=[{age:6E4,name:"1m"},{age:15E5,name:"25m"},{age:36E5,name:"1h"},{age:36E6,name:"10h"}];Bv.prototype.enable=function(){if(this.g)return!1;if(window.performance&&window.performance.memory){var a=new Vg(6E4);tf(this,ra(uf,a));var b=new cg(this);tf(this,ra(uf,b));b.listen(a,"tick",this.c);a.start();this.setEnabled(!0);return!0}return!1};
Bv.prototype.c=function(){this.b+=6E4;for(var a="",b=0;b<Cv.length;++b)if(this.b==Cv[b].age){a=Cv[b].name;break}if(""!=a){b=Dv.test(rb)?"":"32_bit_";var c=window.performance.memory;if(c.totalJSHeapSize&&c.usedJSHeapSize){a=[{name:"total_"+b+"js_heap_size_mb_"+a+"_raw",displayName:"Total JS heap (MB)",value:Math.round(c.totalJSHeapSize/1048576)},{name:"used_"+b+"js_heap_size_mb_"+a+"_raw",displayName:"Used JS heap (MB)",value:Math.round(c.usedJSHeapSize/1048576)}];b=fi(window.location.href).b;c="?product="+
encodeURIComponent(this.a.a)+"&url="+encodeURIComponent(b);var d=Qa(null);wa(d)||(c+="&version="+encodeURIComponent(d));for(d=0;d<a.length;++d)c+="&"+encodeURIComponent(a[d].name)+"="+a[d].value,ia(null)&&null(b,a[d].displayName,a[d].value),L(Av,a[d].displayName+" = "+a[d].value);Bi("https://clients2.google.com/cr/staging_perf"+c,Ev,"POST","",null,6E4,!0)}}}; var Ev=function(a){a=a.target;a.va()?L(Av,"Memory stats uploaded successfully."):(a=xh(a),J(Av,"Failed to upload memory stats! Response: "+a))},Dv=/(x86_64|Win64)/,Av=null;
var Fv=function(a){O.call(this);this.c=new pv(a);this.a={}};w(Fv,O);Fv.prototype.b=function(){null!=this.a[2]||(this.a[2]=new xv(this.c));return this.a[2]};var Gv=function(a){Fv.call(this,a)};w(Gv,Fv);Gv.prototype.b=function(){var a=Gv.J.b.call(this);a.c=!0;return a};var Hv=function(){O.call(this);this.j=H("edulive.errors.ErrorHandler");this.c=W.B();this.b=!0;var a=chrome.runtime.getManifest(),b=new Gv("ClassroomLive");b.c.b=a.version;this.a=b;this.h=t(this.g,this)};w(Hv,O);r(Hv);Hv.prototype.F=function(){this.a.W();Hv.J.F.call(this)};var Iv=function(){var a=Hv.B(),b=a.a;null!=b.a[1]||(b.a[1]=new Bv(b.c));b.a[1].enable();b=a.a.b();b.l=a.h;b.v=100;b.enable()};
Hv.prototype.g=function(a,b,c,d,e,f){if(f&&f instanceof Mg)return!1;f&&f instanceof Rl&&f.helpText?(c="edulive.messages.errors.Requests.setError",b=!1):(f&&(f=Ql(f)),a=f&&f.stack,J(this.j,"Error: "+b+" ("+c+" @ Line: "+d+"): "+N(f)+(a?"\nStack: "+a:""),f),this.b||(a&&(b+=" at:\n"+a),window.alert(b)),c="edulive.messages.errors.Requests.setException",b=this.b);f&&(f=new Ul(f),this.c.sendRequest(c,f));return b};
var Jv=function(a){return N({t:a.l,ln:a.b.name,lv:a.b.value,m:a.getMessage(),n:a.c,s:a.g,e:a.a&&a.a.message})};var Kv=function(a){O.call(this);this.c=(a||5242880)/2;this.l=!1;this.b=[];this.a=0;this.g=t(this.o,this);this.h=new jd};w(Kv,O);r(Kv);Kv.prototype.F=function(){Lv(this,!1);Kv.J.F.call(this)};var Lv=function(a,b){if(b!=a.l){var c=Ld();b?Fd(c,a.g):((c=c.a)&&gb(c,a.g),eb(a.b),a.a=0);a.l=b}};
Kv.prototype.o=function(a){if(!this.h.contains(a.c)&&a){a=Jv(a);var b=a.length;if(!(b>this.c)){var c=b-(this.c-this.a);if(b+this.a>this.c){var d=0,e=bb(this.b,function(a){d+=a.length;return d>=c},this);lb(this.b,0,e+1);this.a-=d}fb(this.b,a);this.a+=b}}};
var Mv=function(){Kv.B();var a=cb(Ed,function(a){return"INFO"==a.name}),b=!wa("")&&[""],c="HangingGetChannel LcsPushChannel invalidation-hr goog.net.BrowserChannel webmonitoring.MemoryUsageReporter wiz.Dispatcher goog.net.NetworkTester BrowserChannelImpl bc-watchdog".split(" "),d=Kv.B();null!=a&&Gd(Ld(),a);if(b&&0<b.length){a=function(a){d.o(a)};for(var e=0;e<b.length;++e)Fd(H(b[e]),a)}else Lv(d,!0);c&&0<c.length&&Xa(c,function(a){d.h.eb(a)})};
var Nv=function(){O.call(this);this.a=W.B();this.g=Kv.B();this.b=t(this.c,this);X(this.a,"edulive.messages.logging.Requests.logs",this.b)};w(Nv,O);r(Nv);Nv.prototype.F=function(){Y(this.a,"edulive.messages.logging.Requests.logs",this.b);Nv.J.F.call(this)};Nv.prototype.c=function(){return S(ib(this.g.b))};
var Ov=function(){this.a=W.B();this.A=t(this.uf,this);X(this.a,"edulive.messages.navigation.Requests.pushCurrentPage",this.A);this.g=t(this.he,this);this.a.listen("edulive.messages.classroom.Events.active",this.g);this.v=t(this.H,this);X(this.a,"edulive.messages.navigation.Requests.popCurrentPage",this.v);this.o=t(this.G,this);X(this.a,"edulive.messages.navigation.Requests.peekCurrentPage",this.o);this.h=t(this.D,this);this.a.listen("edulive.messages.classroom.Events.changed",this.h);this.C=t(this.Gf,
this);X(this.a,"edulive.messages.navigation.Requests.setCurrentShareAction",this.C);this.l=t(this.De,this);X(this.a,"edulive.messages.navigation.Requests.getCurrentShareAction",this.l);this.b=[];this.c="edulive.messages.navigation.ShareAction.Fling"};w(Ov,O);r(Ov);h=Ov.prototype;
h.F=function(){Y(this.a,"edulive.messages.navigation.Requests.pushCurrentPage",this.A);Y(this.a,"edulive.messages.navigation.Requests.popCurrentPage",this.v);Y(this.a,"edulive.messages.navigation.Requests.peekCurrentPage",this.o);this.a.a("edulive.messages.classroom.Events.active",this.g);this.a.a("edulive.messages.classroom.Events.changed",this.h);Y(this.a,"edulive.messages.navigation.Requests.setCurrentShareAction",this.C);Y(this.a,"edulive.messages.navigation.Requests.getCurrentShareAction",this.l);
Ov.J.F.call(this)};h.Gf=function(a){this.c=a.message.params;return S(this.c)};h.De=function(){return S(this.c)};h.uf=function(a){return(a=a.message.params)&&!ln(a,["pageName","pageParam"])?Cg(new Vl(a)):S(Pv(this,a))};h.he=function(){Pv(this,null)};var Pv=function(a,b){if(b){var c=0==a.b.length?null:Ua(a.b);c==b||(null==c||null==b?0:c.pageName!=b.pageName?0:c.pageParam==b.pageParam||(null==c.pageParam||null==b.pageParam?0:Fb(c.pageParam,b.pageParam)))||a.b.push(b)}else eb(a.b);Qv(a);return b};
Ov.prototype.H=function(){var a=this.b.pop()||null;Qv(this);return S(a)};Ov.prototype.G=function(){return S(0==this.b.length?null:Ua(this.b))};Ov.prototype.D=function(a){Rv(this,a.message.params)};var Rv=function(a,b){a.b=Za(a.b,function(a){a.pageParam&&a.pageParam.workgroup&&a.pageParam.workgroup.id==b.id&&(a.pageParam.workgroup=b);return a})},Qv=function(a){nn(a.a,"edulive.messages.navigation.Events.currentPageChanged",0==a.b.length?null:Ua(a.b))};
var Sv=function(){O.call(this);this.c=H("edulive.notifications.Notification");this.b="";this.K=!1;this.h=this.G=this.g=this.A=void 0;this.H="unknown";this.a={type:"basic",iconUrl:void 0,title:void 0,message:void 0,contextMessage:void 0,priority:void 0,eventTime:void 0,buttons:void 0,imageUrl:void 0,items:void 0,progress:void 0,isClickable:void 0};this.timeout=5E3;this.o=null;this.O=Hg();this.l=[];this.M=void 0;this.C=this.D=null;this.T=t(this.ra,this);chrome.notifications.onClosed.addListener(this.T)};
w(Sv,O);Sv.prototype.F=function(){Kg(this.close("dismissed"),function(){Tv(this);O.prototype.F.apply(this)},this)};var Uv=["dismissed"];Sv.prototype.setIcon=function(a){this.A=a;Vv(this)&&Wv(this);return this};Sv.prototype.setTitle=function(a){return Xv(this,"title",a)};var Yv=function(a,b){a.C||(a.C=t(a.pa,a),chrome.notifications.onButtonClicked.addListener(a.C));var c=a.a.buttons||[];fb(c,b);Xv(a,"buttons",c)},Zv=function(a,b){0<=Va(a.l,b)||fb(a.l,b)};
Sv.prototype.setTimeout=function(a){this.timeout=a;Vv(this)&&(this.Oc(),this.Nc());return this};var Xv=function(a,b,c){a.a[b]=c;a.update();return a},Vv=function(a){return""!=a.b&&!a.K};Sv.prototype.close=function(a){if(this.K)return S(!1);a&&$v(this,a);if(""!=this.b)return a=Hg(),chrome.notifications.clear(this.b,t(this.ba,this,a)),a.a;aw(this,!1);return S(!1)};Sv.prototype.ba=function(a,b){b||M(this.c,"Could not close notification id: "+this.b+" with: "+N(this.a)+". Was it already closed?");a.b(b)};
var Tv=function(a){a.Oc();a.g&&(window.URL.revokeObjectURL(a.g),a.g=void 0);a.h&&(window.URL.revokeObjectURL(a.h),a.h=void 0);chrome.notifications.onClosed.removeListener(a.T);a.C&&chrome.notifications.onButtonClicked.removeListener(a.C);a.D&&chrome.notifications.onClicked.removeListener(a.D)},cw=function(a,b){var c=zo(wo(new mo(b),"GET"));return bw(b)?S(b):ko.B().send(c).then(function(a){return window.URL.createObjectURL(a)},function(a){if(!(a instanceof Ao))throw a;},a)},bw=function(a){a=(new Ph(a)).g;
return"data"==a||"blob"==a||""==a||"chrome-extension"==a},Wv=function(a){return(bw(a.A)?S(a.A):cw(a,a.A).then(function(a){this.g&&window.URL.revokeObjectURL(this.g);return this.g=a},void 0,a)).then(function(a){Xv(this,"iconUrl",a);return a},void 0,a)},dw=function(a){return(bw(a.G)?S(a.G):cw(a,a.G).then(function(a){this.h&&window.URL.revokeObjectURL(this.h);return this.h=a},void 0,a)).then(function(a){Xv(this,"imageUrl",a);return a},void 0,a)};h=Sv.prototype;
h.show=function(a){if(this.M)return this.M;this.l.length||(this.l=Uv);var b=[];this.A&&fb(b,Wv(this));this.G&&fb(b,dw(this));fb(b,Yg(a||0));return this.M=Fg(b).then(this.sc,void 0,this)};h.sc=function(){this.K||chrome.notifications.create("",this.a,t(this.Kf,this));return this.O.a};h.Kf=function(a){a?(this.b=a,L(this.c,"Created "+this.a.type+" notification: "+this.b+". "+this.a.title+"("+this.a.message+")"),this.Nc()):K(this.c,"Could not create a notification for: "+N(this.a))};
h.Nc=function(){this.timeout&&(this.o=Wg(this.$,this.timeout,this))};h.Oc=function(){this.o&&(Xg(this.o),this.o=null)};h.update=function(){Vv(this)&&chrome.notifications.update(this.b,this.a,t(this.Yf,this))};h.Yf=function(a){a||K(this.c,"Could not update notification id: "+this.b+" with: "+N(this.a))};var $v=function(a,b){"unknown"==a.H&&(L(a.c,"User's response to notification: "+a.b+" was "+b),a.H=b,0<=Va(a.l,a.H)?a.O.a.cancel(a.H):a.O.b(a.H))};
Sv.prototype.$=function(){M(this.c,"User did not interact with notification: "+this.b+" in the time alotted.");this.o=null;this.close("ignored")};var aw=function(a,b){b?$v(a,"dismissed"):$v(a,"ignored");Tv(a);a.K=!0};Sv.prototype.ra=function(a,b){this.b==a&&aw(this,b)};Sv.prototype.fa=function(a){this.b==a&&this.close("clicked")};Sv.prototype.pa=function(a,b){this.b==a&&this.close(b?"clicked_button_1":"clicked_button_0")};
var ew=function(){Sv.call(this);this.c=H("edulive.notifications.TimerNotification");this.a.type="progress";this.a.progress=0;this.Y=100/(this.timeout/500);this.N=this.timeout;this.v=new Vg(500);this.aa=t(this.Ia,this);this.v.listen("tick",this.aa)};w(ew,Sv);h=ew.prototype;h.F=function(){this.v.a("tick",this.aa);this.v.W();ew.J.F.call(this)};h.setTimeout=function(a){ew.J.setTimeout.call(this,a);this.Y=100/(this.timeout/500);this.N=this.timeout;fw(this);this.update();return this};
h.sc=function(){this.a.type="progress";return ew.J.sc.call(this)};h.Nc=function(){this.v.start()};h.Oc=function(){this.v.stop()};var fw=function(a){var b=a.a,c=Math.ceil(Math.max(a.N,0)/1E3);a=chrome.i18n.getMessage("3208531239543188174");a=new Nm(a);c={numSeconds:c};if(a.g){a.h=[];var d=Sm(a,a.g);a.b=$m(a,d);a.g=null}if(a.b&&0!=a.b.length){a.a=ib(a.h);d=[];Qm(a,a.b,c,!1,d);for(c=d.join("");0<a.a.length;)c=c.replace(a.c(a.a),a.a.pop());a=c}else a="";b.contextMessage=a}; ew.prototype.Ia=function(){var a=this.a.progress;a+=this.Y;this.a.progress=Math.round(a);this.N-=500;fw(this);100>a?this.update():this.$()};
var gw=function(a){var b=a.uri;return"fullscreen"==a.tabId&&"eyes_on_me.html"==b},hw=function(a){var b=fi(a);a=b.g;b=b.a;return"localhost"==b.toLowerCase()||"127.0.0.1"==b?!1:"http"==a||"https"==a},iw={vg:"eyes_on_me.html"},jw=function(a){if(ln(a,["id","millisToExpire","senderId","uri","tabId"])){var b=a.millisToExpire;var c=a.uri,d=a.senderId,e=a.title,f=a.thumbnail,g=a.favIconUrl;b=q(a.id)?q(a.tabId)?q(c)?Bb(iw,c)||hw(c)?ba(b)?q(d)?e&&!q(e)?"title not string":f&&!hw(f)?"thumbnail not valid":g&& !hw(g)?"favicon not valid":null:"senderId not string":"millisToExpire not number":"url not shareable":"url not string":"tabId not string":"id not string"}else b="Missing required key";return b?(L(H("edulive.pages.isValidPage"),b+": "+N(a)),!1):!0};
var kw=function(a,b){this.j=H("edulive.pages.Pages");this.c=a;this.isOwner=b;this.a=null;this.v=Co.B();this.g={};this.o=Fn.B();this.l=t(this.A,this);this.o.listen("stateChanged",this.l)};w(kw,O);kw.prototype.F=function(){this.o.a("stateChanged",this.l)};var lw=function(a){if(!a.b){L(a.j,"getPages("+a.c+")");var b={url:em("workgroups",a.c,"pages").toString(),method:"GET",za:"API Call: GET_PAGES"};b=xo(b);a.b=a.v.a(b).then(a.C,void 0,a)}return a.b};
kw.prototype.C=function(a){this.b=null;this.a=a;L(this.j,"gotPages: "+JSON.stringify(a));a.teacherPages=a.teacherPages||[];a.studentPages=a.studentPages||[];var b=u(),c=this.g,d=function(a){a.millisToExpire+=b;c[a.id]=a};Xa(a.teacherPages,d);Xa(a.studentPages,d)};
kw.prototype.h=function(a,b,c){if(!this.a)return this.b?this.b.then(t(this.h,this,a,b,c)):S();var d=n(b)?b:this.isOwner;b=d?this.a.teacherPages:this.a.studentPages;if(c&&!this.g[c]&&(this.isOwner||d))return lw(this);this.g[a.id]=a;L(this.j,(d?"teacher ":"student ")+"PAGE("+this.c+"): "+JSON.stringify(a));c=db(b,function(b){return b.id<=a.id});null==c&&(c=-1);-1!=c&&b[c].id==a.id||b.splice(c+1,0,a);return S()};
var mw=function(a,b){if(!a.a||a.b)return lw(a).then(function(){return mw(this,b)},void 0,a);var c=u(),d=t(function(a){return c>=a.millisToExpire?(delete this.g[a.id],!1):!0},a);a.a.teacherPages=Ya(a.a.teacherPages,d);a.a.studentPages=Ya(a.a.studentPages,d);return S(b==a.isOwner?a.a.teacherPages:a.a.studentPages)};kw.prototype.A=function(a){2==a.target.getState()&&(this.a=null)};
var ow=function(a,b,c){L(a.j,"flingTab("+[a.c,c?"fullscreen":b.id,b.url].join(", ")+")");var d=nw;c=!!c;c={tabId:c?"fullscreen":b.id.toString(),uri:b.url,title:b.title,isFullscreen:c};hw(b.favIconUrl)&&(c.favIconUrl=b.favIconUrl);return d(a,c)},nw=function(a,b){var c={url:em("workgroups",a.c,"pages").toString(),method:"POST",za:"API Call: POST_PAGE"},d={page:b};c=yo(xo(c),d);return a.v.a(c).then(function(a){return dp(cp.B()).then(function(c){var d={id:a.id,millisToExpire:u()+a.millisToExpire,senderId:c.R(), uri:b.uri,title:b.title,tabId:b.tabId,thumbnail:b.thumbnail,favIconUrl:b.favIconUrl,isFullscreen:b.isFullscreen};return this.h(d).then(function(){return d})},void 0,this)},void 0,a)};
var pw=function(){O.call(this);this.j=H("edulive.pages.Manager");this.O=iu.B();this.h=sp.B();this.a=W.B();this.C=xn.B();this.b={};this.l={};this.c=t(this.T,this);this.a.listen("edulive.messages.classroom.Events.selfEnrolled",this.c);this.a.listen("edulive.messages.classroom.Events.selfOwned",this.c);this.g=t(this.aa,this);this.a.listen("edulive.messages.classroom.Events.selfUnenrolled",this.g);this.a.listen("edulive.messages.classroom.Events.selfUnowned",this.g);this.A=t(this.Y,this);this.C.listen(Mn,
this.A);this.o=t(this.M,this);X(this.a,"edulive.messages.pages.Requests.displayPage",this.o);this.v=t(this.N,this);X(this.a,"edulive.messages.pages.Requests.displayUrl",this.v);this.D=t(this.$,this);X(this.a,"edulive.messages.pages.Requests.flingTab",this.D);this.G=t(this.ba,this);X(this.a,"edulive.messages.pages.Requests.flingUrl",this.G);this.H=t(this.pa,this);X(this.a,"edulive.messages.pages.Requests.getFlungHistory",this.H);this.K=t(this.fa,this);X(this.a,"edulive.messages.pages.Requests.getReceivedHistory",
this.K)};w(pw,O);r(pw);
pw.prototype.F=function(){this.a.a("edulive.messages.classroom.Events.selfEnrolled",this.c);this.a.a("edulive.messages.classroom.Events.selfOwned",this.c);this.a.a("edulive.messages.classroom.Events.selfUnenrolled",this.g);this.a.a("edulive.messages.classroom.Events.selfUnowned",this.g);this.C.a(Mn,this.A);Y(this.a,"edulive.messages.pages.Requests.displayUrl",this.v);Y(this.a,"edulive.messages.pages.Requests.displayPage",this.o);Y(this.a,"edulive.messages.pages.Requests.flingTab",this.D);Y(this.a,
"edulive.messages.pages.Requests.flingUrl",this.G);Y(this.a,"edulive.messages.pages.Requests.getReceivedHistory",this.K);Y(this.a,"edulive.messages.pages.Requests.getFlungHistory",this.H);pw.J.F.call(this)};var qw=function(a,b){var c=a.b[b];return c?S(c):ru(a.O,b).then(function(a){c=this.b[b];c||(c=new kw(a.id,a.isOwner),this.b[b]=c);return c},void 0,a)};pw.prototype.T=function(){};pw.prototype.aa=function(a){Db(this.b,a.message.params.id)};
pw.prototype.Y=function(a){var b=a.id,c=a.sentByTeacher,d=a.page;if(!jw(d))throw new Vl(a);L(this.j,"Received page: "+N(d));qw(this,b).then(function(e){e.h(d,c,a.previousId);nn(this.a,e.isOwner==c?"edulive.messages.pages.Events.flung":"edulive.messages.pages.Events.received",{workgroupId:b,page:d,tabId:d.tabId})},function(a){if(a instanceof Xl)return K(this.j,"Class "+b+" not found, new state ignored"),null;throw a;},this)};
var sw=function(a,b){return qw(a,b).then(function(a){return mw(a,!0).then(function(a){return rw(this,a)},void 0,this)},void 0,a)},tw=function(a,b){return qw(a,b).then(function(a){return mw(a,!1).then(function(a){return rw(this,a)},void 0,this)},void 0,a)},rw=function(a,b){Xa(b,function(a){a.isViewed=!!this.l[a.id]},a);return b};pw.prototype.pa=function(a){a=a.message.params;return q(a)?sw(this,a):Cg(new Vl(a))};pw.prototype.fa=function(a){a=a.message.params;return q(a)?tw(this,a):Cg(new Vl(a))};
pw.prototype.$=function(a){var b=a.message.params;return ln(b,["workgroupId","tabId"])?up(this.h,b.tabId).then(function(a){return uw(this,b.workgroupId,a,b.fullscreen)},void 0,this):Cg(new Vl(b))};pw.prototype.ba=function(a){a=a.message.params;if(!ln(a,["workgroupId","url"]))return Cg(new Vl(a));var b={id:u(),url:a.url,title:a.title};return uw(this,a.workgroupId,b,a.fullscreen)};
var uw=function(a,b,c,d){return qw(a,b).then(function(a){return ow(a,c,!!d).then(function(a){var c=a.id;c&&(this.l[c]=!0);nn(this.a,"edulive.messages.pages.Events.flung",{workgroupId:b,page:a,tabId:a.tabId});return a},void 0,this)},void 0,a)};pw.prototype.M=function(a){a=a.message.params;return ln(a,["workgroupId","page"])?vw(this,a.page):Cg(new Vl(a))};pw.prototype.N=function(a){a=a.message.params;return q(a)?ww(this,a):Cg(new Vl(a))}; var ww=function(a,b){return vp(a.h,b).then(function(a){return a?Fp(this.h,a.id):Dp(this.h,b)},void 0,a)},vw=function(a,b){var c=b.id;c&&(a.l[c]=!0);return ww(a,b.uri)};
var xw=function(){O.call(this);this.j=H("edulive.settings.Manager");this.g=Fn.B();this.v=t(this.G,this);this.g.listen("stateChanged",this.v);this.b=W.B();this.o=xn.B();this.A=t(this.H,this);X(this.b,"edulive.messages.settings.Requests.getMuteSetting",this.A);this.C=t(this.M,this);X(this.b,"edulive.messages.settings.Requests.setMuteSetting",this.C);this.l=t(this.D,this);this.o.listen(Ln,this.l);this.h=this.a=this.c=null};w(xw,O);r(xw);
xw.prototype.F=function(){this.g.a("stateChanged",this.v);Y(this.b,"edulive.messages.settings.Requests.getMuteSetting",this.A);Y(this.b,"edulive.messages.settings.Requests.setMuteSetting",this.C);this.o.a(Ln,this.l)};
var zw=function(a){if(null!=a.c)return M(a.j,"Returning cached settings"),S(a.a);null==a.h&&(L(a.j,"Requesting settings from server"),a.h=yw(a));return a.h},yw=function(a){return a.g.Ma().then(function(){var a={url:em("settings").toString(),method:"GET",za:"API Call: GET_SETTINGS"};a=xo(a);return Co.B().a(a).then(this.K,void 0,this)},void 0,a)};
xw.prototype.K=function(a){this.c=u();var b=this.a;this.a=a.settings;this.h=null;null!=b&&this.a.millisToMuteNotifications!=b.millisToMuteNotifications&&nn(this.b,"edulive.messages.settings.Events.muteSettingChanged",this.c+this.a.millisToMuteNotifications>u());return this.a};
var Aw=function(a){return zw(a).then(function(){return this.c+this.a.millisToMuteNotifications>u()},void 0,a)},Bw=function(a,b){return zw(a).then(function(a){var c=b?31536E8:0;c!=a.millisToMuteNotifications&&(this.a.millisToMuteNotifications=c,a={url:em("settings").toString(),method:"PATCH",za:"API Call: PATCH_SETTINGS"},c={settings:this.a,fieldMask:"millisToMuteNotifications"},a=yo(xo(a),c),Co.B().a(a),M(this.j,"Mute setting changed."),nn(this.b,"edulive.messages.settings.Events.muteSettingChanged",
b));return b},void 0,a)};xw.prototype.H=function(){return Aw(this)};xw.prototype.M=function(a){return Bw(this,a.message.params)};xw.prototype.G=function(){var a=this.g.getState();0==a?this.c=null:2==a&&this.a&&zw(this)};xw.prototype.D=function(){this.c=null;zw(this)};
var Cw=function(){O.call(this);this.j=H("edulive.notifications.Listener");this.h=cp.B();this.a=xn.B();this.g=iu.B();this.D=pw.B();this.o=Vu.B();qn.B();this.b=W.B();this.l=xw.B();this.c=t(this.C,this);this.a.listen(Mn,this.c)};w(Cw,O);r(Cw);Cw.prototype.F=function(){this.a.a(Mn,this.c);Cw.J.F.call(this)};var Dw={title:gn,iconUrl:"open.png"},Ew={title:hn,iconUrl:"settings.png"};Cw.prototype.C=function(a){a.id&&a.page&&Fw(this,a.page,a.id)};
var Fw=function(a,b,c){M(a.j,"present_("+JSON.stringify(b)+", "+c+")");ru(a.g,c).then(t(a.G,a,b)).then(function(a){return a?vw(this.D,b):null},function(a){if(a instanceof Xl)return K(this.j,"Workgroup "+c+" not found. Ignoring request: "+JSON.stringify(b)),null;throw a;},a)};
Cw.prototype.G=function(a,b){return dp(this.h).then(function(c){var d=b.isOwner&&a.senderId!=c.R();return Fg([c,d&&Aw(this.l)])},void 0,this).then(function(c){var d=c[0];if(c[1])return Gw(d,"Toast Muted due to settings"),!1;if(d.R()==a.senderId||b.isOwner&&gw(a))return!1;switch(gw(a)?"open":b.isOwner?"ask":"ask_then_open"){case "open":return Gw(d,"Auto"),!0;case "ask_then_open":return Hw(this,a,b,d,!0);case "ask":return Hw(this,a,b,d,!1);case "closed":return!b.isOwner}return!1},void 0,this)};
var Gw=function(a,b){a:switch(a.isTeacher()){case !0:a="Teacher";break a;case !1:a="Student";break a;default:a="Unregistered"}vn(0,a,"Open Fling",b)},Hw=function(a,b,c,d,e){return Iw(a,b,c,e).then(function(a){return Jw(this,d,a)},function(a){if(a instanceof Zl)return!1;throw a;},a)},Iw=function(a,b,c,d){return $u(a.o,c.id,b.senderId).then(function(a){var e=d?new ew:new Sv;e.D||(e.D=t(e.fa,e),chrome.notifications.onClicked.addListener(e.D));Xv(e,"isClickable",!0);var g=km(a.a.photoUrl,200);e.setIcon(g);
a=chrome.i18n.getMessage("7613121200569555025",[a.a.fullName]);e.setTitle(a);Xv(e,"message",b.title||b.uri);!d&&b.title&&Xv(e,"contextMessage",b.uri);b.thumbnail&&(e.G=b.thumbnail,Xv(e,"type","image"),Vv(e)&&dw(e));d||Yv(e,Dw);c.isOwner&&chrome&&chrome.browserAction&&ia(chrome.browserAction.openPopup)&&(Yv(e,Ew),Zv(e,"clicked_button_1"));Zv(e,"dismissed");d||Zv(e,"ignored");e.setTimeout(d?3E3:5E3);return e},void 0,a)},Jw=function(a,b,c){return Kg(c.show().then(t(a.A,a,b),t(a.v,a,b)),function(){c.W()},
a)};Cw.prototype.A=function(a,b){Gw(a,"ignored"==b?"Toast Auto":"Toast Clicked");return!0};
Cw.prototype.v=function(a,b){if(b instanceof Mg){switch(b.message){case "ignored":b="Toast Ignored";break;case "clicked_button_1":b="Settings Button clicked";this.b.sendRequest("edulive.messages.navigation.Requests.pushCurrentPage",{pageName:"edulive.templates.popup.settings.main",pageParam:{}}).then(function(){Wg(function(){this.b.sendRequest("edulive.messages.icon.Requests.open")},0,this)},void 0,this);break;default:b="Toast Dismissed"}Gw(a,b);return!1}throw b;};
var Kw=function(){O.call(this);this.b=sp.B();this.a=W.B();this.A=t(this.Sf,this);this.b.listen("activated",this.A);this.c=t(this.Uf,this);this.b.listen("url_changed",this.c);this.v=t(this.Tf,this);this.b.listen("closed",this.v);this.g=t(this.Be,this);X(this.a,"edulive.messages.tabs.Requests.getActive",this.g);this.h=t(this.Le,this);X(this.a,"edulive.messages.tabs.Requests.getLastViewed",this.h);this.l=t(this.Oe,this);X(this.a,"edulive.messages.tabs.Requests.get",this.l);this.o=t(this.Pe,this);X(this.a,
"edulive.messages.tabs.Requests.getThumbnail",this.o)};w(Kw,O);r(Kw);h=Kw.prototype;h.F=function(){Y(this.a,"edulive.messages.tabs.Requests.getThumbnail",this.o);Y(this.a,"edulive.messages.tabs.Requests.get",this.l);Y(this.a,"edulive.messages.tabs.Requests.getLastViewed",this.h);Y(this.a,"edulive.messages.tabs.Requests.getActive",this.g);this.b.a("closed",this.v);this.b.a("url_changed",this.c);this.b.a("activated",this.c);Kw.J.F.call(this)};
h.Sf=function(a){nn(this.a,"edulive.messages.tabs.Events.activated",a.b)};h.Uf=function(a){nn(this.a,"edulive.messages.tabs.Events.urlChanged",a.b)};h.Tf=function(a){nn(this.a,"edulive.messages.tabs.Events.closed",a.tabId)};h.Be=function(){return xp(this.b)};h.Le=function(){return zp(this.b)};h.Oe=function(a){a=a.message.params;return ba(a)?up(this.b,a):Cg(new Vl(a))};h.Pe=function(a){a=a.message.params;return ba(a)?Hp(this.b,a):Cg(new Vl(a))};
var Lw=function(){O.call(this);this.a=H("edulive.background.Background");qn.B()};w(Lw,O);r(Lw);(function(){var a=Lw.B();Mv();var b=chrome.runtime.getManifest(),c=l.ROW_KEYS;c=c&&c.background;var d=chrome.i18n.getUILanguage();L(a.a,"Initializing "+b.name+" v"+b.version+" ("+c+") with the UI Language: "+d);Nv.B();Sn.B();Iv();Lg(Mo(),function(a){if(!(a instanceof Po))throw a;},a);Lg(fp(Fn.B()),function(a){if(!(a instanceof Po))throw a;},a);rp(qp.B());Jp.B();S();ju();Hu();av.B();Wu();Ov.B();Kw.B();pw.B();tn();eu();Cw.B();S();hv.B();S();un("Background")})();

}catch(e){_DumpException(e)}
/* _GlobalSuffix_ */
// Google Inc.
