/**
 * @license
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015, Peculiar Ventures
 * All rights reserved.
 *
 * Author 2014-2015, Yury Strozhevsky <www.strozhevsky.com>.
 *
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, 
 *    this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice, 
 *    this list of conditions and the following disclaimer in the documentation 
 *    and/or other materials provided with the distribution.
 *
 * 3. Neither the name of the copyright holder nor the names of its contributors 
 *    may be used to endorse or promote products derived from this software without 
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND 
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED 
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, 
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT 
 * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR 
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY 
 * OF SUCH DAMAGE. 
 *
 */
(
function(in_window)
{
    //**************************************************************************************
    // #region Declaration of global variables 
    //**************************************************************************************
    // #region "org" namespace 
    if(typeof in_window.org === "undefined")
        in_window.org = {};
    else
    {
        if(typeof in_window.org !== "object")
            throw new Error("Name org already exists and it's not an object");
    }
    // #endregion 

    // #region "org.pkijs" namespace 
    if(typeof in_window.org.pkijs === "undefined")
        in_window.org.pkijs = {};
    else
    {
        if(typeof in_window.org.pkijs !== "object")
            throw new Error("Name org.pkijs already exists and it's not an object" + " but " + (typeof in_window.org.pkijs));
    }
    // #endregion 

    // #region "local" namespace 
    var local = {};
    // #endregion   
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Declaration of common functions 
    //**************************************************************************************
    in_window.org.pkijs.emptyObject =
    function()
    {
        this.toJSON = function()
        {
            return {};
        };
        this.toSchema = function()
        {
            return {};
        };
    }
    //**************************************************************************************
    in_window.org.pkijs.getNames =
    function(arg)
    {
        /// <summary>Get correct "names" array for all "schema" objects</summary>

        var names = {};

        if(arg instanceof Object)
            names = (arg.names || {});

        return names;
    }
    //**************************************************************************************
    in_window.org.pkijs.inheriteObjectFields =
    function(from)
    {
        for(i in from.prototype)
        {
            if(typeof from.prototype[i] === "function")
                continue;

            this[i] = from.prototype[i];
        }
    }
    //**************************************************************************************
    in_window.org.pkijs.getUTCDate =
    function(date)
    {
        /// <summary>Making UTC date from local date</summary>
        /// <param name="date" type="Date">Date to convert from</param>

        var current_date = date;
        return new Date(current_date.getTime() + (current_date.getTimezoneOffset() * 60000));
    }
    //**************************************************************************************
    in_window.org.pkijs.padNumber =
    function(input_number, full_length)
    {
        var str = input_number.toString(10);
        var dif = full_length - str.length;

        var padding = new Array(dif);
        for(var i = 0; i < dif; i++)
            padding[i] = '0';

        var padding_string = padding.join('');

        return padding_string.concat(str);
    }
    //**************************************************************************************
    in_window.org.pkijs.getValue =
    function(args, item, default_value)
    {
        if(item in args)
            return args[item];
        else
            return default_value;
    }
    //**************************************************************************************
    in_window.org.pkijs.isEqual_view =
    function(input_view1, input_view2)
    {
        /// <summary>Compare two Uint8Arrays</summary>
        /// <param name="input_view1" type="Uint8Array">First Uint8Array for comparision</param>
        /// <param name="input_view2" type="Uint8Array">Second Uint8Array for comparision</param>

        if(input_view1.length !== input_view2.length)
            return false;

        for(var i = 0; i < input_view1.length; i++)
        {
            if(input_view1[i] != input_view2[i])
                return false;
        }

        return true;
    }
    //**************************************************************************************
    in_window.org.pkijs.isEqual_buffer =
    function(input_buffer1, input_buffer2)
    {
        /// <summary>Compare two array buffers</summary>
        /// <param name="input_buffer1" type="ArrayBuffer">First ArrayBuffer for comparision</param>
        /// <param name="input_buffer2" type="ArrayBuffer">Second ArrayBuffer for comparision</param>

        if(input_buffer1.byteLength != input_buffer2.byteLength)
            return false;

        var view1 = new Uint8Array(input_buffer1);
        var view2 = new Uint8Array(input_buffer2);

        return in_window.org.pkijs.isEqual_view(view1, view2);
    }
    //**************************************************************************************
    in_window.org.pkijs.concat_buffers =
    function(input_buf1, input_buf2)
    {
        /// <summary>Concatenate two ArrayBuffers</summary>
        /// <param name="input_buf1" type="ArrayBuffer">First ArrayBuffer (first part of concatenated array)</param>
        /// <param name="input_buf2" type="ArrayBuffer">Second ArrayBuffer (second part of concatenated array)</param>

        var input_view1 = new Uint8Array(input_buf1);
        var input_view2 = new Uint8Array(input_buf2);

        var ret_buf = new ArrayBuffer(input_buf1.byteLength + input_buf2.byteLength);
        var ret_view = new Uint8Array(ret_buf);

        for(var i = 0; i < input_buf1.byteLength; i++)
            ret_view[i] = input_view1[i];

        for(var j = 0; j < input_buf2.byteLength; j++)
            ret_view[input_buf1.byteLength + j] = input_view2[j];

        return ret_buf;
    }
    //**************************************************************************************
    in_window.org.pkijs.copyBuffer =
    function(input_buffer)
    {
        var result = new ArrayBuffer(input_buffer.byteLength);

        var resultView = new Uint8Array(result);
        var inputView = new Uint8Array(input_buffer);

        for(var i = 0; i < inputView.length; i++)
            resultView[i] = inputView[i];

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.getCrypto =
    function()
    {
        var crypto_temp;

        if("crypto" in in_window)
        {
            // Apple Safari support
            if("webkitSubtle" in in_window.crypto)
                crypto_temp = in_window.crypto.webkitSubtle;

            if("subtle" in in_window.crypto)
                crypto_temp = in_window.crypto.subtle;
        }

        return crypto_temp;
    }
    //**************************************************************************************
    in_window.org.pkijs.stringPrep =
    function(input_string)
    {
        /// <summary>String preparation function. In a future here will be realization of algorithm from RFC4518.</summary>
        /// <param name="input_string" type="String">JavaScript string. As soon as for each ASN.1 string type we have a specific transformation function here we will work with pure JavaScript string</param>
        /// <returns type="String">Formated string</returns>

        var result = input_string.replace(/^\s+|\s+$/g, ""); // Trim input string
        result = result.replace(/\s+/g, " "); // Change all sequence of SPACE down to SPACE char
        result = result.toLowerCase();

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.bufferToHexCodes =
    function(input_buffer, input_offset, input_lenght)
    {
        var result = "";

        var int_buffer = new Uint8Array(input_buffer, input_offset, input_lenght);

        for(var i = 0; i < int_buffer.length; i++)
        {
            var str = int_buffer[i].toString(16).toUpperCase();
            result = result + ((str.length === 1) ? "0" : "") + str;
        }

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.bufferFromHexCodes =
    function(hexString)
    {
        /// <summary>Create an ArrayBuffer from string having hexdecimal codes</summary>
        /// <param name="hexString" type="String">String to create ArrayBuffer from</param>

        // #region Initial variables 
        var stringLength = hexString.length;

        var resultBuffer = new ArrayBuffer(stringLength >> 1);
        var resultView = new Uint8Array(resultBuffer);

        var hex_map = {};

        hex_map['0'] = 0x00;
        hex_map['1'] = 0x01;
        hex_map['2'] = 0x02;
        hex_map['3'] = 0x03;
        hex_map['4'] = 0x04;
        hex_map['5'] = 0x05;
        hex_map['6'] = 0x06;
        hex_map['7'] = 0x07;
        hex_map['8'] = 0x08;
        hex_map['9'] = 0x09;
        hex_map['A'] = 0x0A;
        hex_map['a'] = 0x0A;
        hex_map['B'] = 0x0B;
        hex_map['b'] = 0x0B;
        hex_map['C'] = 0x0C;
        hex_map['c'] = 0x0C;
        hex_map['D'] = 0x0D;
        hex_map['d'] = 0x0D;
        hex_map['E'] = 0x0E;
        hex_map['e'] = 0x0E;
        hex_map['F'] = 0x0F;
        hex_map['f'] = 0x0F;

        var j = 0;
        var temp = 0x00;
        // #endregion 

        // #region Convert char-by-char 
        for(var i = 0; i < stringLength; i++)
        {
            if(!(i % 2))
                temp = hex_map[hexString.charAt(i)] << 4;
            else
            {
                temp |= hex_map[hexString.charAt(i)];

                resultView[j] = temp;
                j++;
            }
        }
        // #endregion 

        return resultBuffer;
    }
    //**************************************************************************************
    in_window.org.pkijs.getRandomValues =
    function(view)
    {
        /// <param name="view" type="Uint8Array">New array which gives a length for random value</param>

        if("crypto" in in_window)
            return in_window.crypto.getRandomValues(view);
        else
            throw new Error("No support for Web Cryptography API");
    }
    //**************************************************************************************
    in_window.org.pkijs.getAlgorithmParameters =
    function(algorithmName, operation)
    {
        /// <param name="algorithmName" type="String">Algorithm name to get common parameters for</param>
        /// <param name="operation" type="String">Kind of operation: "sign", "encrypt", "generatekey", "importkey", "exportkey", "verify"</param>

        var result = {
            algorithm: {},
            usages: []
        };

        switch(algorithmName.toUpperCase())
        {
            case "RSASSA-PKCS1-V1_5":
                switch(operation.toLowerCase())
                {
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "RSASSA-PKCS1-v1_5",
                                modulusLength: 2048,
                                publicExponent: new Uint8Array([0x01, 0x00, 0x01]),
                                hash: {
                                    name: "SHA-256"
                                },
                            },
                            usages: ["sign", "verify"]
                        };
                        break;
                    case "verify":
                    case "sign":
                    case "importkey":
                        result = {
                            algorithm: {
                                name: "RSASSA-PKCS1-v1_5",
                                hash: {
                                    name: "SHA-256"
                                },
                            },
                            usages: ["verify"] // For importKey("pkcs8") usage must be "sign" only
                        };
                        break;
                    case "exportkey":
                    default:
                        return {
                            algorithm: {
                                name: "RSASSA-PKCS1-v1_5"
                            },
                            usages: []
                        };
                }
                break;
            case "RSA-PSS":
                switch(operation.toLowerCase())
                {
                    case "sign":
                    case "verify":
                        result = {
                            algorithm: {
                                name: "RSA-PSS",
                                hash: {
                                    name: "SHA-1"
                                },
                                saltLength: 20
                            },
                            usages: ["sign", "verify"]
                        };
                        break;
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "RSA-PSS",
                                modulusLength: 2048,
                                publicExponent: new Uint8Array([0x01, 0x00, 0x01]),
                                hash: {
                                    name: "SHA-1"
                                }
                            },
                            usages: ["sign", "verify"]
                        };
                        break;
                    case "importkey":
                        result = {
                            algorithm: {
                                name: "RSA-PSS",
                                hash: {
                                    name: "SHA-1"
                                },
                            },
                            usages: ["verify"] // For importKey("pkcs8") usage must be "sign" only
                        };
                        break;
                    case "exportkey":
                    default:
                        return {
                            algorithm: {
                                name: "RSA-PSS"
                            },
                            usages: []
                        };
                }
                break;
            case "RSA-OAEP":
                switch(operation.toLowerCase())
                {
                    case "encrypt":
                    case "decrypt":
                        result = {
                            algorithm: {
                                name: "RSA-OAEP",
                            },
                            usages: ["encrypt", "decrypt"]
                        };
                        break;
                        break;
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "RSA-OAEP",
                                modulusLength: 2048,
                                publicExponent: new Uint8Array([0x01, 0x00, 0x01]),
                                hash: {
                                    name: "SHA-256"
                                }
                            },
                            usages: ["encrypt", "decrypt", "wrapKey", "unwrapKey"]
                        };
                        break;
                    case "importkey":
                        result = {
                            algorithm: {
                                name: "RSA-OAEP",
                                hash: {
                                    name: "SHA-256"
                                }
                            },
                            usages: ["encrypt"] // encrypt for "spki" and decrypt for "pkcs8"
                        };
                        break;
                    case "exportkey":
                    default:
                        return {
                            algorithm: {
                                name: "RSA-OAEP"
                            },
                            usages: []
                        };
                }
                break;
            case "ECDSA":
                switch(operation.toLowerCase())
                {
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "ECDSA",
                                namedCurve: "P-256"
                            },
                            usages: ["sign", "verify"]
                        };
                        break;
                    case "importkey":
                        result = {
                            algorithm: {
                                name: "ECDSA",
                                namedCurve: "P-256"
                            },
                            usages: ["verify"] // "sign" for "pkcs8"
                        };
                        break;
                    case "verify":
                    case "sign":
                        result = {
                            algorithm: {
                                name: "ECDSA",
                                hash: {
                                    name: "SHA-256"
                                }
                            },
                            usages: ["sign"]
                        };
                        break;
                    default:
                        return {
                            algorithm: {
                                name: "ECDSA"
                            },
                            usages: []
                        };
                }
                break;
            case "ECDH":
                switch(operation.toLowerCase())
                {
                    case "exportkey":
                    case "importkey":
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "ECDH",
                                namedCurve: "P-256"
                            },
                            usages: ["deriveKey", "deriveBits"]
                        };
                        break;
                    case "derivekey":
                    case "derivebits":
                        result = {
                            algorithm: {
                                name: "ECDH",
                                namedCurve: "P-256",
                                public: [] // Must be a "publicKey"
                            },
                            usages: ["encrypt", "decrypt"]
                        };
                        break;
                    default:
                        return {
                            algorithm: {
                                name: "ECDH"
                            },
                            usages: []
                        };
                }
                break;
            case "AES-CTR":
                switch(operation.toLowerCase())
                {
                    case "importkey":
                    case "exportkey":
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "AES-CTR",
                                length: 256
                            },
                            usages: ["encrypt", "decrypt", "wrapKey", "unwrapKey"]
                        };
                        break;
                    case "decrypt":
                    case "encrypt":
                        result = {
                            algorithm: {
                                name: "AES-CTR",
                                counter: new Uint8Array(16),
                                length: 10
                            },
                            usages: ["encrypt", "decrypt", "wrapKey", "unwrapKey"]
                        };
                    default:
                        return {
                            algorithm: {
                                name: "AES-CTR"
                            },
                            usages: []
                        };
                }
                break;
            case "AES-CBC":
                switch(operation.toLowerCase())
                {
                    case "importkey":
                    case "exportkey":
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "AES-CBC",
                                length: 256
                            },
                            usages: ["encrypt", "decrypt", "wrapKey", "unwrapKey"]
                        };
                        break;
                    case "decrypt":
                    case "encrypt":
                        result = {
                            algorithm: {
                                name: "AES-CBC",
                                iv: in_window.org.pkijs.getRandomValues(new Uint8Array(16)) // For "decrypt" the value should be replaced with value got on "encrypt" step
                            },
                            usages: ["encrypt", "decrypt", "wrapKey", "unwrapKey"]
                        };
                    default:
                        return {
                            algorithm: {
                                name: "AES-CBC"
                            },
                            usages: []
                        };
                }
                break;
            case "AES-GCM":
                switch(operation.toLowerCase())
                {
                    case "importkey":
                    case "exportkey":
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "AES-GCM",
                                length: 256
                            },
                            usages: ["encrypt", "decrypt", "wrapKey", "unwrapKey"]
                        };
                        break;
                    case "decrypt":
                    case "encrypt":
                        result = {
                            algorithm: {
                                name: "AES-GCM",
                                iv: in_window.org.pkijs.getRandomValues(new Uint8Array(16)) // For "decrypt" the value should be replaced with value got on "encrypt" step
                            },
                            usages: ["encrypt", "decrypt", "wrapKey", "unwrapKey"]
                        };
                    default:
                        return {
                            algorithm: {
                                name: "AES-GCM"
                            },
                            usages: []
                        };
                }
                break;
            case "AES-KW":
                switch(operation.toLowerCase())
                {
                    case "importkey":
                    case "exportkey":
                    case "generatekey":
                    case "wrapkey":
                    case "unwrapkey":
                        result = {
                            algorithm: {
                                name: "AES-KW",
                                length: 256
                            },
                            usages: ["wrapKey", "unwrapKey"]
                        };
                        break;
                    default:
                        return {
                            algorithm: {
                                name: "AES-KW"
                            },
                            usages: []
                        };
                }
                break;
            case "HMAC":
                switch(operation.toLowerCase())
                {
                    case "sign":
                    case "verify":
                        result = {
                            algorithm: {
                                name: "HMAC",
                            },
                            usages: ["sign", "verify"]
                        };
                        break;
                    case "importkey":
                    case "exportkey":
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "HMAC",
                                length: 10,
                                hash: {
                                    name: "SHA-256"
                                }
                            },
                            usages: ["sign", "verify"]
                        };
                        break;
                    default:
                        return {
                            algorithm: {
                                name: "HMAC"
                            },
                            usages: []
                        };
                }
                break;
            case "HKDF":
                switch(operation.toLowerCase())
                {
                    case "derivekey":
                        result = {
                            algorithm: {
                                name: "HKDF",
                                hash: "SHA-256",
                                salt: new Uint8Array(),
                                info: new Uint8Array()
                            },
                            usages: ["encrypt", "decrypt"]
                        };
                        break;
                    default:
                        return {
                            algorithm: {
                                name: "HKDF"
                            },
                            usages: []
                        };
                }
                break;
            case "PBKDF2":
                switch(operation.toLowerCase())
                {
                    case "derivekey":
                        result = {
                            algorithm: {
                                name: "PBKDF2",
                                hash: { name: "SHA-256" },
                                salt: new Uint8Array(),
                                iterations: 1000
                            },
                            usages: ["encrypt", "decrypt"]
                        };
                        break;
                    default:
                        return {
                            algorithm: {
                                name: "PBKDF2"
                            },
                            usages: []
                        };
                }
                break;
            default:
                ;
        }

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.getOIDByAlgorithm =
    function(algorithm)
    {
        /// <summary>Get OID for each specific WebCrypto algorithm</summary>
        /// <param name="algorithm" type="Object">WebCrypto algorithm</param>

        var result = "";

        switch(algorithm.name.toUpperCase())
        {
            case "RSASSA-PKCS1-V1_5":
                switch(algorithm.hash.name.toUpperCase())
                {
                    case "SHA-1":
                        result = "1.2.840.113549.1.1.5";
                        break;
                    case "SHA-256":
                        result = "1.2.840.113549.1.1.11";
                        break;
                    case "SHA-384":
                        result = "1.2.840.113549.1.1.12";
                        break;
                    case "SHA-512":
                        result = "1.2.840.113549.1.1.13";
                        break;
                    default:;
                }
                break;
            case "RSA-PSS":
                result = "1.2.840.113549.1.1.10";
                break;
            case "RSA-OAEP":
                result = "1.2.840.113549.1.1.7";
                break;
            case "ECDSA":
                switch(algorithm.hash.name.toUpperCase())
                {
                    case "SHA-1":
                        result = "1.2.840.10045.4.1";
                        break;
                    case "SHA-256":
                        result = "1.2.840.10045.4.3.2";
                        break;
                    case "SHA-384":
                        result = "1.2.840.10045.4.3.3";
                        break;
                    case "SHA-512":
                        result = "1.2.840.10045.4.3.4";
                        break;
                    default:;
                }
                break;
            case "ECDH":
                switch(algorithm.kdf.toUpperCase()) // Non-standard addition - hash algorithm of KDF function
                {
                    case "SHA-1":
                        result = "1.3.133.16.840.63.0.2"; // dhSinglePass-stdDH-sha1kdf-scheme
                        break;
                    case "SHA-256":
                        result = "1.3.132.1.11.1"; // dhSinglePass-stdDH-sha256kdf-scheme 
                        break;
                    case "SHA-384":
                        result = "1.3.132.1.11.2"; // dhSinglePass-stdDH-sha384kdf-scheme
                        break;
                    case "SHA-512":
                        result = "1.3.132.1.11.3"; // dhSinglePass-stdDH-sha512kdf-scheme
                        break;
                    default:;
                }
                break;
            case "AES-CTR":
                break;
            case "AES-CBC":
                switch(algorithm.length)
                {
                    case 128:
                        result = "2.16.840.1.101.3.4.1.2";
                        break;
                    case 192:
                        result = "2.16.840.1.101.3.4.1.22";
                        break;
                    case 256:
                        result = "2.16.840.1.101.3.4.1.42";
                        break;
                    default:;
                }
                break;
            case "AES-CMAC":
                break;
            case "AES-GCM":
                switch(algorithm.length)
                {
                    case 128:
                        result = "2.16.840.1.101.3.4.1.6";
                        break;
                    case 192:
                        result = "2.16.840.1.101.3.4.1.26";
                        break;
                    case 256:
                        result = "2.16.840.1.101.3.4.1.46";
                        break;
                    default:;
                }
                break;
            case "AES-CFB":
                switch(algorithm.length)
                {
                    case 128:
                        result = "2.16.840.1.101.3.4.1.4";
                        break;
                    case 192:
                        result = "2.16.840.1.101.3.4.1.24";
                        break;
                    case 256:
                        result = "2.16.840.1.101.3.4.1.44";
                        break;
                    default:;
                }
                break;
            case "AES-KW":
                switch(algorithm.length)
                {
                    case 128:
                        result = "2.16.840.1.101.3.4.1.5";
                        break;
                    case 192:
                        result = "2.16.840.1.101.3.4.1.25";
                        break;
                    case 256:
                        result = "2.16.840.1.101.3.4.1.45";
                        break;
                    default:;
                }
                break;
            case "HMAC":
                switch(algorithm.hash.name.toUpperCase())
                {
                    case "SHA-1":
                        result = "1.2.840.113549.2.7";
                        break;
                    case "SHA-256":
                        result = "1.2.840.113549.2.9";
                        break;
                    case "SHA-384":
                        result = "1.2.840.113549.2.10";
                        break;
                    case "SHA-512":
                        result = "1.2.840.113549.2.11";
                        break;
                    default:;
                }
                break;
            case "DH":
                result = "1.2.840.113549.1.9.16.3.5";
                break;
            case "SHA-1":
                result = "1.3.14.3.2.26";
                break;
            case "SHA-256":
                result = "2.16.840.1.101.3.4.2.1";
                break;
            case "SHA-384":
                result = "2.16.840.1.101.3.4.2.2";
                break;
            case "SHA-512":
                result = "2.16.840.1.101.3.4.2.3";
                break;
            case "CONCAT":
                break;
            case "HKDF":
                break;
            case "PBKDF2":
                result = "1.2.840.113549.1.5.12";
                break;
            // #region Special case - OIDs for ECC curves 
            case "P-256":
                result = "1.2.840.10045.3.1.7";
                break;
            case "P-384":
                result = "1.3.132.0.34";
                break;
            case "P-521":
                result = "1.3.132.0.35";
                break;
            // #endregion 
            default:;
        }

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.getAlgorithmByOID =
    function(oid)
    {
        /// <summary>Get WebCrypto algorithm by wel-known OID</summary>
        /// <param name="oid" type="String">Wel-known OID to search for</param>

        var result = {};

        switch(oid)
        {
            case "1.2.840.113549.1.1.5":
                result = {
                    name: "RSASSA-PKCS1-v1_5",
                    hash: {
                        name: "SHA-1"
                    }
                };
                break;
            case "1.2.840.113549.1.1.11":
                result = {
                    name: "RSASSA-PKCS1-v1_5",
                    hash: {
                        name: "SHA-256"
                    }
                };
                break;
            case "1.2.840.113549.1.1.12":
                result = {
                    name: "RSASSA-PKCS1-v1_5",
                    hash: {
                        name: "SHA-384"
                    }
                };
                break;
            case "1.2.840.113549.1.1.13":
                result = {
                    name: "RSASSA-PKCS1-v1_5",
                    hash: {
                        name: "SHA-512"
                    }
                };
                break;
            case "1.2.840.113549.1.1.10":
                result = {
                    name: "RSA-PSS"
                };
                break;
            case "1.2.840.113549.1.1.7":
                result = {
                    name: "RSA-OAEP"
                };
                break;
            case "1.2.840.10045.4.1":
                result = {
                    name: "ECDSA",
                    hash: {
                        name: "SHA-1"
                    }
                };
                break;
            case "1.2.840.10045.4.3.2":
                result = {
                    name: "ECDSA",
                    hash: {
                        name: "SHA-256"
                    }
                };
                break;
            case "1.2.840.10045.4.3.3":
                result = {
                    name: "ECDSA",
                    hash: {
                        name: "SHA-384"
                    }
                };
                break;
            case "1.2.840.10045.4.3.4":
                result = {
                    name: "ECDSA",
                    hash: {
                        name: "SHA-512"
                    }
                };
                break;
            case "1.3.133.16.840.63.0.2":
                result = {
                    name: "ECDH",
                    kdf: "SHA-1"
                };
                break;
            case "1.3.132.1.11.1":
                result = {
                    name: "ECDH",
                    kdf: "SHA-256"
                };
                break;
            case "1.3.132.1.11.2":
                result = {
                    name: "ECDH",
                    kdf: "SHA-384"
                };
                break;
            case "1.3.132.1.11.3":
                result = {
                    name: "ECDH",
                    kdf: "SHA-512"
                };
                break;
            case "2.16.840.1.101.3.4.1.2":
                result = {
                    name: "AES-CBC",
                    length: 128
                };
                break;
            case "2.16.840.1.101.3.4.1.22":
                result = {
                    name: "AES-CBC",
                    length: 192
                };
                break;
            case "2.16.840.1.101.3.4.1.42":
                result = {
                    name: "AES-CBC",
                    length: 256
                };
                break;
            case "2.16.840.1.101.3.4.1.6":
                result = {
                    name: "AES-GCM",
                    length: 128
                };
                break;
            case "2.16.840.1.101.3.4.1.26":
                result = {
                    name: "AES-GCM",
                    length: 192
                };
                break;
            case "2.16.840.1.101.3.4.1.46":
                result = {
                    name: "AES-GCM",
                    length: 256
                };
                break;
            case "2.16.840.1.101.3.4.1.4":
                result = {
                    name: "AES-CFB",
                    length: 128
                };
                break;
            case "2.16.840.1.101.3.4.1.24":
                result = {
                    name: "AES-CFB",
                    length: 192
                };
                break;
            case "2.16.840.1.101.3.4.1.44":
                result = {
                    name: "AES-CFB",
                    length: 256
                };
                break;
            case "2.16.840.1.101.3.4.1.5":
                result = {
                    name: "AES-KW",
                    length: 128
                };
                break;
            case "2.16.840.1.101.3.4.1.25":
                result = {
                    name: "AES-KW",
                    length: 192
                };
                break;
            case "2.16.840.1.101.3.4.1.45":
                result = {
                    name: "AES-KW",
                    length: 256
                };
                break;
            case "1.2.840.113549.2.7":
                result = {
                    name: "HMAC",
                    hash: {
                        name: "SHA-1"
                    }
                };
                break;
            case "1.2.840.113549.2.9":
                result = {
                    name: "HMAC",
                    hash: {
                        name: "SHA-256"
                    }
                };
                break;
            case "1.2.840.113549.2.10":
                result = {
                    name: "HMAC",
                    hash: {
                        name: "SHA-384"
                    }
                };
                break;
            case "1.2.840.113549.2.11":
                result = {
                    name: "HMAC",
                    hash: {
                        name: "SHA-512"
                    }
                };
                break;
            case "1.2.840.113549.1.9.16.3.5":
                result = {
                    name: "DH"
                };
                break;
            case "1.3.14.3.2.26":
                result = {
                    name: "SHA-1"
                };
                break;
            case "2.16.840.1.101.3.4.2.1":
                result = {
                    name: "SHA-256"
                };
                break;
            case "2.16.840.1.101.3.4.2.2":
                result = {
                    name: "SHA-384"
                };
                break;
            case "2.16.840.1.101.3.4.2.3":
                result = {
                    name: "SHA-512"
                };
                break;
            case "1.2.840.113549.1.5.12":
                result = {
                    name: "PBKDF2"
                };
                break;
            // #region Special case - OIDs for ECC curves 
            case "1.2.840.10045.3.1.7":
                result = {
                    name: "P-256"
                };
                break;
            case "1.3.132.0.34":
                result = {
                    name: "P-384"
                };
                break;
            case "1.3.132.0.35":
                result = {
                    name: "P-521"
                };
                break;
            // #endregion 
            default:;
        }

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.getHashAlgorithm =
    function(signatureAlgorithm)
    {
        /// <summary>Getting hash algorithm by signature algorithm</summary>
        /// <param name="signatureAlgorithm" type="in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER">Signature algorithm</param>

        var result = "";

        switch(signatureAlgorithm.algorithm_id)
        {
            case "1.2.840.10045.4.1": // ecdsa-with-SHA1
            case "1.2.840.113549.1.1.5":
                result = "SHA-1";
                break;
            case "1.2.840.10045.4.3.2": // ecdsa-with-SHA256
            case "1.2.840.113549.1.1.11":
                result = "SHA-256";
                break;
            case "1.2.840.10045.4.3.3": // ecdsa-with-SHA384
            case "1.2.840.113549.1.1.12":
                result = "SHA-384";
                break;
            case "1.2.840.10045.4.3.4": // ecdsa-with-SHA512
            case "1.2.840.113549.1.1.13":
                result = "SHA-512";
                break;
            case "1.2.840.113549.1.1.10": // RSA-PSS
                {
                    var params;

                    try
                    {
                        params = new in_window.org.pkijs.simpl.x509.RSASSA_PSS_params({ schema: signatureAlgorithm.algorithm_params });
                        if("hashAlgorithm" in params)
                        {
                            var algorithm = in_window.org.pkijs.getAlgorithmByOID(params.hashAlgorithm.algorithm_id);
                            if(("name" in algorithm) === false)
                                return "";

                            result = algorithm.name;
                        }
                        else
                            result = "SHA-1";
                    }
                    catch(ex)
                    {
                    }
                }
                break;
            default:;
        }

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.createCMSECDSASignature =
    function(signatureBuffer)
    {
        /// <summary>Create CMS ECDSA signature from WebCrypto ECDSA signature</summary>
        /// <param name="signatureBuffer" type="ArrayBuffer">WebCrypto result of "sign" function</param>

        // #region Initial check for correct length 
        if((signatureBuffer.byteLength % 2) != 0)
            return new ArrayBuffer(0);
        // #endregion 

        // #region Initial variables 
        var i = 0;
        var length = signatureBuffer.byteLength / 2; // There are two equal parts inside incoming ArrayBuffer

        var signatureView = new Uint8Array(signatureBuffer);

        var r_buffer = new ArrayBuffer(length);
        var r_view = new Uint8Array(r_buffer);
        var r_corrected_buffer;
        var r_corrected_view;

        var s_buffer = new ArrayBuffer(length);
        var s_view = new Uint8Array(s_buffer);
        var s_corrected_buffer;
        var s_corrected_view;
        // #endregion   

        // #region Get "r" part of ECDSA signature 
        for(; i < length; i++)
            r_view[i] = signatureView[i];

        if(r_view[0] & 0x80)
        {
            r_corrected_buffer = new ArrayBuffer(length + 1);
            r_corrected_view = new Uint8Array(r_corrected_buffer);

            r_corrected_view[0] = 0x00;

            for(var j = 0; j < length; j++)
                r_corrected_view[j + 1] = r_view[j];
        }
        else
        {
            r_corrected_buffer = r_buffer;
            r_corrected_view = r_view;
        }
        // #endregion 

        // #region Get "s" part of ECDSA signature 
        for(; i < signatureBuffer.byteLength; i++)
            s_view[i - length] = signatureView[i];


        if(s_view[0] & 0x80)
        {
            s_corrected_buffer = new ArrayBuffer(length + 1);
            s_corrected_view = new Uint8Array(s_corrected_buffer);

            s_corrected_view[0] = 0x00;

            for(var j = 0; j < length; j++)
                s_corrected_view[j + 1] = s_view[j];
        }
        else
        {
            s_corrected_buffer = s_buffer;
            s_corrected_view = s_view;
        }
        // #endregion 

        // #region Create ASN.1 structure of CMS ECDSA signature 
        var r_integer = new in_window.org.pkijs.asn1.INTEGER();
        r_integer.value_block.is_hex_only = true;
        r_integer.value_block.value_hex = in_window.org.pkijs.copyBuffer(r_corrected_buffer);

        var s_integer = new in_window.org.pkijs.asn1.INTEGER();
        s_integer.value_block.is_hex_only = true;
        s_integer.value_block.value_hex = in_window.org.pkijs.copyBuffer(s_corrected_buffer);

        var asn1 = new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                r_integer,
                s_integer
            ]
        });
        // #endregion   

        return asn1.toBER(false);
    }
    //**************************************************************************************
    in_window.org.pkijs.createECDSASignatureFromCMS =
    function(cmsSignature)
    {
        /// <summary>Create a single ArrayBuffer from CMS ECDSA signature</summary>
        /// <param name="cmsSignature" type="in_window.org.pkijs.asn1.SEQUENCE">ASN.1 SEQUENCE contains CMS ECDSA signature</param>

        // #region Initial variables 
        var length = 0;

        var r_start = 0;
        var s_start = 0;

        var r_length = cmsSignature.value_block.value[0].value_block.value_hex.byteLength;
        var s_length = cmsSignature.value_block.value[1].value_block.value_hex.byteLength;
        // #endregion 

        // #region Get length of final "ArrayBuffer" 
        var r_view = new Uint8Array(cmsSignature.value_block.value[0].value_block.value_hex);
        if((r_view[0] === 0x00) && (r_view[1] & 0x80))
        {
            length = r_length - 1;
            r_start = 1;
        }
        else
            length = r_length;

        var s_view = new Uint8Array(cmsSignature.value_block.value[1].value_block.value_hex);
        if((s_view[0] === 0x00) && (s_view[1] & 0x80))
        {
            length += s_length - 1;
            s_start = 1;
        }
        else
            length += s_length;
        // #endregion 

        // #region Copy values from CMS ECDSA signature 
        var result = new ArrayBuffer(length);
        var result_view = new Uint8Array(result);

        for(var i = r_start; i < r_length; i++)
            result_view[i - r_start] = r_view[i];

        for(var i = s_start; i < s_length; i++)
            result_view[i - s_start + r_length - r_start] = s_view[i];
        // #endregion 

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.getEncryptionAlgorithm =
    function(algorithm)
    {
        /// <summary>Get encryption algorithm OID by WebCrypto algorithm's object</summary>
        /// <param name="algorithm" type="WebCryptoAlgorithm">WebCrypto algorithm object</param>

        var result = "";

        switch(algorithm.name.toUpperCase())
        {
            case "AES-CBC":
                switch(algorithm.length)
                {
                    case 128:
                        result = "2.16.840.1.101.3.4.1.2";
                        break;
                    case 192:
                        result = "2.16.840.1.101.3.4.1.22";
                        break;
                    case 256:
                        result = "2.16.840.1.101.3.4.1.42";
                        break;
                    default:;
                }
                break;
            case "AES-GCM":
                switch(algorithm.length)
                {
                    case 128:
                        result = "2.16.840.1.101.3.4.1.6";
                        break;
                    case 192:
                        result = "2.16.840.1.101.3.4.1.26";
                        break;
                    case 256:
                        result = "2.16.840.1.101.3.4.1.46";
                        break;
                    default:;
                }
                break;
            default:;
        }

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.getAlgorithmByEncryptionOID =
    function(oid)
    {
        /// <summary>Get encryption algorithm name by OID</summary>
        /// <param name="oid" type="String">OID of encryption algorithm</param>

        var result = "";

        switch(oid)
        {
            case "2.16.840.1.101.3.4.1.2":
            case "2.16.840.1.101.3.4.1.22":
            case "2.16.840.1.101.3.4.1.42":
                result = "AES-CBC";
                break;
            case "2.16.840.1.101.3.4.1.6":
            case "2.16.840.1.101.3.4.1.26":
            case "2.16.840.1.101.3.4.1.46":
                result = "AES-GCM";
                break;
            default:;
        }

        return result;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
}
)(typeof exports !== "undefined" ? exports : window);

﻿/**
 * @license
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015, Peculiar Ventures
 * All rights reserved.
 *
 * Author 2014-2015, Yury Strozhevsky <www.strozhevsky.com>.
 *
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, 
 *    this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice, 
 *    this list of conditions and the following disclaimer in the documentation 
 *    and/or other materials provided with the distribution.
 *
 * 3. Neither the name of the copyright holder nor the names of its contributors 
 *    may be used to endorse or promote products derived from this software without 
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND 
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED 
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, 
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT 
 * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR 
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY 
 * OF SUCH DAMAGE. 
 *
 */
(
function(in_window)
{
    //**************************************************************************************
    // #region Declaration of global variables 
    //**************************************************************************************
    // #region "org" namespace 
    if(typeof in_window.org === "undefined")
        in_window.org = {};
    else
    {
        if(typeof in_window.org !== "object")
            throw new Error("Name org already exists and it's not an object");
    }
    // #endregion 

    // #region "org.pkijs" namespace 
    if(typeof in_window.org.pkijs === "undefined")
        in_window.org.pkijs = {};
    else
    {
        if(typeof in_window.org.pkijs !== "object")
            throw new Error("Name org.pkijs already exists and it's not an object" + " but " + (typeof in_window.org.pkijs));
    }
    // #endregion 

    // #region "org.pkijs.schema" namespace 
    if(typeof in_window.org.pkijs.schema === "undefined")
        in_window.org.pkijs.schema = {};
    else
    {
        if(typeof in_window.org.pkijs.schema !== "object")
            throw new Error("Name org.pkijs.schema already exists and it's not an object" + " but " + (typeof in_window.org.pkijs.schema));
    }
    // #endregion 

    // #region "org.pkijs.schema.x509" namespace 
    if(typeof in_window.org.pkijs.schema.x509 === "undefined")
        in_window.org.pkijs.schema.x509 = {};
    else
    {
        if(typeof in_window.org.pkijs.schema.x509 !== "object")
            throw new Error("Name org.pkijs.schema.x509 already exists and it's not an object" + " but " + (typeof in_window.org.pkijs.schema.x509));
    }
    // #endregion 

    // #region "local" namespace 
    var local = {};
    // #endregion   
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "Time" type 
    //**************************************************************************************
    in_window.org.pkijs.schema.TIME =
    function(input_names, input_optional)
    {
        var names = in_window.org.pkijs.getNames(arguments[0]);
        var optional = (input_optional || false);

        return (new in_window.org.pkijs.asn1.CHOICE({
            optional: optional,
            value: [
                new in_window.org.pkijs.asn1.UTCTIME({ name: (names.utcTimeName || "") }),
                new in_window.org.pkijs.asn1.GENERALIZEDTIME({ name: (names.generalTimeName || "") })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for X.509 v3 certificate (RFC5280)
    //**************************************************************************************
    local.tbsCertificate =
    function()
    {
        //TBSCertificate  ::=  SEQUENCE  {
        //    version         [0]  EXPLICIT Version DEFAULT v1,
        //    serialNumber         CertificateSerialNumber,
        //    signature            AlgorithmIdentifier,
        //    issuer               Name,
        //    validity             Validity,
        //    subject              Name,
        //    subjectPublicKeyInfo SubjectPublicKeyInfo,
        //    issuerUniqueID  [1]  IMPLICIT UniqueIdentifier OPTIONAL,
        //                         -- If present, version MUST be v2 or v3
        //    subjectUniqueID [2]  IMPLICIT UniqueIdentifier OPTIONAL,
        //                         -- If present, version MUST be v2 or v3
        //    extensions      [3]  EXPLICIT Extensions OPTIONAL
        //    -- If present, version MUST be v3
        //}

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || "tbsCertificate"),
            value: [
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                value: [
                    new in_window.org.pkijs.asn1.INTEGER({ name: (names.tbsCertificate_version || "tbsCertificate.version") }) // EXPLICIT integer value
                ]
            }),
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.tbsCertificate_serialNumber || "tbsCertificate.serialNumber") }),
                in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.signature || {
                    names: {
                        block_name: "tbsCertificate.signature"
                    }
                }),
                in_window.org.pkijs.schema.RDN(names.issuer || {
                    names: {
                        block_name: "tbsCertificate.issuer"
                    }
                }),
                new in_window.org.pkijs.asn1.SEQUENCE({
                    name: (names.tbsCertificate_validity || "tbsCertificate.validity"),
                    value: [
                        in_window.org.pkijs.schema.TIME(names.not_before || {
                            names: {
                                utcTimeName: "tbsCertificate.notBefore",
                                generalTimeName: "tbsCertificate.notBefore"
                            }
                        }),
                        in_window.org.pkijs.schema.TIME(names.not_after || {
                            names: {
                                utcTimeName: "tbsCertificate.notAfter",
                                generalTimeName: "tbsCertificate.notAfter"
                            }
                        })
                    ]
                }),
                in_window.org.pkijs.schema.RDN(names.subject || {
                    names: {
                        block_name: "tbsCertificate.subject"
                    }
                }),
                in_window.org.pkijs.schema.PUBLIC_KEY_INFO(names.subjectPublicKeyInfo || {
                    names: {
                        block_name: "tbsCertificate.subjectPublicKeyInfo"
                    }
                }),
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.tbsCertificate_issuerUniqueID ||"tbsCertificate.issuerUniqueID"),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    }
                }), // IMPLICIT bistring value
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.tbsCertificate_subjectUniqueID ||"tbsCertificate.subjectUniqueID"),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 2 // [2]
                    }
                }), // IMPLICIT bistring value
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 3 // [3]
                    },
                    value: [in_window.org.pkijs.schema.EXTENSIONS(names.extensions || {
                        names: {
                            block_name: "tbsCertificate.extensions"
                        }
                    })]
                }) // EXPLICIT SEQUENCE value
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.CERT =
    function()
    {
        //Certificate  ::=  SEQUENCE  {
        //    tbsCertificate       TBSCertificate,
        //    signatureAlgorithm   AlgorithmIdentifier,
        //    signatureValue       BIT STRING  }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                local.tbsCertificate(names.tbsCertificate),
                in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.signatureAlgorithm || {
                    names: {
                        block_name: "signatureAlgorithm"
                    }
                }),
                new in_window.org.pkijs.asn1.BITSTRING({ name: (names.signatureValue || "signatureValue") })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for X.509 CRL (Certificate Revocation List)(RFC5280)  
    //**************************************************************************************
    local.tbsCertList =
    function()
    {
        //TBSCertList  ::=  SEQUENCE  {
        //    version                 Version OPTIONAL,
        //                                 -- if present, MUST be v2
        //    signature               AlgorithmIdentifier,
        //    issuer                  Name,
        //    thisUpdate              Time,
        //    nextUpdate              Time OPTIONAL,
        //    revokedCertificates     SEQUENCE OF SEQUENCE  {
        //        userCertificate         CertificateSerialNumber,
        //        revocationDate          Time,
        //        crlEntryExtensions      Extensions OPTIONAL
        //        -- if present, version MUST be v2
        //    }  OPTIONAL,
        //    crlExtensions           [0]  EXPLICIT Extensions OPTIONAL
        //    -- if present, version MUST be v2
        //}

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || "tbsCertList"),
            value: [
                        new in_window.org.pkijs.asn1.INTEGER({
                            optional: true,
                            name: (names.tbsCertList_version || "tbsCertList.version"),
                            value: 2
                        }), // EXPLICIT integer value (v2)
                        in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.signature || {
                            names: {
                                block_name: "tbsCertList.signature"
                            }
                        }),
                        in_window.org.pkijs.schema.RDN(names.issuer || {
                            names: {
                                block_name: "tbsCertList.issuer"
                            }
                        }),
                        in_window.org.pkijs.schema.TIME(names.tbsCertList_thisUpdate || {
                            names: {
                                utcTimeName: "tbsCertList.thisUpdate",
                                generalTimeName: "tbsCertList.thisUpdate"
                            }
                        }),
                        in_window.org.pkijs.schema.TIME(names.tbsCertList_thisUpdate || {
                            names: {
                                utcTimeName: "tbsCertList.nextUpdate",
                                generalTimeName: "tbsCertList.nextUpdate"
                            }
                        }, true),
                        new in_window.org.pkijs.asn1.SEQUENCE({
                            optional: true,
                            value: [
                                new in_window.org.pkijs.asn1.REPEATED({
                                    name: (names.tbsCertList_revokedCertificates || "tbsCertList.revokedCertificates"),
                                    value: new in_window.org.pkijs.asn1.SEQUENCE({
                                        value: [
                                            new in_window.org.pkijs.asn1.INTEGER(),
                                            in_window.org.pkijs.schema.TIME(),
                                            in_window.org.pkijs.schema.EXTENSIONS({}, true)
                                        ]
                                    })
                                })
                            ]
                        }),
                        new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                            optional: true,
                            id_block: {
                                tag_class: 3, // CONTEXT-SPECIFIC
                                tag_number: 0 // [0]
                            },
                            value: [in_window.org.pkijs.schema.EXTENSIONS(names.crlExtensions || {
                                names: {
                                    block_name: "tbsCertList.extensions"
                                }
                            })]
                        }) // EXPLICIT SEQUENCE value
                    ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.CRL =
    function()
    {
        //CertificateList  ::=  SEQUENCE  {
        //    tbsCertList          TBSCertList,
        //    signatureAlgorithm   AlgorithmIdentifier,
        //    signatureValue       BIT STRING  }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || "CertificateList"),
            value: [
                local.tbsCertList(arguments[0]),
                in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.signatureAlgorithm || {
                    names: {
                        block_name: "signatureAlgorithm"
                    }
                }),
                new in_window.org.pkijs.asn1.BITSTRING({ name: (names.signatureValue || "signatureValue") })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for PKCS#10 certificate request 
    //**************************************************************************************
    local.CertificationRequestInfo =
    function()
    {
        //CertificationRequestInfo ::= SEQUENCE {
        //    version       INTEGER { v1(0) } (v1,...),
        //    subject       Name,
        //    subjectPKInfo SubjectPublicKeyInfo{{ PKInfoAlgorithms }},
        //    attributes    [0] Attributes{{ CRIAttributes }}
        //}

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.CertificationRequestInfo || "CertificationRequestInfo"),
            value: [
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.CertificationRequestInfo_version || "CertificationRequestInfo.version") }),
                new in_window.org.pkijs.schema.RDN(names.subject || {
                    names: {
                        block_name: "CertificationRequestInfo.subject"
                    }
                }),
                new in_window.org.pkijs.schema.PUBLIC_KEY_INFO({
                    names: {
                        block_name: "CertificationRequestInfo.subjectPublicKeyInfo"
                    }
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: [
                        new in_window.org.pkijs.asn1.REPEATED({
                            optional: true, // Because OpenSSL makes wrong "attributes" field
                            name: (names.CertificationRequestInfo_attributes || "CertificationRequestInfo.attributes"),
                            value: in_window.org.pkijs.schema.ATTRIBUTE(names.attributes || {})
                        })
                    ]
                })
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.PKCS10 =
    function()
    {
        //CertificationRequest ::= SEQUENCE {
        //    certificationRequestInfo CertificationRequestInfo,
        //    signatureAlgorithm       AlgorithmIdentifier{{ SignatureAlgorithms }},
        //    signature                BIT STRING
        //}

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                local.CertificationRequestInfo(names.certificationRequestInfo || {}),
                new in_window.org.pkijs.asn1.SEQUENCE({
                    name: (names.signatureAlgorithm || "signatureAlgorithm"),
                    value: [
                        new in_window.org.pkijs.asn1.OID(),
                        new in_window.org.pkijs.asn1.ANY({ optional: true })
                    ]
                }),
                new in_window.org.pkijs.asn1.BITSTRING({ name: (names.signatureValue || "signatureValue") })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for PKCS#8 private key bag
    //**************************************************************************************
    in_window.org.pkijs.schema.PKCS8 =
    function()
    {
        //PrivateKeyInfo ::= SEQUENCE {
        //    version Version,
        //    privateKeyAlgorithm AlgorithmIdentifier {{PrivateKeyAlgorithms}},
        //    privateKey PrivateKey,
        //    attributes [0] Attributes OPTIONAL }
        //
        //Version ::= INTEGER {v1(0)} (v1,...)
        //
        //PrivateKey ::= OCTET STRING
        //
        //Attributes ::= SET OF Attribute

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.version || "") }),
                in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.privateKeyAlgorithm || ""),
                new in_window.org.pkijs.asn1.OCTETSTRING({ name: (names.privateKey || "") }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: [
                        new in_window.org.pkijs.asn1.REPEATED({
                            name: (names.attributes || ""),
                            value: in_window.org.pkijs.schema.ATTRIBUTE()
                        })
                    ]
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "GeneralName" type 
    //**************************************************************************************
    local.BuiltInStandardAttributes =
    function(optional_flag)
    {
        //BuiltInStandardAttributes ::= SEQUENCE {
        //    country-name                  CountryName OPTIONAL,
        //    administration-domain-name    AdministrationDomainName OPTIONAL,
        //    network-address           [0] IMPLICIT NetworkAddress OPTIONAL,
        //    terminal-identifier       [1] IMPLICIT TerminalIdentifier OPTIONAL,
        //    private-domain-name       [2] PrivateDomainName OPTIONAL,
        //    organization-name         [3] IMPLICIT OrganizationName OPTIONAL,
        //    numeric-user-identifier   [4] IMPLICIT NumericUserIdentifier OPTIONAL,
        //    personal-name             [5] IMPLICIT PersonalName OPTIONAL,
        //    organizational-unit-names [6] IMPLICIT OrganizationalUnitNames OPTIONAL }

        if(typeof optional_flag === "undefined")
            optional_flag = false;

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            optional: optional_flag,
            value: [
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 2, // APPLICATION-SPECIFIC
                        tag_number: 1 // [1]
                    },
                    name: (names.country_name || ""),
                    value: [
                        new in_window.org.pkijs.asn1.CHOICE({
                            value: [
                                new in_window.org.pkijs.asn1.NUMERICSTRING(),
                                new in_window.org.pkijs.asn1.PRINTABLESTRING()
                            ]
                        })
                    ]
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 2, // APPLICATION-SPECIFIC
                        tag_number: 2 // [2]
                    },
                    name: (names.administration_domain_name || ""),
                    value: [
                        new in_window.org.pkijs.asn1.CHOICE({
                            value: [
                                new in_window.org.pkijs.asn1.NUMERICSTRING(),
                                new in_window.org.pkijs.asn1.PRINTABLESTRING()
                            ]
                        })
                    ]
                }),
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    name: (names.network_address || ""),
                    is_hex_only: true
                }),
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    },
                    name: (names.terminal_identifier || ""),
                    is_hex_only: true
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 2 // [2]
                    },
                    name: (names.private_domain_name || ""),
                    value: [
                        new in_window.org.pkijs.asn1.CHOICE({
                            value: [
                                new in_window.org.pkijs.asn1.NUMERICSTRING(),
                                new in_window.org.pkijs.asn1.PRINTABLESTRING()
                            ]
                        })
                    ]
                }),
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 3 // [3]
                    },
                    name: (names.organization_name || ""),
                    is_hex_only: true
                }),
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    optional: true,
                    name: (names.numeric_user_identifier || ""),
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 4 // [4]
                    },
                    is_hex_only: true
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    name: (names.personal_name || ""),
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 5 // [5]
                    },
                    value: [
                        new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                            id_block: {
                                tag_class: 3, // CONTEXT-SPECIFIC
                                tag_number: 0 // [0]
                            },
                            is_hex_only: true
                        }),
                        new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                            optional: true,
                            id_block: {
                                tag_class: 3, // CONTEXT-SPECIFIC
                                tag_number: 1 // [1]
                            },
                            is_hex_only: true
                        }),
                        new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                            optional: true,
                            id_block: {
                                tag_class: 3, // CONTEXT-SPECIFIC
                                tag_number: 2 // [2]
                            },
                            is_hex_only: true
                        }),
                        new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                            optional: true,
                            id_block: {
                                tag_class: 3, // CONTEXT-SPECIFIC
                                tag_number: 3 // [3]
                            },
                            is_hex_only: true
                        })
                    ]
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    name: (names.organizational_unit_names || ""),
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 6 // [6]
                    },
                    value: [
                        new in_window.org.pkijs.asn1.REPEATED({
                            value: new in_window.org.pkijs.asn1.PRINTABLESTRING()
                        })
                    ]
                })
            ]
        }));
    }
    //**************************************************************************************
    local.BuiltInDomainDefinedAttributes =
    function(optional_flag)
    {
        if(typeof optional_flag === "undefined")
            optional_flag = false;

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            optional: optional_flag,
            value: [
                new in_window.org.pkijs.asn1.PRINTABLESTRING(),
                new in_window.org.pkijs.asn1.PRINTABLESTRING()
            ]
        }));
    }
    //**************************************************************************************
    local.ExtensionAttributes =
    function(optional_flag)
    {
        if(typeof optional_flag === "undefined")
            optional_flag = false;

        return (new in_window.org.pkijs.asn1.SET({
            optional: optional_flag,
            value: [
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    is_hex_only: true
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    },
                    value: [new in_window.org.pkijs.asn1.ANY()]
                })
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.GENERAL_NAME =
    function()
    {
        /// <remarks>By passing "names" array as an argument you can name each element of "GENERAL NAME" choice</remarks>

        //GeneralName ::= CHOICE {
        //    otherName                       [0]     OtherName,
        //    rfc822Name                      [1]     IA5String,
        //    dNSName                         [2]     IA5String,
        //    x400Address                     [3]     ORAddress,
        //    directoryName                   [4]     Name,
        //    ediPartyName                    [5]     EDIPartyName,
        //    uniformResourceIdentifier       [6]     IA5String,
        //    iPAddress                       [7]     OCTET STRING,
        //    registeredID                    [8]     OBJECT IDENTIFIER }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.CHOICE({
            value: [
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    name: (names.block_name || ""),
                    value: [
                            new in_window.org.pkijs.asn1.OID(),
                            new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                                id_block: {
                                    tag_class: 3, // CONTEXT-SPECIFIC
                                    tag_number: 0 // [0]
                                },
                                value: [new in_window.org.pkijs.asn1.ANY()]
                            })
                    ]
                }),
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.block_name || ""),
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    }
                }),
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.block_name || ""),
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 2 // [2]
                    }
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 3 // [3]
                    },
                    name: (names.block_name || ""),
                    value: [
                            local.BuiltInStandardAttributes(false),
                            local.BuiltInDomainDefinedAttributes(true),
                            local.ExtensionAttributes(true)
                    ]
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 4 // [4]
                    },
                    name: (names.block_name || ""),
                    value: [in_window.org.pkijs.schema.RDN(names.directoryName || {})]
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 5 // [5]
                    },
                    name: (names.block_name || ""),
                    value: [
                            new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                                optional: true,
                                id_block: {
                                    tag_class: 3, // CONTEXT-SPECIFIC
                                    tag_number: 0 // [0]
                                },
                                value: [
                                    new in_window.org.pkijs.asn1.CHOICE({
                                        value: [
                                            new in_window.org.pkijs.asn1.TELETEXSTRING(),
                                            new in_window.org.pkijs.asn1.PRINTABLESTRING(),
                                            new in_window.org.pkijs.asn1.UNIVERSALSTRING(),
                                            new in_window.org.pkijs.asn1.UTF8STRING(),
                                            new in_window.org.pkijs.asn1.BMPSTRING()
                                        ]
                                    })
                                ]
                            }),
                            new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                                id_block: {
                                    tag_class: 3, // CONTEXT-SPECIFIC
                                    tag_number: 1 // [1]
                                },
                                value: [
                                    new in_window.org.pkijs.asn1.CHOICE({
                                        value: [
                                            new in_window.org.pkijs.asn1.TELETEXSTRING(),
                                            new in_window.org.pkijs.asn1.PRINTABLESTRING(),
                                            new in_window.org.pkijs.asn1.UNIVERSALSTRING(),
                                            new in_window.org.pkijs.asn1.UTF8STRING(),
                                            new in_window.org.pkijs.asn1.BMPSTRING()
                                        ]
                                    })
                                ]
                            })
                    ]
                }),
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.block_name || ""),
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 6 // [6]
                    }
                }),
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.block_name || ""),
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 7 // [7]
                    }
                }),
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.block_name || ""),
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 8 // [8]
                    }
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "AlgorithmIdentifier" type 
    //**************************************************************************************
    in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER =
    function()
    {
        //AlgorithmIdentifier  ::=  SEQUENCE  {
        //    algorithm               OBJECT IDENTIFIER,
        //    parameters              ANY DEFINED BY algorithm OPTIONAL  }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            optional: (names.optional || false),
            value: [
                new in_window.org.pkijs.asn1.OID({ name: (names.algorithmIdentifier || "") }),
                new in_window.org.pkijs.asn1.ANY({ name: (names.algorithmParams || ""), optional: true })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "RSAPublicKey" type (RFC3447)
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.RSAPublicKey =
    function()
    {
        //RSAPublicKey ::= SEQUENCE {
        //    modulus           INTEGER,  -- n
        //    publicExponent    INTEGER   -- e
        //}

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.modulus || "") }),
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.publicExponent || "") })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "OtherPrimeInfo" type (RFC3447) 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.OtherPrimeInfo =
    function()
    {
        //OtherPrimeInfo ::= SEQUENCE {
        //    prime             INTEGER,  -- ri
        //    exponent          INTEGER,  -- di
        //    coefficient       INTEGER   -- ti
        //}

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.prime || "") }),
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.exponent || "") }),
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.coefficient || "") })
    ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "RSAPrivateKey" type (RFC3447)
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.RSAPrivateKey =
    function()
    {
        //RSAPrivateKey ::= SEQUENCE {
        //    version           Version,
        //    modulus           INTEGER,  -- n
        //    publicExponent    INTEGER,  -- e
        //    privateExponent   INTEGER,  -- d
        //    prime1            INTEGER,  -- p
        //    prime2            INTEGER,  -- q
        //    exponent1         INTEGER,  -- d mod (p-1)
        //    exponent2         INTEGER,  -- d mod (q-1)
        //    coefficient       INTEGER,  -- (inverse of q) mod p
        //    otherPrimeInfos   OtherPrimeInfos OPTIONAL
        //}
        //
        //OtherPrimeInfos ::= SEQUENCE SIZE(1..MAX) OF OtherPrimeInfo

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.version || "") }),
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.modulus || "") }),
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.publicExponent || "") }),
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.privateExponent || "") }),
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.prime1 || "") }),
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.prime2 || "") }),
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.exponent1 || "") }),
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.exponent2 || "") }),
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.coefficient || "") }),
                new in_window.org.pkijs.asn1.SEQUENCE({
                    optional: true,
                    value: [
                        new in_window.org.pkijs.asn1.REPEATED({
                            name: (names.otherPrimeInfos || ""),
                            value: in_window.org.pkijs.schema.x509.OtherPrimeInfo(names.otherPrimeInfo || {})
                        })
                    ]
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "RSASSA-PSS-params" type (RFC3447)
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.RSASSA_PSS_params =
    function()
    {
        //RSASSA-PSS-params  ::=  SEQUENCE  {
        //    hashAlgorithm      [0] HashAlgorithm DEFAULT sha1Identifier,
        //    maskGenAlgorithm   [1] MaskGenAlgorithm DEFAULT mgf1SHA1Identifier,
        //    saltLength         [2] INTEGER DEFAULT 20,
        //    trailerField       [3] INTEGER DEFAULT 1  }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    optional: true,
                    value: [in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.hashAlgorithm || {})]
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    },
                    optional: true,
                    value: [in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.maskGenAlgorithm || {})]
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 2 // [2]
                    },
                    optional: true,
                    value: [new in_window.org.pkijs.asn1.INTEGER({ name: (names.saltLength || "") })]
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 3 // [3]
                    },
                    optional: true,
                    value: [new in_window.org.pkijs.asn1.INTEGER({ name: (names.trailerField || "") })]
                }),
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "SubjectPublicKeyInfo" type 
    //**************************************************************************************
    in_window.org.pkijs.schema.PUBLIC_KEY_INFO =
    function()
    {
        //SubjectPublicKeyInfo  ::=  SEQUENCE  {
        //    algorithm            AlgorithmIdentifier,
        //    subjectPublicKey     BIT STRING  }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.algorithm || {}),
                new in_window.org.pkijs.asn1.BITSTRING({ name: (names.subjectPublicKey || "") })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "Attribute" type 
    //**************************************************************************************
    in_window.org.pkijs.schema.ATTRIBUTE =
    function()
    {
        // Attribute { ATTRIBUTE:IOSet } ::= SEQUENCE {
        //    type   ATTRIBUTE.&id({IOSet}),
        //    values SET SIZE(1..MAX) OF ATTRIBUTE.&Type({IOSet}{@type})
        //}

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.OID({ name: (names.type || "") }),
                new in_window.org.pkijs.asn1.SET({
                    name: (names.set_name || ""),
                    value: [
                        new in_window.org.pkijs.asn1.REPEATED({
                            name: (names.values || ""),
                            value: new in_window.org.pkijs.asn1.ANY()
                        })
                    ]
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "AttributeTypeAndValue" type 
    //**************************************************************************************
    in_window.org.pkijs.schema.ATTR_TYPE_AND_VALUE =
    function()
    {
        //AttributeTypeAndValue ::= SEQUENCE {
        //    type     AttributeType,
        //    value    AttributeValue }
        //
        //AttributeType ::= OBJECT IDENTIFIER
        //
        //AttributeValue ::= ANY -- DEFINED BY AttributeType

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.OID({ name: (names.type || "") }),
                new in_window.org.pkijs.asn1.ANY({ name: (names.value || "") })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "RelativeDistinguishedName" type 
    //**************************************************************************************
    in_window.org.pkijs.schema.RDN =
    function()
    {
        //RDNSequence ::= SEQUENCE OF RelativeDistinguishedName
        //
        //RelativeDistinguishedName ::=
        //SET SIZE (1..MAX) OF AttributeTypeAndValue

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.REPEATED({
                    name: (names.repeated_sequence || ""),
                    value: new in_window.org.pkijs.asn1.SET({
                        value: [
                            new in_window.org.pkijs.asn1.REPEATED({
                                name: (names.repeated_set || ""),
                                value: in_window.org.pkijs.schema.ATTR_TYPE_AND_VALUE(names.attr_type_and_value || {})
                            })
                        ]
                    })
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "Extension" type 
    //**************************************************************************************
    in_window.org.pkijs.schema.EXTENSION =
    function()
    {
        //Extension  ::=  SEQUENCE  {
        //    extnID      OBJECT IDENTIFIER,
        //    critical    BOOLEAN DEFAULT FALSE,
        //    extnValue   OCTET STRING
        //}

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.OID({ name: (names.extnID || "") }),
                new in_window.org.pkijs.asn1.BOOLEAN({
                    name: (names.critical || ""),
                    optional: true
                }),
                new in_window.org.pkijs.asn1.OCTETSTRING({ name: (names.extnValue || "") })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "Extensions" type (sequence of many Extension)
    //**************************************************************************************
    in_window.org.pkijs.schema.EXTENSIONS =
    function(input_names, input_optional)
    {
        //Extensions  ::=  SEQUENCE SIZE (1..MAX) OF Extension

        var names = in_window.org.pkijs.getNames(arguments[0]);
        var optional = input_optional || false;

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            optional: optional,
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.REPEATED({
                    name: (names.extensions || ""),
                    value: in_window.org.pkijs.schema.EXTENSION(names.extension || {})
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "AuthorityKeyIdentifier" type of extension 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.AuthorityKeyIdentifier =
    function()
    {
        // AuthorityKeyIdentifier OID ::= 2.5.29.35
        // 
        //AuthorityKeyIdentifier ::= SEQUENCE {
        //    keyIdentifier             [0] KeyIdentifier           OPTIONAL,
        //    authorityCertIssuer       [1] GeneralNames            OPTIONAL,
        //    authorityCertSerialNumber [2] CertificateSerialNumber OPTIONAL  }
        //
        //KeyIdentifier ::= OCTET STRING

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.keyIdentifier || ""),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    }
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    },
                    value: [
                            new in_window.org.pkijs.asn1.REPEATED({
                                name: (names.authorityCertIssuer || ""),
                                value: in_window.org.pkijs.schema.GENERAL_NAME()
                            })
                    ]
                }),
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.authorityCertSerialNumber || ""),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 2 // [2]
                    }
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "PrivateKeyUsagePeriod" type of extension 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.PrivateKeyUsagePeriod =
    function()
    {
        // PrivateKeyUsagePeriod OID ::= 2.5.29.16
        //
        //PrivateKeyUsagePeriod ::= SEQUENCE {
        //    notBefore       [0]     GeneralizedTime OPTIONAL,
        //    notAfter        [1]     GeneralizedTime OPTIONAL }
        //-- either notBefore or notAfter MUST be present

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.notBefore || ""),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    }
                }),
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.notAfter || ""),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    }
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "IssuerAltName" and "SubjectAltName" types of extension 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.AltName =
    function()
    {
        // SubjectAltName OID ::= 2.5.29.17
        // IssuerAltName OID ::= 2.5.29.18
        //
        // AltName ::= GeneralNames

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.REPEATED({
                    name: (names.altNames || ""),
                    value: in_window.org.pkijs.schema.GENERAL_NAME()
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "SubjectDirectoryAttributes" type of extension 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.SubjectDirectoryAttributes =
    function()
    {
        // SubjectDirectoryAttributes OID ::= 2.5.29.9
        //
        //SubjectDirectoryAttributes ::= SEQUENCE SIZE (1..MAX) OF Attribute

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.REPEATED({
                    name: (names.attributes || ""),
                    value: in_window.org.pkijs.schema.ATTRIBUTE()
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "GeneralSubtree" type 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.GeneralSubtree =
    function()
    {
        //GeneralSubtree ::= SEQUENCE {
        //    base                    GeneralName,
        //    minimum         [0]     BaseDistance DEFAULT 0,
        //    maximum         [1]     BaseDistance OPTIONAL }
        //
        //BaseDistance ::= INTEGER (0..MAX)

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                in_window.org.pkijs.schema.GENERAL_NAME(names.base || ""),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: [new in_window.org.pkijs.asn1.INTEGER({ name: (names.minimum || "") })]
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    },
                    value: [new in_window.org.pkijs.asn1.INTEGER({ name: (names.maximum || "") })]
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "NameConstraints" type of extension 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.NameConstraints =
    function()
    {
        // NameConstraints OID ::= 2.5.29.30
        //
        //NameConstraints ::= SEQUENCE {
        //    permittedSubtrees       [0]     GeneralSubtrees OPTIONAL,
        //    excludedSubtrees        [1]     GeneralSubtrees OPTIONAL }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: [
                        new in_window.org.pkijs.asn1.REPEATED({
                            name: (names.permittedSubtrees || ""),
                            value: in_window.org.pkijs.schema.x509.GeneralSubtree()
                        })
                    ]
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    },
                    value: [
                        new in_window.org.pkijs.asn1.REPEATED({
                            name: (names.excludedSubtrees || ""),
                            value: in_window.org.pkijs.schema.x509.GeneralSubtree()
                        })
                    ]
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "BasicConstraints" type of extension 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.BasicConstraints =
    function()
    {
        // BasicConstraints OID ::= 2.5.29.19
        //
        //BasicConstraints ::= SEQUENCE {
        //    cA                      BOOLEAN DEFAULT FALSE,
        //    pathLenConstraint       INTEGER (0..MAX) OPTIONAL }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.BOOLEAN({
                    optional: true,
                    name: (names.cA || "")
                }),
                new in_window.org.pkijs.asn1.INTEGER({
                    optional: true,
                    name: (names.pathLenConstraint || "")
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "PolicyQualifierInfo" type 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.PolicyQualifierInfo =
    function()
    {
        //PolicyQualifierInfo ::= SEQUENCE {
        //    policyQualifierId  PolicyQualifierId,
        //    qualifier          ANY DEFINED BY policyQualifierId }
        //
        //id-qt          OBJECT IDENTIFIER ::=  { id-pkix 2 }
        //id-qt-cps      OBJECT IDENTIFIER ::=  { id-qt 1 }
        //id-qt-unotice  OBJECT IDENTIFIER ::=  { id-qt 2 }
        //
        //PolicyQualifierId ::= OBJECT IDENTIFIER ( id-qt-cps | id-qt-unotice )

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.OID({ name: (names.policyQualifierId || "") }),
                new in_window.org.pkijs.asn1.ANY({ name: (names.qualifier || "") })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "PolicyInformation" type 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.PolicyInformation =
    function()
    {
        //PolicyInformation ::= SEQUENCE {
        //    policyIdentifier   CertPolicyId,
        //    policyQualifiers   SEQUENCE SIZE (1..MAX) OF
        //    PolicyQualifierInfo OPTIONAL }
        //
        //CertPolicyId ::= OBJECT IDENTIFIER

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.OID({ name: (names.policyIdentifier || "") }),
                new in_window.org.pkijs.asn1.SEQUENCE({
                    optional: true,
                    value: [
                        new in_window.org.pkijs.asn1.REPEATED({
                            name: (names.policyQualifiers || ""),
                            value: in_window.org.pkijs.schema.x509.PolicyQualifierInfo()
                        })
                    ]
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "CertificatePolicies" type of extension 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.CertificatePolicies =
    function()
    {
        // CertificatePolicies OID ::= 2.5.29.32
        //
        //certificatePolicies ::= SEQUENCE SIZE (1..MAX) OF PolicyInformation

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.REPEATED({
                    name: (names.certificatePolicies || ""),
                    value: in_window.org.pkijs.schema.x509.PolicyInformation()
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "PolicyMapping" type
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.PolicyMapping =
    function()
    {
        //PolicyMapping ::= SEQUENCE {
        //    issuerDomainPolicy      CertPolicyId,
        //    subjectDomainPolicy     CertPolicyId }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.OID({ name: (names.issuerDomainPolicy || "") }),
                new in_window.org.pkijs.asn1.OID({ name: (names.subjectDomainPolicy || "") })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "PolicyMappings" type of extension 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.PolicyMappings =
    function()
    {
        // PolicyMappings OID ::= 2.5.29.33
        //
        //PolicyMappings ::= SEQUENCE SIZE (1..MAX) OF PolicyMapping

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.REPEATED({
                    name: (names.mappings || ""),
                    value: in_window.org.pkijs.schema.x509.PolicyMapping()
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "PolicyConstraints" type of extension 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.PolicyConstraints =
    function()
    {
        // PolicyMappings OID ::= 2.5.29.36
        //
        //PolicyConstraints ::= SEQUENCE {
        //    requireExplicitPolicy           [0] SkipCerts OPTIONAL,
        //    inhibitPolicyMapping            [1] SkipCerts OPTIONAL }
        //
        //SkipCerts ::= INTEGER (0..MAX)

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.requireExplicitPolicy || ""),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    }
                }), // IMPLICIT integer value
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.inhibitPolicyMapping || ""),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    }
                }) // IMPLICIT integer value
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "ExtKeyUsage" type of extension 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.ExtKeyUsage =
    function()
    {
        // ExtKeyUsage OID ::= 2.5.29.37
        //
        // ExtKeyUsage ::= SEQUENCE SIZE (1..MAX) OF KeyPurposeId

        // KeyPurposeId ::= OBJECT IDENTIFIER

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.REPEATED({
                    name: (names.keyPurposes || ""),
                    value: new in_window.org.pkijs.asn1.OID()
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "DistributionPoint" type
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.DistributionPoint =
    function()
    {
        //DistributionPoint ::= SEQUENCE {
        //    distributionPoint       [0]     DistributionPointName OPTIONAL,
        //    reasons                 [1]     ReasonFlags OPTIONAL,
        //    cRLIssuer               [2]     GeneralNames OPTIONAL }
        //
        //DistributionPointName ::= CHOICE {
        //    fullName                [0]     GeneralNames,
        //    nameRelativeToCRLIssuer [1]     RelativeDistinguishedName }
        //
        //ReasonFlags ::= BIT STRING {
        //    unused                  (0),
        //    keyCompromise           (1),
        //    cACompromise            (2),
        //    affiliationChanged      (3),
        //    superseded              (4),
        //    cessationOfOperation    (5),
        //    certificateHold         (6),
        //    privilegeWithdrawn      (7),
        //    aACompromise            (8) }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: [
                        new in_window.org.pkijs.asn1.CHOICE({
                            value: [
                                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                                    name: (names.distributionPoint || ""),
                                    optional: true,
                                    id_block: {
                                        tag_class: 3, // CONTEXT-SPECIFIC
                                        tag_number: 0 // [0]
                                    },
                                    value: [
                                        new in_window.org.pkijs.asn1.REPEATED({
                                            name: (names.distributionPoint_names || ""),
                                            value: in_window.org.pkijs.schema.GENERAL_NAME()
                                        })
                                    ]
                                }),
                                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                                    name: (names.distributionPoint || ""),
                                    optional: true,
                                    id_block: {
                                        tag_class: 3, // CONTEXT-SPECIFIC
                                        tag_number: 1 // [1]
                                    },
                                    value: in_window.org.pkijs.schema.RDN().value_block.value
                                })
                            ]
                        })
                    ]
                }),
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.reasons || ""),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    }
                }), // IMPLICIT bitstring value
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    name: (names.cRLIssuer || ""),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 2 // [2]
                    },
                    value: [
                        new in_window.org.pkijs.asn1.REPEATED({
                            name: (names.cRLIssuer_names || ""),
                            value: in_window.org.pkijs.schema.GENERAL_NAME()
                        })
                    ]
                }) // IMPLICIT bitstring value
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "CRLDistributionPoints" type of extension 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.CRLDistributionPoints =
    function()
    {
        // CRLDistributionPoints OID ::= 2.5.29.31
        //
        //CRLDistributionPoints ::= SEQUENCE SIZE (1..MAX) OF DistributionPoint

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.REPEATED({
                    name: (names.distributionPoints || ""),
                    value: in_window.org.pkijs.schema.x509.DistributionPoint()
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "AccessDescription" type
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.AccessDescription =
    function()
    {
        //AccessDescription  ::=  SEQUENCE {
        //    accessMethod          OBJECT IDENTIFIER,
        //    accessLocation        GeneralName  }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.OID({ name: (names.accessMethod || "") }),
                in_window.org.pkijs.schema.GENERAL_NAME(names.accessLocation || "")
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "AuthorityInfoAccess" and "SubjectInfoAccess" types of extension 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.InfoAccess =
    function()
    {
        // AuthorityInfoAccess OID ::= 1.3.6.1.5.5.7.1.1
        // SubjectInfoAccess OID ::= 1.3.6.1.5.5.7.1.11
        //
        //AuthorityInfoAccessSyntax  ::=
        //SEQUENCE SIZE (1..MAX) OF AccessDescription

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.REPEATED({
                    name: (names.accessDescriptions || ""),
                    value: in_window.org.pkijs.schema.x509.AccessDescription()
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "IssuingDistributionPoint" type of extension 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.IssuingDistributionPoint =
    function()
    {
        // IssuingDistributionPoint OID ::= 2.5.29.28
        //
        //IssuingDistributionPoint ::= SEQUENCE {
        //    distributionPoint          [0] DistributionPointName OPTIONAL,
        //    onlyContainsUserCerts      [1] BOOLEAN DEFAULT FALSE,
        //    onlyContainsCACerts        [2] BOOLEAN DEFAULT FALSE,
        //    onlySomeReasons            [3] ReasonFlags OPTIONAL,
        //    indirectCRL                [4] BOOLEAN DEFAULT FALSE,
        //    onlyContainsAttributeCerts [5] BOOLEAN DEFAULT FALSE }
        //
        //ReasonFlags ::= BIT STRING {
        //    unused                  (0),
        //    keyCompromise           (1),
        //    cACompromise            (2),
        //    affiliationChanged      (3),
        //    superseded              (4),
        //    cessationOfOperation    (5),
        //    certificateHold         (6),
        //    privilegeWithdrawn      (7),
        //    aACompromise            (8) }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: [
                        new in_window.org.pkijs.asn1.CHOICE({
                            value: [
                                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                                    name: (names.distributionPoint || ""),
                                    id_block: {
                                        tag_class: 3, // CONTEXT-SPECIFIC
                                        tag_number: 0 // [0]
                                    },
                                    value: [
                                        new in_window.org.pkijs.asn1.REPEATED({
                                            name: (names.distributionPoint_names || ""),
                                            value: in_window.org.pkijs.schema.GENERAL_NAME()
                                        })
                                    ]
                                }),
                                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                                    name: (names.distributionPoint || ""),
                                    id_block: {
                                        tag_class: 3, // CONTEXT-SPECIFIC
                                        tag_number: 1 // [1]
                                    },
                                    value: in_window.org.pkijs.schema.RDN().value_block.value
                                })
                            ]
                        })
                    ]
                }),
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.onlyContainsUserCerts || ""),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    }
                }), // IMPLICIT boolean value
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.onlyContainsCACerts || ""),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 2 // [2]
                    }
                }), // IMPLICIT boolean value
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.onlySomeReasons || ""),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 3 // [3]
                    }
                }), // IMPLICIT bitstring value
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.indirectCRL || ""),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 4 // [4]
                    }
                }), // IMPLICIT boolean value
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.onlyContainsAttributeCerts || ""),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 5 // [5]
                    }
                }) // IMPLICIT boolean value
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
}
)(typeof exports !== "undefined" ? exports : window);

﻿/**
 * @license
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015, Peculiar Ventures
 * All rights reserved.
 *
 * Author 2014-2015, Yury Strozhevsky <www.strozhevsky.com>.
 *
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, 
 *    this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice, 
 *    this list of conditions and the following disclaimer in the documentation 
 *    and/or other materials provided with the distribution.
 *
 * 3. Neither the name of the copyright holder nor the names of its contributors 
 *    may be used to endorse or promote products derived from this software without 
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND 
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED 
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, 
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT 
 * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR 
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY 
 * OF SUCH DAMAGE. 
 *
 */
(
function(in_window)
{
    //**************************************************************************************
    // #region Declaration of global variables 
    //**************************************************************************************
    // #region "org" namespace 
    if(typeof in_window.org === "undefined")
        in_window.org = {};
    else
    {
        if(typeof in_window.org !== "object")
            throw new Error("Name org already exists and it's not an object");
    }
    // #endregion 

    // #region "org.pkijs" namespace 
    if(typeof in_window.org.pkijs === "undefined")
        in_window.org.pkijs = {};
    else
    {
        if(typeof in_window.org.pkijs !== "object")
            throw new Error("Name org.pkijs already exists and it's not an object" + " but " + (typeof in_window.org.pkijs));
    }
    // #endregion 

    // #region "org.pkijs.simpl" namespace 
    if(typeof in_window.org.pkijs.simpl === "undefined")
        in_window.org.pkijs.simpl = {};
    else
    {
        if(typeof in_window.org.pkijs.simpl !== "object")
            throw new Error("Name org.pkijs.simpl already exists and it's not an object" + " but " + (typeof in_window.org.pkijs.simpl));
    }
    // #endregion 

    // #region "org.pkijs.simpl.x509" namespace 
    if(typeof in_window.org.pkijs.simpl.x509 === "undefined")
        in_window.org.pkijs.simpl.x509 = {};
    else
    {
        if(typeof in_window.org.pkijs.simpl.x509 !== "object")
            throw new Error("Name org.pkijs.simpl.x509 already exists and it's not an object" + " but " + (typeof in_window.org.pkijs.simpl.x509));
    }
    // #endregion 

    // #region "local" namespace 
    var local = {};
    // #endregion   
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "Time" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.TIME =
    function()
    {
        // #region Internal properties of the object 
        this.type = 0; // 0 - UTCTime; 1 - GeneralizedTime; 2 - empty value
        this.value = new Date(0, 0, 0);
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.TIME.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.type = (arguments[0].type || 0);
                this.value = (arguments[0].value || (new Date(0, 0, 0)));
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.TIME.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.TIME({
                names: {
                    utcTimeName: "utcTimeName",
                    generalTimeName: "generalTimeName"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for TIME");
        // #endregion 

        // #region Get internal properties from parsed schema 
        if("utcTimeName" in asn1.result)
        {
            this.type = 0;
            this.value = asn1.result.utcTimeName.toDate();
        }
        if("generalTimeName" in asn1.result)
        {
            this.type = 1;
            this.value = asn1.result.generalTimeName.toDate();
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.TIME.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        var result = {};

        if(this.type === 0)
            result = new in_window.org.pkijs.asn1.UTCTIME({ value_date: this.value });
        if(this.type === 1)
            result = new in_window.org.pkijs.asn1.GENERALIZEDTIME({ value_date: this.value });

        return result;
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.TIME.prototype.toJSON =
    function()
    {
        return {
            type: this.type,
            value: this.value
        };
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "GeneralName" type 
    //**************************************************************************************
    in_window.org.pkijs.simpl.GENERAL_NAME =
    function()
    {
        // #region Internal properties of the object 
        this.NameType = 9; // Name type - from a tagged value (0 for "otherName", 1 for "rfc822Name" etc.)
        this.Name = {};
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.GENERAL_NAME.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.NameType = arguments[0].NameType || 9;
                this.Name = arguments[0].Name || {};
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.GENERAL_NAME.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.GENERAL_NAME({
                names: {
                    block_name: "block_name",
                    otherName: "otherName",
                    rfc822Name: "rfc822Name",
                    dNSName: "dNSName",
                    x400Address: "x400Address",
                    directoryName: {
                            names: {
                                block_name: "directoryName"
                            }
                        },
                    ediPartyName: "ediPartyName",
                    uniformResourceIdentifier: "uniformResourceIdentifier",
                    iPAddress: "iPAddress",
                    registeredID: "registeredID"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for GENERAL_NAME");
        // #endregion 

        // #region Get internal properties from parsed schema
        this.NameType = asn1.result["block_name"].id_block.tag_number;

        switch(this.NameType)
        {
            case 0: // otherName
                this.Name = asn1.result["block_name"];
                break;
            case 1: // rfc822Name + dNSName + uniformResourceIdentifier
            case 2:
            case 6:
                {
                    var value = asn1.result["block_name"];

                    value.id_block.tag_class = 1; // UNIVERSAL
                    value.id_block.tag_number = 22; // IA5STRING

                    var value_ber = value.toBER(false);

                    this.Name = in_window.org.pkijs.fromBER(value_ber).result.value_block.value;
                }
                break;
            case 3: // x400Address
                this.Name = asn1.result["block_name"];
                break;
            case 4: // directoryName
                this.Name = new in_window.org.pkijs.simpl.RDN({ schema: asn1.result["directoryName"] });
                break;
            case 5: // ediPartyName
                this.Name = asn1.result["ediPartyName"];
                break;
            case 7: // iPAddress
                this.Name = new in_window.org.pkijs.asn1.OCTETSTRING({ value_hex: asn1.result["block_name"].value_block.value_hex });
                break;
            case 8: // registeredID
                {
                    var value = asn1.result["block_name"];

                    value.id_block.tag_class = 1; // UNIVERSAL
                    value.id_block.tag_number = 6; // OID

                    var value_ber = value.toBER(false);

                    this.Name = in_window.org.pkijs.fromBER(value_ber).result.value_block.toString(); // Getting a string representation of the OID
                }
                break;
            default:;
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.GENERAL_NAME.prototype.toSchema =
    function(schema)
    {
        // #region Construct and return new ASN.1 schema for this object
        switch(this.NameType)
        {
            case 0:
            case 3:
            case 5:
                return new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: this.NameType
                    },
                    value: [
                        this.Name
                    ]
                });

                break;
            case 1:
            case 2:
            case 6:
                {
                    var value = new in_window.org.pkijs.asn1.IA5STRING({ value: this.Name });

                    value.id_block.tag_class = 3;
                    value.id_block.tag_number = this.NameType;

                    return value;
                }
                break;
            case 4:
                return new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 4
                    },
                    value: [this.Name.toSchema()]
                });
                break;
            case 7:
                {
                    var value = this.Name;

                    value.id_block.tag_class = 3;
                    value.id_block.tag_number = this.NameType;

                    return value;
                }
                break;
            case 8:
                {
                    var value = new in_window.org.pkijs.asn1.OID({ value: this.Name });

                    value.id_block.tag_class = 3;
                    value.id_block.tag_number = this.NameType;

                    return value;
                }
                break;
            default:
                return in_window.org.pkijs.schema.GENERAL_NAME();
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.GENERAL_NAME.prototype.toJSON =
    function()
    {
        var _object = {
            NameType: this.NameType
        };

        if((typeof this.Name) === "string")
            _object.Name = this.Name;
        else
            _object.Name = this.Name.toJSON();

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "GeneralNames" type 
    //**************************************************************************************
    in_window.org.pkijs.simpl.GENERAL_NAMES =
    function()
    {
        // #region Internal properties of the object 
        this.names = new Array(); // Array of "org.pkijs.simpl.GENERAL_NAME"
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.GENERAL_NAMES.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.names = arguments[0].names || new Array(); // Array of "org.pkijs.simpl.GENERAL_NAME"
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.GENERAL_NAMES.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            new in_window.org.pkijs.asn1.SEQUENCE({
                value: [
                    new in_window.org.pkijs.asn1.REPEATED({
                        name: "names",
                        value: in_window.org.pkijs.schema.GENERAL_NAME()
                    })
                ]
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for GENERAL_NAMES");
        // #endregion 

        // #region Get internal properties from parsed schema
        var n = asn1.result["names"];

        for(var i = 0; i < n.length; i++)
            this.names.push(new in_window.org.pkijs.simpl.GENERAL_NAME({ schema: n[i] }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.GENERAL_NAMES.prototype.toSchema =
    function(schema)
    {
        // #region Construct and return new ASN.1 schema for this object
        var output_array = new Array();

        for(var i = 0; i < this.names.length; i++)
            output_array.push(this.names[i].toSchema());

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.GENERAL_NAMES.prototype.toJSON =
    function()
    {
        var _names = new Array();

        for(var i = 0; i < this.names.length; i++)
            _names.push(this.names[i].toJSON());

        return {
            names: _names
        };
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "AlgorithmIdentifier" type 
    //**************************************************************************************
    in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER =
    function()
    {
        // #region Internal properties of the object 
        this.algorithm_id = "";
        // OPTIONAL this.algorithm_params = new in_window.org.pkijs.asn1.NULL();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.algorithm_id = arguments[0].algorithm_id || "";
                if("algorithm_params" in arguments[0])
                    this.algorithm_params = arguments[0].algorithm_params;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER({ 
                names: {
                    algorithmIdentifier: "algorithm",
                    algorithmParams: "params"
                }
                })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for ALGORITHM_IDENTIFIER");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.algorithm_id = asn1.result.algorithm.value_block.toString();
        if("params" in asn1.result)
            this.algorithm_params = asn1.result.params;
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        output_array.push(new in_window.org.pkijs.asn1.OID({ value: this.algorithm_id }));
        if("algorithm_params" in this)
            output_array.push(this.algorithm_params);
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER.prototype.getCommonName =
    function()
    {
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER.prototype.toJSON =
    function()
    {
        var _object = {
            algorithm_id: this.algorithm_id
        };

        if("algorithm_params" in this)
            _object.algorithm_params = this.algorithm_params.toJSON();

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "RSAPublicKey" type (RFC3447)
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.RSAPublicKey =
    function()
    {
        // #region Internal properties of the object 
        this.modulus = new in_window.org.pkijs.asn1.INTEGER();
        this.publicExponent = new in_window.org.pkijs.asn1.INTEGER();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.RSAPublicKey.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.modulus = arguments[0].modulus || new in_window.org.pkijs.asn1.INTEGER();
                this.publicExponent = arguments[0].publicExponent || new in_window.org.pkijs.asn1.INTEGER();
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.RSAPublicKey.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.RSAPublicKey({
                names: {
                    modulus: "modulus",
                    publicExponent: "publicExponent"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for RSAPublicKey");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.modulus = asn1.result["modulus"];
        this.publicExponent = asn1.result["publicExponent"];
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.RSAPublicKey.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                this.modulus,
                this.publicExponent
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.RSAPublicKey.prototype.toJSON =
    function()
    {
        return {
            modulus: this.modulus.toJSON(),
            publicExponent: this.publicExponent.toJSON()
        };
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "OtherPrimeInfo" type (RFC3447)
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.OtherPrimeInfo =
    function()
    {
        // #region Internal properties of the object 
        this.prime = new in_window.org.pkijs.asn1.INTEGER();
        this.exponent = new in_window.org.pkijs.asn1.INTEGER();
        this.coefficient = new in_window.org.pkijs.asn1.INTEGER();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.OtherPrimeInfo.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.prime = arguments[0].prime || new in_window.org.pkijs.asn1.INTEGER();
                this.exponent = arguments[0].exponent || new in_window.org.pkijs.asn1.INTEGER();
                this.coefficient = arguments[0].coefficient || new in_window.org.pkijs.asn1.INTEGER();
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.OtherPrimeInfo.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.OtherPrimeInfo({
                names: {
                    prime: "prime",
                    exponent: "exponent",
                    coefficient: "coefficient"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for OtherPrimeInfo");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.prime = asn1.result["prime"];
        this.exponent = asn1.result["exponent"];
        this.coefficient = asn1.result["coefficient"];
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.OtherPrimeInfo.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                this.prime,
                this.exponent,
                this.coefficient
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.OtherPrimeInfo.prototype.toJSON =
    function()
    {
        return {
            prime: this.prime.toJSON(),
            exponent: this.exponent.toJSON(),
            coefficient: this.coefficient.toJSON()
        };
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "RSAPrivateKey" type (RFC3447)
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.RSAPrivateKey =
    function()
    {
        // #region Internal properties of the object 
        this.version = 0;
        this.modulus = new in_window.org.pkijs.asn1.INTEGER();
        this.publicExponent = new in_window.org.pkijs.asn1.INTEGER();
        this.privateExponent = new in_window.org.pkijs.asn1.INTEGER();
        this.prime1 = new in_window.org.pkijs.asn1.INTEGER();
        this.prime2 = new in_window.org.pkijs.asn1.INTEGER();
        this.exponent1 = new in_window.org.pkijs.asn1.INTEGER();
        this.exponent2 = new in_window.org.pkijs.asn1.INTEGER();
        this.coefficient = new in_window.org.pkijs.asn1.INTEGER();
        // OPTIONAL this.otherPrimeInfos = new Array(); // Array of "OtherPrimeInfo"
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.RSAPrivateKey.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.version = arguments[0].version || 0;
                this.modulus = arguments[0].modulus || new in_window.org.pkijs.asn1.INTEGER();
                this.publicExponent = arguments[0].publicExponent || new in_window.org.pkijs.asn1.INTEGER();
                this.privateExponent = arguments[0].privateExponent || new in_window.org.pkijs.asn1.INTEGER();
                this.prime1 = arguments[0].prime1 || new in_window.org.pkijs.asn1.INTEGER();
                this.prime2 = arguments[0].prime2 || new in_window.org.pkijs.asn1.INTEGER();
                this.exponent1 = arguments[0].exponent1 || new in_window.org.pkijs.asn1.INTEGER();
                this.exponent2 = arguments[0].exponent2 || new in_window.org.pkijs.asn1.INTEGER();
                this.coefficient = arguments[0].coefficient || new in_window.org.pkijs.asn1.INTEGER();
                if("otherPrimeInfos" in arguments[0])
                    this.otherPrimeInfos = arguments[0].otherPrimeInfos || new Array();
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.RSAPrivateKey.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.RSAPrivateKey({
                names: {
                    version: "version",
                    modulus: "modulus",
                    publicExponent: "publicExponent",
                    privateExponent: "privateExponent",
                    prime1: "prime1",
                    prime2: "prime2",
                    exponent1: "exponent1",
                    exponent2: "exponent2",
                    coefficient: "coefficient",
                    otherPrimeInfos: "otherPrimeInfos"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for RSAPrivateKey");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.version = asn1.result["version"].value_block.value_dec;
        this.modulus = asn1.result["modulus"];
        this.publicExponent = asn1.result["publicExponent"];
        this.privateExponent = asn1.result["privateExponent"];
        this.prime1 = asn1.result["prime1"];
        this.prime2 = asn1.result["prime2"];
        this.exponent1 = asn1.result["exponent1"];
        this.exponent2 = asn1.result["exponent2"];
        this.coefficient = asn1.result["coefficient"];

        if("otherPrimeInfos" in asn1.result)
        {
            var otherPrimeInfos_array = asn1.result["otherPrimeInfos"];

            for(var i = 0; i < otherPrimeInfos_array.length; i++)
                this.otherPrimeInfos.push(new in_window.org.pkijs.simpl.x509.OtherPrimeInfo({ schema: otherPrimeInfos_array[i] }));
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.RSAPrivateKey.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        output_array.push(new in_window.org.pkijs.asn1.INTEGER({ value: this.version }));
        output_array.push(this.modulus);
        output_array.push(this.publicExponent);
        output_array.push(this.privateExponent);
        output_array.push(this.prime1);
        output_array.push(this.prime2);
        output_array.push(this.exponent1);
        output_array.push(this.exponent2);
        output_array.push(this.coefficient);

        if("otherPrimeInfos" in this)
        {
            var otherPrimeInfos_array = new Array();

            for(var i = 0; i < this.otherPrimeInfos.length; i++)
                otherPrimeInfos_array.push(this.otherPrimeInfos[i].toSchema());

            output_array.push(new in_window.org.pkijs.asn1.SEQUENCE({ value: otherPrimeInfos_array }));
        }
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.RSAPrivateKey.prototype.toJSON =
    function()
    {
        var _object = {
            version: this.version,
            modulus: this.modulus.toJSON(),
            publicExponent: this.publicExponent.toJSON(),
            privateExponent: this.privateExponent.toJSON(),
            prime1: this.prime1.toJSON(),
            prime2: this.prime2.toJSON(),
            exponent1: this.exponent1.toJSON(),
            exponent2: this.exponent2.toJSON(),
            coefficient: this.coefficient.toJSON(),
        };

        if("otherPrimeInfos" in this)
        {
            _object.otherPrimeInfos = new Array();

            for(var i = 0; i < this.otherPrimeInfos.length; i++)
                _object.otherPrimeInfos.push(this.otherPrimeInfos[i].toJSON());
        }

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "RSASSA_PSS_params" type (RFC3447)
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.RSASSA_PSS_params =
    function()
    {
        // #region Internal properties of the object 
        // OPTIONAL this.hashAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
        // OPTIONAL this.maskGenAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
        // OPTIONAL this.saltLength = 20; // new in_window.org.pkijs.asn1.INTEGER();
        // OPTIONAL this.trailerField = 1; // new in_window.org.pkijs.asn1.INTEGER();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.RSASSA_PSS_params.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                if("hashAlgorithm" in arguments[0])
                    this.hashAlgorithm = arguments[0].hashAlgorithm;

                if("maskGenAlgorithm" in arguments[0])
                    this.maskGenAlgorithm = arguments[0].maskGenAlgorithm;

                if("saltLength" in arguments[0])
                    this.saltLength = arguments[0].saltLength;

                if("trailerField" in arguments[0])
                    this.trailerField = arguments[0].trailerField;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.RSASSA_PSS_params.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.RSASSA_PSS_params({
                names: {
                    hashAlgorithm: {
                        names: {
                            block_name: "hashAlgorithm"
                        }
                    },
                    maskGenAlgorithm: {
                        names: {
                            block_name: "maskGenAlgorithm"
                        }
                    },
                    saltLength: "saltLength",
                    trailerField: "trailerField"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for RSASSA_PSS_params");
        // #endregion 

        // #region Get internal properties from parsed schema 
        if("hashAlgorithm" in asn1.result)
            this.hashAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["hashAlgorithm"] });

        if("maskGenAlgorithm" in asn1.result)
            this.maskGenAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["maskGenAlgorithm"] });

        if("saltLength" in asn1.result)
            this.saltLength = asn1.result["saltLength"].value_block.value_dec;

        if("trailerField" in asn1.result)
            this.trailerField = asn1.result["trailerField"].value_block.value_dec;
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.RSASSA_PSS_params.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        if("hashAlgorithm" in this)
            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 0 // [0]
                },
                value: [this.hashAlgorithm.toSchema()]
            }));

        if("maskGenAlgorithm" in this)
            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 1 // [1]
                },
                value: [this.maskGenAlgorithm.toSchema()]
            }));

        if("saltLength" in this)
            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 2 // [2]
                },
                value: [new in_window.org.pkijs.asn1.INTEGER({ value: this.saltLength })]
            }));

        if("trailerField" in this)
            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 3 // [3]
                },
                value: [new in_window.org.pkijs.asn1.INTEGER({ value: this.trailerField })]
            }));
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.RSASSA_PSS_params.prototype.toJSON =
    function()
    {
        var _object = {};

        if("hashAlgorithm" in this)
            _object.hashAlgorithm = this.hashAlgorithm.toJSON();

        if("maskGenAlgorithm" in this)
            _object.maskGenAlgorithm = this.maskGenAlgorithm.toJSON();

        if("saltLength" in this)
            _object.saltLength = this.saltLength.toJSON();

        if("trailerField" in this)
            _object.trailerField = this.trailerField.toJSON();

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "SubjectPublicKeyInfo" type 
    //**************************************************************************************
    in_window.org.pkijs.simpl.PUBLIC_KEY_INFO =
    function()
    {
        // #region Internal properties of the object 
        this.algorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
        this.subjectPublicKey = new in_window.org.pkijs.asn1.BITSTRING();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.PUBLIC_KEY_INFO.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.algorithm = (arguments[0].algorithm || (new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER()));
                this.subjectPublicKey = (arguments[0].subjectPublicKey || (new in_window.org.pkijs.asn1.BITSTRING()));
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.PUBLIC_KEY_INFO.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.PUBLIC_KEY_INFO({
                names: {
                    algorithm: {
                        names: {
                            block_name: "algorithm"
                        }
                    },
                    subjectPublicKey: "subjectPublicKey"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for PUBLIC_KEY_INFO");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.algorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result.algorithm });
        this.subjectPublicKey = asn1.result.subjectPublicKey;
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.PUBLIC_KEY_INFO.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                this.algorithm.toSchema(),
                this.subjectPublicKey
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.PUBLIC_KEY_INFO.prototype.importKey =
    function(publicKey)
    {
        /// <param name="publicKey" type="Key">Public key to work with</param>

        // #region Initial variables 
        var sequence = Promise.resolve();
        var _this = this;
        // #endregion   

        // #region Initial check 
        if(typeof publicKey === "undefined")
            return new Promise(function(resolve, reject) { reject("Need to provide publicKey input parameter"); });
        // #endregion 

        // #region Get a "crypto" extension 
        var crypto = in_window.org.pkijs.getCrypto();
        if(typeof crypto == "undefined")
            return new Promise(function(resolve, reject) { reject("Unable to create WebCrypto object"); });
        // #endregion 

        // #region Export public key 
        sequence = sequence.then(
            function()
            {
                return crypto.exportKey("spki", publicKey);
            }
            );
        // #endregion 

        // #region Initialize internal variables by parsing exported value
        sequence = sequence.then(
            function(exportedKey)
            {
                var asn1 = in_window.org.pkijs.fromBER(exportedKey);
                try
                {
                    in_window.org.pkijs.simpl.PUBLIC_KEY_INFO.prototype.fromSchema.call(_this, asn1.result);
                }
                catch(exception)
                {
                    return new Promise(function(resolve, reject) { reject("Error during initializing object from schema"); });
                }
            },
            function(error)
            {
                return new Promise(function(resolve, reject) { reject("Error during exporting public key: " + error); });
            }
            );
        // #endregion 

        return sequence;
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.PUBLIC_KEY_INFO.prototype.toJSON =
    function()
    {
        return {
            algorithm: this.algorithm.toJSON(),
            subjectPublicKey: this.subjectPublicKey.toJSON()
        };
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "AttributeTypeAndValue" type (part of RelativeDistinguishedName)
    //**************************************************************************************
    in_window.org.pkijs.simpl.ATTR_TYPE_AND_VALUE =
    function()
    {
        // #region Internal properties of the object 
        this.type = "";
        this.value = {}; // ANY -- DEFINED BY AttributeType
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.ATTR_TYPE_AND_VALUE.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.type = (arguments[0].type || "");
                this.value = (arguments[0].value || {});
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ATTR_TYPE_AND_VALUE.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.ATTR_TYPE_AND_VALUE({
                names: {
                    type: "type",
                    value: "typeValue"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for ATTR_TYPE_AND_VALUE");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.type = asn1.result.type.value_block.toString();
        this.value = asn1.result.typeValue;
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ATTR_TYPE_AND_VALUE.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                new in_window.org.pkijs.asn1.OID({ value: this.type }),
                this.value
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ATTR_TYPE_AND_VALUE.prototype.isEqual =
    function()
    {
        if(arguments[0] instanceof in_window.org.pkijs.simpl.ATTR_TYPE_AND_VALUE)
        {
            if(this.type !== arguments[0].type)
                return false;

            if(((this.value instanceof in_window.org.pkijs.asn1.UTF8STRING) && (arguments[0].value instanceof in_window.org.pkijs.asn1.UTF8STRING)) ||
               ((this.value instanceof in_window.org.pkijs.asn1.BMPSTRING) && (arguments[0].value instanceof in_window.org.pkijs.asn1.BMPSTRING)) ||
               ((this.value instanceof in_window.org.pkijs.asn1.UNIVERSALSTRING) && (arguments[0].value instanceof in_window.org.pkijs.asn1.UNIVERSALSTRING)) ||
               ((this.value instanceof in_window.org.pkijs.asn1.NUMERICSTRING) && (arguments[0].value instanceof in_window.org.pkijs.asn1.NUMERICSTRING)) ||
               ((this.value instanceof in_window.org.pkijs.asn1.PRINTABLESTRING) && (arguments[0].value instanceof in_window.org.pkijs.asn1.PRINTABLESTRING)) ||
               ((this.value instanceof in_window.org.pkijs.asn1.TELETEXSTRING) && (arguments[0].value instanceof in_window.org.pkijs.asn1.TELETEXSTRING)) ||
               ((this.value instanceof in_window.org.pkijs.asn1.VIDEOTEXSTRING) && (arguments[0].value instanceof in_window.org.pkijs.asn1.VIDEOTEXSTRING)) ||
               ((this.value instanceof in_window.org.pkijs.asn1.IA5STRING) && (arguments[0].value instanceof in_window.org.pkijs.asn1.IA5STRING)) ||
               ((this.value instanceof in_window.org.pkijs.asn1.GRAPHICSTRING) && (arguments[0].value instanceof in_window.org.pkijs.asn1.GRAPHICSTRING)) ||
               ((this.value instanceof in_window.org.pkijs.asn1.VISIBLESTRING) && (arguments[0].value instanceof in_window.org.pkijs.asn1.VISIBLESTRING)) ||
               ((this.value instanceof in_window.org.pkijs.asn1.GENERALSTRING) && (arguments[0].value instanceof in_window.org.pkijs.asn1.GENERALSTRING)) ||
               ((this.value instanceof in_window.org.pkijs.asn1.CHARACTERSTRING) && (arguments[0].value instanceof in_window.org.pkijs.asn1.CHARACTERSTRING)))
            {
                var value1 = in_window.org.pkijs.stringPrep(this.value.value_block.value);
                var value2 = in_window.org.pkijs.stringPrep(arguments[0].value.value_block.value);

                if(value1.localeCompare(value2) !== 0)
                    return false;
            }
            else // Comparing as two ArrayBuffers
            {
                if(in_window.org.pkijs.isEqual_buffer(this.value.value_before_decode, arguments[0].value.value_before_decode) === false)
                    return false;
            }

            return true;
        }
        else
            return false;
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ATTR_TYPE_AND_VALUE.prototype.toJSON =
    function()
    {
        var _object = {
            type: this.type
        };

        if(Object.keys(this.value).length !== 0)
            _object.value = this.value.toJSON();
        else
            _object.value = this.value;

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "RelativeDistinguishedName" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.RDN =
    function()
    {
        // #region Internal properties of the object 
        /// <field name="types_and_values" type="Array" elementType="in_window.org.pkijs.simpl.ATTR_TYPE_AND_VALUE">Array of "type and value" objects</field>
        this.types_and_values = new Array();
        /// <field name="value_before_decode" type="ArrayBuffer">Value of the RDN before decoding from schema</field>
        this.value_before_decode = new ArrayBuffer(0);
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.RDN.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.types_and_values = (arguments[0].types_and_values || (new Array()));
                this.value_before_decode = arguments[0].value_before_decode || new ArrayBuffer(0);
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.RDN.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.RDN({
                names: {
                    block_name: "RDN",
                    repeated_set: "types_and_values"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for RDN");
        // #endregion 

        // #region Get internal properties from parsed schema 
        if("types_and_values" in asn1.result) // Could be a case when there is no "types and values"
        {
            var types_and_values_array = asn1.result.types_and_values;
            for(var i = 0; i < types_and_values_array.length; i++)
                this.types_and_values.push(new in_window.org.pkijs.simpl.ATTR_TYPE_AND_VALUE({ schema: types_and_values_array[i] }));
        }

        this.value_before_decode = asn1.result.RDN.value_before_decode;
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.RDN.prototype.toSchema =
    function()
    {
        // #region Decode stored TBS value 
        if(this.value_before_decode.byteLength === 0) // No stored encoded array, create "from scratch"
        {
            // #region Create array for output set 
            var output_array = new Array();

            for(var i = 0; i < this.types_and_values.length; i++)
                output_array.push(this.types_and_values[i].toSchema());
            // #endregion 

            return (new in_window.org.pkijs.asn1.SEQUENCE({
                value: [new in_window.org.pkijs.asn1.SET({ value: output_array })]
            }));
        }

        var asn1 = in_window.org.pkijs.fromBER(this.value_before_decode);
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return asn1.result;
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.RDN.prototype.isEqual =
    function()
    {
        if(arguments[0] instanceof in_window.org.pkijs.simpl.RDN)
        {
            if(this.types_and_values.length != arguments[0].types_and_values.length)
                return false;

            for(var i = 0; i < this.types_and_values.length; i++)
            {
                if(this.types_and_values[i].isEqual(arguments[0].types_and_values[i]) === false)
                    return false;
            }

            return true;
        }
        else
        {
            if(arguments[0] instanceof ArrayBuffer)
                return in_window.org.pkijs.isEqual_buffer(this.value_before_decode, arguments[0]);
            else
                return false;
        }

        return false;
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.RDN.prototype.toJSON =
    function()
    {
        var _object = {
            types_and_values: new Array()
        };

        for(var i = 0; i < this.types_and_values.length; i++)
            _object.types_and_values.push(this.types_and_values[i].toJSON());

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "AuthorityKeyIdentifier" type of extension
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.AuthorityKeyIdentifier =
    function()
    {
        // #region Internal properties of the object 
        // OPTIONAL this.keyIdentifier - OCTETSTRING
        // OPTIONAL this.authorityCertIssuer - Array of GeneralName
        // OPTIONAL this.authorityCertSerialNumber - INTEGER
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.AuthorityKeyIdentifier.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                if("keyIdentifier" in arguments[0])
                    this.keyIdentifier = arguments[0].keyIdentifier;

                if("authorityCertIssuer" in arguments[0])
                    this.authorityCertIssuer = arguments[0].authorityCertIssuer;

                if("authorityCertSerialNumber" in arguments[0])
                    this.authorityCertSerialNumber = arguments[0].authorityCertSerialNumber;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.AuthorityKeyIdentifier.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.AuthorityKeyIdentifier({
                names: {
                    keyIdentifier: "keyIdentifier",
                    authorityCertIssuer: "authorityCertIssuer",
                    authorityCertSerialNumber: "authorityCertSerialNumber"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for AuthorityKeyIdentifier");
        // #endregion 

        // #region Get internal properties from parsed schema 
        if("keyIdentifier" in asn1.result)
        {
            asn1.result["keyIdentifier"].id_block.tag_class = 1; // UNIVERSAL
            asn1.result["keyIdentifier"].id_block.tag_number = 4; // OCTETSTRING

            this.keyIdentifier = asn1.result["keyIdentifier"];
        }

        if("authorityCertIssuer" in asn1.result)
        {
            this.authorityCertIssuer = new Array();
            var issuer_array = asn1.result["authorityCertIssuer"];

            for(var i = 0; i < issuer_array.length; i++)
                this.authorityCertIssuer.push(new in_window.org.pkijs.simpl.GENERAL_NAME({ schema: issuer_array[i] }));
        }

        if("authorityCertSerialNumber" in asn1.result)
        {
            asn1.result["authorityCertSerialNumber"].id_block.tag_class = 1; // UNIVERSAL
            asn1.result["authorityCertSerialNumber"].id_block.tag_number = 2; // INTEGER

            this.authorityCertSerialNumber = asn1.result["authorityCertSerialNumber"];
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.AuthorityKeyIdentifier.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        if("keyIdentifier" in this)
        {
            var value = this.keyIdentifier;

            value.id_block.tag_class = 3; // CONTEXT-SPECIFIC
            value.id_block.tag_number = 0; // [0]

            output_array.push(value);
        }

        if("authorityCertIssuer" in this)
        {
            var issuer_array = new Array();

            for(var i = 0; i < this.authorityCertIssuer.length; i++)
                issuer_array.push(this.authorityCertIssuer[i].toSchema());

            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 1 // [1]
                },
                value: [new in_window.org.pkijs.asn1.SEQUENCE({
                    value: issuer_array
                })]
            }));
        }

        if("authorityCertSerialNumber" in this)
        {
            var value = this.authorityCertSerialNumber;

            value.id_block.tag_class = 3; // CONTEXT-SPECIFIC
            value.id_block.tag_number = 2; // [2]

            output_array.push(value);
        }
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.AuthorityKeyIdentifier.prototype.toJSON =
    function()
    {
        var _object = {};

        if("keyIdentifier" in this)
            _object.keyIdentifier = this.keyIdentifier.toJSON();

        if("authorityCertIssuer" in this)
        {
            _object.authorityCertIssuer = new Array();

            for(var i = 0; i < this.authorityCertIssuer.length; i++)
                _object.authorityCertIssuer.push(this.authorityCertIssuer[i].toJSON());
        }

        if("authorityCertSerialNumber" in this)
            _object.authorityCertSerialNumber = this.authorityCertSerialNumber.toJSON();

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "PrivateKeyUsagePeriod" type of extension
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PrivateKeyUsagePeriod =
    function()
    {
        // #region Internal properties of the object 
        // OPTIONAL this.notBefore - new Date()
        // OPTIONAL this.notAfter - new Date()
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.PrivateKeyUsagePeriod.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                if("notBefore" in arguments[0])
                    this.notBefore = arguments[0].notBefore;

                if("notAfter" in arguments[0])
                    this.notAfter = arguments[0].notAfter;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PrivateKeyUsagePeriod.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.PrivateKeyUsagePeriod({
                names: {
                    notBefore: "notBefore",
                    notAfter: "notAfter"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for PrivateKeyUsagePeriod");
        // #endregion 

        // #region Get internal properties from parsed schema 
        if("notBefore" in asn1.result)
        {
            var localNotBefore = new in_window.org.pkijs.asn1.GENERALIZEDTIME();
            localNotBefore.fromBuffer(asn1.result["notBefore"].value_block.value_hex);
            this.notBefore = localNotBefore.toDate();
        }

        if("notAfter" in asn1.result)
        {
            var localNotAfter = new in_window.org.pkijs.asn1.GENERALIZEDTIME({ value_hex: asn1.result["notAfter"].value_block.value_hex });
            localNotAfter.fromBuffer(asn1.result["notAfter"].value_block.value_hex);
            this.notAfter = localNotAfter.toDate();
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PrivateKeyUsagePeriod.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        if("notBefore" in this)
            output_array.push(new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 0 // [0]
                },
                value_hex: (new in_window.org.pkijs.asn1.GENERALIZEDTIME({ value_date: this.notBefore })).value_block.value_hex
            }));

        if("notAfter" in this)
            output_array.push(new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 1 // [1]
                },
                value_hex: (new in_window.org.pkijs.asn1.GENERALIZEDTIME({ value_date: this.notAfter })).value_block.value_hex
            }));
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PrivateKeyUsagePeriod.prototype.toJSON =
    function()
    {
        var _object = {};

        if("notBefore" in this)
            _object.notBefore = this.notBefore;

        if("notAfter" in this)
            _object.notAfter = this.notAfter;

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "IssuerAltName" and "SubjectAltName" types of extension
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.AltName =
    function()
    {
        // #region Internal properties of the object 
        this.altNames = new Array(); //Array of GeneralName
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.AltName.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.altNames = arguments[0].altNames || new Array();
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.AltName.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.AltName({
                names: {
                    altNames: "altNames"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for AltName");
        // #endregion 

        // #region Get internal properties from parsed schema 
        if("altNames" in asn1.result)
        {
            var altNames_array = asn1.result["altNames"];

            for(var i = 0; i < altNames_array.length; i++)
                this.altNames.push(new in_window.org.pkijs.simpl.GENERAL_NAME({ schema: altNames_array[i] }));
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.AltName.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        for(var i = 0; i < this.altNames.length; i++)
            output_array.push(this.altNames[i].toSchema());
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.AltName.prototype.toJSON =
    function()
    {
        var _object = {
            altNames: new Array()
        };

        for(var i = 0; i < this.altNames.length; i++)
            _object.altNames.push(this.altNames[i].toJSON());

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "SubjectDirectoryAttributes" type of extension
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.SubjectDirectoryAttributes =
    function()
    {
        // #region Internal properties of the object 
        this.attributes = new Array(); // Array of "simpl.ATTRIBUTE"
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.SubjectDirectoryAttributes.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.attributes = arguments[0].attributes || new Array(); // Array of "simpl.ATTRIBUTE"
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.SubjectDirectoryAttributes.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.SubjectDirectoryAttributes({
                names: {
                    attributes: "attributes"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for SubjectDirectoryAttributes");
        // #endregion 

        // #region Get internal properties from parsed schema
        var attrs = asn1.result["attributes"];

        for(var i = 0; i < attrs.length; i++)
            this.attributes.push(new in_window.org.pkijs.simpl.ATTRIBUTE({ schema: attrs[i] }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.SubjectDirectoryAttributes.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        for(var i = 0; i < this.attributes.length; i++)
            output_array.push(this.attributes[i].toSchema());
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.SubjectDirectoryAttributes.prototype.toJSON =
    function()
    {
        var _object = {
            attributes: new Array()
        };

        for(var i = 0; i < this.attributes.length; i++)
            _object.attributes.push(this.attributes[i].toJSON());

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "PolicyMapping" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyMapping =
    function()
    {
        // #region Internal properties of the object 
        this.issuerDomainPolicy = "";
        this.subjectDomainPolicy = "";
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.PolicyMapping.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.issuerDomainPolicy = arguments[0].issuerDomainPolicy || "";
                this.subjectDomainPolicy = arguments[0].subjectDomainPolicy || "";
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyMapping.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.PolicyMapping({
                names: {
                    issuerDomainPolicy: "issuerDomainPolicy",
                    subjectDomainPolicy: "subjectDomainPolicy"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for PolicyMapping");
        // #endregion 

        // #region Get internal properties from parsed schema
        this.issuerDomainPolicy = asn1.result["issuerDomainPolicy"].value_block.toString();
        this.subjectDomainPolicy = asn1.result["subjectDomainPolicy"].value_block.toString();
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyMapping.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                new in_window.org.pkijs.asn1.OID({ value: this.issuerDomainPolicy }),
                new in_window.org.pkijs.asn1.OID({ value: this.subjectDomainPolicy })
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyMapping.prototype.toJSON =
    function()
    {
        return {
            issuerDomainPolicy: this.issuerDomainPolicy,
            subjectDomainPolicy: this.subjectDomainPolicy
        };
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "PolicyMappings" type of extension
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyMappings =
    function()
    {
        // #region Internal properties of the object 
        this.mappings = new Array(); // Array of "simpl.x509.PolicyMapping"
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.PolicyMappings.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.mappings = arguments[0].mappings || new Array();
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyMappings.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.PolicyMappings({
                names: {
                    mappings: "mappings"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for PolicyMappings");
        // #endregion 

        // #region Get internal properties from parsed schema 
        var maps = asn1.result["mappings"];

        for(var i = 0; i < maps.length; i++)
            this.mappings.push(new in_window.org.pkijs.simpl.x509.PolicyMapping({ schema: maps[i] }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyMappings.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        for(var i = 0; i < this.mappings.length; i++)
            output_array.push(this.mappings.toSchema());
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyMappings.prototype.toJSON =
    function()
    {
        var _object = {
            mappings: new Array()
        };

        for(var i = 0; i < this.mappings.length; i++)
            _object.mappings.push(this.mappings[i].toJSON());

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "GeneralSubtree" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.GeneralSubtree =
    function()
    {
        // #region Internal properties of the object 
        this.base = new in_window.org.pkijs.simpl.GENERAL_NAME();
        // OPTIONAL this.minimum // in_window.org.pkijs.asn1.INTEGER
        // OPTIONAL this.maximum // in_window.org.pkijs.asn1.INTEGER
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.GeneralSubtree.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.base = arguments[0].base || new in_window.org.pkijs.simpl.GENERAL_NAME();

                if("minimum" in arguments[0])
                    this.minimum = arguments[0].minimum;

                if("maximum" in arguments[0])
                    this.maximum = arguments[0].maximum;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.GeneralSubtree.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.GeneralSubtree({
                names: {
                    base: {
                        names: {
                            block_name: "base"
                        }
                    },
                    minimum: "minimum",
                    maximum: "maximum"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for ");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.base = new in_window.org.pkijs.simpl.GENERAL_NAME({ schema: asn1.result["base"] });

        if("minimum" in asn1.result)
        {
            if(asn1.result["minimum"].value_block.is_hex_only)
                this.minimum = asn1.result["minimum"];
            else
                this.minimum = asn1.result["minimum"].value_block.value_dec;
        }

        if("maximum" in asn1.result)
        {
            if(asn1.result["maximum"].value_block.is_hex_only)
                this.maximum = asn1.result["maximum"];
            else
                this.maximum = asn1.result["maximum"].value_block.value_dec;
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.GeneralSubtree.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        output_array.push(this.base.toSchema());

        if("minimum" in this)
        {
            var value_minimum = 0;

            if(this.minimum instanceof in_window.org.pkijs.asn1.INTEGER)
                value_minimum = this.minimum;
            else
                value_minimum = new in_window.org.pkijs.asn1.INTEGER({ value: this.minimum });

            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 0 // [0]
                },
                value: [value_minimum]
            }));
        }

        if("maximum" in this)
        {
            var value_maximum = 0;

            if(this.maximum instanceof in_window.org.pkijs.asn1.INTEGER)
                value_maximum = this.maximum;
            else
                value_maximum = new in_window.org.pkijs.asn1.INTEGER({ value: this.maximum });

            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 1 // [1]
                },
                value: [value_maximum]
            }));
        }
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.GeneralSubtree.prototype.toJSON =
    function()
    {
        var _object = {
            base: this.base.toJSON()
        };

        if("minimum" in this)
        {
            if((typeof this.minimum) === "number")
                _object.minimum = this.minimum;
            else
                _object.minimum = this.minimum.toJSON();
        }

        if("maximum" in this)
        {
            if((typeof this.maximum) === "number")
                _object.maximum = this.maximum;
            else
                _object.maximum = this.maximum.toJSON();
        }

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "NameConstraints" type of extension
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.NameConstraints =
    function()
    {
        // #region Internal properties of the object 
        // OPTIONAL this.permittedSubtrees - Array of "simpl.x509.GeneralSubtree"
        // OPTIONAL this.excludedSubtrees - Array of "simpl.x509.GeneralSubtree"
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.NameConstraints.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                if("permittedSubtrees" in arguments[0])
                    this.permittedSubtrees = arguments[0].permittedSubtrees;

                if("excludedSubtrees" in arguments[0])
                    this.excludedSubtrees = arguments[0].excludedSubtrees;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.NameConstraints.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.NameConstraints({
                names: {
                    permittedSubtrees: "permittedSubtrees",
                    excludedSubtrees: "excludedSubtrees"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for NameConstraints");
        // #endregion 

        // #region Get internal properties from parsed schema 
        if("permittedSubtrees" in asn1.result)
        {
            this.permittedSubtrees = new Array();
            var permited_array = asn1.result["permittedSubtrees"];

            for(var i = 0; i < permited_array.length; i++)
                this.permittedSubtrees.push(new in_window.org.pkijs.simpl.x509.GeneralSubtree({ schema: permited_array[i] }));
        }

        if("excludedSubtrees" in asn1.result)
        {
            this.excludedSubtrees = new Array();
            var excluded_array = asn1.result["excludedSubtrees"];

            for(var i = 0; i < excluded_array.length; i++)
                this.excludedSubtrees.push(new in_window.org.pkijs.simpl.x509.GeneralSubtree({ schema: excluded_array[i] }));
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.NameConstraints.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        if("permittedSubtrees" in this)
        {
            var permited_array = new Array();

            for(var i = 0; i < this.permittedSubtrees.length; i++)
                permited_array.push(this.permittedSubtrees[i].toSchema());

            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 0 // [0]
                },
                value: [new in_window.org.pkijs.asn1.SEQUENCE({
                    value: permited_array
                })]
            }));
        }

        if("excludedSubtrees" in this)
        {
            var excluded_array = new Array();

            for(var i = 0; i < this.excludedSubtrees.length; i++)
                excluded_array.push(this.excludedSubtrees[i].toSchema());

            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 1 // [1]
                },
                value: [new in_window.org.pkijs.asn1.SEQUENCE({
                    value: excluded_array
                })]
            }));
        }
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.NameConstraints.prototype.toJSON =
    function()
    {
        var _object = {};

        if("permittedSubtrees" in this)
        {
            _object.permittedSubtrees = new Array();

            for(var i = 0; i < this.permittedSubtrees.length; i++)
                _object.permittedSubtrees.push(this.permittedSubtrees[i].toJSON());
        }

        if("excludedSubtrees" in this)
        {
            _object.excludedSubtrees = new Array();

            for(var i = 0; i < this.excludedSubtrees.length; i++)
                _object.excludedSubtrees.push(this.excludedSubtrees[i].toJSON());
        }

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "BasicConstraints" type of extension
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.BasicConstraints =
    function()
    {
        // #region Internal properties of the object 
        // OPTIONAL this.cA - boolean value
        // OPTIONAL this.pathLenConstraint - integer value
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.BasicConstraints.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                if("cA" in arguments[0])
                    this.cA = arguments[0].cA;

                if("pathLenConstraint" in arguments[0])
                    this.pathLenConstraint = arguments[0].pathLenConstraint;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.BasicConstraints.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.BasicConstraints({
                names: {
                    cA: "cA",
                    pathLenConstraint: "pathLenConstraint"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for BasicConstraints");
        // #endregion 

        // #region Get internal properties from parsed schema 
        if("cA" in asn1.result)
            this.cA = asn1.result["cA"].value_block.value;

        if("pathLenConstraint" in asn1.result)
            this.pathLenConstraint = asn1.result["pathLenConstraint"].value_block.value_dec;
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.BasicConstraints.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        if("cA" in this)
            output_array.push(new in_window.org.pkijs.asn1.BOOLEAN({ value: this.cA }));

        if("pathLenConstraint" in this)
            output_array.push(new in_window.org.pkijs.asn1.INTEGER({ value: this.pathLenConstraint }));
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.BasicConstraints.prototype.toJSON =
    function()
    {
        var _object = {};

        if("cA" in this)
            _object.cA = this.cA;

        if("pathLenConstraint" in this)
            _object.pathLenConstraint = this.pathLenConstraint;

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "PolicyQualifierInfo" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyQualifierInfo =
    function()
    {
        // #region Internal properties of the object 
        this.policyQualifierId = "";
        this.qualifier = new in_window.org.pkijs.asn1.ANY();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.PolicyQualifierInfo.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.policyQualifierId = arguments[0].policyQualifierId || "";
                this.qualifier = arguments[0].qualifier || new in_window.org.pkijs.asn1.ANY();
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyQualifierInfo.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.PolicyQualifierInfo({
                names: {
                    policyQualifierId: "policyQualifierId",
                    qualifier: "qualifier"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for PolicyQualifierInfo");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.policyQualifierId = asn1.result["policyQualifierId"].value_block.toString();
        this.qualifier = asn1.result["qualifier"];
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyQualifierInfo.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                new in_window.org.pkijs.asn1.OID({ value: this.policyQualifierId }),
                this.qualifier
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyQualifierInfo.prototype.toJSON =
    function()
    {
        return {
            policyQualifierId: this.policyQualifierId,
            qualifier: this.qualifier.toJSON()
        };
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "PolicyInformation" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyInformation =
    function()
    {
        // #region Internal properties of the object 
        this.policyIdentifier = "";
        // OPTIONAL this.policyQualifiers = new Array(); // Array of "simpl.x509.PolicyQualifierInfo"
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.PolicyInformation.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.policyIdentifier = arguments[0].policyIdentifier || "";

                if("policyQualifiers" in arguments[0])
                    this.policyQualifiers = arguments[0].policyQualifiers;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyInformation.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.PolicyInformation({
                names: {
                    policyIdentifier: "policyIdentifier",
                    policyQualifiers: "policyQualifiers"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for PolicyInformation");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.policyIdentifier = asn1.result["policyIdentifier"].value_block.toString();

        if("policyQualifiers" in asn1.result)
        {
            this.policyQualifiers = new Array();
            var qualifiers = asn1.result["policyQualifiers"];

            for(var i = 0; i < qualifiers.length; i++)
                this.policyQualifiers.push(new in_window.org.pkijs.simpl.x509.PolicyQualifierInfo({ schema: qualifiers[i] }));
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyInformation.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        output_array.push(new in_window.org.pkijs.asn1.OID({ value: this.policyIdentifier }));

        if("policyQualifiers" in this)
        {
            var qualifiers = new Array();

            for(var i = 0; i < this.policyQualifiers.length; i++)
                qualifiers.push(this.policyQualifiers[i].toSchema());

            output_array.push(new in_window.org.pkijs.asn1.SEQUENCE({
                value: qualifiers
            }));
        }
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyInformation.prototype.toJSON =
    function()
    {
        var _object = {
            policyIdentifier: this.policyIdentifier
        };

        if("policyQualifiers" in this)
        {
            _object.policyQualifiers = new Array();

            for(var i = 0; i < this.policyQualifiers.length; i++)
                _object.policyQualifiers.push(this.policyQualifiers[i].toJSON());
        }

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "CertificatePolicies" type of extension
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.CertificatePolicies =
    function()
    {
        // #region Internal properties of the object 
        this.certificatePolicies = new Array(); // Array of "simpl.x509.PolicyInformation"
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.CertificatePolicies.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.certificatePolicies = arguments[0].certificatePolicies || new Array(); // Array of "simpl.x509.PolicyInformation"
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.CertificatePolicies.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.CertificatePolicies({
                names: {
                    certificatePolicies: "certificatePolicies"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for CertificatePolicies");
        // #endregion 

        // #region Get internal properties from parsed schema
        var policies = asn1.result["certificatePolicies"];

        for(var i = 0; i < policies.length; i++)
            this.certificatePolicies.push(new in_window.org.pkijs.simpl.x509.PolicyInformation({ schema: policies[i] }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.CertificatePolicies.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        for(var i = 0; i < this.certificatePolicies.length; i++)
            output_array.push(this.certificatePolicies[i].toSchema());
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.CertificatePolicies.prototype.toJSON =
    function()
    {
        var _object = {
            certificatePolicies: new Array()
        };

        for(var i = 0; i < this.certificatePolicies.length; i++)
            _object.certificatePolicies.push(this.certificatePolicies[i].toJSON());

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "PolicyConstraints" type of extension
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyConstraints =
    function()
    {
        // #region Internal properties of the object 
        // OPTIONAL this.requireExplicitPolicy = 0;
        // OPTIONAL this.inhibitPolicyMapping = 0;
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.PolicyConstraints.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.requireExplicitPolicy = arguments[0].requireExplicitPolicy || 0;
                this.inhibitPolicyMapping = arguments[0].inhibitPolicyMapping || 0;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyConstraints.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.PolicyConstraints({
                names: {
                    requireExplicitPolicy: "requireExplicitPolicy",
                    inhibitPolicyMapping: "inhibitPolicyMapping"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for PolicyConstraints");
        // #endregion 

        // #region Get internal properties from parsed schema
        if("requireExplicitPolicy" in asn1.result)
        {
            var field1 = asn1.result["requireExplicitPolicy"];

            field1.id_block.tag_class = 1; // UNIVERSAL
            field1.id_block.tag_number = 2; // INTEGER

            var ber1 = field1.toBER(false);
            var int1 = in_window.org.pkijs.fromBER(ber1);

            this.requireExplicitPolicy = int1.result.value_block.value_dec;
        }

        if("inhibitPolicyMapping" in asn1.result)
        {
            var field2 = asn1.result["inhibitPolicyMapping"];

            field2.id_block.tag_class = 1; // UNIVERSAL
            field2.id_block.tag_number = 2; // INTEGER

            var ber2 = field2.toBER(false);
            var int2 = in_window.org.pkijs.fromBER(ber2);

            this.inhibitPolicyMapping = int2.result.value_block.value_dec;
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyConstraints.prototype.toSchema =
    function()
    {
        // #region Create correct values for output sequence 
        var output_array = new Array();

        if("requireExplicitPolicy" in this)
        {
            var int1 = new in_window.org.pkijs.asn1.INTEGER({ value: this.requireExplicitPolicy });

            int1.id_block.tag_class = 3; // CONTEXT-SPECIFIC
            int1.id_block.tag_number = 0; // [0]

            output_array.push(int1);
        }

        if("inhibitPolicyMapping" in this)
        {
            var int2 = new in_window.org.pkijs.asn1.INTEGER({ value: this.inhibitPolicyMapping });

            int1.id_block.tag_class = 3; // CONTEXT-SPECIFIC
            int1.id_block.tag_number = 1; // [1]

            output_array.push(int2);
        }
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyConstraints.prototype.toJSON =
    function()
    {
        var _object = {};

        if("requireExplicitPolicy" in this)
            _object.requireExplicitPolicy = this.requireExplicitPolicy;

        if("inhibitPolicyMapping" in this)
            _object.inhibitPolicyMapping = this.inhibitPolicyMapping;

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "ExtKeyUsage" type of extension
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.ExtKeyUsage =
    function()
    {
        // #region Internal properties of the object 
        this.keyPurposes = new Array(); // Array of strings (OIDs value for key purposes)
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.ExtKeyUsage.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.keyPurposes = arguments[0].keyPurposes || new Array(); // Array of strings (OIDs value for key purposes)
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.ExtKeyUsage.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.ExtKeyUsage({
                names: {
                    keyPurposes: "keyPurposes"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for ExtKeyUsage");
        // #endregion 

        // #region Get internal properties from parsed schema 
        var purposes = asn1.result["keyPurposes"];

        for(var i = 0; i < purposes.length; i++)
            this.keyPurposes.push(purposes[i].value_block.toString());
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.ExtKeyUsage.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        for(var i = 0; i < this.keyPurposes.length; i++)
            output_array.push(new in_window.org.pkijs.asn1.OID({ value: this.keyPurposes[i] }));
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.ExtKeyUsage.prototype.toJSON =
    function()
    {
        var _object = {
            keyPurposes: new Array()
        };

        for(var i = 0; i < this.keyPurposes.length; i++)
            _object.keyPurposes.push(this.keyPurposes[i]);

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "DistributionPoint" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.DistributionPoint =
    function()
    {
        // #region Internal properties of the object 
        // OPTIONAL this.distributionPoint // Array of "simpl.GENERAL_NAME" or a value of "simpl.RDN" type
        // OPTIONAL this.reasons // BITSTRING value
        // OPTIONAL this.cRLIssuer // Array of "simpl.GENERAL_NAME"
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.DistributionPoint.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                if("distributionPoint" in arguments[0])
                    this.distributionPoint = arguments[0].distributionPoint;

                if("reasons" in arguments[0])
                    this.reasons = arguments[0].reasons;

                if("cRLIssuer" in arguments[0])
                    this.cRLIssuer = arguments[0].cRLIssuer;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.DistributionPoint.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.DistributionPoint({
                names: {
                    distributionPoint: "distributionPoint",
                    distributionPoint_names: "distributionPoint_names",
                    reasons: "reasons",
                    cRLIssuer: "cRLIssuer",
                    cRLIssuer_names: "cRLIssuer_names"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for DistributionPoint");
        // #endregion 

        // #region Get internal properties from parsed schema 
        if("distributionPoint" in asn1.result)
        {
            if(asn1.result["distributionPoint"].id_block.tag_number == 0) // GENERAL_NAMES variant
            {
                this.distributionPoint = new Array();
                var names = asn1.result["distributionPoint_names"];

                for(var i = 0; i < names.length; i++)
                    this.distributionPoint.push(new in_window.org.pkijs.simpl.GENERAL_NAME({ schema: names[i] }));
            }

            if(asn1.result["distributionPoint"].id_block.tag_number == 1) // RDN variant
            {
                asn1.result["distributionPoint"].id_block.tag_class = 1; // UNIVERSAL
                asn1.result["distributionPoint"].id_block.tag_number = 16; // SEQUENCE

                this.distributionPoint = new in_window.org.pkijs.simpl.RDN({ schema: asn1.result["distributionPoint"] });
            }
        }

        if("reasons" in asn1.result)
            this.reasons = new in_window.org.pkijs.asn1.BITSTRING({ value_hex: asn1.result["reasons"].value_block.value_hex });

        if("cRLIssuer" in asn1.result)
        {
            this.cRLIssuer = new Array();
            var crl_names = asn1.result["cRLIssuer_names"];

            for(var i = 0; i < crl_names; i++)
                this.cRLIssuer.push(new in_window.org.pkijs.simpl.GENERAL_NAME({ schema: crl_names[i] }));
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.DistributionPoint.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        if("distributionPoint" in this)
        {
            var internalValue;

            if(this.distributionPoint instanceof Array)
            {
                var namesArray = new Array();

                for(var i = 0; i < this.distributionPoint.length; i++)
                    namesArray.push(this.distributionPoint[i].toSchema());

                internalValue = new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: namesArray
                });
            }
            else
            {
                internalValue = new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    },
                    value: [this.distributionPoint.toSchema()]
                });
            }

            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 0 // [0]
                },
                value: [internalValue]
            }));
        }

        if("reasons" in this)
        {
            output_array.push(new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 1 // [1]
                },
                value_hex: this.reasons.value_block.value_hex
            }));
        }

        if("cRLIssuer" in this)
        {
            var value = new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                name: (names.cRLIssuer || ""),
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 2 // [2]
                }
            });

            for(var i = 0; i < this.cRLIssuer.length; i++)
                value.value_block.value.push(this.cRLIssuer[i].toSchema());

            output_array.push(value);
        }
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.DistributionPoint.prototype.toJSON =
    function()
    {
        var _object = {};

        if("distributionPoint" in this)
        {
            if(this.distributionPoint instanceof Array)
            {
                _object.distributionPoint = new Array();

                for(var i = 0; i < this.distributionPoint.length; i++)
                    _object.distributionPoint.push(this.distributionPoint[i].toJSON());
            }
            else
                _object.distributionPoint = this.distributionPoint.toJSON();
        }

        if("reasons" in this)
            _object.reasons = this.reasons.toJSON();

        if("cRLIssuer" in this)
        {
            _object.cRLIssuer = new Array();

            for(var i = 0; i < this.cRLIssuer.length; i++)
                _object.cRLIssuer.push(this.cRLIssuer[i].toJSON());
        }

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "CRLDistributionPoints" type of extension
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.CRLDistributionPoints =
    function()
    {
        // #region Internal properties of the object 
        this.distributionPoints = new Array(); // Array of "simpl.x509.DistributionPoint"
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.CRLDistributionPoints.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.distributionPoints = arguments[0].distributionPoints || new Array(); // Array of "simpl.x509.DistributionPoint"
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.CRLDistributionPoints.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.CRLDistributionPoints({
                names: {
                    distributionPoints: "distributionPoints"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for CRLDistributionPoints");
        // #endregion 

        // #region Get internal properties from parsed schema 
        var points = asn1.result["distributionPoints"];

        for(var i = 0; i < points.length; i++)
            this.distributionPoints.push(new in_window.org.pkijs.simpl.x509.DistributionPoint({ schema: points[i] }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.CRLDistributionPoints.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        for(var i = 0; i < this.distributionPoints.length; i++)
            output_array.push(this.distributionPoints[i].toSchema());
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.CRLDistributionPoints.prototype.toJSON =
    function()
    {
        var _object = {
            distributionPoints: new Array()
        };

        for(var i = 0; i < this.distributionPoints.length; i++)
            _object.distributionPoints.push(this.distributionPoints[i].toJSON());

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "AccessDescription" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.AccessDescription =
    function()
    {
        // #region Internal properties of the object 
        this.accessMethod = "";
        this.accessLocation = new in_window.org.pkijs.simpl.GENERAL_NAME();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.AccessDescription.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.accessMethod = arguments[0].accessMethod || "";
                this.accessLocation = arguments[0].accessLocation || new in_window.org.pkijs.simpl.GENERAL_NAME();
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.AccessDescription.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.AccessDescription({
                names: {
                    accessMethod: "accessMethod",
                    accessLocation: {
                        names: {
                            block_name: "accessLocation"
                        }
                    }
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for AccessDescription");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.accessMethod = asn1.result["accessMethod"].value_block.toString();
        this.accessLocation = new in_window.org.pkijs.simpl.GENERAL_NAME({ schema: asn1.result["accessLocation"] });
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.AccessDescription.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                new in_window.org.pkijs.asn1.OID({ value: this.accessMethod }),
                this.accessLocation.toSchema()
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.AccessDescription.prototype.toJSON =
    function()
    {
        return {
            accessMethod: this.accessMethod,
            accessLocation: this.accessLocation.toJSON()
        };
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "AuthorityInfoAccess" and "SubjectInfoAccess" types of extension
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.InfoAccess =
    function()
    {
        // #region Internal properties of the object 
        this.accessDescriptions = new Array(); // Array of "simpl.x509.AccessDescription"
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.InfoAccess.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.accessDescriptions = arguments[0].accessDescriptions || new Array(); // Array of "simpl.x509.DistributionPoint"
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.InfoAccess.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.InfoAccess({
                names: {
                    accessDescriptions: "accessDescriptions"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for InfoAccess");
        // #endregion 

        // #region Get internal properties from parsed schema 
        var descriptions = asn1.result["accessDescriptions"];

        for(var i = 0; i < descriptions.length; i++)
            this.accessDescriptions.push(new in_window.org.pkijs.simpl.x509.AccessDescription({ schema: descriptions[i] }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.InfoAccess.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        for(var i = 0; i < this.accessDescriptions.length; i++)
            output_array.push(this.accessDescriptions[i].toSchema());
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.InfoAccess.prototype.toJSON =
    function()
    {
        var _object = {
            accessDescriptions: new Array()
        };

        for(var i = 0; i < this.accessDescriptions.length; i++)
            _object.accessDescriptions.push(this.accessDescriptions[i].toJSON());

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "IssuingDistributionPoint" type of extension
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.IssuingDistributionPoint =
    function()
    {
        // #region Internal properties of the object 
        // OPTIONAL this.distributionPoint // Array of "simpl.GENERAL_NAME" or a value of "simpl.RDN" type
        // OPTIONAL this.onlyContainsUserCerts // BOOLEAN flag
        // OPTIONAL this.onlyContainsCACerts // BOOLEAN flag
        // OPTIONAL this.onlySomeReasons // BITSTRING
        // OPTIONAL this.indirectCRL // BOOLEAN flag
        // OPTIONAL this.onlyContainsAttributeCerts // BOOLEAN flag
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.IssuingDistributionPoint.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                if("distributionPoint" in arguments[0])
                    this.distributionPoint = arguments[0].distributionPoint;

                if("onlyContainsUserCerts" in arguments[0])
                    this.onlyContainsUserCerts = arguments[0].onlyContainsUserCerts;

                if("onlyContainsCACerts" in arguments[0])
                    this.onlyContainsCACerts = arguments[0].onlyContainsCACerts;

                if("onlySomeReasons" in arguments[0])
                    this.onlySomeReasons = arguments[0].onlySomeReasons;

                if("indirectCRL" in arguments[0])
                    this.indirectCRL = arguments[0].indirectCRL;

                if("onlyContainsAttributeCerts" in arguments[0])
                    this.onlyContainsAttributeCerts = arguments[0].onlyContainsAttributeCerts;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.IssuingDistributionPoint.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.IssuingDistributionPoint({
                names: {
                    distributionPoint: "distributionPoint",
                    onlyContainsUserCerts: "onlyContainsUserCerts",
                    onlyContainsCACerts: "onlyContainsCACerts",
                    onlySomeReasons: "onlySomeReasons",
                    indirectCRL: "indirectCRL",
                    onlyContainsAttributeCerts: "onlyContainsAttributeCerts"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for IssuingDistributionPoint");
        // #endregion 

        // #region Get internal properties from parsed schema 
        if("distributionPoint" in asn1.result)
        {
            if(asn1.result["distributionPoint"].id_block.tag_number == 0) // GENERAL_NAMES variant
            {
                this.distributionPoint = new Array();
                var names = asn1.result["distributionPoint_names"];

                for(var i = 0; i < names.length; i++)
                    this.distributionPoint.push(new in_window.org.pkijs.simpl.GENERAL_NAME({ schema: names[i] }));
            }

            if(asn1.result["distributionPoint"].id_block.tag_number == 1) // RDN variant
            {
                asn1.result["distributionPoint"].id_block.tag_class = 1; // UNIVERSAL
                asn1.result["distributionPoint"].id_block.tag_number = 16; // SEQUENCE

                this.distributionPoint = new in_window.org.pkijs.simpl.RDN({ schema: asn1.result["distributionPoint"] });
            }
        }

        if("onlyContainsUserCerts" in asn1.result)
        {
            var view = new Uint8Array(asn1.result["onlyContainsUserCerts"].value_block.value_hex);
            this.onlyContainsUserCerts = (view[0] === 0x00) ? false : true;
        }

        if("onlyContainsCACerts" in asn1.result)
        {
            var view = new Uint8Array(asn1.result["onlyContainsCACerts"].value_block.value_hex);
            this.onlyContainsCACerts = (view[0] === 0x00) ? false : true;
        }

        if("onlySomeReasons" in asn1.result)
        {
            var view = new Uint8Array(asn1.result["onlySomeReasons"].value_block.value_hex);
            this.onlySomeReasons = view[0];
        }

        if("indirectCRL" in asn1.result)
        {
            var view = new Uint8Array(asn1.result["indirectCRL"].value_block.value_hex);
            this.indirectCRL = (view[0] === 0x00) ? false : true;
        }

        if("onlyContainsAttributeCerts" in asn1.result)
        {
            var view = new Uint8Array(asn1.result["onlyContainsAttributeCerts"].value_block.value_hex);
            this.onlyContainsAttributeCerts = (view[0] === 0x00) ? false : true;
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.IssuingDistributionPoint.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        if("distributionPoint" in this)
        {
            var value;

            if(this.distributionPoint instanceof Array)
            {
                value = new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    }
                });

                for(var i = 0; i < this.distributionPoint.length; i++)
                    value.value_block.value.push(this.distributionPoint[i].toSchema());
            }
            else
            {
                value = this.distributionPoint.toSchema();

                value.id_block.tag_class = 3; // CONTEXT - SPECIFIC
                value.id_block.tag_number = 1; // [1]
            }

            output_array.push(value);
        }

        if("onlyContainsUserCerts" in this)
        {
            var buffer = new ArrayBuffer(1);
            var view = new Uint8Array(buffer);

            view[0] = (this.onlyContainsUserCerts === false) ? 0x00 : 0xFF;

            output_array.push(new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                name: (names.onlyContainsUserCerts || ""),
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 1 // [1]
                },
                value_hex: buffer
            }));
        }

        if("onlyContainsCACerts" in this)
        {
            var buffer = new ArrayBuffer(1);
            var view = new Uint8Array(buffer);

            view[0] = (this.onlyContainsCACerts === false) ? 0x00 : 0xFF;

            output_array.push(new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                name: (names.onlyContainsUserCerts || ""),
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 2 // [2]
                },
                value_hex: buffer
            }));
        }

        if("onlySomeReasons" in this)
        {
            var buffer = new ArrayBuffer(1);
            var view = new Uint8Array(buffer);

            view[0] = this.onlySomeReasons;

            output_array.push(new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                name: (names.onlyContainsUserCerts || ""),
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 3 // [3]
                },
                value_hex: buffer
            }));
        }

        if("indirectCRL" in this)
        {
            var buffer = new ArrayBuffer(1);
            var view = new Uint8Array(buffer);

            view[0] = (this.indirectCRL === false) ? 0x00 : 0xFF;

            output_array.push(new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                name: (names.onlyContainsUserCerts || ""),
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 4 // [4]
                },
                value_hex: buffer
            }));
        }

        if("onlyContainsAttributeCerts" in this)
        {
            var buffer = new ArrayBuffer(1);
            var view = new Uint8Array(buffer);

            view[0] = (this.onlyContainsAttributeCerts === false) ? 0x00 : 0xFF;

            output_array.push(new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                name: (names.onlyContainsUserCerts || ""),
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 5 // [5]
                },
                value_hex: buffer
            }));
        }
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.IssuingDistributionPoint.prototype.toJSON =
    function()
    {
        var _object = {};

        if("distributionPoint" in this)
        {
            if(this.distributionPoint instanceof Array)
            {
                _object.distributionPoint = new Array();

                for(var i = 0; i < this.distributionPoint.length; i++)
                    _object.distributionPoint.push(this.distributionPoint[i].toJSON());
            }
            else
                _object.distributionPoint = this.distributionPoint.toJSON();
        }

        if("onlyContainsUserCerts" in this)
            _object.onlyContainsUserCerts = this.onlyContainsUserCerts;

        if("onlyContainsCACerts" in this)
            _object.onlyContainsCACerts = this.onlyContainsCACerts;

        if("onlySomeReasons" in this)
            _object.onlySomeReasons = this.onlySomeReasons.toJSON();

        if("indirectCRL" in this)
            _object.indirectCRL = this.indirectCRL;

        if("onlyContainsAttributeCerts" in this)
            _object.onlyContainsAttributeCerts = this.onlyContainsAttributeCerts;

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "Extension" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.EXTENSION =
    function()
    {
        // #region Internal properties of the object 
        this.extnID = "";
        this.critical = false;
        this.extnValue = new in_window.org.pkijs.asn1.OCTETSTRING();

        // OPTIONAL this.parsedValue - Parsed "extnValue" in case of well-known "extnID"
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.EXTENSION.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.extnID = (arguments[0].extnID || "");
                this.critical = (arguments[0].critical || false);
                if("extnValue" in arguments[0])
                    this.extnValue = new in_window.org.pkijs.asn1.OCTETSTRING({ value_hex: arguments[0].extnValue });
                else
                    this.extnValue = new in_window.org.pkijs.asn1.OCTETSTRING();

                if("parsedValue" in arguments[0])
                    this.parsedValue = arguments[0].parsedValue;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.EXTENSION.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.EXTENSION({
                names: {
                    extnID: "extnID",
                    critical: "critical",
                    extnValue: "extnValue"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for EXTENSION");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.extnID = asn1.result.extnID.value_block.toString();
        if("critical" in asn1.result)
            this.critical = asn1.result.critical.value_block.value;
        this.extnValue = asn1.result.extnValue;

        // #region Get "parsedValue" for well-known extensions 
        var asn1 = in_window.org.pkijs.fromBER(this.extnValue.value_block.value_hex);
        if(asn1.offset === (-1))
            return;

        switch(this.extnID)
        {
            case "2.5.29.9": // SubjectDirectoryAttributes
                this.parsedValue = new in_window.org.pkijs.simpl.x509.SubjectDirectoryAttributes({ schema: asn1.result });
                break;
            case "2.5.29.14": // SubjectKeyIdentifier
                this.parsedValue = asn1.result; // Should be just a simple OCTETSTRING
                break;
            case "2.5.29.15": // KeyUsage
                this.parsedValue = asn1.result; // Should be just a simple BITSTRING
                break;
            case "2.5.29.16": // PrivateKeyUsagePeriod
                this.parsedValue = new in_window.org.pkijs.simpl.x509.PrivateKeyUsagePeriod({ schema: asn1.result });
                break;
            case "2.5.29.17": // SubjectAltName
            case "2.5.29.18": // IssuerAltName
                this.parsedValue = new in_window.org.pkijs.simpl.x509.AltName({ schema: asn1.result });
                break;
            case "2.5.29.19": // BasicConstraints
                this.parsedValue = new in_window.org.pkijs.simpl.x509.BasicConstraints({ schema: asn1.result });
                break;
            case "2.5.29.20": // CRLNumber
            case "2.5.29.27": // BaseCRLNumber (delta CRL indicator)
                this.parsedValue = asn1.result; // Should be just a simple INTEGER
                break;
            case "2.5.29.21": // CRLReason
                this.parsedValue = asn1.result; // Should be just a simple ENUMERATED
                break;
            case "2.5.29.24": // InvalidityDate
                this.parsedValue = asn1.result; // Should be just a simple GeneralizedTime
                break;
            case "2.5.29.28": // IssuingDistributionPoint
                this.parsedValue = new in_window.org.pkijs.simpl.x509.IssuingDistributionPoint({ schema: asn1.result });
                break;
            case "2.5.29.29": // CertificateIssuer
                this.parsedValue = new in_window.org.pkijs.simpl.GENERAL_NAMES({ schema: asn1.result }); // Should be just a simple 
                break;
            case "2.5.29.30": // NameConstraints
                this.parsedValue = new in_window.org.pkijs.simpl.x509.NameConstraints({ schema: asn1.result });
                break;
            case "2.5.29.31": // CRLDistributionPoints
            case "2.5.29.46": // FreshestCRL
                this.parsedValue = new in_window.org.pkijs.simpl.x509.CRLDistributionPoints({ schema: asn1.result });
                break;
            case "2.5.29.32": // CertificatePolicies
                this.parsedValue = new in_window.org.pkijs.simpl.x509.CertificatePolicies({ schema: asn1.result });
                break;
            case "2.5.29.33": // PolicyMappings
                this.parsedValue = new in_window.org.pkijs.simpl.x509.PolicyMappings({ schema: asn1.result });
                break;
            case "2.5.29.35": // AuthorityKeyIdentifier
                this.parsedValue = new in_window.org.pkijs.simpl.x509.AuthorityKeyIdentifier({ schema: asn1.result });
                break;
            case "2.5.29.36": // PolicyConstraints
                this.parsedValue = new in_window.org.pkijs.simpl.x509.PolicyConstraints({ schema: asn1.result });
                break;
            case "2.5.29.37": // ExtKeyUsage
                this.parsedValue = new in_window.org.pkijs.simpl.x509.ExtKeyUsage({ schema: asn1.result });
                break;
            case "2.5.29.54": // InhibitAnyPolicy
                this.parsedValue = asn1.result; // Should be just a simple INTEGER
                break;
            case "1.3.6.1.5.5.7.1.1": // AuthorityInfoAccess
            case "1.3.6.1.5.5.7.1.11": // SubjectInfoAccess
                this.parsedValue = new in_window.org.pkijs.simpl.x509.InfoAccess({ schema: asn1.result });
                break;
            default:;
        }
        // #endregion 
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.EXTENSION.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        output_array.push(new in_window.org.pkijs.asn1.OID({ value: this.extnID }));

        if(this.critical)
            output_array.push(new in_window.org.pkijs.asn1.BOOLEAN({ value: this.critical }));

        output_array.push(this.extnValue);
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.EXTENSION.prototype.toJSON =
    function()
    {
        var _object = {
            extnID: this.extnID,
            critical: this.critical,
            extnValue: this.extnValue.toJSON()
        };

        if("parsedValue" in this)
            _object.parsedValue = this.parsedValue.toJSON();

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "Extensions" type (sequence of many Extension)
    //**************************************************************************************
    in_window.org.pkijs.simpl.EXTENSIONS =
    function()
    {
        // #region Internal properties of the object 
        this.extensions_array = new Array();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.EXTENSIONS.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
                this.extensions_array = (arguments[0].extensions_array || (new Array()));
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.EXTENSIONS.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.EXTENSIONS({
                names: {
                    extensions: "extensions"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for EXTENSIONS");
        // #endregion 

        // #region Get internal properties from parsed schema 
        for(var i = 0; i < asn1.result.extensions.length; i++)
            this.extensions_array.push(new in_window.org.pkijs.simpl.EXTENSION({ schema: asn1.result.extensions[i] }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.EXTENSIONS.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        var extension_schemas = new Array();

        for(var i = 0; i < this.extensions_array.length; i++)
            extension_schemas.push(this.extensions_array[i].toSchema());

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: extension_schemas
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.EXTENSIONS.prototype.toJSON =
    function()
    {
        var _object = {
            extensions_array: new Array()
        };

        for(var i = 0; i < this.extensions_array.length; i++)
            _object.extensions_array.push(this.extensions_array[i].toJSON());

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for X.509 v3 certificate (RFC5280)
    //**************************************************************************************
    in_window.org.pkijs.simpl.CERT =
    function()
    {
        // #region Internal properties of the object 
        // #region Properties from certificate TBS part 
        this.tbs = new ArrayBuffer(0); // Encoded value of certificate TBS (need to have it for certificate validation)

        // OPTIONAL this.version = 0;
        this.serialNumber = new in_window.org.pkijs.asn1.INTEGER(); // Might be a very long integer value
        this.signature = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER(); // Signature algorithm from certificate TBS part
        this.issuer = new in_window.org.pkijs.simpl.RDN();
        this.notBefore = new in_window.org.pkijs.simpl.TIME();
        this.notAfter = new in_window.org.pkijs.simpl.TIME();
        this.subject = new in_window.org.pkijs.simpl.RDN();
        this.subjectPublicKeyInfo = new in_window.org.pkijs.simpl.PUBLIC_KEY_INFO();
        // OPTIONAL this.issuerUniqueID = new ArrayBuffer(0); // IMPLICIT bistring value
        // OPTIONAL this.subjectUniqueID = new ArrayBuffer(0); // IMPLICIT bistring value
        // OPTIONAL this.extensions = new Array(); // Array of "simpl.EXTENSION"
        // #endregion 

        // #region Properties from certificate major part 
        this.signatureAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER(); // Signature algorithm from certificate major part
        this.signatureValue = new in_window.org.pkijs.asn1.BITSTRING();
        // #endregion 
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.CERT.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                // #region Properties from certificate TBS part 
                this.tbs = arguments[0].tbs || new ArrayBuffer(0);

                if("version" in arguments[0])
                    this.version = arguments[0].version;
                this.serialNumber = arguments[0].serialNumber || new in_window.org.pkijs.asn1.INTEGER(); // Might be a very long integer value
                this.signature = arguments[0].signature || new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER(); // Signature algorithm from certificate TBS part
                this.issuer = arguments[0].issuer || new in_window.org.pkijs.simpl.RDN();
                this.notBefore = arguments[0].not_before || new in_window.org.pkijs.simpl.TIME();
                this.notAfter = arguments[0].not_after || new in_window.org.pkijs.simpl.TIME();
                this.subject = arguments[0].subject || new in_window.org.pkijs.simpl.RDN();
                this.subjectPublicKeyInfo = arguments[0].subjectPublicKeyInfo || new in_window.org.pkijs.simpl.PUBLIC_KEY_INFO();
                if("issuerUniqueID" in arguments[0])
                    this.issuerUniqueID = arguments[0].issuerUniqueID;
                if("subjectUniqueID" in arguments[0])
                    this.subjectUniqueID = arguments[0].subjectUniqueID;
                if("extensions" in arguments[0])
                    this.extensions = arguments[0].extensions;
                // #endregion 

                // #region Properties from certificate major part 
                this.signatureAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER(); // Signature algorithm from certificate major part
                this.signatureValue = new in_window.org.pkijs.asn1.BITSTRING();
                // #endregion 
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CERT.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.CERT({
                names: {
                    tbsCertificate: {
                        names: {
                            extensions: {
                                names: {
                                    extensions: "tbsCertificate.extensions"
                                }
                            }
                        }
                    }
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for CERT");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.tbs = asn1.result["tbsCertificate"].value_before_decode;

        if("tbsCertificate.version" in asn1.result)
            this.version = asn1.result["tbsCertificate.version"].value_block.value_dec;
        this.serialNumber = asn1.result["tbsCertificate.serialNumber"];
        this.signature = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["tbsCertificate.signature"] });
        this.issuer = new in_window.org.pkijs.simpl.RDN({ schema: asn1.result["tbsCertificate.issuer"] });
        this.notBefore = new in_window.org.pkijs.simpl.TIME({ schema: asn1.result["tbsCertificate.notBefore"] });
        this.notAfter = new in_window.org.pkijs.simpl.TIME({ schema: asn1.result["tbsCertificate.notAfter"] });
        this.subject = new in_window.org.pkijs.simpl.RDN({ schema: asn1.result["tbsCertificate.subject"] });
        this.subjectPublicKeyInfo = new in_window.org.pkijs.simpl.PUBLIC_KEY_INFO({ schema: asn1.result["tbsCertificate.subjectPublicKeyInfo"] });
        if("tbsCertificate.issuerUniqueID" in asn1.result)
            this.issuerUniqueID = asn1.result["tbsCertificate.issuerUniqueID"].value_block.value_hex;
        if("tbsCertificate.subjectUniqueID" in asn1.result)
            this.issuerUniqueID = asn1.result["tbsCertificate.subjectUniqueID"].value_block.value_hex;
        if("tbsCertificate.extensions" in asn1.result)
        {
            this.extensions = new Array();

            var extensions = asn1.result["tbsCertificate.extensions"];

            for(var i = 0; i < extensions.length; i++)
                this.extensions.push(new in_window.org.pkijs.simpl.EXTENSION({ schema: extensions[i] }));
        }

        this.signatureAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["signatureAlgorithm"] });
        this.signatureValue = asn1.result["signatureValue"];
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CERT.prototype.encodeTBS =
    function()
    {
        /// <summary>Create ASN.1 schema for existing values of TBS part for the certificate</summary>

        // #region Create array for output sequence 
        var output_array = new Array();

        if("version" in this)
            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 0 // [0]
                },
                value: [
                    new in_window.org.pkijs.asn1.INTEGER({ value: this.version }) // EXPLICIT integer value
                ]
            }));

        output_array.push(this.serialNumber);
        output_array.push(this.signature.toSchema());
        output_array.push(this.issuer.toSchema());

        output_array.push(new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                this.notBefore.toSchema(),
                this.notAfter.toSchema()
            ]
        }));

        output_array.push(this.subject.toSchema());
        output_array.push(this.subjectPublicKeyInfo.toSchema());

        if("issuerUniqueID" in this)
            output_array.push(new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 1 // [1]
                },
                value_hex: this.issuerUniqueID
            }));
        if("subjectUniqueID" in this)
            output_array.push(new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 2 // [2]
                },
                value_hex: this.subjectUniqueID
            }));

        if("subjectUniqueID" in this)
            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 3 // [3]
                },
                value: [this.extensions.toSchema()]
            }));

        if("extensions" in this)
        {
            var extensions = new Array();

            for(var i = 0; i < this.extensions.length; i++)
                extensions.push(this.extensions[i].toSchema());

            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 3 // [3]
                },
                value: [new in_window.org.pkijs.asn1.SEQUENCE({
                    value: extensions
                })]
            }));
        }
        // #endregion 

        // #region Create and return output sequence 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CERT.prototype.toSchema =
    function(encodeFlag)
    {
        /// <param name="encodeFlag" type="Boolean">If param equal to false then create TBS schema via decoding stored value. In othe case create TBS schema via assembling from TBS parts.</param>

        if(typeof encodeFlag === "undefined")
            encodeFlag = false;

        var tbs_schema = {};

        // #region Decode stored TBS value 
        if(encodeFlag === false)
        {
            if(this.tbs.length === 0) // No stored certificate TBS part
                return in_window.org.pkijs.schema.CERT().value[0];

            var tbs_asn1 = in_window.org.pkijs.fromBER(this.tbs);

            tbs_schema = tbs_asn1.result;
        }
        // #endregion 
        // #region Create TBS schema via assembling from TBS parts 
        else
            tbs_schema = in_window.org.pkijs.simpl.CERT.prototype.encodeTBS.call(this);
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                tbs_schema,
                this.signatureAlgorithm.toSchema(),
                this.signatureValue
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CERT.prototype.verify =
    function()
    {
        /// <summary>!!! Works well in Chrome dev versions only (April 2014th) !!!</summary>
        /// <returns type="Promise">Returns a new Promise object (in case of error), or a result of "crypto.subtle.veryfy" function</returns>

        // #region Global variables 
        var sequence = Promise.resolve();

        var subjectPublicKeyInfo = {};

        var signature = this.signatureValue;
        var tbs = this.tbs;

        var _this = this;
        // #endregion 

        // #region Set correct "subjectPublicKeyInfo" value 
        if(this.issuer.isEqual(this.subject)) // Self-signed certificate
            subjectPublicKeyInfo = this.subjectPublicKeyInfo;
        else
        {
            if(arguments[0] instanceof Object)
            {
                if("issuerCertificate" in arguments[0]) // Must be of type "simpl.CERT"
                    subjectPublicKeyInfo = arguments[0].issuerCertificate.subjectPublicKeyInfo;
            }

            if((subjectPublicKeyInfo instanceof in_window.org.pkijs.simpl.PUBLIC_KEY_INFO) === false)
                return new Promise(function(resolve, reject) { reject("Please provide issuer certificate as a parameter"); });
        }
        // #endregion 

        // #region Get a "crypto" extension 
        var crypto = in_window.org.pkijs.getCrypto();
        if(typeof crypto == "undefined")
            return new Promise(function(resolve, reject) { reject("Unable to create WebCrypto object"); });
        // #endregion 

        // #region Find signer's hashing algorithm 
        var sha_algorithm = in_window.org.pkijs.getHashAlgorithm(this.signatureAlgorithm);
        if(sha_algorithm === "")
            return new Promise(function(resolve, reject) { reject("Unsupported signature algorithm: " + _this.signatureAlgorithm.algorithm_id); });
        // #endregion 

        // #region Importing public key 
        sequence = sequence.then(
            function()
            {
                // #region Get information about public key algorithm and default parameters for import
                var algorithmObject = in_window.org.pkijs.getAlgorithmByOID(_this.signatureAlgorithm.algorithm_id);
                if(("name" in algorithmObject) === false)
                    return new Promise(function(resolve, reject) { reject("Unsupported public key algorithm: " + _this.signatureAlgorithm.algorithm_id); });

                var algorithm_name = algorithmObject.name;

                var algorithm = in_window.org.pkijs.getAlgorithmParameters(algorithm_name, "importkey");
                if("hash" in algorithm.algorithm)
                    algorithm.algorithm.hash.name = sha_algorithm;
                // #endregion 

                var publicKeyInfo_schema = subjectPublicKeyInfo.toSchema();
                var publicKeyInfo_buffer = publicKeyInfo_schema.toBER(false);
                var publicKeyInfo_view = new Uint8Array(publicKeyInfo_buffer);

                return crypto.importKey("spki", publicKeyInfo_view, algorithm.algorithm, true, algorithm.usages);
            }
            );
        // #endregion 

        // #region Verify signature for the certificate 
        sequence = sequence.then(
            function(publicKey)
            {
                // #region Get default algorithm parameters for verification 
                var algorithm = in_window.org.pkijs.getAlgorithmParameters(publicKey.algorithm.name, "verify");
                if("hash" in algorithm.algorithm)
                    algorithm.algorithm.hash.name = sha_algorithm;
                // #endregion 

                // #region Special case for ECDSA signatures 
                var signature_value = signature.value_block.value_hex;

                if(publicKey.algorithm.name === "ECDSA")
                {
                    var asn1 = in_window.org.pkijs.fromBER(signature_value);
                    signature_value = in_window.org.pkijs.createECDSASignatureFromCMS(asn1.result);
                }
                // #endregion 

                // #region Special case for RSA-PSS 
                if(publicKey.algorithm.name === "RSA-PSS")
                {
                    var pssParameters;

                    try
                    {
                        pssParameters = new in_window.org.pkijs.simpl.x509.RSASSA_PSS_params({ schema: _this.signatureAlgorithm.algorithm_params });
                    }
                    catch(ex)
                    {
                        return new Promise(function(resolve, reject) { reject(ex); });
                    }

                    if("saltLength" in pssParameters)
                        algorithm.algorithm.saltLength = pssParameters.saltLength;
                    else
                        algorithm.algorithm.saltLength = 20;

                    var hash_algo = "SHA-1";

                    if("hashAlgorithm" in pssParameters)
                    {
                        var hashAlgorithm = in_window.org.pkijs.getAlgorithmByOID(pssParameters.hashAlgorithm.algorithm_id);
                        if(("name" in hashAlgorithm) === false)
                            return new Promise(function(resolve, reject) { reject("Unrecognized hash algorithm: " + pssParameters.hashAlgorithm.algorithm_id); });

                        hash_algo = hashAlgorithm.name;
                    }

                    algorithm.algorithm.hash.name = hash_algo;
                }
                // #endregion 

                return crypto.verify(algorithm.algorithm,
                    publicKey,
                    new Uint8Array(signature_value),
                    new Uint8Array(tbs));
            }
            );
        // #endregion 

        return sequence;
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CERT.prototype.sign =
    function(privateKey, hashAlgorithm)
    {
        /// <param name="privateKey" type="CryptoKey">Private key for "subjectPublicKeyInfo" structure</param>
        /// <param name="hashAlgorithm" type="String" optional="true">Hashing algorithm. Default SHA-1</param>

        // #region Initial variables 
        var _this = this;
        // #endregion 

        // #region Get a private key from function parameter 
        if(typeof privateKey === "undefined")
            return new Promise(function(resolve, reject) { reject("Need to provide a private key for signing"); });
        // #endregion 

        // #region Get hashing algorithm 
        if(typeof hashAlgorithm === "undefined")
            hashAlgorithm = "SHA-1";
        else
        {
            // #region Simple check for supported algorithm 
            var oid = in_window.org.pkijs.getOIDByAlgorithm({ name: hashAlgorithm });
            if(oid === "")
                return new Promise(function(resolve, reject) { reject("Unsupported hash algorithm: " + hashAlgorithm); });
            // #endregion 
        }
        // #endregion 

        // #region Get a "default parameters" for current algorithm 
        var defParams = in_window.org.pkijs.getAlgorithmParameters(privateKey.algorithm.name, "sign");
        defParams.algorithm.hash.name = hashAlgorithm;
        // #endregion 

        // #region Fill internal structures base on "privateKey" and "hashAlgorithm" 
        switch(privateKey.algorithm.name.toUpperCase())
        {
            case "RSASSA-PKCS1-V1_5":
            case "ECDSA":
                _this.signature.algorithm_id = in_window.org.pkijs.getOIDByAlgorithm(defParams.algorithm);
                _this.signatureAlgorithm.algorithm_id = _this.signature.algorithm_id;
                break;
            case "RSA-PSS":
                {
                    // #region Set "saltLength" as a length (in octets) of hash function result 
                    switch(hashAlgorithm.toUpperCase())
                    {
                        case "SHA-256":
                            defParams.algorithm.saltLength = 32;
                            break;
                        case "SHA-384":
                            defParams.algorithm.saltLength = 48;
                            break;
                        case "SHA-512":
                            defParams.algorithm.saltLength = 64;
                            break;
                        default:;
                    }
                    // #endregion 

                    // #region Fill "RSASSA_PSS_params" object 
                    var paramsObject = {};

                    if(hashAlgorithm.toUpperCase() !== "SHA-1")
                    {
                        var hashAlgorithmOID = in_window.org.pkijs.getOIDByAlgorithm({ name: hashAlgorithm });
                        if(hashAlgorithmOID === "")
                            return new Promise(function(resolve, reject) { reject("Unsupported hash algorithm: " + hashAlgorithm); });

                        paramsObject.hashAlgorithm = new org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                            algorithm_id: hashAlgorithmOID,
                            algorithm_params: new org.pkijs.asn1.NULL()
                        });

                        paramsObject.maskGenAlgorithm = new org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                            algorithm_id: "1.2.840.113549.1.1.8", // MGF1
                            algorithm_params: paramsObject.hashAlgorithm.toSchema()
                        })
                    }

                    if(defParams.algorithm.saltLength !== 20)
                        paramsObject.saltLength = defParams.algorithm.saltLength;

                    var pssParameters = new in_window.org.pkijs.simpl.x509.RSASSA_PSS_params(paramsObject);
                    // #endregion   

                    // #region Automatically set signature algorithm 
                    _this.signature = new org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                        algorithm_id: "1.2.840.113549.1.1.10",
                        algorithm_params: pssParameters.toSchema()
                    });
                    _this.signatureAlgorithm = _this.signature; // Must be the same
                    // #endregion 
                }
                break;
            default:
                return new Promise(function(resolve, reject) { reject("Unsupported signature algorithm: " + privateKey.algorithm.name); });
        }
        // #endregion 

        // #region Create TBS data for signing 
        _this.tbs = in_window.org.pkijs.simpl.CERT.prototype.encodeTBS.call(this).toBER(false);
        // #endregion 

        // #region Get a "crypto" extension 
        var crypto = in_window.org.pkijs.getCrypto();
        if(typeof crypto == "undefined")
            return new Promise(function(resolve, reject) { reject("Unable to create WebCrypto object"); });
        // #endregion 

        // #region Signing TBS data on provided private key 
        return crypto.sign(defParams.algorithm,
            privateKey,
            new Uint8Array(_this.tbs)).then(
            function(result)
            {
                // #region Special case for ECDSA algorithm 
                if(defParams.algorithm.name === "ECDSA")
                    result = in_window.org.pkijs.createCMSECDSASignature(result);
                // #endregion 

                _this.signatureValue = new in_window.org.pkijs.asn1.BITSTRING({ value_hex: result });
            },
            function(error)
            {
                return new Promise(function(resolve, reject) { reject("Signing error: " + error); });
            }
            );
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CERT.prototype.getPublicKey =
    function()
    {
        /// <summary>Importing public key for current certificate</summary>

        // #region Initial variables 
        var algorithm;
        // #endregion 

        // #region Get a "crypto" extension 
        var crypto = in_window.org.pkijs.getCrypto();
        if(typeof crypto == "undefined")
            return new Promise(function(resolve, reject) { reject("Unable to create WebCrypto object"); });
        // #endregion 

        // #region Find correct algorithm for imported public key 
        if(arguments[0] instanceof Object)
        {
            if("algorithm" in arguments[0])
                algorithm = arguments[0].algorithm;
            else
                return new Promise(function(resolve, reject) { reject("Absent mandatory parameter \"algorithm\""); });
        }
        else
        {
            // #region Find signer's hashing algorithm 
            var sha_algorithm = in_window.org.pkijs.getHashAlgorithm(this.signatureAlgorithm);
            if(sha_algorithm === "")
                return new Promise(function(resolve, reject) { reject("Unsupported signature algorithm: " + this.signatureAlgorithm.algorithm_id); });
            // #endregion   

            // #region Get information about public key algorithm and default parameters for import
            var algorithmObject = in_window.org.pkijs.getAlgorithmByOID(this.signatureAlgorithm.algorithm_id);
            if(("name" in algorithmObject) === false)
                return new Promise(function(resolve, reject) { reject("Unsupported public key algorithm: " + this.signatureAlgorithm.algorithm_id); });

            var algorithm_name = algorithmObject.name;

            algorithm = in_window.org.pkijs.getAlgorithmParameters(algorithm_name, "importkey");
            if("hash" in algorithm.algorithm)
                algorithm.algorithm.hash.name = sha_algorithm;
            // #endregion 
        }
        // #endregion 

        // #region Get neccessary values from internal fields for current certificate 
        var publicKeyInfo_schema = this.subjectPublicKeyInfo.toSchema();
        var publicKeyInfo_buffer = publicKeyInfo_schema.toBER(false);
        var publicKeyInfo_view = new Uint8Array(publicKeyInfo_buffer);
        // #endregion 

        return crypto.importKey("spki", publicKeyInfo_view, algorithm.algorithm, true, algorithm.usages);
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CERT.prototype.getKeyHash =
    function()
    {
        /// <summary>Get SHA-1 hash value for subject public key</summary>

        // #region Get a "crypto" extension 
        var crypto = in_window.org.pkijs.getCrypto();
        if(typeof crypto == "undefined")
            return new Promise(function(resolve, reject) { reject("Unable to create WebCrypto object"); });
        // #endregion 

        return crypto.digest({ name: "sha-1" }, new Uint8Array(this.subjectPublicKeyInfo.subjectPublicKey.value_block.value_hex));
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CERT.prototype.toJSON =
    function()
    {
        var _object = {
            tbs: in_window.org.pkijs.bufferToHexCodes(this.tbs, 0, this.tbs.byteLength),
            serialNumber: this.serialNumber.toJSON(),
            signature: this.signature.toJSON(),
            issuer: this.issuer.toJSON(),
            notBefore: this.notBefore.toJSON(),
            notAfter: this.notAfter.toJSON(),
            subject: this.subject.toJSON(),
            subjectPublicKeyInfo: this.subjectPublicKeyInfo.toJSON(),
            signatureAlgorithm: this.signatureAlgorithm.toJSON(),
            signatureValue: this.signatureValue.toJSON()
        };

        if("version" in this)
            _object.version = this.version;

        if("issuerUniqueID" in this)
            _object.issuerUniqueID = in_window.org.pkijs.bufferToHexCodes(this.issuerUniqueID, 0, this.issuerUniqueID.byteLength);

        if("subjectUniqueID" in this)
            _object.subjectUniqueID = in_window.org.pkijs.bufferToHexCodes(this.subjectUniqueID, 0, this.subjectUniqueID.byteLength);

        if("extensions" in this)
        {
            _object.extensions = new Array();

            for(var i = 0; i < this.extensions.length; i++)
                _object.extensions.push(this.extensions[i].toJSON());
        }

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "revoked certificate" type (to use in CRL)
    //**************************************************************************************
    in_window.org.pkijs.simpl.REV_CERT =
    function()
    {
        // #region Internal properties of the object 
        this.userCertificate = new in_window.org.pkijs.asn1.INTEGER();
        this.revocationDate = new in_window.org.pkijs.simpl.TIME();
        // OPTIONAL this.crlEntryExtensions = new Array(); // Array of "in_window.org.pkijs.simpl.EXTENSION");
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.REV_CERT.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.userCertificate = arguments[0].userCertificate || new in_window.org.pkijs.asn1.INTEGER();
                this.revocationDate = arguments[0].revocationDate || new in_window.org.pkijs.simpl.TIME();
                if("crlEntryExtensions" in arguments[0])
                    this.crlEntryExtensions = arguments[0].crlEntryExtensions;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.REV_CERT.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            new in_window.org.pkijs.asn1.SEQUENCE({
                value: [
                    new in_window.org.pkijs.asn1.INTEGER({ name: "userCertificate" }),
                    in_window.org.pkijs.schema.TIME({
                        names: {
                            utcTimeName: "revocationDate",
                            generalTimeName: "revocationDate"
                    }
                    }),
                    in_window.org.pkijs.schema.EXTENSIONS({
                        names: {
                            block_name: "crlEntryExtensions"
                        }
                    }, true)
                ]
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for REV_CERT");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.userCertificate = asn1.result["userCertificate"];
        this.revocationDate = new in_window.org.pkijs.simpl.TIME({ schema: asn1.result["revocationDate"] });

        if("crlEntryExtensions" in asn1.result)
        {
            this.crlEntryExtensions = new Array();
            var exts = asn1.result["crlEntryExtensions"].value_block.value;

            for(var i = 0; i < exts.length; i++)
                this.crlEntryExtensions.push(new in_window.org.pkijs.simpl.EXTENSION({ schema: exts[i] }));
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.REV_CERT.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var sequence_array = new Array();
        sequence_array.push(this.userCertificate);
        sequence_array.push(this.revocationDate.toSchema());

        if("crlEntryExtensions" in this)
        {
            var exts = new Array();

            for(var i = 0; i < this.crlEntryExtensions.length; i++)
                exts.push(this.crlEntryExtensions[i].toSchema());

            sequence_array.push(new in_window.org.pkijs.asn1.SEQUENCE({ value: exts }));
        }
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: sequence_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.REV_CERT.prototype.toJSON =
    function()
    {
        var _object = {
            userCertificate: this.userCertificate.toJSON(),
            revocationDate: this.revocationDate.toJSON
        };

        if("crlEntryExtensions" in this)
        {
            _object.crlEntryExtensions = new Array();

            for(var i = 0; i < this.crlEntryExtensions.length; i++)
                _object.crlEntryExtensions.push(this.crlEntryExtensions[i].toJSON());
        }

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for X.509 CRL (Certificate Revocation List)(RFC5280)  
    //**************************************************************************************
    in_window.org.pkijs.simpl.CRL =
    function()
    {
        // #region Internal properties of the object 
        // #region Properties from CRL TBS part 
        this.tbs = new ArrayBuffer(0);

        // OPTIONAL this.version = 1;
        this.signature = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
        this.issuer = new in_window.org.pkijs.simpl.RDN();
        this.thisUpdate = new in_window.org.pkijs.simpl.TIME();
        // OPTIONAL this.nextUpdate = new in_window.org.pkijs.simpl.TIME();
        // OPTIONAL this.revokedCertificates = new Array(); // Array of REV_CERT objects
        // OPTIONAL this.crlExtensions = new Array(); // Array of in_window.org.pkijs.simpl.EXTENSION();
        // #endregion 

        // #region Properties from CRL major part 
        this.signatureAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
        this.signatureValue = new in_window.org.pkijs.asn1.BITSTRING();
        // #endregion 
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.CRL.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                // #region Properties from CRL TBS part 
                this.tbs = arguments[0].tbs || new ArrayBuffer(0);

                if("version" in arguments[0])
                    this.version = arguments[0].version;
                this.signature = arguments[0].signature || new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
                this.issuer = arguments[0].issuer || new in_window.org.pkijs.simpl.RDN();
                this.thisUpdate = arguments[0].thisUpdate || new in_window.org.pkijs.simpl.TIME();
                if("nextUpdate" in arguments[0])
                    this.nextUpdate = arguments[0].nextUpdate;
                if("revokedCertificates" in arguments[0])
                    this.revokedCertificates = arguments[0].revokedCertificates;
                if("crlExtensions" in arguments[0])
                    this.crlExtensions = arguments[0].crlExtensions;
                // #endregion 

                // #region Properties from CRL major part 
                this.signatureAlgorithm = arguments[0].signatureAlgorithm || new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
                this.signatureValue = arguments[0].signatureValue || new in_window.org.pkijs.asn1.BITSTRING();
                // #endregion 
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CRL.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.CRL()
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for CRL");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.tbs = asn1.result["tbsCertList"].value_before_decode;

        if("tbsCertList.version" in asn1.result)
            this.version = asn1.result["tbsCertList.version"].value_block.value_dec;
        this.signature = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["tbsCertList.signature"] });
        this.issuer = new in_window.org.pkijs.simpl.RDN({ schema: asn1.result["tbsCertList.issuer"] });
        this.thisUpdate = new in_window.org.pkijs.simpl.TIME({ schema: asn1.result["tbsCertList.thisUpdate"] });
        if("tbsCertList.nextUpdate" in asn1.result)
            this.nextUpdate = new in_window.org.pkijs.simpl.TIME({ schema: asn1.result["tbsCertList.nextUpdate"] });
        if("tbsCertList.revokedCertificates" in asn1.result)
        {
            this.revokedCertificates = new Array();

            var rev_certs = asn1.result["tbsCertList.revokedCertificates"];
            for(var i = 0; i < rev_certs.length; i++)
                this.revokedCertificates.push(new in_window.org.pkijs.simpl.REV_CERT({ schema: rev_certs[i] }));
        }
        if("tbsCertList.extensions" in asn1.result)
        {
            this.crlExtensions = new Array();
            var exts = asn1.result["tbsCertList.extensions"].value_block.value;

            for(var i = 0; i < exts.length; i++)
                this.crlExtensions.push(new in_window.org.pkijs.simpl.EXTENSION({ schema: exts[i] }));
        }

        this.signatureAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["signatureAlgorithm"] });
        this.signatureValue = asn1.result["signatureValue"];
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CRL.prototype.encodeTBS =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        if("version" in this)
            output_array.push(new in_window.org.pkijs.asn1.INTEGER({ value: this.version }));

        output_array.push(this.signature.toSchema());
        output_array.push(this.issuer.toSchema());
        output_array.push(this.thisUpdate.toSchema())

        if("nextUpdate" in this)
            output_array.push(this.nextUpdate.toSchema());

        if("revokedCertificates" in this)
        {
            var rev_certificates = new Array();

            for(var i = 0; i < this.revokedCertificates.length; i++)
                rev_certificates.push(this.revokedCertificates[i].toSchema());

            output_array.push(new in_window.org.pkijs.asn1.SEQUENCE({
                value: rev_certificates
            }));
        }

        if("crlExtensions" in this)
        {
            var extensions = new Array();

            for(var j = 0; j < this.crlExtensions.length; j++)
                extensions.push(this.crlExtensions[j].toSchema());

            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 0 // [0]
                },
                value: [
                    new in_window.org.pkijs.asn1.SEQUENCE({
                        value: extensions
                    })
                ]
            }));
        }
        // #endregion 

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CRL.prototype.toSchema =
    function(encodeFlag)
    {
        /// <param name="encodeFlag" type="Boolean">If param equal to false then create TBS schema via decoding stored value. In othe case create TBS schema via assembling from TBS parts.</param>

        // #region Check "encodeFlag" 
        if(typeof encodeFlag === "undefined")
            encodeFlag = false;
        // #endregion 

        // #region Decode stored TBS value 
        var tbs_schema;

        if(encodeFlag === false)
        {
            if(this.tbs.length === 0) // No stored TBS part
                return in_window.org.pkijs.schema.CRL();

            tbs_schema = in_window.org.pkijs.fromBER(this.tbs).result;
        }
        // #endregion 
        // #region Create TBS schema via assembling from TBS parts 
        else
            tbs_schema = in_window.org.pkijs.simpl.CRL.prototype.encodeTBS.call(this);
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                tbs_schema,
                this.signatureAlgorithm.toSchema(),
                this.signatureValue
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CRL.prototype.verify =
    function()
    {
        /// <summary>!!! Works well in Chrome dev versions only (April 2014th) !!!</summary>
        /// <returns type="Promise">Returns a new Promise object (in case of error), or a result of "crypto.subtle.veryfy" function</returns>

        // #region Global variables 
        var sequence = Promise.resolve();

        var signature = this.signatureValue;
        var tbs = this.tbs;

        var subjectPublicKeyInfo = -1;

        var _this = this;
        // #endregion 

        // #region Get information about CRL issuer certificate 
        if(arguments[0] instanceof Object)
        {
            if("issuerCertificate" in arguments[0]) // "issuerCertificate" must be of type "simpl.CERT"
                subjectPublicKeyInfo = arguments[0].issuerCertificate.subjectPublicKeyInfo;

            // #region In case if there is only public key during verification 
            if("publicKeyInfo" in arguments[0])
                subjectPublicKeyInfo = arguments[0].publicKeyInfo; // Must be of type "org.pkijs.simpl.PUBLIC_KEY_INFO"
            // #endregion 
        }

        if((subjectPublicKeyInfo instanceof in_window.org.pkijs.simpl.PUBLIC_KEY_INFO) === false)
            return new Promise(function(resolve, reject) { reject("Issuer's certificate must be provided as an input parameter"); });
        // #endregion 

        // #region Get a "crypto" extension 
        var crypto = in_window.org.pkijs.getCrypto();
        if(typeof crypto == "undefined")
            return new Promise(function(resolve, reject) { reject("Unable to create WebCrypto object"); });
        // #endregion 

        // #region Find signer's hashing algorithm 
        var sha_algorithm = in_window.org.pkijs.getHashAlgorithm(this.signatureAlgorithm);
        if(sha_algorithm === "")
            return new Promise(function(resolve, reject) { reject("Unsupported signature algorithm: " + _this.signatureAlgorithm.algorithm_id); });
        // #endregion 

        // #region Import public key 
        sequence = sequence.then(
            function()
            {
                // #region Get information about public key algorithm and default parameters for import
                var algorithmObject = in_window.org.pkijs.getAlgorithmByOID(_this.signature.algorithm_id);
                if(("name" in algorithmObject) === "")
                    return new Promise(function(resolve, reject) { reject("Unsupported public key algorithm: " + _this.signature.algorithm_id); });

                var algorithm_name = algorithmObject.name;

                var algorithm = in_window.org.pkijs.getAlgorithmParameters(algorithm_name, "importkey");
                if("hash" in algorithm.algorithm)
                    algorithm.algorithm.hash.name = sha_algorithm;
                // #endregion 

                var publicKeyInfo_schema = subjectPublicKeyInfo.toSchema();
                var publicKeyInfo_buffer = publicKeyInfo_schema.toBER(false);
                var publicKeyInfo_view = new Uint8Array(publicKeyInfo_buffer);

                return crypto.importKey("spki",
                    publicKeyInfo_view,
                    algorithm.algorithm,
                    true,
                    algorithm.usages);
            }
            );
        // #endregion 

        // #region Verify signature for the certificate 
        sequence = sequence.then(
            function(publicKey)
            {
                // #region Get default algorithm parameters for verification 
                var algorithm = in_window.org.pkijs.getAlgorithmParameters(publicKey.algorithm.name, "verify");
                if("hash" in algorithm.algorithm)
                    algorithm.algorithm.hash.name = sha_algorithm;
                // #endregion 

                // #region Special case for ECDSA signatures 
                var signature_value = signature.value_block.value_hex;

                if(publicKey.algorithm.name === "ECDSA")
                {
                    var asn1 = in_window.org.pkijs.fromBER(signature_value);
                    signature_value = in_window.org.pkijs.createECDSASignatureFromCMS(asn1.result);
                }
                // #endregion 

                // #region Special case for RSA-PSS 
                if(publicKey.algorithm.name === "RSA-PSS")
                {
                    var pssParameters;

                    try
                    {
                        pssParameters = new in_window.org.pkijs.simpl.x509.RSASSA_PSS_params({ schema: _this.signatureAlgorithm.algorithm_params });
                    }
                    catch(ex)
                    {
                        return new Promise(function(resolve, reject) { reject(ex); });
                    }

                    if("saltLength" in pssParameters)
                        algorithm.algorithm.saltLength = pssParameters.saltLength;
                    else
                        algorithm.algorithm.saltLength = 20;

                    var hash_algo = "SHA-1";

                    if("hashAlgorithm" in pssParameters)
                    {
                        var hashAlgorithm = in_window.org.pkijs.getAlgorithmByOID(pssParameters.hashAlgorithm.algorithm_id);
                        if(("name" in hashAlgorithm) === false)
                            return new Promise(function(resolve, reject) { reject("Unrecognized hash algorithm: " + pssParameters.hashAlgorithm.algorithm_id); });

                        hash_algo = hashAlgorithm.name;
                    }

                    algorithm.algorithm.hash.name = hash_algo;
                }
                // #endregion 

                return crypto.verify(algorithm.algorithm,
                    publicKey,
                    new Uint8Array(signature_value),
                    new Uint8Array(tbs));
            }
            );
        // #endregion 

        return sequence;
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CRL.prototype.sign =
    function(privateKey, hashAlgorithm)
    {
        /// <param name="privateKey" type="Key">Private key for "subjectPublicKeyInfo" structure</param>
        /// <param name="hashAlgorithm" type="String" optional="true">Hashing algorithm. Default SHA-1</param>

        // #region Initial variables 
        var _this = this;
        // #endregion 

        // #region Get a private key from function parameter 
        if(typeof privateKey === "undefined")
            return new Promise(function(resolve, reject) { reject("Need to provide a private key for signing"); });
        // #endregion 

        // #region Get hashing algorithm 
        if(typeof hashAlgorithm === "undefined")
            hashAlgorithm = "SHA-1";
        else
        {
            // #region Simple check for supported algorithm 
            var oid = in_window.org.pkijs.getOIDByAlgorithm({ name: hashAlgorithm });
            if(oid === "")
                return new Promise(function(resolve, reject) { reject("Unsupported hash algorithm: " + hashAlgorithm); });
            // #endregion 
        }
        // #endregion 

        // #region Get a "default parameters" for current algorithm 
        var defParams = in_window.org.pkijs.getAlgorithmParameters(privateKey.algorithm.name, "sign");
        defParams.algorithm.hash.name = hashAlgorithm;
        // #endregion 

        // #region Fill internal structures base on "privateKey" and "hashAlgorithm" 
        switch(privateKey.algorithm.name.toUpperCase())
        {
            case "RSASSA-PKCS1-V1_5":
            case "ECDSA":
                _this.signature.algorithm_id = in_window.org.pkijs.getOIDByAlgorithm(defParams.algorithm);
                _this.signatureAlgorithm.algorithm_id = _this.signature.algorithm_id;
                break;
            case "RSA-PSS":
                {
                    // #region Set "saltLength" as a length (in octets) of hash function result 
                    switch(hashAlgorithm.toUpperCase())
                    {
                        case "SHA-256":
                            defParams.algorithm.saltLength = 32;
                            break;
                        case "SHA-384":
                            defParams.algorithm.saltLength = 48;
                            break;
                        case "SHA-512":
                            defParams.algorithm.saltLength = 64;
                            break;
                        default:;
                    }
                    // #endregion 

                    // #region Fill "RSASSA_PSS_params" object 
                    var paramsObject = {};

                    if(hashAlgorithm.toUpperCase() !== "SHA-1")
                    {
                        var hashAlgorithmOID = in_window.org.pkijs.getOIDByAlgorithm({ name: hashAlgorithm });
                        if(hashAlgorithmOID === "")
                            return new Promise(function(resolve, reject) { reject("Unsupported hash algorithm: " + hashAlgorithm); });

                        paramsObject.hashAlgorithm = new org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                            algorithm_id: hashAlgorithmOID,
                            algorithm_params: new org.pkijs.asn1.NULL()
                        });

                        paramsObject.maskGenAlgorithm = new org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                            algorithm_id: "1.2.840.113549.1.1.8", // MGF1
                            algorithm_params: paramsObject.hashAlgorithm.toSchema()
                        })
                    }

                    if(defParams.algorithm.saltLength !== 20)
                        paramsObject.saltLength = defParams.algorithm.saltLength;

                    var pssParameters = new in_window.org.pkijs.simpl.x509.RSASSA_PSS_params(paramsObject);
                    // #endregion   

                    // #region Automatically set signature algorithm 
                    _this.signature = new org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                        algorithm_id: "1.2.840.113549.1.1.10",
                        algorithm_params: pssParameters.toSchema()
                    });
                    _this.signatureAlgorithm = _this.signature; // Must be the same
                    // #endregion 
                }
                break;
            default:
                return new Promise(function(resolve, reject) { reject("Unsupported signature algorithm: " + privateKey.algorithm.name); });
        }
        // #endregion 

        // #region Create TBS data for signing 
        _this.tbs = in_window.org.pkijs.simpl.CRL.prototype.encodeTBS.call(this).toBER(false);
        // #endregion 

        // #region Get a "crypto" extension 
        var crypto = in_window.org.pkijs.getCrypto();
        if(typeof crypto == "undefined")
            return new Promise(function(resolve, reject) { reject("Unable to create WebCrypto object"); });
        // #endregion 

        // #region Signing TBS data on provided private key 
        return crypto.sign(
            defParams.algorithm,
            privateKey,
            new Uint8Array(_this.tbs)).
            then(
            function(result)
            {
                // #region Special case for ECDSA algorithm 
                if(defParams.algorithm.name === "ECDSA")
                    result = in_window.org.pkijs.createCMSECDSASignature(result);
                // #endregion 

                _this.signatureValue = new in_window.org.pkijs.asn1.BITSTRING({ value_hex: result });
            },
            function(error)
            {
                return new Promise(function(resolve, reject) { reject("Signing error: " + error); });
            }
            );
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CRL.prototype.isCertificateRevoked =
    function()
    {
        // #region Get input certificate 
        var certificate = {};

        if(arguments[0] instanceof Object)
        {
            if("certificate" in arguments[0])
                certificate = arguments[0].certificate;
        }

        if((certificate instanceof in_window.org.pkijs.simpl.CERT) === false)
            return false;
        // #endregion 

        // #region Check that issuer of the input certificate is the same with issuer of this CRL 
        if(this.issuer.isEqual(certificate.issuer) === false)
            return false;
        // #endregion 

        // #region Check that there are revoked certificates in this CRL 
        if(("revokedCertificates" in this) === false)
            return false;
        // #endregion 

        // #region Search for input certificate in revoked certificates array 
        for(var i = 0; i < this.revokedCertificates.length; i++)
        {
            if(this.revokedCertificates[i].userCertificate.isEqual(certificate.serialNumber))
                return true;
        }
        // #endregion 

        return false;
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CRL.prototype.toJSON =
    function()
    {
        var _object = {
            tbs: in_window.org.pkijs.bufferToHexCodes(this.tbs, 0, this.tbs.byteLength),
            signature: this.signature.toJSON(),
            issuer: this.issuer.toJSON(),
            thisUpdate: this.thisUpdate.toJSON(),
            signatureAlgorithm: this.signatureAlgorithm.toJSON(),
            signatureValue: this.signatureValue.toJSON()
        };

        if("version" in this)
            _object.version = this.version;

        if("nextUpdate" in this)
            _object.nextUpdate = this.nextUpdate.toJSON();

        if("revokedCertificates" in this)
        {
            _object.revokedCertificates = new Array();

            for(var i = 0; i < this.revokedCertificates.length; i++)
                _object.revokedCertificates.push(this.revokedCertificates[i].toJSON());
        }

        if("crlExtensions" in this)
        {
            _object.crlExtensions = new Array();

            for(var i = 0; i < this.crlExtensions.length; i++)
                _object.crlExtensions.push(this.crlExtensions[i].toJSON());
        }

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "Attribute" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.ATTRIBUTE =
    function()
    {
        // #region Internal properties of the object 
        this.type = "";
        this.values = new Array();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.ATTRIBUTE.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.type = arguments[0].type || "";
                this.values = arguments[0].values || new Array();
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ATTRIBUTE.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.ATTRIBUTE({
                names: {
                    type: "type",
                    values: "values"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for ATTRIBUTE");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.type = asn1.result["type"].value_block.toString();
        this.values = asn1.result["values"];
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ATTRIBUTE.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                new in_window.org.pkijs.asn1.OID({ value: this.type }),
                new in_window.org.pkijs.asn1.SET({
                    value: this.values
                })
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ATTRIBUTE.prototype.toJSON =
    function()
    {
        var _object = {
            type: this.type,
            values: new Array()
        };

        for(var i = 0; i < this.values.length; i++)
            _object.values.push(this.values[i].toJSON());

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for PKCS#10 certificate request
    //**************************************************************************************
    in_window.org.pkijs.simpl.PKCS10 =
    function()
    {
        // #region Internal properties of the object 
        this.tbs = new ArrayBuffer(0);

        this.version = 0;
        this.subject = new in_window.org.pkijs.simpl.RDN();
        this.subjectPublicKeyInfo = new in_window.org.pkijs.simpl.PUBLIC_KEY_INFO();
        // OPTIONAL this.attributes = new Array(); // Array of simpl.ATTRIBUTE objects

        this.signatureAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER(); // Signature algorithm from certificate major part
        this.signatureValue = new in_window.org.pkijs.asn1.BITSTRING();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.PKCS10.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.tbs = arguments[0].tbs || new ArrayBuffer(0);

                this.version = arguments[0].version || 0;
                this.subject = arguments[0].subject || new in_window.org.pkijs.simpl.RDN();
                this.subjectPublicKeyInfo = arguments[0].subjectPublicKeyInfo || new in_window.org.pkijs.simpl.PUBLIC_KEY_INFO();

                if("attributes" in arguments[0])
                    this.attributes = arguments[0].attributes;

                this.signatureAlgorithm = arguments[0].signatureAlgorithm || new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER(); // Signature algorithm from certificate major part
                this.signatureValue = arguments[0].signatureValue || new in_window.org.pkijs.asn1.BITSTRING();
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.PKCS10.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.PKCS10()
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for PKCS10");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.tbs = asn1.result["CertificationRequestInfo"].value_before_decode;

        this.version = asn1.result["CertificationRequestInfo.version"].value_block.value_dec;
        this.subject = new in_window.org.pkijs.simpl.RDN({ schema: asn1.result["CertificationRequestInfo.subject"] });
        this.subjectPublicKeyInfo = new in_window.org.pkijs.simpl.PUBLIC_KEY_INFO({ schema: asn1.result["CertificationRequestInfo.subjectPublicKeyInfo"] });
        if("CertificationRequestInfo.attributes" in asn1.result)
        {
            this.attributes = new Array();

            var attrs = asn1.result["CertificationRequestInfo.attributes"];
            for(var i = 0; i < attrs.length; i++)
                this.attributes.push(new in_window.org.pkijs.simpl.ATTRIBUTE({ schema: attrs[i] }));
        }

        this.signatureAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["signatureAlgorithm"] });
        this.signatureValue = asn1.result["signatureValue"];
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.PKCS10.prototype.encodeTBS =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        output_array.push(new in_window.org.pkijs.asn1.INTEGER({ value: this.version }));
        output_array.push(this.subject.toSchema());
        output_array.push(this.subjectPublicKeyInfo.toSchema());

        if("attributes" in this)
        {
            var attributes = new Array();

            for(var i = 0; i < this.attributes.length; i++)
                attributes.push(this.attributes[i].toSchema());

            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 0 // [0]
                },
                value: attributes
            }));
        }
        // #endregion 

        return (new in_window.org.pkijs.asn1.SEQUENCE({ value: output_array }));
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.PKCS10.prototype.toSchema =
    function(encodeFlag)
    {
        /// <param name="encodeFlag" type="Boolean">If param equal to false then create TBS schema via decoding stored value. In othe case create TBS schema via assembling from TBS parts.</param>

        // #region Check "encodeFlag" 
        if(typeof encodeFlag === "undefined")
            encodeFlag = false;
        // #endregion 

        // #region Decode stored TBS value 
        var tbs_schema;

        if(encodeFlag === false)
        {
            if(this.tbs.length === 0) // No stored TBS part
                return in_window.org.pkijs.schema.PKCS10();

            tbs_schema = in_window.org.pkijs.fromBER(this.tbs).result;
        }
        // #endregion 
        // #region Create TBS schema via assembling from TBS parts 
        else
            tbs_schema = in_window.org.pkijs.simpl.PKCS10.prototype.encodeTBS.call(this);
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                tbs_schema,
                this.signatureAlgorithm.toSchema(),
                this.signatureValue
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.PKCS10.prototype.verify =
    function()
    {
        /// <summary>!!! Works well in Chrome dev versions only (April 2014th) !!!</summary>
        /// <returns type="Promise">Returns a new Promise object (in case of error), or a result of "crypto.subtle.veryfy" function</returns>

        // #region Global variables 
        var _this = this;
        var sha_algorithm = "";

        var sequence = Promise.resolve();

        var subjectPublicKeyInfo = this.subjectPublicKeyInfo;
        var signature = this.signatureValue;
        var tbs = this.tbs;
        // #endregion 

        // #region Get a "crypto" extension 
        var crypto = in_window.org.pkijs.getCrypto();
        if(typeof crypto == "undefined")
            return new Promise(function(resolve, reject) { reject("Unable to create WebCrypto object"); });
        // #endregion 

        // #region Find a correct hashing algorithm 
        sha_algorithm = in_window.org.pkijs.getHashAlgorithm(this.signatureAlgorithm);
        if(sha_algorithm === "")
            return new Promise(function(resolve, reject) { reject("Unsupported signature algorithm: " + _this.signatureAlgorithm.algorithm_id); });
        // #endregion 

        // #region Importing public key 
        sequence = sequence.then(
            function()
            {
                // #region Get information about public key algorithm and default parameters for import
                var algorithmObject = in_window.org.pkijs.getAlgorithmByOID(_this.signatureAlgorithm.algorithm_id);
                if(("name" in algorithmObject) === false)
                    return new Promise(function(resolve, reject) { reject("Unsupported public key algorithm: " + _this.signatureAlgorithm.algorithm_id); });

                var algorithm_name = algorithmObject.name;

                var algorithm = in_window.org.pkijs.getAlgorithmParameters(algorithm_name, "importkey");
                if("hash" in algorithm.algorithm)
                    algorithm.algorithm.hash.name = sha_algorithm;
                // #endregion 

                var publicKeyInfo_schema = subjectPublicKeyInfo.toSchema();
                var publicKeyInfo_buffer = publicKeyInfo_schema.toBER(false);
                var publicKeyInfo_view = new Uint8Array(publicKeyInfo_buffer);

                return crypto.importKey("spki", publicKeyInfo_view, algorithm.algorithm, true, algorithm.usages);
            }
            );
        // #endregion 

        // #region Verify signature  
        sequence = sequence.then(
            function(publicKey)
            {
                // #region Get default algorithm parameters for verification 
                var algorithm = in_window.org.pkijs.getAlgorithmParameters(publicKey.algorithm.name, "verify");
                if("hash" in algorithm.algorithm)
                    algorithm.algorithm.hash.name = sha_algorithm;
                // #endregion 

                // #region Special case for ECDSA signatures 
                var signature_value = signature.value_block.value_hex;

                if(publicKey.algorithm.name === "ECDSA")
                {
                    var asn1 = in_window.org.pkijs.fromBER(signature_value);
                    signature_value = in_window.org.pkijs.createECDSASignatureFromCMS(asn1.result);
                }
                // #endregion 

                // #region Special case for RSA-PSS 
                if(publicKey.algorithm.name === "RSA-PSS")
                {
                    var pssParameters;

                    try
                    {
                        pssParameters = new in_window.org.pkijs.simpl.x509.RSASSA_PSS_params({ schema: _this.signatureAlgorithm.algorithm_params });
                    }
                    catch(ex)
                    {
                        return new Promise(function(resolve, reject) { reject(ex); });
                    }

                    if("saltLength" in pssParameters)
                        algorithm.algorithm.saltLength = pssParameters.saltLength;
                    else
                        algorithm.algorithm.saltLength = 20;

                    var hash_algo = "SHA-1";

                    if("hashAlgorithm" in pssParameters)
                    {
                        var hashAlgorithm = in_window.org.pkijs.getAlgorithmByOID(pssParameters.hashAlgorithm.algorithm_id);
                        if(("name" in hashAlgorithm) === false)
                            return new Promise(function(resolve, reject) { reject("Unrecognized hash algorithm: " + pssParameters.hashAlgorithm.algorithm_id); });

                        hash_algo = hashAlgorithm.name;
                    }

                    algorithm.algorithm.hash.name = hash_algo;
                }
                // #endregion 

                return crypto.verify(algorithm.algorithm,
                    publicKey,
                    new Uint8Array(signature_value),
                    new Uint8Array(tbs));
            }
            );
        // #endregion   

        return sequence;
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.PKCS10.prototype.sign =
    function(privateKey, hashAlgorithm)
    {
        /// <param name="privateKey" type="Key">Private key for "subjectPublicKeyInfo" structure</param>
        /// <param name="hashAlgorithm" type="String" optional="true">Hashing algorithm. Default SHA-1</param>

        // #region Initial variables 
        var _this = this;
        // #endregion 

        // #region Get a private key from function parameter 
        if(typeof privateKey === "undefined")
            return new Promise(function(resolve, reject) { reject("Need to provide a private key for signing"); });
        // #endregion 

        // #region Get hashing algorithm 
        if(typeof hashAlgorithm === "undefined")
            hashAlgorithm = "SHA-1";
        else
        {
            // #region Simple check for supported algorithm 
            var oid = in_window.org.pkijs.getOIDByAlgorithm({ name: hashAlgorithm });
            if(oid === "")
                return new Promise(function(resolve, reject) { reject("Unsupported hash algorithm: " + hashAlgorithm); });
            // #endregion 
        }
        // #endregion 

        // #region Get a "default parameters" for current algorithm 
        var defParams = in_window.org.pkijs.getAlgorithmParameters(privateKey.algorithm.name, "sign");
        defParams.algorithm.hash.name = hashAlgorithm;
        // #endregion 

        // #region Fill internal structures base on "privateKey" and "hashAlgorithm" 
        switch(privateKey.algorithm.name.toUpperCase())
        {
            case "RSASSA-PKCS1-V1_5":
            case "ECDSA":
                _this.signatureAlgorithm.algorithm_id = in_window.org.pkijs.getOIDByAlgorithm(defParams.algorithm);
                break;
            case "RSA-PSS":
                {
                    // #region Set "saltLength" as a length (in octets) of hash function result 
                    switch(hashAlgorithm.toUpperCase())
                    {
                        case "SHA-256":
                            defParams.algorithm.saltLength = 32;
                            break;
                        case "SHA-384":
                            defParams.algorithm.saltLength = 48;
                            break;
                        case "SHA-512":
                            defParams.algorithm.saltLength = 64;
                            break;
                        default:;
                    }
                    // #endregion 

                    // #region Fill "RSASSA_PSS_params" object 
                    var paramsObject = {};

                    if(hashAlgorithm.toUpperCase() !== "SHA-1")
                    {
                        var hashAlgorithmOID = in_window.org.pkijs.getOIDByAlgorithm({ name: hashAlgorithm });
                        if(hashAlgorithmOID === "")
                            return new Promise(function(resolve, reject) { reject("Unsupported hash algorithm: " + hashAlgorithm); });

                        paramsObject.hashAlgorithm = new org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                            algorithm_id: hashAlgorithmOID,
                            algorithm_params: new org.pkijs.asn1.NULL()
                        });

                        paramsObject.maskGenAlgorithm = new org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                            algorithm_id: "1.2.840.113549.1.1.8", // MGF1
                            algorithm_params: paramsObject.hashAlgorithm.toSchema()
                        })
                    }

                    if(defParams.algorithm.saltLength !== 20)
                        paramsObject.saltLength = defParams.algorithm.saltLength;

                    var pssParameters = new in_window.org.pkijs.simpl.x509.RSASSA_PSS_params(paramsObject);
                    // #endregion   

                    // #region Automatically set signature algorithm 
                    _this.signatureAlgorithm = new org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                        algorithm_id: "1.2.840.113549.1.1.10",
                        algorithm_params: pssParameters.toSchema()
                    });
                    // #endregion 
                }
                break;
            default:
                return new Promise(function(resolve, reject) { reject("Unsupported signature algorithm: " + privateKey.algorithm.name); });
        }
        // #endregion 

        // #region Create TBS data for signing 
        _this.tbs = in_window.org.pkijs.simpl.PKCS10.prototype.encodeTBS.call(this).toBER(false);
        // #endregion 

        // #region Get a "crypto" extension 
        var crypto = in_window.org.pkijs.getCrypto();
        if(typeof crypto == "undefined")
            return new Promise(function(resolve, reject) { reject("Unable to create WebCrypto object"); });
        // #endregion 

        // #region Signing TBS data on provided private key 
        return crypto.sign(defParams.algorithm,
            privateKey,
            new Uint8Array(_this.tbs)).then(
            function(result)
            {
                // #region Special case for ECDSA algorithm 
                if(defParams.algorithm.name === "ECDSA")
                    result = in_window.org.pkijs.createCMSECDSASignature(result);
                // #endregion 

                _this.signatureValue = new in_window.org.pkijs.asn1.BITSTRING({ value_hex: result });
            },
            function(error)
            {
                return new Promise(function(resolve, reject) { reject("Signing error: " + error); });
            }
            );
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.PKCS10.prototype.toJSON =
    function()
    {
        var _object = {
            tbs: in_window.org.pkijs.bufferToHexCodes(this.tbs, 0, this.tbs.byteLength),
            version: this.version,
            subject: this.subject.toJSON(),
            subjectPublicKeyInfo: this.subjectPublicKeyInfo.toJSON(),
            signatureAlgorithm: this.signatureAlgorithm.toJSON(),
            signatureValue: this.signatureValue.toJSON()
        };

        if("attributes" in this)
        {
            _object.attributes = new Array();

            for(var i = 0; i < this.attributes.length; i++)
                _object.attributes.push(this.attributes[i].toJSON());
        }

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for PKCS#8 private key bag
    //**************************************************************************************
    in_window.org.pkijs.simpl.PKCS8 =
    function()
    {
        // #region Internal properties of the object 
        this.version = 0;
        this.privateKeyAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
        this.privateKey = new in_window.org.pkijs.asn1.OCTETSTRING();
        // OPTIONAL this.attributes // Array of "in_window.org.pkijs.simpl.ATTRIBUTE"
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.PKCS8.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.version = arguments[0].version || 0;
                this.privateKeyAlgorithm = arguments[0].privateKeyAlgorithm || new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
                this.privateKey = arguments[0].privateKey || new in_window.org.pkijs.asn1.OCTETSTRING();

                if("attributes" in arguments[0])
                    this.attributes = arguments[0].attributes;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.PKCS8.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.PKCS8({
                names: {
                    version: "version",
                    privateKeyAlgorithm: {
                        names: {
                            block_name: "privateKeyAlgorithm"
                        }
                    },
                    privateKey: "privateKey",
                    attributes: "attributes"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for PKCS8");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.version = asn1.result["version"].value_block.value_dec;
        this.privateKeyAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["privateKeyAlgorithm"] });
        this.privateKey = asn1.result["privateKey"];

        if("attributes" in asn1.result)
        {
            this.attributes = new Array();
            var attrs = asn1.result["attributes"];

            for(var i = 0; i < attrs.length; i++)
                this.attributes.push(new in_window.org.pkijs.simpl.ATTRIBUTE({ schema: attrs[i] }));
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.PKCS8.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        output_array.push(new in_window.org.pkijs.asn1.INTEGER({ value: this.version }));
        output_array.push(this.privateKeyAlgorithm.toSchema());
        output_array.push(this.privateKey);

        if("attributes" in this)
        {
            var attrs = new Array();

            for(var i = 0; i < this.attributes.length; i++)
                attrs.push(this.attributes[i].toSchema());

            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 0 // [0]
                },
                value: attrs
            }));
        }
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.PKCS8.prototype.toJSON =
    function()
    {
        var _object = {
            version: this.version,
            privateKeyAlgorithm: this.privateKeyAlgorithm.toJSON(),
            privateKey: this.privateKey.toJSON()
        };

        if("attributes" in this)
        {
            _object.attributes = new Array();

            for(var i = 0; i < this.attributes.length; i++)
                _object.attributes.push(this.attributes[i].toJSON());
        }

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for working with X.509 certificate chains 
    //**************************************************************************************
    in_window.org.pkijs.simpl.CERT_CHAIN =
    function()
    {
        // #region Internal properties of the object 
        /// <field name="trusted_certs" type="Array" elementType="in_window.org.pkijs.simpl.CERT">Array of pre-defined trusted (by user) certificates</field>
        this.trusted_certs = new Array();
        /// <field name="certs" type="Array" elementType="in_window.org.pkijs.simpl.CERT">Array with certificate chain. Could be only one end-user certificate in there!</field>
        this.certs = new Array(); 
        /// <field name="crls" type="Array" elementType="in_window.org.pkijs.simpl.CRL">Array of all CRLs for all certificates from certificate chain</field>
        this.crls = new Array(); 
        // #endregion 

        // #region Initialize internal properties by input values
        if(arguments[0] instanceof Object)
        {
            this.trusted_certs = arguments[0].trusted_certs || new Array();
            this.certs = arguments[0].certs || new Array();
            this.crls = arguments[0].crls || new Array();
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CERT_CHAIN.prototype.sort =
    function()
    {
        // #region Initial variables 
        /// <var type="Array" elementType="in_window.org.pkijs.simpl.CERT">Array of sorted certificates</var>
        var sorted_certs = new Array();

        /// <var type="Array" elementType="in_window.org.pkijs.simpl.CERT">Initial array of certificates</var>
        var certs = this.certs.slice(0); // Explicity copy "this.certs"

        /// <var type="Date">Date for checking certificate validity period</var>
        var check_date = new Date();

        var _this = this;
        // #endregion 

        // #region Initial checks 
        if(certs.length === 0)
            return new Promise(function(resolve, reject)
            {
                reject({
                    result: false,
                    result_code: 2,
                    result_message: "Certificate's array can not be empty"
                });
            });
        // #endregion 

        // #region Find end-user certificate 
        var end_user_index = -1;

        for(var i = 0; i < certs.length; i++)
        {
            var isCA = false;

            if("extensions" in certs[i])
            {
                var mustBeCA = false;
                var keyUsagePresent = false;
                var cRLSign = false;

                for(var j = 0; j < certs[i].extensions.length; j++)
                {
                    if((certs[i].extensions[j].critical === true) &&
                       (("parsedValue" in certs[i].extensions[j]) === false))
                    {
                        return new Promise(function(resolve, reject)
                        {
                            reject({
                                result: false,
                                result_code: 6,
                                result_message: "Unable to parse critical certificate extension: " + certs[i].extensions[j].extnID
                            });
                        });
                    }

                    if(certs[i].extensions[j].extnID === "2.5.29.15") // KeyUsage
                    {
                        keyUsagePresent = true;

                        var view = new Uint8Array(certs[i].extensions[j].parsedValue.value_block.value_hex);

                        if((view[0] & 0x04) === 0x04) // Set flag "keyCertSign"
                            mustBeCA = true;

                        if((view[0] & 0x02) === 0x02) // Set flag "cRLSign"
                            cRLSign = true;
                    }

                    if(certs[i].extensions[j].extnID === "2.5.29.19") // BasicConstraints
                    {
                        if("cA" in certs[i].extensions[j].parsedValue)
                        {
                            if(certs[i].extensions[j].parsedValue.cA === true)
                                isCA = true;
                        }
                    }
                }

                if((mustBeCA === true) && (isCA === false))
                    return new Promise(function(resolve, reject)
                    {
                        reject({
                            result: false,
                            result_code: 3,
                            result_message: "Unable to build certificate chain - using \"keyCertSign\" flag set without BasicConstaints"
                        });
                    });

                if((keyUsagePresent === true) && (isCA === true) && (mustBeCA === false))
                    return new Promise(function(resolve, reject)
                    {
                        reject({
                            result: false,
                            result_code: 4,
                            result_message: "Unable to build certificate chain - \"keyCertSign\" flag was not set"
                        });
                    });

                if((isCA === true) && (keyUsagePresent === true) && (cRLSign === false))
                    return new Promise(function(resolve, reject)
                    {
                        reject({
                            result: false,
                            result_code: 5,
                            result_message: "Unable to build certificate chain - intermediate certificate must have \"cRLSign\" key usage flag"
                        });
                    });
            }

            if(isCA === false)
            {
                if(sorted_certs.length !== 0)
                    return new Promise(function(resolve, reject)
                    {
                        reject({
                            result: false,
                            result_code: 7,
                            result_message: "Unable to build certificate chain - more than one possible end-user certificate"
                        });
                    });

                sorted_certs.push(certs[i]);
                end_user_index = i;
            }
        }

        certs.splice(end_user_index, 1);
        // #endregion 

        // #region Check that end-user certificate was found 
        if(sorted_certs.length === 0)
            return new Promise(function(resolve, reject)
            {
                reject({
                    result: false,
                    result_code: 1,
                    result_message: "Can't find end-user certificate"
                });
            });
        // #endregion 

        // #region Return if there is only one certificate in certificate's array 
        if(certs.length === 0)
        {
            if(sorted_certs[0].issuer.isEqual(sorted_certs[0].subject) === true)
                return new Promise(function(resolve, reject) { resolve(sorted_certs); });
            else
            {
                if(this.trusted_certs.length === 0)
                {
                    return new Promise(function(resolve, reject)
                    {
                        reject({
                            result: false,
                            result_code: 70,
                            result_message: "Can't find root certificate"
                        });
                    });
                }
                else
                {
                    certs = _this.trusted_certs.splice(0);
                }
            }

        }
        // #endregion 

        /// <var type="in_window.org.pkijs.simpl.CERT">Current certificate (to find issuer for)</var>
        var current_certificate = sorted_certs[0];

        // #region Auxiliary functions working with Promises
        function basic(subject_certificate, issuer_certificate)
        {
            /// <summary>Basic certificate checks</summary>
            /// <param name="subject_certificate" type="in_window.org.pkijs.simpl.CERT">Certificate for testing (subject)</param>
            /// <param name="issuer_certificate" type="in_window.org.pkijs.simpl.CERT">Certificate for issuer of subject certificate</param>

            // #region Initial variables 
            var sequence = Promise.resolve()
            // #endregion 

            // #region Check validity period for subject certificate 
            sequence = sequence.then(
                function()
                {
                    if((subject_certificate.notBefore.value > check_date) ||
                       (subject_certificate.notAfter.value < check_date))
                    {
                        return new Promise(function(resolve, reject)
                        {
                            reject({
                                result: false,
                                result_code: 8,
                                result_message: "Certificate validity period is out of checking date"
                            });
                        });
                    }
                }
                );
            // #endregion 

            // #region Give ability to not provide CRLs (all certificates assume to be valid) 
            if(_this.crls.length === 0)
                return sequence.then(
                    function()
                    {
                        return new Promise(function(resolve, reject) { resolve(); });
                    }
                    );
            // #endregion 

            // #region Find correct CRL for "issuer_certificate" 
            function find_crl(index)
            {
                return _this.crls[index].verify({ issuerCertificate: issuer_certificate }).then(
                    function(result)
                    {
                        if(result === true)
                            return new Promise(function(resolve, reject) { resolve(_this.crls[index]); });
                        else
                        {
                            index++;

                            if(index < _this.crls.length)
                                return find_crl(index);
                            else
                                return new Promise(function(resolve, reject)
                                {
                                    reject({
                                        result: false,
                                        result_code: 9,
                                        result_message: "Unable to find CRL for issuer's certificate"
                                    });
                                });
                        }
                    },
                    function(error)
                    {
                        return new Promise(function(resolve, reject)
                        {
                            reject({
                                result: false,
                                result_code: 10,
                                result_message: "Unable to find CRL for issuer's certificate"
                            });
                        });
                    }
                    );
            }

            sequence = sequence.then(
                function()
                {
                    return find_crl(0);
                }
                );
            // #endregion 

            // #region Check that subject certificate is not in the CRL 
            sequence = sequence.then(
                function(crl)
                {
                    /// <param name="crl" type="in_window.org.pkijs.simpl.CRL">CRL for issuer's certificate</param>                

                    if(crl.isCertificateRevoked({ certificate: subject_certificate }) === true)
                        return new Promise(function(resolve, reject)
                        {
                            reject({
                                result: false,
                                result_code: 11,
                                result_message: "Subject certificate was revoked"
                            });
                        });
                    else
                        return new Promise(function(resolve, reject) { resolve(); });
                },
                function(error)
                {
                    /// <summary>Not for all certificates we have a CRL. So, this "stub" is for handling such situation - assiming we have a valid, non-revoked certificate</summary>
                    return new Promise(function(resolve, reject) { resolve(); });
                }
                );
            // #endregion 

            return sequence;
        }

        function outer()
        {
            return inner(current_certificate, 0).then(
                function(index)
                {
                    sorted_certs.push(certs[index]);
                    current_certificate = certs[index];

                    certs.splice(index, 1);

                    if(current_certificate.issuer.isEqual(current_certificate.subject) === true)
                    {
                        // #region Check that the "self-signed" certificate there is in "trusted_certs" array 
                        var found = (_this.trusted_certs.length === 0) ? true : false; // If user did not set "trusted_certs" then we have an option to trust any self-signed certificate as root

                        for(var i = 0; i < _this.trusted_certs.length; i++)
                        {
                            if((current_certificate.issuer.isEqual(_this.trusted_certs[i].issuer) === true) &&
                               (current_certificate.subject.isEqual(_this.trusted_certs[i].subject) === true) &&
                               (current_certificate.serialNumber.isEqual(_this.trusted_certs[i].serialNumber) === true))
                            {
                                found = true;
                                break;
                            }
                        }

                        if(found === false)
                            return new Promise(function(resolve, reject)
                            {
                                reject({
                                    result: false,
                                    result_code: 22,
                                    result_message: "Self-signed root certificate not in \"trusted certificates\" array"
                                });
                            });
                        // #endregion 

                        return (current_certificate.verify()).then( // Verifing last, self-signed certificate
                            function(result)
                            {
                                if(result === true)
                                    return basic(current_certificate, current_certificate).then(
                                        function()
                                        {
                                            return new Promise(function(resolve, reject) { resolve(sorted_certs); });
                                        },
                                        function(error)
                                        {
                                            return new Promise(function(resolve, reject)
                                            {
                                                reject({
                                                    result: false,
                                                    result_code: 12,
                                                    result_message: error
                                                });
                                            });
                                        }
                                        );
                                else
                                    return new Promise(function(resolve, reject)
                                    {
                                        reject({
                                            result: false,
                                            result_code: 13,
                                            result_message: "Unable to build certificate chain - signature of root certificate is invalid"
                                        });
                                    });
                            },
                            function(error)
                            {
                                return new Promise(function(resolve, reject)
                                {
                                    reject({
                                        result: false,
                                        result_code: 14,
                                        result_message: error
                                    });
                                });
                            }
                            );
                    }
                    else // In case if self-signed cert for the chain in the "trusted_certs" array
                    {
                        if(certs.length > 0)
                            return outer();
                        else
                        {
                            if(_this.trusted_certs.length !== 0)
                            {
                                certs = _this.trusted_certs.splice(0);
                                return outer();
                            }
                            else
                                return new Promise(function(resolve, reject)
                                {
                                    reject({
                                        result: false,
                                        result_code: 23,
                                        result_message: "Root certificate not found"
                                    });
                                });
                        }
                    }
                },
                function(error)
                {
                    return new Promise(function(resolve, reject)
                    {
                        reject(error);
                    });
                }
                );
        }

        function inner(current_certificate, index)
        {
            if(certs[index].subject.isEqual(current_certificate.issuer) === true)
            {
                return current_certificate.verify({ issuerCertificate: certs[index] }).then(
                    function(result)
                    {
                        if(result === true)
                        {
                            return basic(current_certificate, certs[index]).then(
                                function()
                                {
                                    return new Promise(function(resolve, reject) { resolve(index); });
                                },
                                function(error)
                                {
                                    return new Promise(function(resolve, reject)
                                    {
                                        reject({
                                            result: false,
                                            result_code: 16,
                                            result_message: error
                                        });
                                    });
                                }
                                );
                        }
                        else
                        {
                            if(index < (certs.length - 1))
                                return inner(current_certificate, index + 1);
                            else
                                return new Promise(function(resolve, reject)
                                {
                                    reject({
                                        result: false,
                                        result_code: 17,
                                        result_message: "Unable to build certificate chain - incomplete certificate chain or signature of some certificate is invalid"
                                    });
                                });
                        }
                    },
                    function(error)
                    {
                        return new Promise(function(resolve, reject)
                        {
                            reject({
                                result: false,
                                result_code: 18,
                                result_message: "Unable to build certificate chain - error during certificate signature verification"
                            });
                        });
                    }
                    );
            }
            else
            {
                if(index < (certs.length - 1))
                    return inner(current_certificate, index + 1);
                else
                    return new Promise(function(resolve, reject)
                    {
                        reject({
                            result: false,
                            result_code: 19,
                            result_message: "Unable to build certificate chain - incomplete certificate chain"
                        });
                    });
            }
        }
        // #endregion   

        // #region Find certificates for all issuers 
        return outer();
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CERT_CHAIN.prototype.verify =
    function()
    {
        // #region Initial checks 
        if(this.certs.length === 0)
            return new Promise(function(resolve, reject) { reject("Empty certificate array"); });
        // #endregion 

        // #region Initial variables 
        var sequence = Promise.resolve();

        var _this = this;
        // #endregion 

        // #region Get input variables 
        var initial_policy_set = new Array();
        initial_policy_set.push("2.5.29.32.0"); // "anyPolicy"

        var initial_explicit_policy = false;
        var initial_policy_mapping_inhibit = false;
        var initial_inhibit_policy = false;

        var initial_permitted_subtrees_set = new Array(); // Array of "simpl.x509.GeneralSubtree"
        var initial_excluded_subtrees_set = new Array();  // Array of "simpl.x509.GeneralSubtree"
        var initial_required_name_forms = new Array();    // Array of "simpl.x509.GeneralSubtree"

        var verification_time = new Date();

        if(arguments[0] instanceof Object)
        {
            if("initial_policy_set" in arguments[0])
                initial_policy_set = arguments[0].initial_policy_set;

            if("initial_explicit_policy" in arguments[0])
                initial_explicit_policy = arguments[0].initial_explicit_policy;

            if("initial_policy_mapping_inhibit" in arguments[0])
                initial_policy_mapping_inhibit = arguments[0].initial_policy_mapping_inhibit;

            if("initial_inhibit_policy" in arguments[0])
                initial_inhibit_policy = arguments[0].initial_inhibit_policy;

            if("initial_permitted_subtrees_set" in arguments[0])
                initial_permitted_subtrees_set = arguments[0].initial_permitted_subtrees_set;

            if("initial_excluded_subtrees_set" in arguments[0])
                initial_excluded_subtrees_set = arguments[0].initial_excluded_subtrees_set;

            if("initial_required_name_forms" in arguments[0])
                initial_required_name_forms = arguments[0].initial_required_name_forms;
        }

        var explicit_policy_indicator = initial_explicit_policy;
        var policy_mapping_inhibit_indicator = initial_policy_mapping_inhibit;
        var inhibit_any_policy_indicator = initial_inhibit_policy;

        var pending_constraints = new Array(3);
        pending_constraints[0] = false; // For "explicit_policy_pending"
        pending_constraints[1] = false; // For "policy_mapping_inhibit_pending"
        pending_constraints[2] = false; // For "inhibit_any_policy_pending"

        var explicit_policy_pending = 0;
        var policy_mapping_inhibit_pending = 0;
        var inhibit_any_policy_pending = 0;

        var permitted_subtrees = initial_permitted_subtrees_set;
        var excluded_subtrees = initial_excluded_subtrees_set;
        var required_name_forms = initial_required_name_forms;

        var path_depth = 1;
        // #endregion 

        // #region Sorting certificates in the chain array 
        sequence = (in_window.org.pkijs.simpl.CERT_CHAIN.prototype.sort.call(this)).then(
            function(sorted_certs)
            {
                _this.certs = sorted_certs;
            }
            );
        // #endregion 

        // #region Work with policies
        sequence = sequence.then(
            function()
            {
                // #region Support variables 
                var all_policies = new Array(); // Array of all policies (string values)
                all_policies.push("2.5.29.32.0"); // Put "anyPolicy" at first place

                var policies_and_certs = new Array(); // In fact "array of array" where rows are for each specific policy, column for each certificate and value is "true/false"

                var any_policy_array = new Array(_this.certs.length - 1); // Minus "trusted anchor"
                for(var ii = 0; ii < (_this.certs.length - 1); ii++)
                    any_policy_array[ii] = true;

                policies_and_certs.push(any_policy_array);

                var policy_mappings = new Array(_this.certs.length - 1); // Array of "PolicyMappings" for each certificate
                var cert_policies = new Array(_this.certs.length - 1); // Array of "CertificatePolicies" for each certificate
                // #endregion 

                for(var i = (_this.certs.length - 2) ; i >= 0 ; i--, path_depth++)
                {
                    if("extensions" in _this.certs[i])
                    {
                        for(var j = 0; j < _this.certs[i].extensions.length; j++)
                        {
                            // #region CertificatePolicies 
                            if(_this.certs[i].extensions[j].extnID === "2.5.29.32")
                            {
                                cert_policies[i] = _this.certs[i].extensions[j].parsedValue;

                                for(var k = 0; k < _this.certs[i].extensions[j].parsedValue.certificatePolicies.length; k++)
                                {
                                    var policy_index = (-1);

                                    // #region Try to find extension in "all_policies" array 
                                    for(var s = 0; s < all_policies.length; s++)
                                    {
                                        if(_this.certs[i].extensions[j].parsedValue.certificatePolicies[k].policyIdentifier === all_policies[s])
                                        {
                                            policy_index = s;
                                            break;
                                        }
                                    }
                                    // #endregion 

                                    if(policy_index === (-1))
                                    {
                                        all_policies.push(_this.certs[i].extensions[j].parsedValue.certificatePolicies[k].policyIdentifier);

                                        var cert_array = new Array(_this.certs.length - 1);
                                        cert_array[i] = true;

                                        policies_and_certs.push(cert_array);
                                    }
                                    else
                                        (policies_and_certs[policy_index])[i] = true;
                                }
                            }
                            // #endregion 

                            // #region PolicyMappings 
                            if(_this.certs[i].extensions[j].extnID === "2.5.29.33")
                                policy_mappings[i] = _this.certs[i].extensions[j].parsedValue;
                            // #endregion 

                            // #region PolicyConstraints 
                            if(_this.certs[i].extensions[j].extnID === "2.5.29.36")
                            {
                                if(explicit_policy_indicator == false)
                                {
                                    // #region requireExplicitPolicy 
                                    if(_this.certs[i].extensions[j].parsedValue.requireExplicitPolicy === 0)
                                        explicit_policy_indicator = true;
                                    else
                                    {
                                        if(pending_constraints[0] === false)
                                        {
                                            pending_constraints[0] = true;
                                            explicit_policy_pending = _this.certs[i].extensions[j].parsedValue.requireExplicitPolicy;
                                        }
                                        else
                                        {
                                            explicit_policy_pending = (explicit_policy_pending > _this.certs[i].extensions[j].parsedValue.requireExplicitPolicy) ? _this.certs[i].extensions[j].parsedValue.requireExplicitPolicy : explicit_policy_pending;
                                        }
                                    }
                                    // #endregion 

                                    // #region inhibitPolicyMapping 
                                    if(_this.certs[i].extensions[j].parsedValue.inhibitPolicyMapping === 0)
                                        policy_mapping_inhibit_indicator = true;
                                    else
                                    {
                                        if(pending_constraints[1] === false)
                                        {
                                            pending_constraints[1] = true;
                                            policy_mapping_inhibit_pending = _this.certs[i].extensions[j].parsedValue.requireExplicitPolicy;
                                        }
                                        else
                                        {
                                            policy_mapping_inhibit_pending = (policy_mapping_inhibit_pending > _this.certs[i].extensions[j].parsedValue.requireExplicitPolicy) ? _this.certs[i].extensions[j].parsedValue.requireExplicitPolicy : policy_mapping_inhibit_pending;
                                        }
                                    }
                                    // #endregion   
                                }
                            }
                            // #endregion 

                            // #region InhibitAnyPolicy
                            if(_this.certs[i].extensions[j].extnID === "2.5.29.54")
                            {
                                if(inhibit_any_policy_indicator === false)
                                {
                                    if(_this.certs[i].extensions[j].parsedValue.value_block.value_dec === 0)
                                        inhibit_any_policy_indicator = true;
                                    else
                                    {
                                        if(pending_constraints[2] === false)
                                        {
                                            pending_constraints[2] = true;
                                            inhibit_any_policy_pending = _this.certs[i].extensions[j].parsedValue.value_block.value_dec;
                                        }
                                        else
                                        {
                                            inhibit_any_policy_pending = (inhibit_any_policy_pending > _this.certs[i].extensions[j].parsedValue.value_block.value_dec) ? _this.certs[i].extensions[j].parsedValue.value_block.value_dec : inhibit_any_policy_pending;
                                        }
                                    }
                                }
                            }
                            // #endregion 
                        }

                        // #region Check "inhibit_any_policy_indicator" 
                        if(inhibit_any_policy_indicator === true)
                            delete (policies_and_certs[0])[i]; // Unset value to "undefined" for "anyPolicies" value for current certificate
                        // #endregion 

                        // #region Combine information from certificate policies and policy mappings 
                        if((typeof cert_policies[i] !== "undefined") &&
                           (typeof policy_mappings[i] !== "undefined") &&
                           (policy_mapping_inhibit_indicator === false))
                        {
                            for(var m = 0; m < cert_policies[i].certificatePolicies.length; m++)
                            {
                                var domainPolicy = "";

                                // #region Find if current policy is in "mappings" array 
                                for(var n = 0; n < policy_mappings[i].mappings.length; n++)
                                {
                                    if(policy_mappings[i].mappings[n].subjectDomainPolicy === cert_policies[i].certificatePolicies[m].policyIdentifier)
                                    {
                                        domainPolicy = policy_mappings[i].mappings[n].issuerDomainPolicy;
                                        break;
                                    }

                                    // #region Could be the case for some reasons 
                                    if(policy_mappings[i].mappings[n].issuerDomainPolicy === cert_policies[i].certificatePolicies[m].policyIdentifier)
                                    {
                                        domainPolicy = policy_mappings[i].mappings[n].subjectDomainPolicy;
                                        break;
                                    }
                                    // #endregion 
                                }

                                if(domainPolicy === "")
                                    continue;
                                // #endregion

                                // #region Find the index of "domainPolicy"  
                                var domainPolicy_index = (-1);

                                for(var p = 0; p < all_policies.length; p++)
                                {
                                    if(all_policies[p] === domainPolicy)
                                    {
                                        domainPolicy_index = p;
                                        break;
                                    }
                                }
                                // #endregion 

                                // #region Change array value for "domainPolicy" 
                                if(domainPolicy_index !== (-1))
                                    (policies_and_certs[domainPolicy_index])[i] = true; // Put "set" in "domainPolicy" cell for specific certificate
                                // #endregion 
                            }
                        }
                        // #endregion 

                        // #region Process with "pending constraints" 
                        if(explicit_policy_indicator === false)
                        {
                            if(pending_constraints[0] === true)
                            {
                                explicit_policy_pending--;
                                if(explicit_policy_pending === 0)
                                {
                                    explicit_policy_indicator = true;
                                    pending_constraints[0] = false;
                                }
                            }
                        }

                        if(policy_mapping_inhibit_indicator === false)
                        {
                            if(pending_constraints[1] === true)
                            {
                                policy_mapping_inhibit_pending--;
                                if(policy_mapping_inhibit_pending === 0)
                                {
                                    policy_mapping_inhibit_indicator = true;
                                    pending_constraints[1] = false;
                                }
                            }
                        }

                        if(inhibit_any_policy_indicator === false)
                        {
                            if(pending_constraints[2] === true)
                            {
                                inhibit_any_policy_pending--;
                                if(inhibit_any_policy_pending === 0)
                                {
                                    inhibit_any_policy_indicator = true;
                                    pending_constraints[2] = false;
                                }
                            }
                        }
                        // #endregion 
                    }
                }

                // #region Create "set of authorities-constrained policies"
                var auth_constr_policies = new Array();

                for(var i = 0; i < policies_and_certs.length; i++)
                {
                    var found = true;

                    for(var j = 0; j < (_this.certs.length - 1) ; j++)
                    {
                        if(typeof (policies_and_certs[i])[j] === "undefined")
                        {
                            found = false;
                            break;
                        }
                    }

                    if(found === true)
                        auth_constr_policies.push(all_policies[i]);
                }
                // #endregion 

                // #region Create "set of user-constrained policies"
                var user_constr_policies = new Array();

                for(var i = 0; i < auth_constr_policies.length; i++)
                {
                    for(var j = 0; j < initial_policy_set.length; j++)
                    {
                        if(initial_policy_set[j] === auth_constr_policies[i])
                        {
                            user_constr_policies.push(initial_policy_set[j]);
                            break;
                        }
                    }
                }
                // #endregion 

                // #region Combine output object 
                return {
                    result: (user_constr_policies.length > 0) ? true : false,
                    result_code: 0,
                    result_message: (user_constr_policies.length > 0) ? "" : "Zero \"user_constr_policies\" array, no intersections with \"auth_constr_policies\"",
                    auth_constr_policies: auth_constr_policies,
                    user_constr_policies: user_constr_policies,
                    explicit_policy_indicator: explicit_policy_indicator,
                    policy_mappings: policy_mappings
                };
                // #endregion 
            }
            );
        // #endregion 

        // #region Work with name constraints
        sequence = sequence.then(
            function(policy_result)
            {
                // #region Auxiliary functions for name constraints checking
                function compare_dNSName(name, constraint)
                {
                    /// <summary>Compare two dNSName values</summary>
                    /// <param name="name" type="String">DNS from name</param>
                    /// <param name="constraint" type="String">Constraint for DNS from name</param>
                    /// <returns type="Boolean">Boolean result - valid or invalid the "name" against the "constraint"</returns>

                    // #region Make a "string preparation" for both name and constrain 
                    var name_prepared = in_window.org.pkijs.stringPrep(name);
                    var constraint_prepared = in_window.org.pkijs.stringPrep(constraint);
                    // #endregion 

                    // #region Make a "splitted" versions of "constraint" and "name" 
                    var name_splitted = name_prepared.split(".");
                    var constraint_splitted = constraint_prepared.split(".");
                    // #endregion 

                    // #region Length calculation and additional check 
                    var name_len = name_splitted.length;
                    var constr_len = constraint_splitted.length;

                    if((name_len === 0) || (constr_len === 0) || (name_len < constr_len))
                        return false;
                    // #endregion 

                    // #region Check that no part of "name" has zero length 
                    for(var i = 0; i < name_len; i++)
                    {
                        if(name_splitted[i].length === 0)
                            return false;
                    }
                    // #endregion 

                    // #region Check that no part of "constraint" has zero length
                    for(var i = 0; i < constr_len; i++)
                    {
                        if(constraint_splitted[i].length === 0)
                        {
                            if(i === 0)
                            {
                                if(constr_len === 1)
                                    return false;
                                else
                                    continue;
                            }

                            return false;
                        }
                    }
                    // #endregion 

                    // #region Check that "name" has a tail as "constraint" 

                    for(var i = 0; i < constr_len; i++)
                    {
                        if(constraint_splitted[constr_len - 1 - i].length === 0)
                            continue;

                        if(name_splitted[name_len - 1 - i].localeCompare(constraint_splitted[constr_len - 1 - i]) !== 0)
                            return false;
                    }
                    // #endregion 

                    return true;
                }

                function compare_rfc822Name(name, constraint)
                {
                    /// <summary>Compare two rfc822Name values</summary>
                    /// <param name="name" type="String">E-mail address from name</param>
                    /// <param name="constraint" type="String">Constraint for e-mail address from name</param>
                    /// <returns type="Boolean">Boolean result - valid or invalid the "name" against the "constraint"</returns>

                    // #region Make a "string preparation" for both name and constrain 
                    var name_prepared = in_window.org.pkijs.stringPrep(name);
                    var constraint_prepared = in_window.org.pkijs.stringPrep(constraint);
                    // #endregion 

                    // #region Make a "splitted" versions of "constraint" and "name" 
                    var name_splitted = name_prepared.split("@");
                    var constraint_splitted = constraint_prepared.split("@");
                    // #endregion 

                    // #region Splitted array length checking 
                    if((name_splitted.length === 0) || (constraint_splitted.length === 0) || (name_splitted.length < constraint_splitted.length))
                        return false;
                    // #endregion 

                    if(constraint_splitted.length === 1)
                    {
                        var result = compare_dNSName(name_splitted[1], constraint_splitted[0]);

                        if(result)
                        {
                            // #region Make a "splitted" versions of domain name from "constraint" and "name" 
                            var ns = name_splitted[1].split(".");
                            var cs = constraint_splitted[0].split(".");
                            // #endregion 

                            if(cs[0].length === 0)
                                return true;

                            if(ns.length !== cs.length)
                                return false;
                            else
                                return true;
                        }
                        else
                            return false;
                    }
                    else
                        return (name_prepared.localeCompare(constraint_prepared) === 0) ? true : false;

                    return false;
                }

                function compare_uniformResourceIdentifier(name, constraint)
                {
                    /// <summary>Compare two uniformResourceIdentifier values</summary>
                    /// <param name="name" type="String">uniformResourceIdentifier from name</param>
                    /// <param name="constraint" type="String">Constraint for uniformResourceIdentifier from name</param>
                    /// <returns type="Boolean">Boolean result - valid or invalid the "name" against the "constraint"</returns>

                    // #region Make a "string preparation" for both name and constrain 
                    var name_prepared = in_window.org.pkijs.stringPrep(name);
                    var constraint_prepared = in_window.org.pkijs.stringPrep(constraint);
                    // #endregion 

                    // #region Find out a major URI part to compare with
                    var ns = name_prepared.split("/");
                    var cs = constraint_prepared.split("/");

                    if(cs.length > 1) // Malformed constraint
                        return false;

                    if(ns.length > 1) // Full URI string
                    {
                        for(var i = 0; i < ns.length; i++)
                        {
                            if((ns[i].length > 0) && (ns[i].charAt(ns[i].length - 1) !== ':'))
                            {
                                var ns_port = ns[i].split(":");
                                name_prepared = ns_port[0];
                                break;
                            }
                        }
                    }
                    // #endregion 

                    var result = compare_dNSName(name_prepared, constraint_prepared);

                    if(result)
                    {
                        // #region Make a "splitted" versions of "constraint" and "name" 
                        var name_splitted = name_prepared.split(".");
                        var constraint_splitted = constraint_prepared.split(".");
                        // #endregion 

                        if(constraint_splitted[0].length === 0)
                            return true;

                        if(name_splitted.length !== constraint_splitted.length)
                            return false;
                        else
                            return true;
                    }
                    else
                        return false;

                    return false;
                }

                function compare_iPAddress(name, constraint)
                {
                    /// <summary>Compare two iPAddress values</summary>
                    /// <param name="name" type="in_window.org.pkijs.asn1.OCTETSTRING">iPAddress from name</param>
                    /// <param name="constraint" type="in_window.org.pkijs.asn1.OCTETSTRING">Constraint for iPAddress from name</param>
                    /// <returns type="Boolean">Boolean result - valid or invalid the "name" against the "constraint"</returns>

                    // #region Common variables 
                    var name_view = new Uint8Array(name.value_block.value_hex);
                    var constraint_view = new Uint8Array(constraint.value_block.value_hex);
                    // #endregion 

                    // #region Work with IPv4 addresses 
                    if((name_view.length === 4) && (constraint_view.length === 8))
                    {
                        for(var i = 0; i < 4; i++)
                        {
                            if((name_view[i] ^ constraint_view[i]) & constraint_view[i + 4])
                                return false;
                        }

                        return true;
                    }
                    // #endregion 

                    // #region Work with IPv6 addresses 
                    if((name_view.length === 16) && (constraint_view.length === 32))
                    {
                        for(var i = 0; i < 16; i++)
                        {
                            if((name_view[i] ^ constraint_view[i]) & constraint_view[i + 16])
                                return false;
                        }

                        return true;
                    }
                    // #endregion 

                    return false;
                }

                function compare_directoryName(name, constraint)
                {
                    /// <summary>Compare two directoryName values</summary>
                    /// <param name="name" type="in_window.org.pkijs.simpl.RDN">directoryName from name</param>
                    /// <param name="constraint" type="in_window.org.pkijs.simpl.RDN">Constraint for directoryName from name</param>
                    /// <param name="any" type="Boolean">Boolean flag - should be comparision interrupted after first match or we need to match all "constraints" parts</param>
                    /// <returns type="Boolean">Boolean result - valid or invalid the "name" against the "constraint"</returns>

                    // #region Initial check 
                    if((name.types_and_values.length === 0) || (constraint.types_and_values.length === 0))
                        return true;

                    if(name.types_and_values.length < constraint.types_and_values.length)
                        return false;
                    // #endregion 

                    // #region Initial variables 
                    var result = true;
                    var name_start = 0;
                    // #endregion 

                    for(var i = 0; i < constraint.types_and_values.length; i++)
                    {
                        var local_result = false;

                        for(var j = name_start; j < name.types_and_values.length; j++)
                        {
                            local_result = name.types_and_values[j].isEqual(constraint.types_and_values[i]);

                            if(name.types_and_values[j].type === constraint.types_and_values[i].type)
                                result = result && local_result;

                            if(local_result === true)
                            {
                                if((name_start === 0) || (name_start === j))
                                {
                                    name_start = j + 1;
                                    break;
                                }
                                else // Structure of "name" must be the same with "constraint"
                                    return false;
                            }
                        }

                        if(local_result === false)
                            return false;
                    }

                    return (name_start === 0) ? false : result;
                }
                // #endregion 

                // #region Check a result from "policy checking" part  
                if(policy_result.result === false)
                    return policy_result;
                // #endregion 

                // #region Check all certificates, excluding "trust anchor" 
                path_depth = 1;

                for(var i = (_this.certs.length - 2) ; i >= 0 ; i--, path_depth++)
                {
                    // #region Support variables 
                    var subject_alt_names = new Array();

                    var cert_permitted_subtrees = new Array();
                    var cert_excluded_subtrees = new Array();
                    // #endregion 

                    if("extensions" in _this.certs[i])
                    {
                        for(var j = 0; j < _this.certs[i].extensions.length; j++)
                        {
                            // #region NameConstraints 
                            if(_this.certs[i].extensions[j].extnID === "2.5.29.30")
                            {
                                if("permittedSubtrees" in _this.certs[i].extensions[j].parsedValue)
                                    cert_permitted_subtrees = cert_permitted_subtrees.concat(_this.certs[i].extensions[j].parsedValue.permittedSubtrees);

                                if("excludedSubtrees" in _this.certs[i].extensions[j].parsedValue)
                                    cert_excluded_subtrees = cert_excluded_subtrees.concat(_this.certs[i].extensions[j].parsedValue.excludedSubtrees);
                            }
                            // #endregion   

                            // #region SubjectAltName 
                            if(_this.certs[i].extensions[j].extnID === "2.5.29.17")
                                subject_alt_names = subject_alt_names.concat(_this.certs[i].extensions[j].parsedValue.altNames);
                            // #endregion 

                            // #region PKCS#9 e-mail address 
                            if(_this.certs[i].extensions[j].extnID === "1.2.840.113549.1.9.1")
                                email_addresses.push(_this.certs[i].extensions[j].parsedValue.value);
                            // #endregion 
                        }
                    }

                    // #region Checking for "required name forms" 
                    var form_found = (required_name_forms.length > 0) ? false : true;

                    for(var j = 0; j < required_name_forms.length; j++)
                    {
                        switch(required_name_forms[j].base.NameType)
                        {
                            case 4: // directoryName
                                {
                                    if(required_name_forms[j].base.Name.types_and_values.length !== _this.certs[i].subject.types_and_values.length)
                                        continue;

                                    form_found = true;

                                    for(var k = 0; k < _this.certs[i].subject.types_and_values.length; k++)
                                    {
                                        if(_this.certs[i].subject.types_and_values[k].type !== required_name_forms[j].base.Name.types_and_values[k].type)
                                        {
                                            form_found = false;
                                            break;
                                        }
                                    }

                                    if(form_found === true)
                                        break;
                                }
                                break;
                            default:; // ??? Probably here we should reject the certificate ???
                        }
                    }

                    if(form_found === false)
                    {
                        policy_result.result = false;
                        policy_result.result_code = 21;
                        policy_result.result_message = "No neccessary name form found";

                        return new Promise(function(resolve, reject)
                        {
                            reject(policy_result);
                        });
                    }
                    // #endregion 

                    // #region Checking for "permited sub-trees" 
                    // #region Make groups for all types of constraints 
                    var constr_groups = new Array(); // Array of array for groupped constraints
                    constr_groups[0] = new Array(); // rfc822Name
                    constr_groups[1] = new Array(); // dNSName
                    constr_groups[2] = new Array(); // directoryName
                    constr_groups[3] = new Array(); // uniformResourceIdentifier
                    constr_groups[4] = new Array(); // iPAddress

                    for(var j = 0; j < permitted_subtrees.length; j++)
                    {
                        switch(permitted_subtrees[j].base.NameType)
                        {
                            // #region rfc822Name 
                            case 1:
                                constr_groups[0].push(permitted_subtrees[j]);
                                break;
                            // #endregion 
                            // #region dNSName 
                            case 2:
                                constr_groups[1].push(permitted_subtrees[j]);
                                break;
                            // #endregion 
                            // #region directoryName 
                            case 4:
                                constr_groups[2].push(permitted_subtrees[j]);
                                break;
                            // #endregion 
                            // #region uniformResourceIdentifier 
                            case 6:
                                constr_groups[3].push(permitted_subtrees[j]);
                                break;
                            // #endregion 
                            // #region iPAddress 
                            case 7:
                                constr_groups[4].push(permitted_subtrees[j]);
                                break;
                            // #endregion 
                            // #region default 
                            default:;
                            // #endregion 
                        }
                    }
                    // #endregion   

                    // #region Check name constraints groupped by type, one-by-one 
                    for(var p = 0; p < 5; p++)
                    {
                        var group_permitted = false;
                        var group = constr_groups[p];

                        for(var j = 0; j < group.length; j++)
                        {
                            switch(p)
                            {
                                // #region rfc822Name 
                                case 0:
                                    if(subject_alt_names.length >= 0)
                                    {
                                        for(var k = 0; k < subject_alt_names.length; k++)
                                        {
                                            if(subject_alt_names[k].NameType === 1) // rfc822Name
                                                group_permitted = group_permitted || compare_rfc822Name(subject_alt_names[k].Name, group[j].base.Name);
                                        }
                                    }
                                    else // Try to find out "emailAddress" inside "subject"
                                    {
                                        for(var k = 0; k < _this.certs[i].subject.types_and_values.length; k++)
                                        {
                                            if((_this.certs[i].subject.types_and_values[k].type === "1.2.840.113549.1.9.1") ||    // PKCS#9 e-mail address
                                               (_this.certs[i].subject.types_and_values[k].type === "0.9.2342.19200300.100.1.3")) // RFC1274 "rfc822Mailbox" e-mail address
                                            {
                                                group_permitted = group_permitted || compare_rfc822Name(_this.certs[i].subject.types_and_values[k].value.value_block.value, group[j].base.Name);
                                            }
                                        }
                                    }
                                    break;
                                // #endregion 
                                // #region dNSName 
                                case 1:
                                    if(subject_alt_names.length > 0)
                                    {
                                        for(var k = 0; k < subject_alt_names.length; k++)
                                        {
                                            if(subject_alt_names[k].NameType === 2) // dNSName
                                                group_permitted = group_permitted || compare_dNSName(subject_alt_names[k].Name, group[j].base.Name);
                                        }
                                    }
                                    break;
                                // #endregion 
                                // #region directoryName 
                                case 2:
                                    group_permitted = compare_directoryName(_this.certs[i].subject, group[j].base.Name);
                                    break;
                                // #endregion 
                                // #region uniformResourceIdentifier 
                                case 3:
                                    if(subject_alt_names.length > 0)
                                    {
                                        for(var k = 0; k < subject_alt_names.length; k++)
                                        {
                                            if(subject_alt_names[k].NameType === 6) // uniformResourceIdentifier
                                                group_permitted = group_permitted || compare_uniformResourceIdentifier(subject_alt_names[k].Name, group[j].base.Name);
                                        }
                                    }
                                    break;
                                // #endregion 
                                // #region iPAddress 
                                case 4:
                                    if(subject_alt_names.length > 0)
                                    {
                                        for(var k = 0; k < subject_alt_names.length; k++)
                                        {
                                            if(subject_alt_names[k].NameType === 7) // iPAddress
                                                group_permitted = group_permitted || compare_iPAddress(subject_alt_names[k].Name, group[j].base.Name);
                                        }
                                    }
                                    break;
                                // #endregion 
                                // #region default 
                                default:;
                                // #endregion 
                            }

                            if(group_permitted)
                                break;
                        }

                        if((group_permitted === false) && (group.length > 0))
                        {
                            policy_result.result = false;
                            policy_result.result_code = 41;
                            policy_result.result_message = "Failed to meet \"permitted sub-trees\" name constraint";

                            return new Promise(function(resolve, reject)
                            {
                                reject(policy_result);
                            });
                        }
                    }
                    // #endregion 
                    // #endregion 

                    // #region Checking for "excluded sub-trees" 
                    var excluded = false;

                    for(var j = 0; j < excluded_subtrees.length; j++)
                    {
                        switch(excluded_subtrees[j].base.NameType)
                        {
                            // #region rfc822Name 
                            case 1:
                                if(subject_alt_names.length >= 0)
                                {
                                    for(var k = 0; k < subject_alt_names.length; k++)
                                    {
                                        if(subject_alt_names[k].NameType === 1) // rfc822Name
                                            excluded = excluded || compare_rfc822Name(subject_alt_names[k].Name, excluded_subtrees[j].base.Name);
                                    }
                                }
                                else // Try to find out "emailAddress" inside "subject"
                                {
                                    for(var k = 0; k < _this.subject.types_and_values.length; k++)
                                    {
                                        if((_this.subject.types_and_values[k].type === "1.2.840.113549.1.9.1") ||    // PKCS#9 e-mail address
                                           (_this.subject.types_and_values[k].type === "0.9.2342.19200300.100.1.3")) // RFC1274 "rfc822Mailbox" e-mail address
                                        {
                                            excluded = excluded || compare_rfc822Name(_this.subject.types_and_values[k].value.value_block.value, excluded_subtrees[j].base.Name);
                                        }
                                    }
                                }
                                break;
                            // #endregion 
                            // #region dNSName 
                            case 2:
                                if(subject_alt_names.length > 0)
                                {
                                    for(var k = 0; k < subject_alt_names.length; k++)
                                    {
                                        if(subject_alt_names[k].NameType === 2) // dNSName
                                            excluded = excluded || compare_dNSName(subject_alt_names[k].Name, excluded_subtrees[j].base.Name);
                                    }
                                }
                                break;
                            // #endregion 
                            // #region directoryName 
                            case 4:
                                excluded = excluded || compare_directoryName(_this.certs[i].subject, excluded_subtrees[j].base.Name);
                                break;
                            // #endregion 
                            // #region uniformResourceIdentifier 
                            case 6:
                                if(subject_alt_names.length > 0)
                                {
                                    for(var k = 0; k < subject_alt_names.length; k++)
                                    {
                                        if(subject_alt_names[k].NameType === 6) // uniformResourceIdentifier
                                            excluded = excluded || compare_uniformResourceIdentifier(subject_alt_names[k].Name, excluded_subtrees[j].base.Name);
                                    }
                                }
                                break;
                            // #endregion 
                            // #region iPAddress 
                            case 7:
                                if(subject_alt_names.length > 0)
                                {
                                    for(var k = 0; k < subject_alt_names.length; k++)
                                    {
                                        if(subject_alt_names[k].NameType === 7) // iPAddress
                                            excluded = excluded || compare_iPAddress(subject_alt_names[k].Name, excluded_subtrees[j].base.Name);
                                    }
                                }
                                break;
                            // #endregion 
                            // #region default 
                            default:; // No action, but probably here we need to create a warning for "malformed constraint"
                            // #endregion 
                        }

                        if(excluded)
                            break;
                    }

                    if(excluded === true)
                    {
                        policy_result.result = false;
                        policy_result.result_code = 42;
                        policy_result.result_message = "Failed to meet \"excluded sub-trees\" name constraint";

                        return new Promise(function(resolve, reject)
                        {
                            reject(policy_result);
                        });
                    }
                    // #endregion 

                    // #region Append "cert_..._subtrees" to "..._subtrees" 
                    permitted_subtrees = permitted_subtrees.concat(cert_permitted_subtrees);
                    excluded_subtrees = excluded_subtrees.concat(cert_excluded_subtrees);
                    // #endregion   
                }
                // #endregion 

                return policy_result;
            }
            );
        // #endregion   

        return sequence;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
}
)(typeof exports !== "undefined" ? exports : window);

﻿/*
 * @license
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015, Peculiar Ventures
 * All rights reserved.
 *
 * Author 2014-2015, Yury Strozhevsky <www.strozhevsky.com>.
 *
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * 3. Neither the name of the copyright holder nor the names of its contributors
 *    may be used to endorse or promote products derived from this software without
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
 * OF SUCH DAMAGE.
 *
 */
(
function(in_window)
{
    //**************************************************************************************
    // #region Declaration of global variables
    //**************************************************************************************
    // #region "org" namespace
    if(typeof in_window.org === "undefined")
        in_window.org = {};
    else
    {
        if(typeof in_window.org !== "object")
            throw new Error("Name org already exists and it's not an object");
    }
    // #endregion

    // #region "org.pkijs" namespace
    if(typeof in_window.org.pkijs === "undefined")
        in_window.org.pkijs = {};
    else
    {
        if(typeof in_window.org.pkijs !== "object")
            throw new Error("Name org.pkijs already exists and it's not an object" + " but " + (typeof in_window.org.pkijs));
    }
    // #endregion

    // #region "org.pkijs.asn1" namespace
    if(typeof in_window.org.pkijs.asn1 === "undefined")
        in_window.org.pkijs.asn1 = {};
    else
    {
        if(typeof in_window.org.pkijs.asn1 !== "object")
            throw new Error("Name org.pkijs.asn1 already exists and it's not an object" + " but " + (typeof in_window.org.pkijs.asn1));
    }
    // #endregion

    // #region "local" namespace
    var local = {};
    // #endregion
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Aux-functions
    //**************************************************************************************
    function util_frombase(input_buffer, input_base)
    {
        /// <summary>Convert number from 2^base to 2^10</summary>
        /// <param name="input_buffer" type="Uint8Array">Array of bytes representing the number to convert</param>
        /// <param name="input_base" type="Number">The base of initial number</param>

        var result = 0;

        for(var i = (input_buffer.length - 1); i >= 0; i-- )
            result += input_buffer[(input_buffer.length - 1) - i] * Math.pow(2, input_base * i);

        return result;
    }
    //**************************************************************************************
    function util_tobase(value, base, reserved)
    {
        /// <summary>Convert number from 2^10 to 2^base</summary>
        /// <param name="value" type="Number">The number to convert</param>
        /// <param name="base" type="Number">The base for 2^base</param>
        /// <param name="reserved" type="Number">Pre-defined number of bytes in output array (-1 = limited by function itself)</param>

        reserved = reserved || (-1);

        var result = 0;
        var biggest = Math.pow(2, base);

        for(var i = 1; i < 8; i++)
        {
            if(value < biggest)
            {
                var ret_buf;

                if( reserved < 0 )
                {
                    ret_buf = new ArrayBuffer(i);
                    result = i;
                }
                else
                {
                    if(reserved < i)
                        return (new ArrayBuffer(0));

                    ret_buf = new ArrayBuffer(reserved);

                    result = reserved;
                }

                var ret_view = new Uint8Array(ret_buf);

                for(var j = ( i - 1 ); j >= 0; j-- )
                {
                    var basis = Math.pow(2, j * base);

                    ret_view[ result - j - 1 ] = Math.floor( value / basis );
                    value -= ( ret_view[ result - j - 1 ] ) * basis;
                }

                return ret_buf;
            }

            biggest *= Math.pow(2, base);
        }
    }
    //**************************************************************************************
    function util_encode_tc(value)
    {
        /// <summary>Encode integer value to "two complement" format</summary>
        /// <param name="value" type="Number">Value to encode</param>

        var mod_value = (value < 0) ? (value * (-1)) : value;
        var big_int = 128;

        for(var i = 1; i < 8; i++)
        {
            if( mod_value <= big_int )
            {
                if( value < 0 )
                {
                    var small_int = big_int - mod_value;

                    var ret_buf = util_tobase( small_int, 8, i );
                    var ret_view = new Uint8Array(ret_buf);

                    ret_view[ 0 ] |= 0x80;

                    return ret_buf;
                }
                else
                {
                    var ret_buf = util_tobase( mod_value, 8, i );
                    var ret_view = new Uint8Array(ret_buf);

                    if( ret_view[ 0 ] & 0x80 )
                    {
                        var temp_buf = util_copybuf(ret_buf);
                        var temp_view = new Uint8Array(temp_buf);

                        ret_buf = new ArrayBuffer( ret_buf.byteLength + 1 );
                        ret_view = new Uint8Array(ret_buf);

                        for(var k = 0; k < temp_buf.byteLength; k++)
                            ret_view[k + 1] = temp_view[k];

                        ret_view[0] = 0x00;
                    }

                    return ret_buf;
                }
            }

            big_int *= Math.pow(2, 8);
        }

        return (new ArrayBuffer(0));
    }
    //**************************************************************************************
    function util_decode_tc()
    {
        /// <summary>Decoding of "two complement" values</summary>
        /// <remarks>The function must be called in scope of instance of "hex_block" class ("value_hex" and "warnings" properties must be present)</remarks>

        var buf = new Uint8Array(this.value_hex);

        if(this.value_hex.byteLength >= 2)
        {
            var condition_1 = (buf[0] == 0xFF) && (buf[1] & 0x80);
            var condition_2 = (buf[0] == 0x00) && ((buf[1] & 0x80) == 0x00);

            if(condition_1 || condition_2)
                this.warnings.push("Needlessly long format");
        }

        // #region Create big part of the integer
        var big_int_buffer = new ArrayBuffer(this.value_hex.byteLength);
        var big_int_view = new Uint8Array(big_int_buffer);
        for(var i = 0; i < this.value_hex.byteLength; i++)
            big_int_view[i] = 0;

        big_int_view[0] = (buf[0] & 0x80); // mask only the biggest bit

        var big_int = util_frombase(big_int_view, 8);
        // #endregion

        // #region Create small part of the integer
        var small_int_buffer = new ArrayBuffer(this.value_hex.byteLength);
        var small_int_view = new Uint8Array(small_int_buffer);
        for(var j = 0; j < this.value_hex.byteLength; j++)
            small_int_view[j] = buf[j];

        small_int_view[0] &= 0x7F; // mask biggest bit

        var small_int = util_frombase(small_int_view, 8);
        // #endregion

        return (small_int - big_int);
    }
    //**************************************************************************************
    function util_copybuf(input_buffer)
    {
        /// <summary>Creating a copy of input ArrayBuffer</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ArrayBuffer for coping</param>

        if(check_buffer_params(input_buffer, 0, input_buffer.byteLength) === false)
            return (new ArrayBuffer(0));

        var input_view = new Uint8Array(input_buffer);

        var ret_buf = new ArrayBuffer(input_buffer.byteLength);
        var ret_view = new Uint8Array(ret_buf);

        for(var i = 0; i < input_buffer.byteLength; i++)
            ret_view[i] = input_view[i];

        return ret_buf;
    }
    //**************************************************************************************
    function util_copybuf_offset(input_buffer, input_offset, input_length)
    {
        /// <summary>Creating a copy of input ArrayBuffer</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ArrayBuffer for coping</param>

        if(check_buffer_params(input_buffer, input_offset, input_length) === false)
            return (new ArrayBuffer(0));

        var input_view = new Uint8Array(input_buffer, input_offset, input_length);

        var ret_buf = new ArrayBuffer(input_length);
        var ret_view = new Uint8Array(ret_buf);

        for(var i = 0; i < input_length; i++)
            ret_view[i] = input_view[i];

        return ret_buf;
    }
    //**************************************************************************************
    function util_concatbuf(input_buf1, input_buf2)
    {
        /// <summary>Concatenate two ArrayBuffers</summary>
        /// <param name="input_buf1" type="ArrayBuffer">First ArrayBuffer (first part of concatenated array)</param>
        /// <param name="input_buf2" type="ArrayBuffer">Second ArrayBuffer (second part of concatenated array)</param>

        var input_view1 = new Uint8Array(input_buf1);
        var input_view2 = new Uint8Array(input_buf2);

        var ret_buf = new ArrayBuffer(input_buf1.byteLength + input_buf2.byteLength);
        var ret_view = new Uint8Array(ret_buf);

        for(var i = 0; i < input_buf1.byteLength; i++)
            ret_view[i] = input_view1[i];

        for(var j = 0; j < input_buf2.byteLength; j++)
            ret_view[input_buf1.byteLength + j] = input_view2[j];

        return ret_buf;
    }
    //**************************************************************************************
    function check_buffer_params(input_buffer, input_offset, input_length)
    {
        if((input_buffer instanceof ArrayBuffer) === false)
        {
            this.error = "Wrong parameter: input_buffer must be \"ArrayBuffer\"";
            return false;
        }

        if(input_buffer.byteLength === 0)
        {
            this.error = "Wrong parameter: input_buffer has zero length";
            return false;
        }

        if(input_offset < 0)
        {
            this.error = "Wrong parameter: input_offset less than zero";
            return false;
        }

        if(input_length < 0)
        {
            this.error = "Wrong parameter: input_length less than zero";
            return false;
        }

        if((input_buffer.byteLength - input_offset - input_length) < 0)
        {
            this.error = "End of input reached before message was fully decoded (inconsistent offset and length values)";
            return false;
        }

        return true;
    }
    //**************************************************************************************
    function to_hex_codes(input_buffer, input_offset, input_lenght)
    {
        if(check_buffer_params(input_buffer, input_offset, input_lenght) === false)
            return "";

        var result = "";

        var int_buffer = new Uint8Array(input_buffer, input_offset, input_lenght);

        for(var i = 0; i < int_buffer.length; i++)
        {
            var str = int_buffer[i].toString(16).toUpperCase();
            result = result + ((str.length === 1) ? " 0" : " ") + str;
        }

        return result;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of base block class
    //**************************************************************************************
    local.base_block =
    function()
    {
        /// <summary>General class of all ASN.1 blocks</summary>

        if(arguments[0] instanceof Object)
        {
            this.block_length = in_window.org.pkijs.getValue(arguments[0], "block_length", 0);
            this.error = in_window.org.pkijs.getValue(arguments[0], "error", new String());
            this.warnings = in_window.org.pkijs.getValue(arguments[0], "warnings", new Array());
            if("value_before_decode" in arguments[0])
                this.value_before_decode = util_copybuf(arguments[0].value_before_decode);
            else
                this.value_before_decode = new ArrayBuffer(0);
        }
        else
        {
            this.block_length = 0;
            this.error = new String();
            this.warnings = new Array();
            /// <field>Copy of the value of incoming ArrayBuffer done before decoding</field>
            this.value_before_decode = new ArrayBuffer(0);
        }
    }
    //**************************************************************************************
    local.base_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "base_block";
    }
    //**************************************************************************************
    local.base_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        return {
            block_name: local.base_block.prototype.block_name.call(this),
            block_length: this.block_length,
            error: this.error,
            warnings: this.warnings,
            value_before_decode: in_window.org.pkijs.bufferToHexCodes(this.value_before_decode, 0, this.value_before_decode.byteLength)
        };
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of hex block class
    //**************************************************************************************
    local.hex_block =
    function()
    {
        /// <summary>Descendant of "base_block" with internal ArrayBuffer. Need to have it in case it is not possible to store ASN.1 value in native formats</summary>

        local.base_block.call(this, arguments[0]);

        if(arguments[0] instanceof Object)
        {
            this.is_hex_only = in_window.org.pkijs.getValue(arguments[0], "is_hex_only", false);
            if("value_hex" in arguments[0])
                this.value_hex = util_copybuf(arguments[0].value_hex);
            else
                this.value_hex = new ArrayBuffer(0);
        }
        else
        {
            this.is_hex_only = false;
            this.value_hex = new ArrayBuffer(0);
        }
    }
    //**************************************************************************************
    local.hex_block.prototype = new local.base_block();
    local.hex_block.constructor = local.hex_block;
    //**************************************************************************************
    local.hex_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "hex_block";
    }
    //**************************************************************************************
    local.hex_block.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        // #region Basic check for parameters
        if(check_buffer_params.call(this, input_buffer, input_offset, input_length) === false)
            return (-1);
        // #endregion

        // #region Getting Uint8Array from ArrayBuffer
        var int_buffer = new Uint8Array(input_buffer, input_offset, input_length);
        // #endregion

        // #region Initial checks
        if(int_buffer.length == 0)
        {
            this.warnings.push("Zero buffer length");
            return input_offset;
        }
        // #endregion

        // #region Copy input buffer to internal buffer
        this.value_hex = new ArrayBuffer(input_length);
        var view = new Uint8Array(this.value_hex);

        for(var i = 0; i < int_buffer.length; i++)
            view[i] = int_buffer[i];
        // #endregion

        this.block_length = input_length;

        return (input_offset + input_length);
    }
    //**************************************************************************************
    local.hex_block.prototype.toBER =
    function(size_only)
    {
        /// <summary>Encoding of current ASN.1 block into ASN.1 encoded array (BER rules)</summary>
        /// <param name="size_only" type="Boolean">Flag that we need only a size of encoding, not a real array of bytes</param>

        if(typeof size_only === "undefined")
            size_only = false;

        if(this.is_hex_only !== true)
        {
            this.error = "Flag \"is_hex_only\" is not set, abort";
            return (new ArrayBuffer(0));
        }

        var ret_buf = new ArrayBuffer(this.value_hex.byteLength);

        if(size_only === true)
            return ret_buf;

        var ret_view = new Uint8Array(ret_buf);
        var cur_view = new Uint8Array(this.value_hex);

        for(var i = 0; i < cur_view.length; i++)
            ret_view[i] = cur_view[i];

        return ret_buf;
    }
    //**************************************************************************************
    local.hex_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.base_block.prototype.toJSON.call(this);

        _object.block_name = local.hex_block.prototype.block_name.call(this);
        _object.is_hex_only = this.is_hex_only;
        _object.value_hex = in_window.org.pkijs.bufferToHexCodes(this.value_hex, 0, this.value_hex.byteLength)

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of identification block class
    //**************************************************************************************
    local.identification_block =
    function()
    {
        /// <summary>Base class of ASN.1 "identification block"</summary>

        local.hex_block.call(this, arguments[0]);

        this.tag_class = (-1);
        this.tag_number = (-1);
        this.is_constructed = false;

        if(arguments[0] instanceof Object)
        {
            if("id_block" in arguments[0])
            {
                // #region Properties from hex_block class
                this.is_hex_only = in_window.org.pkijs.getValue(arguments[0].id_block, "is_hex_only", false);
                this.value_hex = in_window.org.pkijs.getValue(arguments[0].id_block, "value_hex", new ArrayBuffer(0));
                // #endregion

                this.tag_class = in_window.org.pkijs.getValue(arguments[0].id_block, "tag_class", (-1));
                this.tag_number = in_window.org.pkijs.getValue(arguments[0].id_block, "tag_number", (-1));
                this.is_constructed = in_window.org.pkijs.getValue(arguments[0].id_block, "is_constructed", false);
            }
        }
    }
    //**************************************************************************************
    local.identification_block.prototype = new local.hex_block();
    local.identification_block.constructor = local.identification_block;
    //**************************************************************************************
    local.identification_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "identification_block";
    }
    //**************************************************************************************
    local.identification_block.prototype.toBER =
    function(size_only)
    {
        /// <summary>Encoding of current ASN.1 block into ASN.1 encoded array (BER rules)</summary>
        /// <param name="size_only" type="Boolean">Flag that we need only a size of encoding, not a real array of bytes</param>

        if(typeof size_only === "undefined")
            size_only = false;

        var first_octet = 0;

        switch(this.tag_class)
        {
            case 1:
                first_octet |= 0x00; // UNIVERSAL
                break;
            case 2:
                first_octet |= 0x40; // APPLICATION
                break;
            case 3:
                first_octet |= 0x80; // CONTEXT-SPECIFIC
                break;
            case 4:
                first_octet |= 0xC0; // PRIVATE
                break;
            default:
                this.error = "Unknown tag class";
                return (new ArrayBuffer(0));
        }

        if(this.is_constructed)
            first_octet |= 0x20;

        if((this.tag_number < 31) && (!this.is_hex_only))
        {
            var ret_buf = new ArrayBuffer(1);
            var ret_view = new Uint8Array(ret_buf);

            if(!size_only)
            {
                var number = this.tag_number;
                number &= 0x1F;
                first_octet |= number;

                ret_view[0] = first_octet;
            }

            return ret_buf;
        }
        else
        {
            if(this.is_hex_only === false)
            {
                var encoded_buf = util_tobase(this.tag_number, 7);
                var encoded_view = new Uint8Array(encoded_buf);
                var size = encoded_buf.byteLength;

                var ret_buf = new ArrayBuffer(size + 1);
                var ret_view = new Uint8Array(ret_buf);

                ret_view[0] = (first_octet | 0x1F);

                if(!size_only)
                {
                    for(var i = 0; i < (size - 1) ; i++)
                        ret_view[i + 1] = encoded_view[i] | 0x80;

                    ret_view[size] = encoded_view[size - 1];
                }

                return ret_buf;
            }
            else
            {
                var ret_buf = new ArrayBuffer(this.value_hex.byteLength + 1);
                var ret_view = new Uint8Array(ret_buf);

                ret_view[0] = (first_octet | 0x1F);

                if(size_only === false)
                {
                    var cur_view = new Uint8Array(this.value_hex);

                    for(var i = 0; i < (cur_view.length - 1); i++)
                        ret_view[i + 1] = cur_view[i] | 0x80;

                    ret_view[this.value_hex.byteLength] = cur_view[cur_view.length - 1];
                }

                return ret_buf;
            }
        }
    }
    //**************************************************************************************
    local.identification_block.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        // #region Basic check for parameters
        if(check_buffer_params.call(this, input_buffer, input_offset, input_length) === false)
            return (-1);
        // #endregion

        // #region Getting Uint8Array from ArrayBuffer
        var int_buffer = new Uint8Array(input_buffer, input_offset, input_length);
        // #endregion

        // #region Initial checks
        if(int_buffer.length == 0)
        {
            this.error = "Zero buffer length";
            return (-1);
        }
        // #endregion

        // #region Find tag class
        var tag_class_mask = int_buffer[0] & 0xC0;

        switch(tag_class_mask)
        {
            case 0x00:
                this.tag_class = (1); // UNIVERSAL
                break;
            case 0x40:
                this.tag_class = (2); // APPLICATION
                break;
            case 0x80:
                this.tag_class = (3); // CONTEXT-SPECIFIC
                break;
            case 0xC0:
                this.tag_class = (4); // PRIVATE
                break;
            default:
                this.error = "Unknown tag class";
                return ( -1 );
        }
        // #endregion

        // #region Find it's constructed or not
        if((int_buffer[0] & 0x20) == 0x20)
            this.is_constructed = true;
        else
            this.is_constructed = false;
        // #endregion

        // #region Find tag number
        this.is_hex_only = false;

        var tag_number_mask = int_buffer[0] & 0x1F;

        // #region Simple case (tag number < 31)
        if(tag_number_mask != 0x1F)
        {
            this.tag_number = (tag_number_mask);
            this.block_length = 1;
        }
            // #endregion
        // #region Tag number bigger or equal to 31
        else
        {
            var count = 1;

            this.value_hex = new ArrayBuffer(255);
            var tag_number_buffer_max_length = 255;
            var int_tag_number_buffer = new Uint8Array(this.value_hex);

            while(int_buffer[count] & 0x80)
            {
                int_tag_number_buffer[count - 1] = int_buffer[count] & 0x7F;
                count++;

                if(count >= int_buffer.length)
                {
                    this.error = "End of input reached before message was fully decoded";
                    return (-1);
                }

                // #region In case if tag number length is greater than 255 bytes (rare but possible case)
                if(count == tag_number_buffer_max_length)
                {
                    tag_number_buffer_max_length += 255;

                    var temp_buffer = new ArrayBuffer(tag_number_buffer_max_length);
                    var temp_buffer_view = new Uint8Array(temp_buffer);

                    for(var i = 0; i < int_tag_number_buffer.length; i++)
                        temp_buffer_view[i] = int_tag_number_buffer[i];

                    this.value_hex = new ArrayBuffer(tag_number_buffer_max_length);
                    int_tag_number_buffer = new Uint8Array(this.value_hex);
                }
                // #endregion
            }

            this.block_length = (count + 1);
            int_tag_number_buffer[count - 1] = int_buffer[count] & 0x7F; // Write last byte to buffer

            // #region Cut buffer
            var temp_buffer = new ArrayBuffer(count);
            var temp_buffer_view = new Uint8Array(temp_buffer);
            for(var i = 0; i < count; i++)
                temp_buffer_view[i] = int_tag_number_buffer[i];

            this.value_hex = new ArrayBuffer(count);
            int_tag_number_buffer = new Uint8Array(this.value_hex);
            int_tag_number_buffer.set(temp_buffer_view);
            // #endregion

            // #region Try to convert long tag number to short form
            if(this.block_length <= 9)
                this.tag_number = util_frombase(int_tag_number_buffer, 7);
            else
            {
                this.is_hex_only = true;
                this.warnings.push("Tag too long, represented as hex-coded");
            }
            // #endregion
        }
        // #endregion
        // #endregion

        // #region Check if constructed encoding was using for primitive type
        if(((this.tag_class == 1)) &&
            (this.is_constructed))
        {
            switch(this.tag_number)
            {
                case 1:  // BOOLEAN
                case 2:  // REAL
                case 5:  // NULL
                case 6:  // OBJECT IDENTIFIER
                case 9:  // REAL
                case 14: // TIME
                case 23:
                case 24:
                case 31:
                case 32:
                case 33:
                case 34:
                    this.error = "Constructed encoding used for primitive type";
                    return (-1);
                default:
                    ;
            }
        }
        // #endregion

        return ( input_offset + this.block_length ); // Return current offset in input buffer
    }
    //**************************************************************************************
    local.identification_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.hex_block.prototype.toJSON.call(this);

        _object.block_name = local.identification_block.prototype.block_name.call(this);
        _object.tag_class = this.tag_class;
        _object.tag_number = this.tag_number;
        _object.is_constructed = this.is_constructed;

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of length block class
    //**************************************************************************************
    local.length_block =
    function()
    {
        /// <summary>Base class of ASN.1 "length block"</summary>

        local.base_block.call(this, arguments[0]);

        this.is_indefinite_form = false;
        this.long_form_used = false;
        this.length = (0);

        if(arguments[0] instanceof Object)
        {
            if("len_block" in arguments[0])
            {
                this.is_indefinite_form = in_window.org.pkijs.getValue(arguments[0].len_block, "is_indefinite_form", false);
                this.long_form_used = in_window.org.pkijs.getValue(arguments[0].len_block, "long_form_used", false);
                this.length = in_window.org.pkijs.getValue(arguments[0].len_block, "length", 0);
            }
        }
    }
    //**************************************************************************************
    local.length_block.prototype = new local.base_block();
    local.length_block.constructor = local.length_block;
    //**************************************************************************************
    local.length_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "length_block";
    }
    //**************************************************************************************
    local.length_block.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        // #region Basic check for parameters
        if(check_buffer_params.call(this, input_buffer, input_offset, input_length) === false)
            return (-1);
        // #endregion

        // #region Getting Uint8Array from ArrayBuffer
        var int_buffer = new Uint8Array(input_buffer, input_offset, input_length);
        // #endregion

        // #region Initial checks
        if(int_buffer.length == 0)
        {
            this.error = "Zero buffer length";
            return (-1);
        }

        if(int_buffer[0] == 0xFF)
        {
            this.error = "Length block 0xFF is reserved by standard";
            return (-1);
        }
        // #endregion

        // #region Check for length form type
        if(int_buffer[0] == 0x80)
            this.is_indefinite_form = true;
        else
            this.is_indefinite_form = false;
        // #endregion

        // #region Stop working in case of indefinite length form
        if(this.is_indefinite_form == true)
        {
            this.block_length = 1;
            return (input_offset + this.block_length);
        }
        // #endregion

        // #region Check is long form of length encoding using
        if(int_buffer[0] & 0x80)
            this.long_form_used = true;
        else
            this.long_form_used = false;
        // #endregion

        // #region Stop working in case of short form of length value
        if(this.long_form_used == false)
        {
            this.length = (int_buffer[0]);
            this.block_length = 1;
            return (input_offset + this.block_length);
        }
        // #endregion

        // #region Calculate length value in case of long form
        var count = int_buffer[0] & 0x7F;

        if(count > 8) // Too big length value
        {
            this.error = "Too big integer";
            return (-1);
        }

        if((count + 1) > int_buffer.length)
        {
            this.error = "End of input reached before message was fully decoded";
            return (-1);
        }

        var length_buffer_view = new Uint8Array(count);

        for(var i = 0; i < count; i++)
            length_buffer_view[i] = int_buffer[i + 1];

        if(length_buffer_view[count - 1] == 0x00)
            this.warnings.push("Needlessly long encoded length");

        this.length = util_frombase(length_buffer_view, 8);

        if(this.long_form_used && (this.length <= 127))
            this.warnings.push("Unneccesary usage of long length form");

        this.block_length = count + 1;
        // #endregion

        return (input_offset + this.block_length); // Return current offset in input buffer
    }
    //**************************************************************************************
    local.length_block.prototype.toBER =
    function(size_only)
    {
        /// <summary>Encoding of current ASN.1 block into ASN.1 encoded array (BER rules)</summary>
        /// <param name="size_only" type="Boolean">Flag that we need only a size of encoding, not a real array of bytes</param>

        if(typeof size_only === "undefined")
            size_only = false;

        if(this.length > 127)
            this.long_form_used = true;

        if(this.is_indefinite_form)
        {
            var ret_buf = new ArrayBuffer(1);

            if(size_only === false)
            {
                var ret_view = new Uint8Array(ret_buf);
                ret_view[0] = 0x80;
            }

            return ret_buf;
        }

        if(this.long_form_used === true)
        {
            var encoded_buf = util_tobase(this.length, 8);

            if(encoded_buf.byteLength > 127)
            {
                this.error = "Too big length";
                return (new ArrayBuffer(0));
            }

            var ret_buf = new ArrayBuffer(encoded_buf.byteLength + 1);

            if(size_only === true)
                return ret_buf;

            var encoded_view = new Uint8Array(encoded_buf);
            var ret_view = new Uint8Array(ret_buf);

            ret_view[0] = encoded_buf.byteLength | 0x80;

            for(var i = 0; i < encoded_buf.byteLength; i++)
                ret_view[i + 1] = encoded_view[i];

            return ret_buf;
        }
        else
        {
            var ret_buf = new ArrayBuffer(1);

            if(size_only === false)
            {
                var ret_view = new Uint8Array(ret_buf);

                ret_view[0] = this.length;
            }

            return ret_buf;
        }

        return (new ArrayBuffer(0));
    }
    //**************************************************************************************
    local.length_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.base_block.prototype.toJSON.call(this);

        _object.block_name = local.length_block.prototype.block_name.call(this);
        _object.is_indefinite_form = this.is_indefinite_form;
        _object.long_form_used = this.long_form_used;
        _object.length = this.length;

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of value block class
    //**************************************************************************************
    local.value_block =
    function()
    {
        /// <summary>Generic class of ASN.1 "value block"</summary>
        local.base_block.call(this, arguments[0]);
    }
    //**************************************************************************************
    local.value_block.prototype = new local.base_block();
    local.value_block.constructor = local.value_block;
    //**************************************************************************************
    local.value_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "value_block";
    }
    //**************************************************************************************
    local.value_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.base_block.prototype.toJSON.call(this);

        _object.block_name = local.value_block.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of basic ASN.1 block class
    //**************************************************************************************
    in_window.org.pkijs.asn1.ASN1_block =
    function()
    {
        /// <summary>Base class of ASN.1 block (identification block + length block + value block)</summary>

        local.base_block.call(this, arguments[0]);

        if(arguments[0] instanceof Object)
        {
            this.name = in_window.org.pkijs.getValue(arguments[0], "name", "");
            this.optional = in_window.org.pkijs.getValue(arguments[0], "optional", false);

            if("primitive_schema" in arguments[0])
                this.primitive_schema = arguments[0].primitive_schema;
        }

        this.id_block = new local.identification_block(arguments[0]);
        this.len_block = new local.length_block(arguments[0]);
        this.value_block = new local.value_block(arguments[0]);
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.ASN1_block.prototype = new local.base_block();
    in_window.org.pkijs.asn1.ASN1_block.constructor = in_window.org.pkijs.asn1.ASN1_block;
    //**************************************************************************************
    in_window.org.pkijs.asn1.ASN1_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "ASN1_block";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.ASN1_block.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        var result_offset = this.value_block.fromBER(input_buffer, input_offset, (this.len_block.is_indefinite_form == true) ? input_length : this.len_block.length);
        if(result_offset == (-1))
        {
            this.error = this.value_block.error;
            return result_offset;
        }

        if(this.id_block.error.length == 0)
            this.block_length += this.id_block.block_length;

        if(this.len_block.error.length == 0)
            this.block_length += this.len_block.block_length;

        if(this.value_block.error.length == 0)
            this.block_length += this.value_block.block_length;

        return result_offset;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.ASN1_block.prototype.toBER =
    function(size_only)
    {
        /// <summary>Encoding of current ASN.1 block into ASN.1 encoded array (BER rules)</summary>
        /// <param name="size_only" type="Boolean">Flag that we need only a size of encoding, not a real array of bytes</param>

        if(typeof size_only === "undefined")
            size_only = false;

        var ret_buf;

        var id_block_buf = this.id_block.toBER(size_only);
        var value_block_size_buf = this.value_block.toBER(true);

        this.len_block.length = value_block_size_buf.byteLength;
        var len_block_buf = this.len_block.toBER(size_only);

        ret_buf = util_concatbuf(id_block_buf, len_block_buf);

        var value_block_buf;

        if(size_only === false)
            value_block_buf = this.value_block.toBER(size_only);
        else
            value_block_buf = new ArrayBuffer(this.len_block.length);

        ret_buf = util_concatbuf(ret_buf, value_block_buf);

        if(this.len_block.is_indefinite_form === true)
        {
            var indef_buf = new ArrayBuffer(2);

            if(size_only === false)
            {
                var indef_view = new Uint8Array(indef_buf);

                indef_view[0] = 0x00;
                indef_view[1] = 0x00;
            }

            ret_buf = util_concatbuf(ret_buf, indef_buf);
        }

        return ret_buf;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.ASN1_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.base_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.ASN1_block.prototype.block_name.call(this);
        _object.id_block = this.id_block.toJSON();
        _object.len_block = this.len_block.toJSON();
        _object.value_block = this.value_block.toJSON();

        if("name" in this)
            _object.name = this.name;
        if("optional" in this)
            _object.optional = this.optional;
        if("primitive_schema" in this)
            _object.primitive_schema = this.primitive_schema.toJSON();

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of basic block for all PRIMITIVE types
    //**************************************************************************************
    local.ASN1_PRIMITIVE_value_block =
    function()
    {
        /// <summary>Base class of ASN.1 value block for primitive values (non-constructive encoding)</summary>

        local.value_block.call(this, arguments[0]);

        if(arguments[0] instanceof Object)
        {
            // #region Variables from "hex_block" class
            if("value_hex" in arguments[0])
                this.value_hex = util_copybuf(arguments[0].value_hex);
            else
                this.value_hex = new ArrayBuffer(0);

            this.is_hex_only = in_window.org.pkijs.getValue(arguments[0], "is_hex_only", true);
            // #endregion
        }
        else
        {
            // #region Variables from "hex_block" class
            this.value_hex = new ArrayBuffer(0);
            this.is_hex_only = true;
            // #endregion
        }
    }
    //**************************************************************************************
    local.ASN1_PRIMITIVE_value_block.prototype = new local.value_block();
    local.ASN1_PRIMITIVE_value_block.constructor = local.ASN1_PRIMITIVE_value_block;
    //**************************************************************************************
    local.ASN1_PRIMITIVE_value_block.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        // #region Basic check for parameters
        if(check_buffer_params.call(this, input_buffer, input_offset, input_length) === false)
            return (-1);
        // #endregion

        // #region Getting Uint8Array from ArrayBuffer
        var int_buffer = new Uint8Array(input_buffer, input_offset, input_length);
        // #endregion

        // #region Initial checks
        if(int_buffer.length == 0)
        {
            this.warnings.push("Zero buffer length");
            return input_offset;
        }
        // #endregion

        // #region Copy input buffer into internal buffer
        this.value_hex = new ArrayBuffer(int_buffer.length);
        var value_hex_view = new Uint8Array(this.value_hex);

        for(var i = 0; i < int_buffer.length; i++)
            value_hex_view[i] = int_buffer[i];
        // #endregion

        this.block_length = input_length;

        return (input_offset + input_length);
    }
    //**************************************************************************************
    local.ASN1_PRIMITIVE_value_block.prototype.toBER =
    function(size_only)
    {
        /// <summary>Encoding of current ASN.1 block into ASN.1 encoded array (BER rules)</summary>
        /// <param name="size_only" type="Boolean">Flag that we need only a size of encoding, not a real array of bytes</param>

        return util_copybuf(this.value_hex);
    }
    //**************************************************************************************
    local.ASN1_PRIMITIVE_value_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "ASN1_PRIMITIVE_value_block";
    }
    //**************************************************************************************
    local.ASN1_PRIMITIVE_value_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.value_block.prototype.toJSON.call(this);

        _object.block_name = local.ASN1_PRIMITIVE_value_block.prototype.block_name.call(this);
        _object.value_hex = in_window.org.pkijs.bufferToHexCodes(this.value_hex, 0, this.value_hex.byteLength);
        _object.is_hex_only = this.is_hex_only;

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.ASN1_PRIMITIVE =
    function()
    {
        /// <summary>Base class of ASN.1 block for primitive values (non-constructive encoding)</summary>

        in_window.org.pkijs.asn1.ASN1_block.call(this, arguments[0]);

        this.id_block.is_constructed = false;
        this.value_block = new local.ASN1_PRIMITIVE_value_block(arguments[0]);
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.ASN1_PRIMITIVE.prototype = new in_window.org.pkijs.asn1.ASN1_block();
    in_window.org.pkijs.asn1.ASN1_PRIMITIVE.constructor = in_window.org.pkijs.asn1.ASN1_PRIMITIVE;
    //**************************************************************************************
    in_window.org.pkijs.asn1.ASN1_PRIMITIVE.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "PRIMITIVE";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.ASN1_PRIMITIVE.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.ASN1_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.ASN1_PRIMITIVE.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of basic block for all CONSTRUCTED types
    //**************************************************************************************
    local.ASN1_CONSTRUCTED_value_block =
    function()
    {
        /// <summary>Base class of ASN.1 value block for constructive values (constructive encoding)</summary>

        local.value_block.call(this, arguments[0]);

        if(arguments[0] instanceof Object)
        {
            this.value = in_window.org.pkijs.getValue(arguments[0], "value", new Array());
            this.is_indefinite_form = in_window.org.pkijs.getValue(arguments[0], "is_indefinite_form", false);
        }
        else
        {
            this.value = new Array();
            this.is_indefinite_form = false;
        }
    }
    //**************************************************************************************
    local.ASN1_CONSTRUCTED_value_block.prototype = new local.value_block();
    local.ASN1_CONSTRUCTED_value_block.constructor = local.ASN1_CONSTRUCTED_value_block;
    //**************************************************************************************
    local.ASN1_CONSTRUCTED_value_block.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        // #region Store initial offset and length
        var initial_offset = input_offset;
        var initial_length = input_length;
        // #endregion

        // #region Basic check for parameters
        if(check_buffer_params.call(this, input_buffer, input_offset, input_length) === false)
            return (-1);
        // #endregion

        // #region Getting Uint8Array from ArrayBuffer
        var int_buffer = new Uint8Array(input_buffer, input_offset, input_length);
        // #endregion

        // #region Initial checks
        if(int_buffer.length == 0)
        {
            this.warnings.push("Zero buffer length");
            return input_offset;
        }
        // #endregion

        // #region Aux function
        function check_len(_indefinite_length, _length)
        {
            if(_indefinite_length == true)
                return 1;

            return _length;
        }
        // #endregion

        var current_offset = input_offset;

        while(check_len(this.is_indefinite_form, input_length) > 0)
        {
            var return_object = fromBER_raw(input_buffer, current_offset, input_length);
            if(return_object.offset == (-1))
            {
                this.error = return_object.result.error;
                this.warnings.concat(return_object.result.warnings);
                return (-1);
            }

            current_offset = return_object.offset;

            this.block_length += return_object.result.block_length;
            input_length -= return_object.result.block_length;

            this.value.push(return_object.result);

            if((this.is_indefinite_form == true) && (return_object.result.block_name() == in_window.org.pkijs.asn1.EOC.prototype.block_name()))
                break;
        }

        if(this.is_indefinite_form == true)
        {
            if(this.value[this.value.length - 1].block_name() == in_window.org.pkijs.asn1.EOC.prototype.block_name())
                this.value.pop();
            else
                this.warnings.push("No EOC block encoded");
        }

        // #region Copy "input_buffer" to "value_before_decode"
        this.value_before_decode = util_copybuf_offset(input_buffer, initial_offset, initial_length);
        // #endregion

        return current_offset;
    }
    //**************************************************************************************
    local.ASN1_CONSTRUCTED_value_block.prototype.toBER =
    function(size_only)
    {
        /// <summary>Encoding of current ASN.1 block into ASN.1 encoded array (BER rules)</summary>
        /// <param name="size_only" type="Boolean">Flag that we need only a size of encoding, not a real array of bytes</param>

        if(typeof size_only === "undefined")
            size_only = false;

        var ret_buf = new ArrayBuffer(0);

        for(var i = 0; i < this.value.length; i++)
        {
            var value_buf = this.value[i].toBER(size_only);
            ret_buf = util_concatbuf(ret_buf, value_buf);
        }

        return ret_buf;
    }
    //**************************************************************************************
    local.ASN1_CONSTRUCTED_value_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "ASN1_CONSTRUCTED_value_block";
    }
    //**************************************************************************************
    local.ASN1_CONSTRUCTED_value_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.value_block.prototype.toJSON.call(this);

        _object.block_name = local.ASN1_CONSTRUCTED_value_block.prototype.block_name.call(this);
        _object.is_indefinite_form = this.is_indefinite_form;
        _object.value = new Array();
        for(var i = 0; i < this.value.length; i++)
            _object.value.push(this.value[i].toJSON());

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.ASN1_CONSTRUCTED =
    function()
    {
        /// <summary>Base class of ASN.1 block for constructive values (constructive encoding)</summary>

        in_window.org.pkijs.asn1.ASN1_block.call(this, arguments[0]);

        this.id_block.is_constructed = true;
        this.value_block = new local.ASN1_CONSTRUCTED_value_block(arguments[0]);
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.ASN1_CONSTRUCTED.prototype = new in_window.org.pkijs.asn1.ASN1_block();
    in_window.org.pkijs.asn1.ASN1_CONSTRUCTED.constructor = in_window.org.pkijs.asn1.ASN1_CONSTRUCTED;
    //**************************************************************************************
    in_window.org.pkijs.asn1.ASN1_CONSTRUCTED.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "CONSTRUCTED";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.ASN1_CONSTRUCTED.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        this.value_block.is_indefinite_form = this.len_block.is_indefinite_form;

        var result_offset = this.value_block.fromBER(input_buffer, input_offset, (this.len_block.is_indefinite_form == true) ? input_length : this.len_block.length);
        if(result_offset == (-1))
        {
            this.error = this.value_block.error;
            return result_offset;
        }

        if(this.id_block.error.length == 0)
            this.block_length += this.id_block.block_length;

        if(this.len_block.error.length == 0)
            this.block_length += this.len_block.block_length;

        if(this.value_block.error.length == 0)
            this.block_length += this.value_block.block_length;

        return result_offset;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.ASN1_CONSTRUCTED.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.ASN1_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.ASN1_CONSTRUCTED.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of ASN.1 EOC type class
    //**************************************************************************************
    local.EOC_value_block =
    function()
    {
        local.value_block.call(this, arguments[0]);
    }
    //**************************************************************************************
    local.EOC_value_block.prototype = new local.value_block();
    local.EOC_value_block.constructor = local.EOC_value_block;
    //**************************************************************************************
    local.EOC_value_block.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        // #region There is no "value block" for EOC type and we need to return the same offset
        return input_offset;
        // #endregion
    }
    //**************************************************************************************
    local.EOC_value_block.prototype.toBER =
    function(size_only)
    {
        /// <summary>Encoding of current ASN.1 block into ASN.1 encoded array (BER rules)</summary>
        /// <param name="size_only" type="Boolean">Flag that we need only a size of encoding, not a real array of bytes</param>

        return (new ArrayBuffer(0));
    }
    //**************************************************************************************
    local.EOC_value_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "EOC_value_block";
    }
    //**************************************************************************************
    local.EOC_value_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.value_block.prototype.toJSON.call(this);

        _object.block_name = local.EOC_value_block.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.EOC =
    function()
    {
        in_window.org.pkijs.asn1.ASN1_block.call(this, arguments[0]);

        this.value_block = new local.EOC_value_block();

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 0; // EOC
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.EOC.prototype = new in_window.org.pkijs.asn1.ASN1_block();
    in_window.org.pkijs.asn1.EOC.constructor = local.EOC_value_block;
    //**************************************************************************************
    in_window.org.pkijs.asn1.EOC.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "END_OF_CONTENT";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.EOC.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.ASN1_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.EOC.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of ASN.1 BOOLEAN type class
    //**************************************************************************************
    local.BOOLEAN_value_block =
    function()
    {
        local.value_block.call(this, arguments[0]);

        if(arguments[0] instanceof Object)
        {
            this.value = in_window.org.pkijs.getValue(arguments[0], "value", false);

            // #region Variables from hex_block class
            this.is_hex_only = in_window.org.pkijs.getValue(arguments[0], "is_hex_only", false);
            if("value_hex" in arguments[0])
                this.value_hex = util_copybuf(arguments[0].value_hex);
            else
            {
                this.value_hex = new ArrayBuffer(1);
                if(this.value === true)
                {
                    var view = new Uint8Array(this.value_hex);
                    view[0] = 0xFF;
                }
            }
            // #endregion
        }
        else
        {
            this.value = false;

            // #region Variables from hex_block class
            this.is_hex_only = false;
            this.value_hex = new ArrayBuffer(1);
            // #endregion
        }
    }
    //**************************************************************************************
    local.BOOLEAN_value_block.prototype = new local.value_block();
    local.BOOLEAN_value_block.constructor = local.BOOLEAN_value_block;
    //**************************************************************************************
    local.BOOLEAN_value_block.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        // #region Basic check for parameters
        if(check_buffer_params.call(this, input_buffer, input_offset, input_length) === false)
            return (-1);
        // #endregion

        // #region Getting Uint8Array from ArrayBuffer
        var int_buffer = new Uint8Array(input_buffer, input_offset, input_length);
        // #endregion

        if(input_length > 1)
            this.warnings.push("BOOLEAN value encoded in more then 1 octet");

        if(int_buffer[0] == 0x00)
            this.value = false;
        else
            this.value = true;

        this.is_hex_only = true;

        // #region Copy input buffer to internal array
        this.value_hex = new ArrayBuffer(int_buffer.length);
        var view = new Uint8Array(this.value_hex);

        for(var i = 0; i < int_buffer.length; i++)
            view[i] = int_buffer[i];
        // #endregion

        this.block_length = input_length;

        return (input_offset + input_length);
    }
    //**************************************************************************************
    local.BOOLEAN_value_block.prototype.toBER =
    function(size_only)
    {
        /// <summary>Encoding of current ASN.1 block into ASN.1 encoded array (BER rules)</summary>
        /// <param name="size_only" type="Boolean">Flag that we need only a size of encoding, not a real array of bytes</param>

        if(typeof size_only === "undefined")
            size_only = false;

        return this.value_hex;
    }
    //**************************************************************************************
    local.BOOLEAN_value_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "BOOLEAN_value_block";
    }
    //**************************************************************************************
    local.BOOLEAN_value_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.value_block.prototype.toJSON.call(this);

        _object.block_name = local.BOOLEAN_value_block.prototype.block_name.call(this);
        _object.value = this.value;
        _object.is_hex_only = this.is_hex_only;
        _object.value_hex = in_window.org.pkijs.bufferToHexCodes(this.value_hex, 0, this.value_hex.byteLength)

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.BOOLEAN =
    function()
    {
        in_window.org.pkijs.asn1.ASN1_block.call(this, arguments[0]);

        this.value_block = new local.BOOLEAN_value_block(arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 1; // BOOLEAN
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.BOOLEAN.prototype = new in_window.org.pkijs.asn1.ASN1_block();
    in_window.org.pkijs.asn1.BOOLEAN.constructor = local.BOOLEAN_value_block;
    //**************************************************************************************
    in_window.org.pkijs.asn1.BOOLEAN.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "BOOLEAN";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.BOOLEAN.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.ASN1_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.BOOLEAN.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of ASN.1 SEQUENCE and SET type classes
    //**************************************************************************************
    in_window.org.pkijs.asn1.SEQUENCE =
    function()
    {
        in_window.org.pkijs.asn1.ASN1_CONSTRUCTED.call(this, arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 16; // SEQUENCE
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.SEQUENCE.prototype = new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED();
    in_window.org.pkijs.asn1.SEQUENCE.constructor = in_window.org.pkijs.asn1.SEQUENCE;
    //**************************************************************************************
    in_window.org.pkijs.asn1.SEQUENCE.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "SEQUENCE";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.SEQUENCE.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.ASN1_CONSTRUCTED.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.SEQUENCE.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.SET =
    function()
    {
        in_window.org.pkijs.asn1.ASN1_CONSTRUCTED.call(this, arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 17; // SET
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.SET.prototype = new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED();
    in_window.org.pkijs.asn1.SET.constructor = in_window.org.pkijs.asn1.SET;
    //**************************************************************************************
    in_window.org.pkijs.asn1.SET.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "SET";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.SET.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.ASN1_CONSTRUCTED.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.SET.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of ASN.1 NULL type class
    //**************************************************************************************
    in_window.org.pkijs.asn1.NULL =
    function()
    {
        in_window.org.pkijs.asn1.ASN1_block.call(this, arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 5; // NULL
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.NULL.prototype = new in_window.org.pkijs.asn1.ASN1_block();
    in_window.org.pkijs.asn1.NULL.constructor = in_window.org.pkijs.asn1.NULL;
    //**************************************************************************************
    in_window.org.pkijs.asn1.NULL.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "NULL";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.NULL.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        if(this.len_block.length > 0)
            this.warnings.push("Non-zero length of value block for NULL type");

        if(this.id_block.error.length === 0)
            this.block_length += this.id_block.block_length;

        if(this.len_block.error.length === 0)
            this.block_length += this.len_block.block_length;

        this.block_length += input_length;

        return (input_offset + input_length);
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.NULL.prototype.toBER =
    function(size_only)
    {
        /// <summary>Encoding of current ASN.1 block into ASN.1 encoded array (BER rules)</summary>
        /// <param name="size_only" type="Boolean">Flag that we need only a size of encoding, not a real array of bytes</param>

        if(typeof size_only === "undefined")
            size_only = false;

        var ret_buf = new ArrayBuffer(2);

        if(size_only === true)
            return ret_buf;

        var ret_view = new Uint8Array(ret_buf);
        ret_view[0] = 0x05;
        ret_view[1] = 0x00;

        return ret_buf;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.NULL.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.ASN1_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.NULL.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of ASN.1 OCTETSTRING type class
    //**************************************************************************************
    local.OCTETSTRING_value_block =
    function()
    {
        /// <param name="input_value_hex" type="ArrayBuffer"></param>
        /// <param name="input_value" type="Array"></param>
        /// <param name="input_constructed" type="Boolean"></param>
        /// <remarks>Value for the OCTETSTRING may be as hex, as well as a constructed value.</remarks>
        /// <remarks>Constructed values consists of other OCTETSTRINGs</remarks>

        local.ASN1_CONSTRUCTED_value_block.call(this, arguments[0]);

        if(arguments[0] instanceof Object)
        {
            this.is_constructed = in_window.org.pkijs.getValue(arguments[0], "is_constructed", false);

            // #region Variables from hex_block type
            this.is_hex_only = in_window.org.pkijs.getValue(arguments[0], "is_hex_only", false);
            if("value_hex" in arguments[0])
                this.value_hex = util_copybuf(arguments[0].value_hex);
            else
                this.value_hex = new ArrayBuffer(0);
            // #endregion
        }
        else
        {
            this.is_constructed = false;

            // #region Variables from hex_block type
            this.is_hex_only = false;
            this.value_hex = new ArrayBuffer(0);
            // #endregion
        }
    }
    //**************************************************************************************
    local.OCTETSTRING_value_block.prototype = new local.ASN1_CONSTRUCTED_value_block();
    local.OCTETSTRING_value_block.constructor = local.OCTETSTRING_value_block;
    //**************************************************************************************
    local.OCTETSTRING_value_block.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        var result_offset = 0;

        if(this.is_constructed == true)
        {
            this.is_hex_only = false;

            result_offset = local.ASN1_CONSTRUCTED_value_block.prototype.fromBER.call(this, input_buffer, input_offset, input_length);
            if(result_offset == (-1))
                return result_offset;

            for(var i = 0; i < this.value.length; i++)
            {
                var current_block_name = this.value[i].block_name();

                if(current_block_name == in_window.org.pkijs.asn1.EOC.prototype.block_name())
                {
                    if(this.is_indefinite_form == true)
                        break;
                    else
                    {
                        this.error = "EOC is unexpected, OCTET STRING may consists of OCTET STRINGs only";
                        return (-1);
                    }
                }

                if(current_block_name != in_window.org.pkijs.asn1.OCTETSTRING.prototype.block_name())
                {
                    this.error = "OCTET STRING may consists of OCTET STRINGs only";
                    return (-1);
                }
            }
        }
        else
        {
            this.is_hex_only = true;

            result_offset = local.hex_block.prototype.fromBER.call(this, input_buffer, input_offset, input_length);
            this.block_length = input_length;
        }

        return result_offset;
    }
    //**************************************************************************************
    local.OCTETSTRING_value_block.prototype.toBER =
    function(size_only)
    {
        /// <summary>Encoding of current ASN.1 block into ASN.1 encoded array (BER rules)</summary>
        /// <param name="size_only" type="Boolean">Flag that we need only a size of encoding, not a real array of bytes</param>

        if(typeof size_only === "undefined")
            size_only = false;

        if(this.is_constructed === true)
            return local.ASN1_CONSTRUCTED_value_block.prototype.toBER.call(this, size_only);
        else
        {
            var ret_buf = new ArrayBuffer(this.value_hex.byteLength);

            if(size_only === true)
                return ret_buf;

            if(this.value_hex.byteLength == 0)
                return ret_buf;

            ret_buf = util_copybuf(this.value_hex);

            return ret_buf;
        }

        return (new ArrayBuffer(0));
    }
    //**************************************************************************************
    local.OCTETSTRING_value_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "OCTETSTRING_value_block";
    }
    //**************************************************************************************
    local.OCTETSTRING_value_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.ASN1_CONSTRUCTED_value_block.prototype.toJSON.call(this);

        _object.block_name = local.OCTETSTRING_value_block.prototype.block_name.call(this);
        _object.is_constructed = this.is_constructed;
        _object.is_hex_only = this.is_hex_only;
        _object.value_hex = in_window.org.pkijs.bufferToHexCodes(this.value_hex, 0, this.value_hex.byteLength)

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.OCTETSTRING =
    function()
    {
        in_window.org.pkijs.asn1.ASN1_block.call(this, arguments[0]);

        this.value_block = new local.OCTETSTRING_value_block(arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 4; // OCTETSTRING
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.OCTETSTRING.prototype = new in_window.org.pkijs.asn1.ASN1_block();
    in_window.org.pkijs.asn1.OCTETSTRING.constructor = in_window.org.pkijs.asn1.OCTETSTRING;
    //**************************************************************************************
    in_window.org.pkijs.asn1.OCTETSTRING.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        this.value_block.is_constructed = this.id_block.is_constructed;
        this.value_block.is_indefinite_form = this.len_block.is_indefinite_form;

        // #region Ability to encode empty OCTET STRING
        if(input_length == 0)
        {
            if(this.id_block.error.length == 0)
                this.block_length += this.id_block.block_length;

            if(this.len_block.error.length == 0)
                this.block_length += this.len_block.block_length;

            return input_offset;
        }
        // #endregion

        return in_window.org.pkijs.asn1.ASN1_block.prototype.fromBER.call(this, input_buffer, input_offset, input_length);
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.OCTETSTRING.prototype.block_name =
    function()
    {
        return "OCTETSTRING";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.OCTETSTRING.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.ASN1_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.OCTETSTRING.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of ASN.1 BITSTRING type class
    //**************************************************************************************
    local.BITSTRING_value_block =
    function()
    {
        local.ASN1_CONSTRUCTED_value_block.call(this, arguments[0]);

        if(arguments[0] instanceof Object)
        {
            this.unused_bits = in_window.org.pkijs.getValue(arguments[0], "unused_bits", 0);
            this.is_constructed = in_window.org.pkijs.getValue(arguments[0], "is_constructed", false);

            // #region Variables from hex_block type
            this.is_hex_only = in_window.org.pkijs.getValue(arguments[0], "is_hex_only", false);

            if("value_hex" in arguments[0])
                this.value_hex = util_copybuf(arguments[0].value_hex);
            else
                this.value_hex = new ArrayBuffer(0);

            this.block_length = this.value_hex.byteLength;
            // #endregion
        }
        else
        {
            this.unused_bits = 0;
            this.is_constructed = false;

            // #region Variables from hex_block type
            this.is_hex_only = false;
            this.value_hex = new ArrayBuffer(0);
            // #endregion
        }
    }
    //**************************************************************************************
    local.BITSTRING_value_block.prototype = new local.ASN1_CONSTRUCTED_value_block();
    local.BITSTRING_value_block.constructor = local.BITSTRING_value_block;
    //**************************************************************************************
    local.BITSTRING_value_block.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        // #region Ability to decode zero-length BITSTRING value
        if(input_length == 0)
            return input_offset;
        // #endregion

        var result_offset = (-1);

        // #region If the BISTRING supposed to be a constructed value
        if(this.is_constructed == true)
        {
            result_offset = local.ASN1_CONSTRUCTED_value_block.prototype.fromBER.call(this, input_buffer, input_offset, input_length);
            if(result_offset == (-1))
                return result_offset;

            for(var i = 0; i < this.value.length; i++)
            {
                var current_block_name = this.value[i].block_name();

                if(current_block_name == in_window.org.pkijs.asn1.EOC.prototype.block_name())
                {
                    if(this.is_indefinite_form == true)
                        break;
                    else
                    {
                        this.error = "EOC is unexpected, BIT STRING may consists of BIT STRINGs only";
                        return (-1);
                    }
                }

                if(current_block_name != in_window.org.pkijs.asn1.BITSTRING.prototype.block_name())
                {
                    this.error = "BIT STRING may consists of BIT STRINGs only";
                    return (-1);
                }

                if((this.unused_bits > 0) && (this.value[i].unused_bits > 0))
                {
                    this.error = "Usign of \"unused bits\" inside constructive BIT STRING allowed for least one only";
                    return (-1);
                }
                else
                {
                    this.unused_bits = this.value[i].unused_bits;
                    if(this.unused_bits > 7)
                    {
                        this.error = "Unused bits for BITSTRING must be in range 0-7";
                        return (-1);
                    }
                }
            }

            return result_offset;
        }
            // #endregion
        // #region If the BITSTRING supposed to be a primitive value
        else
        {
            // #region Basic check for parameters
            if(check_buffer_params.call(this, input_buffer, input_offset, input_length) === false)
                return (-1);
            // #endregion

            var int_buffer = new Uint8Array(input_buffer, input_offset, input_length);

            this.unused_bits = int_buffer[0];
            if(this.unused_bits > 7)
            {
                this.error = "Unused bits for BITSTRING must be in range 0-7";
                return (-1);
            }

            // #region Copy input buffer to internal buffer
            this.value_hex = new ArrayBuffer(int_buffer.length - 1);
            var view = new Uint8Array(this.value_hex);
            for(var i = 0; i < (input_length - 1) ; i++)
                view[i] = int_buffer[i + 1];
            // #endregion

            this.block_length = int_buffer.length;

            return (input_offset + input_length);
        }
        // #endregion
    }
    //**************************************************************************************
    local.BITSTRING_value_block.prototype.toBER =
    function(size_only)
    {
        /// <summary>Encoding of current ASN.1 block into ASN.1 encoded array (BER rules)</summary>
        /// <param name="size_only" type="Boolean">Flag that we need only a size of encoding, not a real array of bytes</param>

        if(typeof size_only === "undefined")
            size_only = false;

        if(this.is_constructed === true)
            return local.ASN1_CONSTRUCTED_value_block.prototype.toBER.call(this, size_only);
        else
        {
            if(size_only === true)
                return (new ArrayBuffer(this.value_hex.byteLength + 1));

            if(this.value_hex.byteLength == 0)
                return (new ArrayBuffer(0));

            var cur_view = new Uint8Array(this.value_hex);

            var ret_buf = new ArrayBuffer(this.value_hex.byteLength + 1);
            var ret_view = new Uint8Array(ret_buf);

            ret_view[0] = this.unused_bits;

            for(var i = 0; i < this.value_hex.byteLength; i++)
                ret_view[i + 1] = cur_view[i];

            return ret_buf;
        }

        return (new ArrayBuffer(0));
    }
    //**************************************************************************************
    local.BITSTRING_value_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "BITSTRING_value_block";
    }
    //**************************************************************************************
    local.BITSTRING_value_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.ASN1_CONSTRUCTED_value_block.prototype.toJSON.call(this);

        _object.block_name = local.BITSTRING_value_block.prototype.block_name.call(this);
        _object.unused_bits = this.unused_bits;
        _object.is_constructed = this.is_constructed;
        _object.is_hex_only = this.is_hex_only;
        _object.value_hex = in_window.org.pkijs.bufferToHexCodes(this.value_hex, 0, this.value_hex.byteLength)

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.BITSTRING =
    function()
    {
        in_window.org.pkijs.asn1.ASN1_block.call(this, arguments[0]);

        this.value_block = new local.BITSTRING_value_block(arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 3; // BITSTRING
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.BITSTRING.prototype = new in_window.org.pkijs.asn1.ASN1_block();
    in_window.org.pkijs.asn1.BITSTRING.constructor = in_window.org.pkijs.asn1.BITSTRING;
    //**************************************************************************************
    in_window.org.pkijs.asn1.BITSTRING.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "BITSTRING";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.BITSTRING.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        // #region Ability to encode empty BITSTRING
        if(input_length == 0)
            return input_offset;
        // #endregion

        this.value_block.is_constructed = this.id_block.is_constructed;
        this.value_block.is_indefinite_form = this.len_block.is_indefinite_form;

        return in_window.org.pkijs.asn1.ASN1_block.prototype.fromBER.call(this, input_buffer, input_offset, input_length);
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.BITSTRING.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.ASN1_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.BITSTRING.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of ASN.1 INTEGER type class
    //**************************************************************************************
    local.INTEGER_value_block =
    function()
    {
        local.value_block.call(this, arguments[0]);

        if(arguments[0] instanceof Object)
        {
            this.value_dec = in_window.org.pkijs.getValue(arguments[0], "value", 0);

            // #region Variables from hex_block type
            this.is_hex_only = in_window.org.pkijs.getValue(arguments[0], "is_hex_only", false);
            if("value_hex" in arguments[0])
            {
                this.value_hex = util_copybuf(arguments[0].value_hex);

                if(this.value_hex.byteLength >= 4) // Dummy's protection
                    this.is_hex_only = true;
                else
                    this.value_dec = util_decode_tc.call(this);
            }
            else
                this.value_hex = util_encode_tc(this.value_dec);
            // #endregion
        }
        else
        {
            this.value_dec = 0;

            // #region Variables from hex_block type
            this.is_hex_only = false;
            this.value_hex = new ArrayBuffer(0);
            // #endregion
        }
    }
    //**************************************************************************************
    local.INTEGER_value_block.prototype = new local.value_block();
    local.INTEGER_value_block.constructor = local.INTEGER_value_block;
    //**************************************************************************************
    local.INTEGER_value_block.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        var result_offset = local.hex_block.prototype.fromBER.call(this, input_buffer, input_offset, input_length);
        if(result_offset == (-1))
            return result_offset;

        if(this.value_hex.byteLength > 4) // In JavaScript we can effectively work with 32-bit integers only
        {
            this.warnings.push("Too big INTEGER for decoding, hex only");
            this.is_hex_only = true;
        }
        else
            this.value_dec = util_decode_tc.call(this);

        this.block_length = input_length;

        return (input_offset + input_length);
    }
    //**************************************************************************************
    local.INTEGER_value_block.prototype.toBER =
    function(size_only)
    {
        /// <summary>Encoding of current ASN.1 block into ASN.1 encoded array (BER rules)</summary>
        /// <param name="size_only" type="Boolean">Flag that we need only a size of encoding, not a real array of bytes</param>

        if(typeof size_only === "undefined")
            size_only = false;

        if(this.is_hex_only === false)
        {
            var encoded_buf = util_encode_tc(this.value_dec);
            if(encoded_buf.byteLength == 0)
            {
                this.error = "Error during encoding INTEGER value";
                return (new ArrayBuffer(0));
            }

            return util_copybuf(encoded_buf);
        }
        else
            return util_copybuf(this.value_hex);

        return (new ArrayBuffer(0));
    }
    //**************************************************************************************
    local.INTEGER_value_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "INTEGER_value_block";
    }
    //**************************************************************************************
    local.INTEGER_value_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.value_block.prototype.toJSON.call(this);

        _object.block_name = local.INTEGER_value_block.prototype.block_name.call(this);
        _object.value_dec = this.value_dec;
        _object.is_hex_only = this.is_hex_only;
        _object.value_hex = in_window.org.pkijs.bufferToHexCodes(this.value_hex, 0, this.value_hex.byteLength)

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.INTEGER =
    function()
    {
        in_window.org.pkijs.asn1.ASN1_block.call(this, arguments[0]);

        this.value_block = new local.INTEGER_value_block(arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 2; // INTEGER
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.INTEGER.prototype = new in_window.org.pkijs.asn1.ASN1_block();
    in_window.org.pkijs.asn1.INTEGER.constructor = in_window.org.pkijs.asn1.INTEGER;
    //**************************************************************************************
    in_window.org.pkijs.asn1.INTEGER.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "INTEGER";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.INTEGER.prototype.isEqual =
    function()
    {
        /// <summary>Compare two INTEGER object, or INTEGER and ArrayBuffer objects</summary>
        /// <returns type="Boolean"></returns>

        if(arguments[0] instanceof in_window.org.pkijs.asn1.INTEGER)
        {
            if(this.value_block.is_hex_only && arguments[0].value_block.is_hex_only) // Compare two ArrayBuffers
                return in_window.org.pkijs.isEqual_buffer(this.value_block.value_hex, arguments[0].value_block.value_hex);
            else
            {
                if(this.value_block.is_hex_only === arguments[0].value_block.is_hex_only)
                    return (this.value_block.value_dec == arguments[0].value_block.value_dec);
                else
                    return false;
            }
        }
        else
        {
            if(arguments[0] instanceof ArrayBuffer)
                return in_window.org.pkijs.isEqual_buffer(this.value_block.value_hex, arguments[0].value_block.value_hex);
            else
                return false;
        }

        return false;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.INTEGER.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.ASN1_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.INTEGER.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of ASN.1 ENUMERATED type class
    //**************************************************************************************
    in_window.org.pkijs.asn1.ENUMERATED =
    function()
    {
        in_window.org.pkijs.asn1.INTEGER.call(this, arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 10; // ENUMERATED
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.ENUMERATED.prototype = new in_window.org.pkijs.asn1.INTEGER();
    in_window.org.pkijs.asn1.ENUMERATED.constructor = in_window.org.pkijs.asn1.ENUMERATED;
    //**************************************************************************************
    in_window.org.pkijs.asn1.ENUMERATED.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "ENUMERATED";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.ENUMERATED.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.INTEGER.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.ENUMERATED.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of ASN.1 OBJECT IDENTIFIER type class
    //**************************************************************************************
    local.SID_value_block =
    function()
    {
        local.hex_block.call(this, arguments[0]);

        if(arguments[0] instanceof Object)
        {
            this.value_dec = in_window.org.pkijs.getValue(arguments[0], "value_dec", -1);
            this.is_first_sid = in_window.org.pkijs.getValue(arguments[0], "is_first_sid", false);
        }
        else
        {
            this.value_dec = (-1);
            this.is_first_sid = false;
        }
    }
    //**************************************************************************************
    local.SID_value_block.prototype = new local.hex_block();
    local.SID_value_block.constructor = local.SID_value_block;
    //**************************************************************************************
    local.SID_value_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "sid_block";
    }
    //**************************************************************************************
    local.SID_value_block.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        if(input_length == 0)
            return input_offset;

        // #region Basic check for parameters
        if(check_buffer_params.call(this, input_buffer, input_offset, input_length) === false)
            return (-1);
        // #endregion

        var int_buffer = new Uint8Array(input_buffer, input_offset, input_length);

        this.value_hex = new ArrayBuffer(input_length);
        var view = new Uint8Array(this.value_hex);

        for(var i = 0; i < input_length; i++)
        {
            view[i] = int_buffer[i] & 0x7F;

            this.block_length++;

            if((int_buffer[i] & 0x80) == 0x00)
                break;
        }

        // #region Ajust size of value_hex buffer
        var temp_value_hex = new ArrayBuffer(this.block_length);
        var temp_view = new Uint8Array(temp_value_hex);

        for(var i = 0; i < this.block_length; i++)
            temp_view[i] = view[i];

        this.value_hex = util_copybuf(temp_value_hex);
        view = new Uint8Array(this.value_hex);
        // #endregion

        if((int_buffer[this.block_length - 1] & 0x80) != 0x00)
        {
            this.error = "End of input reached before message was fully decoded";
            return (-1);
        }

        if(view[0] == 0x00)
            this.warnings.push("Needlessly long format of SID encoding");

        if(this.block_length <= 8)
            this.value_dec = util_frombase(view, 7);
        else
        {
            this.is_hex_only = true;
            this.warnings.push("Too big SID for decoding, hex only");
        }

        return (input_offset + this.block_length);
    }
    //**************************************************************************************
    local.SID_value_block.prototype.toBER =
    function(size_only)
    {
        /// <summary>Encoding of current ASN.1 block into ASN.1 encoded array (BER rules)</summary>
        /// <param name="size_only" type="Boolean">Flag that we need only a size of encoding, not a real array of bytes</param>

        if(typeof size_only === "undefined")
            size_only = false;

        if(this.is_hex_only)
        {
            if(size_only === true)
                return (new ArrayBuffer(this.value_hex.byteLength));

            var cur_view = new Uint8Array(this.value_hex);

            var ret_buf = new ArrayBuffer(this.block_length);
            var ret_view = new Uint8Array(ret_buf);

            for(var i = 0; i < ( this.block_length - 1 ); i++ )
                ret_view[i] = cur_view[i] | 0x80;

            ret_view[this.block_length - 1] = cur_view[this.block_length - 1];
        }

        var encoded_buf = util_tobase(this.value_dec, 7);
        if(encoded_buf.byteLength === 0)
        {
            this.error = "Error during encoding SID value";
            return (new ArrayBuffer(0));
        }

        var ret_buf = new ArrayBuffer(encoded_buf.byteLength);

        if(size_only === false)
        {
            var encoded_view = new Uint8Array(encoded_buf);
            var ret_view = new Uint8Array(ret_buf);

            for(var i = 0; i < (encoded_buf.byteLength - 1) ; i++)
                ret_view[i] = encoded_view[i] | 0x80;

            ret_view[encoded_buf.byteLength - 1] = encoded_view[encoded_buf.byteLength - 1];
        }

        return ret_buf;
    }
    //**************************************************************************************
    local.SID_value_block.prototype.toString =
    function()
    {
        var result = "";

        if(this.is_hex_only === true)
            result = to_hex_codes(this.value_hex);
        else
        {
            if(this.is_first_sid)
            {
                var sid_value = this.value_dec;

                if(this.value_dec <= 39)
                    result = "0.";
                else
                {
                    if(this.value_dec <= 79)
                    {
                        result = "1.";
                        sid_value -= 40;
                    }
                    else
                    {
                        result = "2.";
                        sid_value -= 80;
                    }
                }

                result = result + sid_value.toString();
            }
            else
                result = this.value_dec.toString();
        }

        return result;
    }
    //**************************************************************************************
    local.SID_value_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.hex_block.prototype.toJSON.call(this);

        _object.block_name = local.SID_value_block.prototype.block_name.call(this);
        _object.value_dec = this.value_dec;
        _object.is_first_sid = this.is_first_sid;

        return _object;
    }
    //**************************************************************************************
    local.OID_value_block =
    function()
    {
        local.value_block.call(this, arguments[0]);

        this.value = new Array();

        if(arguments[0] instanceof Object)
            this.fromString(in_window.org.pkijs.getValue(arguments[0], "value", ""));
    }
    //**************************************************************************************
    local.OID_value_block.prototype = new local.value_block();
    local.OID_value_block.constructor = local.OID_value_block;
    //**************************************************************************************
    local.OID_value_block.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        var result_offset = input_offset;

        while(input_length > 0)
        {
            var sid_block = new local.SID_value_block();
            result_offset = sid_block.fromBER(input_buffer, result_offset, input_length);
            if(result_offset == (-1))
            {
                this.block_length = 0;
                this.error = sid_block.error;
                return result_offset;
            }

            if(this.value.length == 0)
                sid_block.is_first_sid = true;

            this.block_length += sid_block.block_length;
            input_length -= sid_block.block_length;

            this.value.push(sid_block);
        }

        return result_offset;
    }
    //**************************************************************************************
    local.OID_value_block.prototype.toBER =
    function(size_only)
    {
        /// <summary>Encoding of current ASN.1 block into ASN.1 encoded array (BER rules)</summary>
        /// <param name="size_only" type="Boolean">Flag that we need only a size of encoding, not a real array of bytes</param>

        if(typeof size_only === "undefined")
            size_only = false;

        var ret_buf = new ArrayBuffer(0);

        for(var i = 0; i < this.value.length; i++)
        {
            var value_buf = this.value[i].toBER(size_only);
            if(value_buf.byteLength === 0)
            {
                this.error = this.value[i].error;
                return (new ArrayBuffer(0));
            }

            ret_buf = util_concatbuf(ret_buf, value_buf);
        }

        return ret_buf;
    }
    //**************************************************************************************
    local.OID_value_block.prototype.fromString =
    function(str)
    {
        this.value = new Array(); // Clear existing SID values

        var pos1 = 0;
        var pos2 = 0;

        var sid = "";

        var flag = false;

        do
        {
            pos2 = str.indexOf('.', pos1);
            if(pos2 === (-1))
                sid = str.substr(pos1);
            else
                sid = str.substr(pos1, pos2 - pos1);

            pos1 = pos2 + 1;

            if(flag)
            {
                var sid_block = this.value[0];

                var plus = 0;

                switch(sid_block.value_dec)
                {
                    case 0:
                        break;
                    case 1:
                        plus = 40;
                        break;
                    case 2:
                        plus = 80;
                        break;
                    default:
                        this.value = new Array(); // clear SID array
                        return false; // ???
                }

                var parsedSID = parseInt(sid, 10);
                if(Number.isNaN(parsedSID))
                    return true;

                sid_block.value_dec = parsedSID + plus;

                flag = false;
            }
            else
            {
                var sid_block = new local.SID_value_block();
                sid_block.value_dec = parseInt(sid, 10);
                if(Number.isNaN(sid_block.value_dec))
                    return true;

                if(this.value.length === 0)
                {
                    sid_block.is_first_sid = true;
                    flag = true;
                }

                this.value.push(sid_block);
            }

        } while(pos2 !== (-1));

        return true;
    }
    //**************************************************************************************
    local.OID_value_block.prototype.toString =
    function()
    {
        var result = "";
        var is_hex_only = false;

        for(var i = 0; i < this.value.length; i++)
        {
            is_hex_only = this.value[i].is_hex_only;

            var sid_str = this.value[i].toString();

            if(i !== 0)
                result = result + ".";

            if(is_hex_only)
            {
                sid_str = "{" + sid_str + "}";

                if(this.value[i].is_first_sid)
                    result = "2.{" + sid_str + " - 80}";
                else
                    result = result + sid_str;
            }
            else
                result = result + sid_str;
        }

        return result;
    }
    //**************************************************************************************
    local.OID_value_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "OID_value_block";
    }
    //**************************************************************************************
    local.OID_value_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.value_block.prototype.toJSON.call(this);

        _object.block_name = local.OID_value_block.prototype.block_name.call(this);
        _object.value = local.OID_value_block.prototype.toString.call(this);
        _object.sid_array = new Array();
        for(var i = 0; i < this.value.length; i++)
            _object.sid_array.push(this.value[i].toJSON());

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.OID =
    function()
    {
        in_window.org.pkijs.asn1.ASN1_block.call(this, arguments[0]);

        this.value_block = new local.OID_value_block(arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 6; // OBJECT IDENTIFIER
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.OID.prototype = new in_window.org.pkijs.asn1.ASN1_block();
    in_window.org.pkijs.asn1.OID.constructor = in_window.org.pkijs.asn1.OID;
    //**************************************************************************************
    in_window.org.pkijs.asn1.OID.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "OID";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.OID.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.ASN1_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.OID.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of all string's classes
    //**************************************************************************************
    local.UTF8STRING_value_block =
    function()
    {
        local.hex_block.call(this, arguments[0]);

        this.is_hex_only = true;
        this.value = ""; // String representation of decoded ArrayBuffer
    }
    //**************************************************************************************
    local.UTF8STRING_value_block.prototype = new local.hex_block();
    local.UTF8STRING_value_block.constructor = local.UTF8STRING_value_block;
    //**************************************************************************************
    local.UTF8STRING_value_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "UTF8STRING_value_block";
    }
    //**************************************************************************************
    local.UTF8STRING_value_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.hex_block.prototype.toJSON.call(this);

        _object.block_name = local.UTF8STRING_value_block.prototype.block_name.call(this);
        _object.value = this.value;

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTF8STRING =
    function()
    {
        in_window.org.pkijs.asn1.ASN1_block.call(this, arguments[0]);

        this.value_block = new local.UTF8STRING_value_block();

        if(arguments[0] instanceof Object)
        {
            if("value" in arguments[0])
                in_window.org.pkijs.asn1.UTF8STRING.prototype.fromString.call(this,arguments[0].value);
        }

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 12; // UTF8STRING
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTF8STRING.prototype = new in_window.org.pkijs.asn1.ASN1_block();
    in_window.org.pkijs.asn1.UTF8STRING.constructor = in_window.org.pkijs.asn1.UTF8STRING;
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTF8STRING.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "UTF8STRING";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTF8STRING.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        var result_offset = this.value_block.fromBER(input_buffer, input_offset, (this.len_block.is_indefinite_form == true) ? input_length : this.len_block.length);
        if(result_offset == (-1))
        {
            this.error = this.value_block.error;
            return result_offset;
        }

        in_window.org.pkijs.asn1.UTF8STRING.prototype.fromBuffer.call(this, this.value_block.value_hex);

        if(this.id_block.error.length == 0)
            this.block_length += this.id_block.block_length;

        if(this.len_block.error.length == 0)
            this.block_length += this.len_block.block_length;

        if(this.value_block.error.length == 0)
            this.block_length += this.value_block.block_length;

        return result_offset;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTF8STRING.prototype.fromBuffer =
    function(input_buffer)
    {
        /// <param name="input_buffer" type="ArrayBuffer">Array with encoded string</param>
        this.value_block.value = String.fromCharCode.apply(null, new Uint8Array(input_buffer));

        try
        {
            this.value_block.value = decodeURIComponent(escape(this.value_block.value));
        }
        catch(ex)
        {
            this.warnings.push("Error during \"decodeURIComponent\": " + ex + ", using raw string");
        }
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTF8STRING.prototype.fromString =
    function(input_string)
    {
        /// <param name="input_string" type="String">String with UNIVERSALSTRING value</param>

        var str = unescape(encodeURIComponent(input_string));
        var str_len = str.length;

        this.value_block.value_hex = new ArrayBuffer(str_len);
        var view = new Uint8Array(this.value_block.value_hex);

        for(var i = 0; i < str_len; i++)
            view[i] = str.charCodeAt(i);

        this.value_block.value = input_string;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTF8STRING.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.ASN1_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.UTF8STRING.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    local.BMPSTRING_value_block =
    function()
    {
        local.hex_block.call(this, arguments[0]);

        this.is_hex_only = true;
        this.value = "";
    }
    //**************************************************************************************
    local.BMPSTRING_value_block.prototype = new local.hex_block();
    local.BMPSTRING_value_block.constructor = local.BMPSTRING_value_block;
    //**************************************************************************************
    local.BMPSTRING_value_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "BMPSTRING_value_block";
    }
    //**************************************************************************************
    local.BMPSTRING_value_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.hex_block.prototype.toJSON.call(this);

        _object.block_name = local.BMPSTRING_value_block.prototype.block_name.call(this);
        _object.value = this.value;

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.BMPSTRING =
    function()
    {
        in_window.org.pkijs.asn1.ASN1_block.call(this, arguments[0]);

        this.value_block = new local.BMPSTRING_value_block();

        if(arguments[0] instanceof Object)
        {
            if("value" in arguments[0])
                in_window.org.pkijs.asn1.BMPSTRING.prototype.fromString.call(this, arguments[0].value);
        }

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 30; // BMPSTRING
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.BMPSTRING.prototype = new in_window.org.pkijs.asn1.ASN1_block();
    in_window.org.pkijs.asn1.BMPSTRING.constructor = in_window.org.pkijs.asn1.BMPSTRING;
    //**************************************************************************************
    in_window.org.pkijs.asn1.BMPSTRING.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "BMPSTRING";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.BMPSTRING.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        var result_offset = this.value_block.fromBER(input_buffer, input_offset, (this.len_block.is_indefinite_form == true) ? input_length : this.len_block.length);
        if(result_offset == (-1))
        {
            this.error = this.value_block.error;
            return result_offset;
        }

        in_window.org.pkijs.asn1.BMPSTRING.prototype.fromBuffer.call(this, this.value_block.value_hex);

        if(this.id_block.error.length == 0)
            this.block_length += this.id_block.block_length;

        if(this.len_block.error.length == 0)
            this.block_length += this.len_block.block_length;

        if(this.value_block.error.length == 0)
            this.block_length += this.value_block.block_length;

        return result_offset;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.BMPSTRING.prototype.fromBuffer =
    function(input_buffer)
    {
        /// <param name="input_buffer" type="ArrayBuffer">Array with encoded string</param>

        var copy_buffer = in_window.org.pkijs.copyBuffer(input_buffer);

        var value_view = new Uint8Array(copy_buffer);

        for(var i = 0; i < value_view.length; i = i + 2)
        {
            var temp = value_view[i];

            value_view[i] = value_view[i + 1];
            value_view[i + 1] = temp;
        }

        this.value_block.value = String.fromCharCode.apply(null, new Uint16Array(copy_buffer));
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.BMPSTRING.prototype.fromString =
    function(input_string)
    {
        /// <param name="input_string" type="String">String with UNIVERSALSTRING value</param>

        var str_length = input_string.length;

        this.value_block.value_hex = new ArrayBuffer(str_length * 2);
        var value_hex_view = new Uint8Array(this.value_block.value_hex);

        for(var i = 0; i < str_length; i++)
        {
            var code_buf = util_tobase(input_string.charCodeAt(i), 8);
            var code_view = new Uint8Array(code_buf);
            if(code_view.length > 2)
                continue;

            var dif = 2 - code_view.length;

            for(var j = (code_view.length - 1) ; j >= 0; j--)
                value_hex_view[i * 2 + j + dif] = code_view[j];
        }

        this.value_block.value = input_string;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.BMPSTRING.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.ASN1_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.BMPSTRING.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    local.UNIVERSALSTRING_value_block =
    function()
    {
        local.hex_block.call(this, arguments[0]);

        this.is_hex_only = true;
        this.value = "";
    }
    //**************************************************************************************
    local.UNIVERSALSTRING_value_block.prototype = new local.hex_block();
    local.UNIVERSALSTRING_value_block.constructor = local.UNIVERSALSTRING_value_block;
    //**************************************************************************************
    local.UNIVERSALSTRING_value_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "UNIVERSALSTRING_value_block";
    }
    //**************************************************************************************
    local.UNIVERSALSTRING_value_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.hex_block.prototype.toJSON.call(this);

        _object.block_name = local.UNIVERSALSTRING_value_block.prototype.block_name.call(this);
        _object.value = this.value;

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UNIVERSALSTRING =
    function()
    {
        in_window.org.pkijs.asn1.ASN1_block.call(this, arguments[0]);

        this.value_block = new local.UNIVERSALSTRING_value_block();

        if(arguments[0] instanceof Object)
        {
            if("value" in arguments[0])
                in_window.org.pkijs.asn1.UNIVERSALSTRING.prototype.fromString.call(this, arguments[0].value);
        }

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 28; // UNIVERSALSTRING
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UNIVERSALSTRING.prototype = new in_window.org.pkijs.asn1.ASN1_block();
    in_window.org.pkijs.asn1.UNIVERSALSTRING.constructor = in_window.org.pkijs.asn1.UNIVERSALSTRING;
    //**************************************************************************************
    in_window.org.pkijs.asn1.UNIVERSALSTRING.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "UNIVERSALSTRING";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UNIVERSALSTRING.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        var result_offset = this.value_block.fromBER(input_buffer, input_offset, (this.len_block.is_indefinite_form == true) ? input_length : this.len_block.length);
        if(result_offset == (-1))
        {
            this.error = this.value_block.error;
            return result_offset;
        }

        in_window.org.pkijs.asn1.UNIVERSALSTRING.prototype.fromBuffer.call(this, this.value_block.value_hex);

        if(this.id_block.error.length == 0)
            this.block_length += this.id_block.block_length;

        if(this.len_block.error.length == 0)
            this.block_length += this.len_block.block_length;

        if(this.value_block.error.length == 0)
            this.block_length += this.value_block.block_length;

        return result_offset;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UNIVERSALSTRING.prototype.fromBuffer =
    function(input_buffer)
    {
        /// <param name="input_buffer" type="ArrayBuffer">Array with encoded string</param>

        var copy_buffer = in_window.org.pkijs.copyBuffer(input_buffer);

        var value_view = new Uint8Array(copy_buffer);

        for(var i = 0; i < value_view.length; i = i + 4)
        {
            value_view[i] = value_view[i + 3];
            value_view[i + 1] = value_view[i + 2];
            value_view[i + 2] = 0x00;
            value_view[i + 3] = 0x00;
        }

        this.value_block.value = String.fromCharCode.apply(null, new Uint32Array(copy_buffer));
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UNIVERSALSTRING.prototype.fromString =
    function(input_string)
    {
        /// <param name="input_string" type="String">String with UNIVERSALSTRING value</param>

        var str_length = input_string.length;

        this.value_block.value_hex = new ArrayBuffer(str_length * 4);
        var value_hex_view = new Uint8Array(this.value_block.value_hex);

        for(var i = 0; i < str_length; i++)
        {
            var code_buf = util_tobase(input_string.charCodeAt(i), 8);
            var code_view = new Uint8Array(code_buf);
            if(code_view.length > 4)
                continue;

            var dif = 4 - code_view.length;

            for(var j = (code_view.length - 1) ; j >= 0; j--)
                value_hex_view[i*4 + j + dif] = code_view[j];
        }

        this.value_block.value = input_string;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UNIVERSALSTRING.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.ASN1_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.UNIVERSALSTRING.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    local.SIMPLESTRING_value_block =
    function()
    {
        local.hex_block.call(this, arguments[0]);

        /// <field type="String">Native string representation</field>
        this.value = "";
        this.is_hex_only = true;
    }
    //**************************************************************************************
    local.SIMPLESTRING_value_block.prototype = new local.hex_block();
    local.SIMPLESTRING_value_block.constructor = local.SIMPLESTRING_value_block;
    //**************************************************************************************
    local.SIMPLESTRING_value_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "SIMPLESTRING_value_block";
    }
    //**************************************************************************************
    local.SIMPLESTRING_value_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.hex_block.prototype.toJSON.call(this);

        _object.block_name = local.SIMPLESTRING_value_block.prototype.block_name.call(this);
        _object.value = this.value;

        return _object;
    }
    //**************************************************************************************
    local.SIMPLESTRING_block =
    function()
    {
        in_window.org.pkijs.asn1.ASN1_block.call(this, arguments[0]);

        this.value_block = new local.SIMPLESTRING_value_block();

        if(arguments[0] instanceof Object)
        {
            if("value" in arguments[0])
                local.SIMPLESTRING_block.prototype.fromString.call(this, arguments[0].value);
        }
    }
    //**************************************************************************************
    local.SIMPLESTRING_block.prototype = new in_window.org.pkijs.asn1.ASN1_block();
    local.SIMPLESTRING_block.constructor = local.SIMPLESTRING_block;
    //**************************************************************************************
    local.SIMPLESTRING_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "SIMPLESTRING";
    }
    //**************************************************************************************
    local.SIMPLESTRING_block.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        var result_offset = this.value_block.fromBER(input_buffer, input_offset, (this.len_block.is_indefinite_form == true) ? input_length : this.len_block.length);
        if(result_offset == (-1))
        {
            this.error = this.value_block.error;
            return result_offset;
        }

        local.SIMPLESTRING_block.prototype.fromBuffer.call(this, this.value_block.value_hex);

        if(this.id_block.error.length == 0)
            this.block_length += this.id_block.block_length;

        if(this.len_block.error.length == 0)
            this.block_length += this.len_block.block_length;

        if(this.value_block.error.length == 0)
            this.block_length += this.value_block.block_length;

        return result_offset;
    }
    //**************************************************************************************
    local.SIMPLESTRING_block.prototype.fromBuffer =
    function(input_buffer)
    {
        /// <param name="input_buffer" type="ArrayBuffer">Array with encoded string</param>

        this.value_block.value = String.fromCharCode.apply(null, new Uint8Array(input_buffer));
    }
    //**************************************************************************************
    local.SIMPLESTRING_block.prototype.fromString =
    function(input_string)
    {
        /// <param name="input_string" type="String">String with UNIVERSALSTRING value</param>
        var str_len = input_string.length;

        this.value_block.value_hex = new ArrayBuffer(str_len);
        var view = new Uint8Array(this.value_block.value_hex);

        for(var i = 0; i < str_len; i++)
            view[i] = input_string.charCodeAt(i);

        this.value_block.value = input_string;
    }
    //**************************************************************************************
    local.SIMPLESTRING_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.ASN1_block.prototype.toJSON.call(this);

        _object.block_name = local.SIMPLESTRING_block.prototype.block_name.call(this);
        _object.block_name = local.value_block.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.NUMERICSTRING =
    function()
    {
        local.SIMPLESTRING_block.call(this, arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 18; // NUMERICSTRING
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.NUMERICSTRING.prototype = new local.SIMPLESTRING_block();
    in_window.org.pkijs.asn1.NUMERICSTRING.constructor = in_window.org.pkijs.asn1.NUMERICSTRING;
    //**************************************************************************************
    in_window.org.pkijs.asn1.NUMERICSTRING.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "NUMERICSTRING";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.NUMERICSTRING.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.SIMPLESTRING_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.NUMERICSTRING.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.PRINTABLESTRING =
    function()
    {
        local.SIMPLESTRING_block.call(this, arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 19; // PRINTABLESTRING
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.PRINTABLESTRING.prototype = new local.SIMPLESTRING_block();
    in_window.org.pkijs.asn1.PRINTABLESTRING.constructor = in_window.org.pkijs.asn1.PRINTABLESTRING;
    //**************************************************************************************
    in_window.org.pkijs.asn1.PRINTABLESTRING.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "PRINTABLESTRING";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.PRINTABLESTRING.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.SIMPLESTRING_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.PRINTABLESTRING.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.TELETEXSTRING =
    function()
    {
        local.SIMPLESTRING_block.call(this, arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 20; // TELETEXSTRING
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.TELETEXSTRING.prototype = new local.SIMPLESTRING_block();
    in_window.org.pkijs.asn1.TELETEXSTRING.constructor = in_window.org.pkijs.asn1.TELETEXSTRING;
    //**************************************************************************************
    in_window.org.pkijs.asn1.TELETEXSTRING.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "TELETEXSTRING";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.TELETEXSTRING.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.SIMPLESTRING_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.TELETEXSTRING.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.VIDEOTEXSTRING =
    function()
    {
        local.SIMPLESTRING_block.call(this, arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 21; // VIDEOTEXSTRING
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.VIDEOTEXSTRING.prototype = new local.SIMPLESTRING_block();
    in_window.org.pkijs.asn1.VIDEOTEXSTRING.constructor = in_window.org.pkijs.asn1.VIDEOTEXSTRING;
    //**************************************************************************************
    in_window.org.pkijs.asn1.VIDEOTEXSTRING.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "VIDEOTEXSTRING";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.VIDEOTEXSTRING.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.SIMPLESTRING_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.VIDEOTEXSTRING.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.IA5STRING =
    function()
    {
        local.SIMPLESTRING_block.call(this, arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 22; // IA5STRING
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.IA5STRING.prototype = new local.SIMPLESTRING_block();
    in_window.org.pkijs.asn1.IA5STRING.constructor = in_window.org.pkijs.asn1.IA5STRING;
    //**************************************************************************************
    in_window.org.pkijs.asn1.IA5STRING.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "IA5STRING";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.IA5STRING.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.SIMPLESTRING_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.IA5STRING.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.GRAPHICSTRING =
    function()
    {
        local.SIMPLESTRING_block.call(this, arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 25; // GRAPHICSTRING
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.GRAPHICSTRING.prototype = new local.SIMPLESTRING_block();
    in_window.org.pkijs.asn1.GRAPHICSTRING.constructor = in_window.org.pkijs.asn1.GRAPHICSTRING;
    //**************************************************************************************
    in_window.org.pkijs.asn1.GRAPHICSTRING.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "GRAPHICSTRING";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.GRAPHICSTRING.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.SIMPLESTRING_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.GRAPHICSTRING.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.VISIBLESTRING =
    function()
    {
        local.SIMPLESTRING_block.call(this, arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 26; // VISIBLESTRING
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.VISIBLESTRING.prototype = new local.SIMPLESTRING_block();
    in_window.org.pkijs.asn1.VISIBLESTRING.constructor = in_window.org.pkijs.asn1.VISIBLESTRING;
    //**************************************************************************************
    in_window.org.pkijs.asn1.VISIBLESTRING.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "VISIBLESTRING";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.VISIBLESTRING.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.SIMPLESTRING_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.VISIBLESTRING.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.GENERALSTRING =
    function()
    {
        local.SIMPLESTRING_block.call(this, arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 27; // GENERALSTRING
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.GENERALSTRING.prototype = new local.SIMPLESTRING_block();
    in_window.org.pkijs.asn1.GENERALSTRING.constructor = in_window.org.pkijs.asn1.GENERALSTRING;
    //**************************************************************************************
    in_window.org.pkijs.asn1.GENERALSTRING.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "GENERALSTRING";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.GENERALSTRING.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.SIMPLESTRING_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.GENERALSTRING.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.CHARACTERSTRING =
    function()
    {
        local.SIMPLESTRING_block.call(this, arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 29; // CHARACTERSTRING
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.CHARACTERSTRING.prototype = new local.SIMPLESTRING_block();
    in_window.org.pkijs.asn1.CHARACTERSTRING.constructor = in_window.org.pkijs.asn1.CHARACTERSTRING;
    //**************************************************************************************
    in_window.org.pkijs.asn1.CHARACTERSTRING.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "CHARACTERSTRING";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.CHARACTERSTRING.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.SIMPLESTRING_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.CHARACTERSTRING.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of all date and time classes
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTCTIME =
    function()
    {
        in_window.org.pkijs.asn1.VISIBLESTRING.call(this, arguments[0]);

        this.year = 0;
        this.month = 0;
        this.day = 0;
        this.hour = 0;
        this.minute = 0;
        this.second = 0;

        // #region Create UTCTIME from ASN.1 UTC string value
        if((arguments[0] instanceof Object) && ("value" in arguments[0]))
        {
            in_window.org.pkijs.asn1.UTCTIME.prototype.fromString.call(this, arguments[0].value);

            this.value_block.value_hex = new ArrayBuffer(arguments[0].value.length);
            var view = new Uint8Array(this.value_block.value_hex);

            for(var i = 0; i < str.length; i++)
                view[i] = arguments[0].value.charCodeAt(i);
        }
        // #endregion
        // #region Create UTCTIME from JavaScript Date type
        if((arguments[0] instanceof Object) && ("value_date" in arguments[0]))
        {
            in_window.org.pkijs.asn1.UTCTIME.prototype.fromDate.call(this, arguments[0].value_date);
            this.value_block.value_hex = in_window.org.pkijs.asn1.UTCTIME.prototype.toBuffer.call(this);
        }
        // #endregion

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 23; // UTCTIME
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTCTIME.prototype = new in_window.org.pkijs.asn1.VISIBLESTRING();
    in_window.org.pkijs.asn1.UTCTIME.constructor = in_window.org.pkijs.asn1.UTCTIME;
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTCTIME.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        var result_offset = this.value_block.fromBER(input_buffer, input_offset, (this.len_block.is_indefinite_form == true) ? input_length : this.len_block.length);
        if(result_offset == (-1))
        {
            this.error = this.value_block.error;
            return result_offset;
        }

        in_window.org.pkijs.asn1.UTCTIME.prototype.fromBuffer.call(this, this.value_block.value_hex);

        if(this.id_block.error.length == 0)
            this.block_length += this.id_block.block_length;

        if(this.len_block.error.length == 0)
            this.block_length += this.len_block.block_length;

        if(this.value_block.error.length == 0)
            this.block_length += this.value_block.block_length;

        return result_offset;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTCTIME.prototype.fromBuffer =
    function(input_buffer)
    {
        in_window.org.pkijs.asn1.UTCTIME.prototype.fromString.call(this, String.fromCharCode.apply(null, new Uint8Array(input_buffer)));
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTCTIME.prototype.toBuffer =
    function()
    {
        var str = in_window.org.pkijs.asn1.UTCTIME.prototype.toString.call(this);

        var buffer = new ArrayBuffer(str.length);
        var view = new Uint8Array(buffer);

        for(var i = 0; i < str.length; i++)
            view[i] = str.charCodeAt(i);

        return buffer;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTCTIME.prototype.fromDate =
    function(input_date)
    {
        /// <summary>Create "UTCTime" ASN.1 type from JavaScript "Date" type</summary>

        this.year = input_date.getFullYear();
        this.month = input_date.getMonth() + 1;
        this.day = input_date.getDate();
        this.hour = input_date.getHours();
        this.minute = input_date.getMinutes();
        this.second = input_date.getSeconds();
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTCTIME.prototype.toDate =
    function()
    {
        return (new Date(this.year, this.month - 1, this.day, this.hour, this.minute, this.second));
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTCTIME.prototype.fromString =
    function(input_string)
    {
        /// <summary>Create "UTCTime" ASN.1 type from JavaScript "String" type</summary>

        // #region Parse input string
        var parser = /(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig;
        var parser_array = parser.exec(input_string);
        if(parser_array === null)
        {
            this.error = "Wrong input string for convertion";
            return;
        }
        // #endregion

        // #region Store parsed values
        var year = parseInt(parser_array[1], 10);
        if(year >= 50)
            this.year = 1900 + year;
        else
            this.year = 2000 + year;

        this.month = parseInt(parser_array[2], 10);
        this.day = parseInt(parser_array[3], 10);
        this.hour = parseInt(parser_array[4], 10);
        this.minute = parseInt(parser_array[5], 10);
        this.second = parseInt(parser_array[6], 10);
        // #endregion
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTCTIME.prototype.toString =
    function()
    {
        var output_array = new Array(7);

        output_array[0] = in_window.org.pkijs.padNumber(((this.year < 2000) ? (this.year - 1900) : (this.year - 2000)), 2);
        output_array[1] = in_window.org.pkijs.padNumber(this.month, 2);
        output_array[2] = in_window.org.pkijs.padNumber(this.day, 2);
        output_array[3] = in_window.org.pkijs.padNumber(this.hour, 2);
        output_array[4] = in_window.org.pkijs.padNumber(this.minute, 2);
        output_array[5] = in_window.org.pkijs.padNumber(this.second, 2);
        output_array[6] = "Z";

        return output_array.join('');
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTCTIME.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "UTCTIME";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTCTIME.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.VISIBLESTRING.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.UTCTIME.prototype.block_name.call(this);
        _object.year = this.year;
        _object.month = this.month;
        _object.day = this.day;
        _object.hour = this.hour;
        _object.minute = this.minute;
        _object.second = this.second;

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.GENERALIZEDTIME =
    function()
    {
        in_window.org.pkijs.asn1.VISIBLESTRING.call(this, arguments[0]);

        this.year = 0;
        this.month = 0;
        this.day = 0;
        this.hour = 0;
        this.minute = 0;
        this.second = 0;

        // #region Create GeneralizedTime from ASN.1 string value
        if((arguments[0] instanceof Object) && ("value" in arguments[0]))
        {
            in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype.fromString.call(this, arguments[0].value);

            this.value_block.value_hex = new ArrayBuffer(arguments[0].value.length);
            var view = new Uint8Array(this.value_block.value_hex);

            for(var i = 0; i < str.length; i++)
                view[i] = arguments[0].value.charCodeAt(i);
        }
        // #endregion
        // #region Create GeneralizedTime from JavaScript Date type
        if((arguments[0] instanceof Object) && ("value_date" in arguments[0]))
        {
            in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype.fromDate.call(this, arguments[0].value_date);
            this.value_block.value_hex = in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype.toBuffer.call(this);
        }
        // #endregion

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 24; // GENERALIZEDTIME
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype = new in_window.org.pkijs.asn1.VISIBLESTRING();
    in_window.org.pkijs.asn1.GENERALIZEDTIME.constructor = in_window.org.pkijs.asn1.GENERALIZEDTIME;
    //**************************************************************************************
    in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        var result_offset = this.value_block.fromBER(input_buffer, input_offset, (this.len_block.is_indefinite_form == true) ? input_length : this.len_block.length);
        if(result_offset == (-1))
        {
            this.error = this.value_block.error;
            return result_offset;
        }

        in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype.fromBuffer.call(this, this.value_block.value_hex);

        if(this.id_block.error.length == 0)
            this.block_length += this.id_block.block_length;

        if(this.len_block.error.length == 0)
            this.block_length += this.len_block.block_length;

        if(this.value_block.error.length == 0)
            this.block_length += this.value_block.block_length;

        return result_offset;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype.fromBuffer =
    function(input_buffer)
    {
        in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype.fromString.call(this, String.fromCharCode.apply(null, new Uint8Array(input_buffer)));
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype.toBuffer =
    function()
    {
        var str = in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype.toString.call(this);

        var buffer = new ArrayBuffer(str.length);
        var view = new Uint8Array(buffer);

        for(var i = 0; i < str.length; i++)
            view[i] = str.charCodeAt(i);

        return buffer;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype.fromDate =
    function(input_date)
    {
        /// <summary>Create "GeneralizedTime" ASN.1 type from JavaScript "Date" type</summary>

        this.year = input_date.getFullYear();
        this.month = input_date.getMonth() + 1;
        this.day = input_date.getDate();
        this.hour = input_date.getHours();
        this.minute = input_date.getMinutes();
        this.second = input_date.getSeconds();
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype.toDate =
    function()
    {
        return (new Date(this.year, this.month - 1, this.day, this.hour, this.minute, this.second));
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype.fromString =
    function(input_string)
    {
        /// <summary>Create "GeneralizedTime" ASN.1 type from JavaScript "String" type</summary>

        var parser = /(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig;
        var parser_array = parser.exec(input_string);
        if(parser_array === null)
        {
            this.error = "Wrong input string for convertion";
            return;
        }

        this.year = parseInt(parser_array[1], 10);
        this.month = parseInt(parser_array[2], 10);
        this.day = parseInt(parser_array[3], 10);
        this.hour = parseInt(parser_array[4], 10);
        this.minute = parseInt(parser_array[5], 10);
        this.second = parseInt(parser_array[6], 10);
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype.toString =
    function()
    {
        var output_array = new Array(7);

        output_array[0] = in_window.org.pkijs.padNumber(this.year, 4);
        output_array[1] = in_window.org.pkijs.padNumber(this.month, 2);
        output_array[2] = in_window.org.pkijs.padNumber(this.day, 2);
        output_array[3] = in_window.org.pkijs.padNumber(this.hour, 2);
        output_array[4] = in_window.org.pkijs.padNumber(this.minute, 2);
        output_array[5] = in_window.org.pkijs.padNumber(this.second, 2);
        output_array[6] = "Z";

        return output_array.join('');
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "GENERALIZEDTIME";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.VISIBLESTRING.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype.block_name.call(this);
        _object.year = this.year;
        _object.month = this.month;
        _object.day = this.day;
        _object.hour = this.hour;
        _object.minute = this.minute;
        _object.second = this.second;

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.DATE =
    function()
    {
        in_window.org.pkijs.asn1.UTF8STRING.call(this, arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 31; // DATE
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.DATE.prototype = new in_window.org.pkijs.asn1.UTF8STRING();
    in_window.org.pkijs.asn1.DATE.constructor = in_window.org.pkijs.asn1.DATE;
    //**************************************************************************************
    in_window.org.pkijs.asn1.DATE.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "DATE";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.DATE.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.UTF8STRING.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.DATE.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.TIMEOFDAY =
    function()
    {
        in_window.org.pkijs.asn1.UTF8STRING.call(this, arguments[0]);
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.TIMEOFDAY.prototype = new in_window.org.pkijs.asn1.UTF8STRING();
    in_window.org.pkijs.asn1.TIMEOFDAY.constructor = in_window.org.pkijs.asn1.TIMEOFDAY;
    //**************************************************************************************
    in_window.org.pkijs.asn1.TIMEOFDAY.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "TIMEOFDAY";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.DATE.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.UTF8STRING.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.TIMEOFDAY.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.DATETIME =
    function()
    {
        in_window.org.pkijs.asn1.UTF8STRING.call(this, arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 33; // DATETIME
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.DATETIME.prototype = new in_window.org.pkijs.asn1.UTF8STRING();
    in_window.org.pkijs.asn1.DATETIME.constructor = in_window.org.pkijs.asn1.DATETIME;
    //**************************************************************************************
    in_window.org.pkijs.asn1.DATETIME.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "DATETIME";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.DATETIME.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.UTF8STRING.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.DATETIME.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.DURATION =
    function()
    {
        in_window.org.pkijs.asn1.UTF8STRING.call(this, arguments[0]);
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.DURATION.prototype = new in_window.org.pkijs.asn1.UTF8STRING();
    in_window.org.pkijs.asn1.DURATION.constructor = in_window.org.pkijs.asn1.DURATION;
    //**************************************************************************************
    in_window.org.pkijs.asn1.DURATION.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "DURATION";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.DURATION.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.UTF8STRING.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.DURATION.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.TIME =
    function()
    {
        in_window.org.pkijs.asn1.UTF8STRING.call(this, arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 14; // TIME
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.TIME.prototype = new in_window.org.pkijs.asn1.UTF8STRING();
    in_window.org.pkijs.asn1.TIME.constructor = in_window.org.pkijs.asn1.TIME;
    //**************************************************************************************
    in_window.org.pkijs.asn1.TIME.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "TIME";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.TIME.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.UTF8STRING.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.TIME.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of special ASN.1 schema type CHOICE
    //**************************************************************************************
    in_window.org.pkijs.asn1.CHOICE =
    function()
    {
        if(arguments[0] instanceof Object)
        {
            this.value = in_window.org.pkijs.getValue(arguments[0], "value", new Array()); // Array of ASN.1 types for make a choice from
            this.optional = in_window.org.pkijs.getValue(arguments[0], "optional", false);
        }
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of special ASN.1 schema type ANY
    //**************************************************************************************
    in_window.org.pkijs.asn1.ANY =
    function()
    {
        if(arguments[0] instanceof Object)
        {
            this.name = in_window.org.pkijs.getValue(arguments[0], "name", "");
            this.optional = in_window.org.pkijs.getValue(arguments[0], "optional", false);
        }
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of special ASN.1 schema type REPEATED
    //**************************************************************************************
    in_window.org.pkijs.asn1.REPEATED =
    function()
    {
        if(arguments[0] instanceof Object)
        {
            this.name = in_window.org.pkijs.getValue(arguments[0], "name", "");
            this.optional = in_window.org.pkijs.getValue(arguments[0], "optional", false);
            this.value = in_window.org.pkijs.getValue(arguments[0], "value", new in_window.org.pkijs.asn1.ANY());
            this.local = in_window.org.pkijs.getValue(arguments[0], "local", false); // Could local or global array to store elements
        }
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Major ASN.1 BER decoding function
    //**************************************************************************************
    function fromBER_raw(input_buffer, input_offset, input_length)
    {
        var incoming_offset = input_offset; // Need to store initial offset since "input_offset" is changing in the function

        // #region Local function changing a type for ASN.1 classes
        function local_change_type(input_object, new_type)
        {
            if(input_object instanceof new_type)
                return input_object;

            var new_object = new new_type();
            new_object.id_block = input_object.id_block;
            new_object.len_block = input_object.len_block;
            new_object.warnings = input_object.warnings;
            new_object.value_before_decode = util_copybuf(input_object.value_before_decode);

            return new_object;
        }
        // #endregion

        // #region Create a basic ASN.1 type since we need to return errors and warnings from the function
        var return_object = new in_window.org.pkijs.asn1.ASN1_block();
        // #endregion

        // #region Basic check for parameters
        if(check_buffer_params(input_buffer, input_offset, input_length) === false)
        {
            return_object.error = "Wrong input parameters";
            return {
                offset: (-1),
                result: return_object
            };
        }
        // #endregion

        // #region Getting Uint8Array from ArrayBuffer
        var int_buffer = new Uint8Array(input_buffer, input_offset, input_length);
        // #endregion

        // #region Initial checks
        if(int_buffer.length == 0)
        {
            this.error = "Zero buffer length";
            return {
                offset: (-1),
                result: return_object
            };
        }
        // #endregion

        // #region Decode indentifcation block of ASN.1 BER structure
        var result_offset = return_object.id_block.fromBER(input_buffer, input_offset, input_length);
        return_object.warnings.concat(return_object.id_block.warnings);
        if(result_offset == (-1))
        {
            return_object.error = return_object.id_block.error;
            return {
                offset: (-1),
                result: return_object
            };
        }

        input_offset = result_offset;
        input_length -= return_object.id_block.block_length;
        // #endregion

        // #region Decode length block of ASN.1 BER structure
        result_offset = return_object.len_block.fromBER(input_buffer, input_offset, input_length);
        return_object.warnings.concat(return_object.len_block.warnings);
        if(result_offset == (-1))
        {
            return_object.error = return_object.len_block.error;
            return {
                offset: (-1),
                result: return_object
            };
        }

        input_offset = result_offset;
        input_length -= return_object.len_block.block_length;
        // #endregion

        // #region Check for usign indefinite length form in encoding for primitive types
        if((return_object.id_block.is_constructed == false) &&
           (return_object.len_block.is_indefinite_form == true))
        {
            return_object.error = new String("Indefinite length form used for primitive encoding form");
            return {
                offset: (-1),
                result: return_object
            };
        }
        // #endregion

        // #region Switch ASN.1 block type
        var new_asn1_type = in_window.org.pkijs.asn1.ASN1_block;

        switch(return_object.id_block.tag_class)
        {
            // #region UNIVERSAL
            case 1:
                // #region Check for reserved tag numbers
                if((return_object.id_block.tag_number >= 37) &&
                   (return_object.id_block.is_hex_only == false))
                {
                    return_object.error = "UNIVERSAL 37 and upper tags are reserved by ASN.1 standard";
                    return {
                        offset: (-1),
                        result: return_object
                    };
                }
                // #endregion

                switch(return_object.id_block.tag_number)
                {
                    // #region EOC type
                    case 0:
                        // #region Check for EOC type
                        if((return_object.id_block.is_constructed == true) &&
                           (return_object.len_block.length > 0))
                        {
                            return_object.error = "Type [UNIVERSAL 0] is reserved";
                            return {
                                offset: (-1),
                                result: return_object
                            };
                        }
                        // #endregion

                        new_asn1_type = in_window.org.pkijs.asn1.EOC;

                        break;
                        // #endregion
                    // #region BOOLEAN type
                    case 1:
                        new_asn1_type = in_window.org.pkijs.asn1.BOOLEAN;
                        break;
                    // #endregion
                    // #region INTEGER type
                    case 2:
                        new_asn1_type = in_window.org.pkijs.asn1.INTEGER;
                        break;
                    // #endregion
                    // #region BITSTRING type
                    case 3:
                        new_asn1_type = in_window.org.pkijs.asn1.BITSTRING;
                        break;
                    // #endregion
                    // #region OCTETSTRING type
                    case 4:
                        new_asn1_type = in_window.org.pkijs.asn1.OCTETSTRING;
                        break;
                    // #endregion
                    // #region NULL type
                    case 5:
                        new_asn1_type = in_window.org.pkijs.asn1.NULL;
                        break;
                    // #endregion
                    // #region OBJECT IDENTIFIER type
                    case 6:
                        new_asn1_type = in_window.org.pkijs.asn1.OID;
                        break;
                    // #endregion
                    // #region ENUMERATED type
                    case 10:
                        new_asn1_type = in_window.org.pkijs.asn1.ENUMERATED;
                        break;
                    // #endregion
                    // #region UTF8STRING type
                    case 12:
                        new_asn1_type = in_window.org.pkijs.asn1.UTF8STRING;
                        break;
                    // #endregion
                    // #region TIME type
                    case 14:
                        new_asn1_type = in_window.org.pkijs.asn1.TIME;
                        break;
                    // #endregion
                    // #region ASN.1 reserved type
                    case 15:
                        return_object.error = "[UNIVERSAL 15] is reserved by ASN.1 standard";
                        return {
                            offset: (-1),
                            result: return_object
                        };
                        break;
                    // #endregion
                    // #region SEQUENCE type
                    case 16:
                        new_asn1_type = in_window.org.pkijs.asn1.SEQUENCE;
                        break;
                    // #endregion
                    // #region SET type
                    case 17:
                        new_asn1_type = in_window.org.pkijs.asn1.SET;
                        break;
                    // #endregion
                    // #region NUMERICSTRING type
                    case 18:
                        new_asn1_type = in_window.org.pkijs.asn1.NUMERICSTRING;
                        break;
                    // #endregion
                    // #region PRINTABLESTRING type
                    case 19:
                        new_asn1_type = in_window.org.pkijs.asn1.PRINTABLESTRING;
                        break;
                    // #endregion
                    // #region TELETEXSTRING type
                    case 20:
                        new_asn1_type = in_window.org.pkijs.asn1.TELETEXSTRING;
                        break;
                    // #endregion
                    // #region VIDEOTEXSTRING type
                    case 21:
                        new_asn1_type = in_window.org.pkijs.asn1.VIDEOTEXSTRING;
                        break;
                    // #endregion
                    // #region IA5STRING type
                    case 22:
                        new_asn1_type = in_window.org.pkijs.asn1.IA5STRING;
                        break;
                    // #endregion
                    // #region UTCTIME type
                    case 23:
                        new_asn1_type = in_window.org.pkijs.asn1.UTCTIME;
                        break;
                    // #endregion
                    // #region GENERALIZEDTIME type
                    case 24:
                        new_asn1_type = in_window.org.pkijs.asn1.GENERALIZEDTIME;
                        break;
                    // #endregion
                    // #region GRAPHICSTRING type
                    case 25:
                        new_asn1_type = in_window.org.pkijs.asn1.GRAPHICSTRING;
                        break;
                    // #endregion
                    // #region VISIBLESTRING type
                    case 26:
                        new_asn1_type = in_window.org.pkijs.asn1.VISIBLESTRING;
                        break;
                    // #endregion
                    // #region GENERALSTRING type
                    case 27:
                        new_asn1_type = in_window.org.pkijs.asn1.GENERALSTRING;
                        break;
                    // #endregion
                    // #region UNIVERSALSTRING type
                    case 28:
                        new_asn1_type = in_window.org.pkijs.asn1.UNIVERSALSTRING;
                        break;
                    // #endregion
                    // #region CHARACTERSTRING type
                    case 29:
                        new_asn1_type = in_window.org.pkijs.asn1.CHARACTERSTRING;
                        break;
                    // #endregion
                    // #region BMPSTRING type
                    case 30:
                        new_asn1_type = in_window.org.pkijs.asn1.BMPSTRING;
                        break;
                    // #endregion
                    // #region DATE type
                    case 31:
                        new_asn1_type = in_window.org.pkijs.asn1.DATE;
                        break;
                    // #endregion
                    // #region DATE-TIME type
                    case 33:
                        new_asn1_type = in_window.org.pkijs.asn1.DATETIME;
                        break;
                    // #endregion
                    // #region default
                    default:
                        {
                            var new_object;

                            if(return_object.id_block.is_constructed == true)
                                new_object = new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED();
                            else
                                new_object = new in_window.org.pkijs.asn1.ASN1_PRIMITIVE();

                            new_object.id_block = return_object.id_block;
                            new_object.len_block = return_object.len_block;
                            new_object.warnings = return_object.warnings;

                            return_object = new_object;

                            result_offset = return_object.fromBER(input_buffer, input_offset, input_length);
                        }
                    // #endregion
                }
                break;
            // #endregion
            // #region All other tag classes
            case 2: // APPLICATION
            case 3: // CONTEXT-SPECIFIC
            case 4: // PRIVATE
            default:
                {
                    if(return_object.id_block.is_constructed == true)
                        new_asn1_type = in_window.org.pkijs.asn1.ASN1_CONSTRUCTED;
                    else
                        new_asn1_type = in_window.org.pkijs.asn1.ASN1_PRIMITIVE;
                }
            // #endregion
        }
        // #endregion

        // #region Change type and perform BER decoding
        return_object = local_change_type(return_object, new_asn1_type);
        result_offset = return_object.fromBER(input_buffer, input_offset, (return_object.len_block.is_indefinite_form == true) ? input_length : return_object.len_block.length);
        // #endregion

        // #region Coping incoming buffer for entire ASN.1 block
        return_object.value_before_decode = util_copybuf_offset(input_buffer, incoming_offset, return_object.block_length);
        // #endregion

        return {
            offset: result_offset,
            result: return_object
        };
    }
    //**************************************************************************************
    in_window.org.pkijs.fromBER =
    function(input_buffer)
    {
        /// <summary>Major function for decoding ASN.1 BER array into internal library structuries</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array of bytes</param>

        if(input_buffer.byteLength == 0)
        {
            var result = new in_window.org.pkijs.asn1.ASN1_block();
            result.error = "Input buffer has zero length";

            return result;
        }

        return fromBER_raw(input_buffer, 0, input_buffer.byteLength);
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Major scheme verification function
    //**************************************************************************************
    in_window.org.pkijs.compareSchema =
    function(root, input_asn1_data, input_asn1_schema)
    {
        // #region Special case for CHOICE schema element type
        if(input_asn1_schema instanceof in_window.org.pkijs.asn1.CHOICE)
        {
            var choice_result = false;

            for(var j = 0; j < input_asn1_schema.value.length; j++)
            {
                var result = in_window.org.pkijs.compareSchema(root, input_asn1_data, input_asn1_schema.value[j]);
                if(result.verified === true)
                    return {
                        verified: true,
                        result: root
                    };
            }

            if(choice_result === false)
            {
                var _result = {
                    verified: false,
                    result: {
                        error: "Wrong values for CHOICE type"
                    }
                };

                if(input_asn1_schema.hasOwnProperty('name'))
                    _result.name = input_asn1_schema.name;

                return _result;
            }
        }
        // #endregion

        // #region Special case for ANY schema element type
        if(input_asn1_schema instanceof in_window.org.pkijs.asn1.ANY)
        {
            // #region Add named component of ASN.1 schema
            if(input_asn1_schema.hasOwnProperty('name'))
                root[input_asn1_schema.name] = input_asn1_data;
            // #endregion

            return {
                verified: true,
                result: root
            };
        }
        // #endregion

        // #region Initial check
        if((root instanceof Object) === false)
            return {
                verified: false,
                result: { error: "Wrong root object" }
            };

        if((input_asn1_data instanceof Object) === false)
            return {
                verified: false,
                result: { error: "Wrong ASN.1 data" }
            };

        if((input_asn1_schema instanceof Object) === false)
            return {
                verified: false,
                result: { error: "Wrong ASN.1 schema" }
            };

        if(('id_block' in input_asn1_schema) === false)
            return {
                verified: false,
                result: { error: "Wrong ASN.1 schema" }
            };
        // #endregion

        // #region Comparing id_block properties in ASN.1 data and ASN.1 schema
        // #region Encode and decode ASN.1 schema id_block
        /// <remarks>This encoding/decoding is neccessary because could be an errors in schema definition</remarks>
        if(('fromBER' in input_asn1_schema.id_block) === false)
            return {
                verified: false,
                result: { error: "Wrong ASN.1 schema" }
            };

        if(('toBER' in input_asn1_schema.id_block) === false)
            return {
                verified: false,
                result: { error: "Wrong ASN.1 schema" }
            };

        var encoded_id = input_asn1_schema.id_block.toBER(false);
        if(encoded_id.byteLength === 0)
            return {
                verified: false,
                result: { error: "Error encoding id_block for ASN.1 schema" }
            };

        var decoded_offset = input_asn1_schema.id_block.fromBER(encoded_id, 0, encoded_id.byteLength);
        if(decoded_offset === (-1))
            return {
                verified: false,
                result: { error: "Error decoding id_block for ASN.1 schema" }
            };
        // #endregion

        // #region tag_class
        if(input_asn1_schema.id_block.hasOwnProperty('tag_class') === false)
            return {
                verified: false,
                result: { error: "Wrong ASN.1 schema" }
            };

        if(input_asn1_schema.id_block.tag_class !== input_asn1_data.id_block.tag_class)
            return {
                verified: false,
                result: root
            };
        // #endregion
        // #region tag_number
        if(input_asn1_schema.id_block.hasOwnProperty('tag_number') === false)
            return {
                verified: false,
                result: { error: "Wrong ASN.1 schema" }
            };

        if(input_asn1_schema.id_block.tag_number !== input_asn1_data.id_block.tag_number)
            return {
                verified: false,
                result: root
            };
        // #endregion
        // #region is_constructed
        if(input_asn1_schema.id_block.hasOwnProperty('is_constructed') === false)
            return {
                verified: false,
                result: { error: "Wrong ASN.1 schema" }
            };

        if(input_asn1_schema.id_block.is_constructed !== input_asn1_data.id_block.is_constructed)
            return {
                verified: false,
                result: root
            };
        // #endregion
        // #region is_hex_only
        if(('is_hex_only' in input_asn1_schema.id_block) === false) // Since 'is_hex_only' is an inhirited property
            return {
                verified: false,
                result: { error: "Wrong ASN.1 schema" }
            };

        if(input_asn1_schema.id_block.is_hex_only !== input_asn1_data.id_block.is_hex_only)
            return {
                verified: false,
                result: root
            };
        // #endregion
        // #region value_hex
        if(input_asn1_schema.id_block.is_hex_only === true)
        {
            if(('value_hex' in input_asn1_schema.id_block) === false) // Since 'value_hex' is an inhirited property
                return {
                    verified: false,
                    result: { error: "Wrong ASN.1 schema" }
                };

            var schema_view = new Uint8Array(input_asn1_schema.id_block.value_hex);
            var asn1_view = new Uint8Array(input_asn1_data.id_block.value_hex);

            if(schema_view.length !== asn1_view.length)
                return {
                    verified: false,
                    result: root
                };

            for(var i = 0; i < schema_view.length; i++)
            {
                if(schema_view[i] !== asn1_view[1])
                    return {
                        verified: false,
                        result: root
                    };
            }
        }
        // #endregion
        // #endregion

        // #region Add named component of ASN.1 schema
        if(input_asn1_schema.hasOwnProperty('name'))
        {
            input_asn1_schema.name = input_asn1_schema.name.replace(/^\s+|\s+$/g, '');
            if(input_asn1_schema.name !== "")
                root[input_asn1_schema.name] = input_asn1_data;
        }
        // #endregion

        // #region Getting next ASN.1 block for comparition
        if(input_asn1_schema.id_block.is_constructed === true)
        {
            var admission = 0;
            var result = { verified: false };

            var max_length = input_asn1_schema.value_block.value.length;

            if(max_length > 0)
            {
                if(input_asn1_schema.value_block.value[0] instanceof in_window.org.pkijs.asn1.REPEATED)
                    max_length = input_asn1_data.value_block.value.length;
            }

            // #region Special case when constructive value has no elements
            if(max_length === 0)
                return {
                    verified: true,
                    result: root
                };
            // #endregion

            // #region Special case when "input_asn1_data" has no values and "input_asn1_schema" has all optional values
            if((input_asn1_data.value_block.value.length === 0) &&
               (input_asn1_schema.value_block.value.length !== 0))
            {
                var _optional = true;

                for(var i = 0; i < input_asn1_schema.value_block.value.length; i++)
                    _optional = _optional && (input_asn1_schema.value_block.value[i].optional || false);

                if(_optional === true)
                {
                    return {
                        verified: true,
                        result: root
                    };
                }
                else
                {
                    // #region Delete early added name of block
                    if(input_asn1_schema.hasOwnProperty('name'))
                    {
                        input_asn1_schema.name = input_asn1_schema.name.replace(/^\s+|\s+$/g, '');
                        if(input_asn1_schema.name !== "")
                            delete root[input_asn1_schema.name];
                    }
                    // #endregion

                    root.error = "Inconsistent object length";

                    return {
                        verified: false,
                        result: root
                    };
                }
            }
            // #endregion

            for(var i = 0; i < max_length; i++)
            {
                // #region Special case when there is an "optional" element of ASN.1 schema at the end
                if((i - admission) >= input_asn1_data.value_block.value.length)
                {
                    if(input_asn1_schema.value_block.value[i].optional === false)
                    {
                        var _result = {
                            verified: false,
                            result: root
                        };

                        root.error = "Inconsistent length between ASN.1 data and schema";

                        // #region Delete early added name of block
                        if(input_asn1_schema.hasOwnProperty('name'))
                        {
                            input_asn1_schema.name = input_asn1_schema.name.replace(/^\s+|\s+$/g, '');
                            if(input_asn1_schema.name !== "")
                            {
                                delete root[input_asn1_schema.name];
                                _result.name = input_asn1_schema.name;
                            }
                        }
                        // #endregion

                        return _result;
                    }
                }
                    // #endregion
                else
                {
                    // #region Special case for REPEATED type of ASN.1 schema element
                    if(input_asn1_schema.value_block.value[0] instanceof in_window.org.pkijs.asn1.REPEATED)
                    {
                        result = in_window.org.pkijs.compareSchema(root, input_asn1_data.value_block.value[i], input_asn1_schema.value_block.value[0].value);
                        if(result.verified === false)
                        {
                            if(input_asn1_schema.value_block.value[0].optional === true)
                                admission++;
                            else
                            {
                                // #region Delete early added name of block
                                if(input_asn1_schema.hasOwnProperty('name'))
                                {
                                    input_asn1_schema.name = input_asn1_schema.name.replace(/^\s+|\s+$/g, '');
                                    if(input_asn1_schema.name !== "")
                                        delete root[input_asn1_schema.name];
                                }
                                // #endregion

                                return result;
                            }
                        }

                        if(("name" in input_asn1_schema.value_block.value[0]) && (input_asn1_schema.value_block.value[0].name.length > 0))
                        {
                            var array_root = {};

                            if(("local" in input_asn1_schema.value_block.value[0]) && (input_asn1_schema.value_block.value[0].local === true))
                                array_root = input_asn1_data;
                            else
                                array_root = root;

                            if(typeof array_root[input_asn1_schema.value_block.value[0].name] === "undefined")
                                array_root[input_asn1_schema.value_block.value[0].name] = new Array();

                            array_root[input_asn1_schema.value_block.value[0].name].push(input_asn1_data.value_block.value[i]);
                        }
                    }
                        // #endregion
                    else
                    {
                        result = in_window.org.pkijs.compareSchema(root, input_asn1_data.value_block.value[i - admission], input_asn1_schema.value_block.value[i]);
                        if(result.verified === false)
                        {
                            if(input_asn1_schema.value_block.value[i].optional === true)
                                admission++;
                            else
                            {
                                // #region Delete early added name of block
                                if(input_asn1_schema.hasOwnProperty('name'))
                                {
                                    input_asn1_schema.name = input_asn1_schema.name.replace(/^\s+|\s+$/g, '');
                                    if(input_asn1_schema.name !== "")
                                        delete root[input_asn1_schema.name];
                                }
                                // #endregion

                                return result;
                            }
                        }
                    }
                }
            }

            if(result.verified === false) // The situation may take place if last element is "optional" and verification failed
            {
                var _result = {
                    verified: false,
                    result: root
                };

                // #region Delete early added name of block
                if(input_asn1_schema.hasOwnProperty('name'))
                {
                    input_asn1_schema.name = input_asn1_schema.name.replace(/^\s+|\s+$/g, '');
                    if(input_asn1_schema.name !== "")
                    {
                        delete root[input_asn1_schema.name];
                        _result.name = input_asn1_schema.name;
                    }
                }
                // #endregion

                return _result;
            }

            return {
                verified: true,
                result: root
            };
        }
        // #endregion
        // #region Ability to parse internal value for primitive-encoded value (value of OCTETSTRING, for example)
        else
        {
            if( ("primitive_schema" in input_asn1_schema) &&
                ("value_hex" in input_asn1_data.value_block) )
            {
                // #region Decoding of raw ASN.1 data
                var asn1 = in_window.org.pkijs.fromBER(input_asn1_data.value_block.value_hex);
                if(asn1.offset === (-1))
                {
                    var _result = {
                        verified: false,
                        result: asn1.result
                    };

                    // #region Delete early added name of block
                    if(input_asn1_schema.hasOwnProperty('name'))
                    {
                        input_asn1_schema.name = input_asn1_schema.name.replace(/^\s+|\s+$/g, '');
                        if(input_asn1_schema.name !== "")
                        {
                            delete root[input_asn1_schema.name];
                            _result.name = input_asn1_schema.name;
                        }
                    }
                    // #endregion

                    return _result;
                }
                // #endregion

                return in_window.org.pkijs.compareSchema(root, asn1.result, input_asn1_schema.primitive_schema);
            }
            else
                return {
                    verified: true,
                    result: root
                };
        }
        // #endregion
    }
    //**************************************************************************************
    in_window.org.pkijs.verifySchema =
    function(input_buffer, input_schema)
    {
        // #region Initial check
        if((input_schema instanceof Object) === false)
            return {
                varified: false,
                result: { error: "Wrong ASN.1 schema type" }
            };
        // #endregion

        // #region Decoding of raw ASN.1 data
        var asn1 = in_window.org.pkijs.fromBER(input_buffer);
        if(asn1.offset === (-1))
            return {
                verified: false,
                result: asn1.result
            };
        // #endregion

        // #region Compare ASN.1 struct with input schema
        return in_window.org.pkijs.compareSchema(asn1.result, asn1.result, input_schema);
        // #endregion
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Major function converting JSON to ASN.1 objects
    //**************************************************************************************
    in_window.org.pkijs.fromJSON =
    function(json)
    {
        /// <summary>Converting from JSON to ASN.1 objects</summary>
        /// <param name="json" type="String|Object">JSON string or object to convert to ASN.1 objects</param>
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
}
)(typeof exports !== "undefined" ? exports : window);

﻿/*
 * @license
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015, Peculiar Ventures
 * All rights reserved.
 *
 * Author 2014-2015, Yury Strozhevsky <www.strozhevsky.com>.
 *
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * 3. Neither the name of the copyright holder nor the names of its contributors
 *    may be used to endorse or promote products derived from this software without
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
 * OF SUCH DAMAGE.
 *
 */
(
function(in_window)
{
    //**************************************************************************************
    // #region Declaration of global variables
    //**************************************************************************************
    // #region "org" namespace
    if(typeof in_window.org === "undefined")
        in_window.org = {};
    else
    {
        if(typeof in_window.org !== "object")
            throw new Error("Name org already exists and it's not an object");
    }
    // #endregion

    // #region "org.pkijs" namespace
    if(typeof in_window.org.pkijs === "undefined")
        in_window.org.pkijs = {};
    else
    {
        if(typeof in_window.org.pkijs !== "object")
            throw new Error("Name org.pkijs already exists and it's not an object" + " but " + (typeof in_window.org.pkijs));
    }
    // #endregion

    // #region "local" namespace
    var local = {};
    // #endregion
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of common functions
    //**************************************************************************************
    in_window.org.pkijs.emptyObject =
    function()
    {
        this.toJSON = function()
        {
            return {};
        };
        this.toSchema = function()
        {
            return {};
        };
    }
    //**************************************************************************************
    in_window.org.pkijs.getNames =
    function(arg)
    {
        /// <summary>Get correct "names" array for all "schema" objects</summary>

        var names = {};

        if(arg instanceof Object)
            names = (arg.names || {});

        return names;
    }
    //**************************************************************************************
    in_window.org.pkijs.inheriteObjectFields =
    function(from)
    {
        for(i in from.prototype)
        {
            if(typeof from.prototype[i] === "function")
                continue;

            this[i] = from.prototype[i];
        }
    }
    //**************************************************************************************
    in_window.org.pkijs.getUTCDate =
    function(date)
    {
        /// <summary>Making UTC date from local date</summary>
        /// <param name="date" type="Date">Date to convert from</param>

        var current_date = date;
        return new Date(current_date.getTime() + (current_date.getTimezoneOffset() * 60000));
    }
    //**************************************************************************************
    in_window.org.pkijs.padNumber =
    function(input_number, full_length)
    {
        var str = input_number.toString(10);
        var dif = full_length - str.length;

        var padding = new Array(dif);
        for(var i = 0; i < dif; i++)
            padding[i] = '0';

        var padding_string = padding.join('');

        return padding_string.concat(str);
    }
    //**************************************************************************************
    in_window.org.pkijs.getValue =
    function(args, item, default_value)
    {
        if(item in args)
            return args[item];
        else
            return default_value;
    }
    //**************************************************************************************
    in_window.org.pkijs.isEqual_view =
    function(input_view1, input_view2)
    {
        /// <summary>Compare two Uint8Arrays</summary>
        /// <param name="input_view1" type="Uint8Array">First Uint8Array for comparision</param>
        /// <param name="input_view2" type="Uint8Array">Second Uint8Array for comparision</param>

        if(input_view1.length !== input_view2.length)
            return false;

        for(var i = 0; i < input_view1.length; i++)
        {
            if(input_view1[i] != input_view2[i])
                return false;
        }

        return true;
    }
    //**************************************************************************************
    in_window.org.pkijs.isEqual_buffer =
    function(input_buffer1, input_buffer2)
    {
        /// <summary>Compare two array buffers</summary>
        /// <param name="input_buffer1" type="ArrayBuffer">First ArrayBuffer for comparision</param>
        /// <param name="input_buffer2" type="ArrayBuffer">Second ArrayBuffer for comparision</param>

        if(input_buffer1.byteLength != input_buffer2.byteLength)
            return false;

        var view1 = new Uint8Array(input_buffer1);
        var view2 = new Uint8Array(input_buffer2);

        return in_window.org.pkijs.isEqual_view(view1, view2);
    }
    //**************************************************************************************
    in_window.org.pkijs.concat_buffers =
    function(input_buf1, input_buf2)
    {
        /// <summary>Concatenate two ArrayBuffers</summary>
        /// <param name="input_buf1" type="ArrayBuffer">First ArrayBuffer (first part of concatenated array)</param>
        /// <param name="input_buf2" type="ArrayBuffer">Second ArrayBuffer (second part of concatenated array)</param>

        var input_view1 = new Uint8Array(input_buf1);
        var input_view2 = new Uint8Array(input_buf2);

        var ret_buf = new ArrayBuffer(input_buf1.byteLength + input_buf2.byteLength);
        var ret_view = new Uint8Array(ret_buf);

        for(var i = 0; i < input_buf1.byteLength; i++)
            ret_view[i] = input_view1[i];

        for(var j = 0; j < input_buf2.byteLength; j++)
            ret_view[input_buf1.byteLength + j] = input_view2[j];

        return ret_buf;
    }
    //**************************************************************************************
    in_window.org.pkijs.copyBuffer =
    function(input_buffer)
    {
        var result = new ArrayBuffer(input_buffer.byteLength);

        var resultView = new Uint8Array(result);
        var inputView = new Uint8Array(input_buffer);

        for(var i = 0; i < inputView.length; i++)
            resultView[i] = inputView[i];

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.getCrypto =
    function()
    {
        var crypto_temp;

        if("crypto" in in_window)
        {
            // Apple Safari support
            if("webkitSubtle" in in_window.crypto)
                crypto_temp = in_window.crypto.webkitSubtle;

            if("subtle" in in_window.crypto)
                crypto_temp = in_window.crypto.subtle;
        }

        return crypto_temp;
    }
    //**************************************************************************************
    in_window.org.pkijs.stringPrep =
    function(input_string)
    {
        /// <summary>String preparation function. In a future here will be realization of algorithm from RFC4518.</summary>
        /// <param name="input_string" type="String">JavaScript string. As soon as for each ASN.1 string type we have a specific transformation function here we will work with pure JavaScript string</param>
        /// <returns type="String">Formated string</returns>

        var result = input_string.replace(/^\s+|\s+$/g, ""); // Trim input string
        result = result.replace(/\s+/g, " "); // Change all sequence of SPACE down to SPACE char
        result = result.toLowerCase();

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.bufferToHexCodes =
    function(input_buffer, input_offset, input_lenght)
    {
        var result = "";

        var int_buffer = new Uint8Array(input_buffer, input_offset, input_lenght);

        for(var i = 0; i < int_buffer.length; i++)
        {
            var str = int_buffer[i].toString(16).toUpperCase();
            result = result + ((str.length === 1) ? "0" : "") + str;
        }

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.bufferFromHexCodes =
    function(hexString)
    {
        /// <summary>Create an ArrayBuffer from string having hexdecimal codes</summary>
        /// <param name="hexString" type="String">String to create ArrayBuffer from</param>

        // #region Initial variables
        var stringLength = hexString.length;

        var resultBuffer = new ArrayBuffer(stringLength >> 1);
        var resultView = new Uint8Array(resultBuffer);

        var hex_map = {};

        hex_map['0'] = 0x00;
        hex_map['1'] = 0x01;
        hex_map['2'] = 0x02;
        hex_map['3'] = 0x03;
        hex_map['4'] = 0x04;
        hex_map['5'] = 0x05;
        hex_map['6'] = 0x06;
        hex_map['7'] = 0x07;
        hex_map['8'] = 0x08;
        hex_map['9'] = 0x09;
        hex_map['A'] = 0x0A;
        hex_map['a'] = 0x0A;
        hex_map['B'] = 0x0B;
        hex_map['b'] = 0x0B;
        hex_map['C'] = 0x0C;
        hex_map['c'] = 0x0C;
        hex_map['D'] = 0x0D;
        hex_map['d'] = 0x0D;
        hex_map['E'] = 0x0E;
        hex_map['e'] = 0x0E;
        hex_map['F'] = 0x0F;
        hex_map['f'] = 0x0F;

        var j = 0;
        var temp = 0x00;
        // #endregion

        // #region Convert char-by-char
        for(var i = 0; i < stringLength; i++)
        {
            if(!(i % 2))
                temp = hex_map[hexString.charAt(i)] << 4;
            else
            {
                temp |= hex_map[hexString.charAt(i)];

                resultView[j] = temp;
                j++;
            }
        }
        // #endregion

        return resultBuffer;
    }
    //**************************************************************************************
    in_window.org.pkijs.getRandomValues =
    function(view)
    {
        /// <param name="view" type="Uint8Array">New array which gives a length for random value</param>

        if("crypto" in in_window)
            return in_window.crypto.getRandomValues(view);
        else
            throw new Error("No support for Web Cryptography API");
    }
    //**************************************************************************************
    in_window.org.pkijs.getAlgorithmParameters =
    function(algorithmName, operation)
    {
        /// <param name="algorithmName" type="String">Algorithm name to get common parameters for</param>
        /// <param name="operation" type="String">Kind of operation: "sign", "encrypt", "generatekey", "importkey", "exportkey", "verify"</param>

        var result = {
            algorithm: {},
            usages: []
        };

        switch(algorithmName.toUpperCase())
        {
            case "RSASSA-PKCS1-V1_5":
                switch(operation.toLowerCase())
                {
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "RSASSA-PKCS1-v1_5",
                                modulusLength: 2048,
                                publicExponent: new Uint8Array([0x01, 0x00, 0x01]),
                                hash: {
                                    name: "SHA-256"
                                },
                            },
                            usages: ["sign", "verify"]
                        };
                        break;
                    case "verify":
                    case "sign":
                    case "importkey":
                        result = {
                            algorithm: {
                                name: "RSASSA-PKCS1-v1_5",
                                hash: {
                                    name: "SHA-256"
                                },
                            },
                            usages: ["verify"] // For importKey("pkcs8") usage must be "sign" only
                        };
                        break;
                    case "exportkey":
                    default:
                        return {
                            algorithm: {
                                name: "RSASSA-PKCS1-v1_5"
                            },
                            usages: []
                        };
                }
                break;
            case "RSA-PSS":
                switch(operation.toLowerCase())
                {
                    case "sign":
                    case "verify":
                        result = {
                            algorithm: {
                                name: "RSA-PSS",
                                hash: {
                                    name: "SHA-1"
                                },
                                saltLength: 20
                            },
                            usages: ["sign", "verify"]
                        };
                        break;
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "RSA-PSS",
                                modulusLength: 2048,
                                publicExponent: new Uint8Array([0x01, 0x00, 0x01]),
                                hash: {
                                    name: "SHA-1"
                                }
                            },
                            usages: ["sign", "verify"]
                        };
                        break;
                    case "importkey":
                        result = {
                            algorithm: {
                                name: "RSA-PSS",
                                hash: {
                                    name: "SHA-1"
                                },
                            },
                            usages: ["verify"] // For importKey("pkcs8") usage must be "sign" only
                        };
                        break;
                    case "exportkey":
                    default:
                        return {
                            algorithm: {
                                name: "RSA-PSS"
                            },
                            usages: []
                        };
                }
                break;
            case "RSA-OAEP":
                switch(operation.toLowerCase())
                {
                    case "encrypt":
                    case "decrypt":
                        result = {
                            algorithm: {
                                name: "RSA-OAEP",
                            },
                            usages: ["encrypt", "decrypt"]
                        };
                        break;
                        break;
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "RSA-OAEP",
                                modulusLength: 2048,
                                publicExponent: new Uint8Array([0x01, 0x00, 0x01]),
                                hash: {
                                    name: "SHA-256"
                                }
                            },
                            usages: ["encrypt", "decrypt", "wrapKey", "unwrapKey"]
                        };
                        break;
                    case "importkey":
                        result = {
                            algorithm: {
                                name: "RSA-OAEP",
                                hash: {
                                    name: "SHA-256"
                                }
                            },
                            usages: ["encrypt"] // encrypt for "spki" and decrypt for "pkcs8"
                        };
                        break;
                    case "exportkey":
                    default:
                        return {
                            algorithm: {
                                name: "RSA-OAEP"
                            },
                            usages: []
                        };
                }
                break;
            case "ECDSA":
                switch(operation.toLowerCase())
                {
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "ECDSA",
                                namedCurve: "P-256"
                            },
                            usages: ["sign", "verify"]
                        };
                        break;
                    case "importkey":
                        result = {
                            algorithm: {
                                name: "ECDSA",
                                namedCurve: "P-256"
                            },
                            usages: ["verify"] // "sign" for "pkcs8"
                        };
                        break;
                    case "verify":
                    case "sign":
                        result = {
                            algorithm: {
                                name: "ECDSA",
                                hash: {
                                    name: "SHA-256"
                                }
                            },
                            usages: ["sign"]
                        };
                        break;
                    default:
                        return {
                            algorithm: {
                                name: "ECDSA"
                            },
                            usages: []
                        };
                }
                break;
            case "ECDH":
                switch(operation.toLowerCase())
                {
                    case "exportkey":
                    case "importkey":
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "ECDH",
                                namedCurve: "P-256"
                            },
                            usages: ["deriveKey", "deriveBits"]
                        };
                        break;
                    case "derivekey":
                    case "derivebits":
                        result = {
                            algorithm: {
                                name: "ECDH",
                                namedCurve: "P-256",
                                public: [] // Must be a "publicKey"
                            },
                            usages: ["encrypt", "decrypt"]
                        };
                        break;
                    default:
                        return {
                            algorithm: {
                                name: "ECDH"
                            },
                            usages: []
                        };
                }
                break;
            case "AES-CTR":
                switch(operation.toLowerCase())
                {
                    case "importkey":
                    case "exportkey":
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "AES-CTR",
                                length: 256
                            },
                            usages: ["encrypt", "decrypt", "wrapKey", "unwrapKey"]
                        };
                        break;
                    case "decrypt":
                    case "encrypt":
                        result = {
                            algorithm: {
                                name: "AES-CTR",
                                counter: new Uint8Array(16),
                                length: 10
                            },
                            usages: ["encrypt", "decrypt", "wrapKey", "unwrapKey"]
                        };
                    default:
                        return {
                            algorithm: {
                                name: "AES-CTR"
                            },
                            usages: []
                        };
                }
                break;
            case "AES-CBC":
                switch(operation.toLowerCase())
                {
                    case "importkey":
                    case "exportkey":
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "AES-CBC",
                                length: 256
                            },
                            usages: ["encrypt", "decrypt", "wrapKey", "unwrapKey"]
                        };
                        break;
                    case "decrypt":
                    case "encrypt":
                        result = {
                            algorithm: {
                                name: "AES-CBC",
                                iv: in_window.org.pkijs.getRandomValues(new Uint8Array(16)) // For "decrypt" the value should be replaced with value got on "encrypt" step
                            },
                            usages: ["encrypt", "decrypt", "wrapKey", "unwrapKey"]
                        };
                    default:
                        return {
                            algorithm: {
                                name: "AES-CBC"
                            },
                            usages: []
                        };
                }
                break;
            case "AES-GCM":
                switch(operation.toLowerCase())
                {
                    case "importkey":
                    case "exportkey":
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "AES-GCM",
                                length: 256
                            },
                            usages: ["encrypt", "decrypt", "wrapKey", "unwrapKey"]
                        };
                        break;
                    case "decrypt":
                    case "encrypt":
                        result = {
                            algorithm: {
                                name: "AES-GCM",
                                iv: in_window.org.pkijs.getRandomValues(new Uint8Array(16)) // For "decrypt" the value should be replaced with value got on "encrypt" step
                            },
                            usages: ["encrypt", "decrypt", "wrapKey", "unwrapKey"]
                        };
                    default:
                        return {
                            algorithm: {
                                name: "AES-GCM"
                            },
                            usages: []
                        };
                }
                break;
            case "AES-KW":
                switch(operation.toLowerCase())
                {
                    case "importkey":
                    case "exportkey":
                    case "generatekey":
                    case "wrapkey":
                    case "unwrapkey":
                        result = {
                            algorithm: {
                                name: "AES-KW",
                                length: 256
                            },
                            usages: ["wrapKey", "unwrapKey"]
                        };
                        break;
                    default:
                        return {
                            algorithm: {
                                name: "AES-KW"
                            },
                            usages: []
                        };
                }
                break;
            case "HMAC":
                switch(operation.toLowerCase())
                {
                    case "sign":
                    case "verify":
                        result = {
                            algorithm: {
                                name: "HMAC",
                            },
                            usages: ["sign", "verify"]
                        };
                        break;
                    case "importkey":
                    case "exportkey":
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "HMAC",
                                length: 10,
                                hash: {
                                    name: "SHA-256"
                                }
                            },
                            usages: ["sign", "verify"]
                        };
                        break;
                    default:
                        return {
                            algorithm: {
                                name: "HMAC"
                            },
                            usages: []
                        };
                }
                break;
            case "HKDF":
                switch(operation.toLowerCase())
                {
                    case "derivekey":
                        result = {
                            algorithm: {
                                name: "HKDF",
                                hash: "SHA-256",
                                salt: new Uint8Array(),
                                info: new Uint8Array()
                            },
                            usages: ["encrypt", "decrypt"]
                        };
                        break;
                    default:
                        return {
                            algorithm: {
                                name: "HKDF"
                            },
                            usages: []
                        };
                }
                break;
            case "PBKDF2":
                switch(operation.toLowerCase())
                {
                    case "derivekey":
                        result = {
                            algorithm: {
                                name: "PBKDF2",
                                hash: { name: "SHA-256" },
                                salt: new Uint8Array(),
                                iterations: 1000
                            },
                            usages: ["encrypt", "decrypt"]
                        };
                        break;
                    default:
                        return {
                            algorithm: {
                                name: "PBKDF2"
                            },
                            usages: []
                        };
                }
                break;
            default:
                ;
        }

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.getOIDByAlgorithm =
    function(algorithm)
    {
        /// <summary>Get OID for each specific WebCrypto algorithm</summary>
        /// <param name="algorithm" type="Object">WebCrypto algorithm</param>

        var result = "";

        switch(algorithm.name.toUpperCase())
        {
            case "RSASSA-PKCS1-V1_5":
                switch(algorithm.hash.name.toUpperCase())
                {
                    case "SHA-1":
                        result = "1.2.840.113549.1.1.5";
                        break;
                    case "SHA-256":
                        result = "1.2.840.113549.1.1.11";
                        break;
                    case "SHA-384":
                        result = "1.2.840.113549.1.1.12";
                        break;
                    case "SHA-512":
                        result = "1.2.840.113549.1.1.13";
                        break;
                    default:;
                }
                break;
            case "RSA-PSS":
                result = "1.2.840.113549.1.1.10";
                break;
            case "RSA-OAEP":
                result = "1.2.840.113549.1.1.7";
                break;
            case "ECDSA":
                switch(algorithm.hash.name.toUpperCase())
                {
                    case "SHA-1":
                        result = "1.2.840.10045.4.1";
                        break;
                    case "SHA-256":
                        result = "1.2.840.10045.4.3.2";
                        break;
                    case "SHA-384":
                        result = "1.2.840.10045.4.3.3";
                        break;
                    case "SHA-512":
                        result = "1.2.840.10045.4.3.4";
                        break;
                    default:;
                }
                break;
            case "ECDH":
                switch(algorithm.kdf.toUpperCase()) // Non-standard addition - hash algorithm of KDF function
                {
                    case "SHA-1":
                        result = "1.3.133.16.840.63.0.2"; // dhSinglePass-stdDH-sha1kdf-scheme
                        break;
                    case "SHA-256":
                        result = "1.3.132.1.11.1"; // dhSinglePass-stdDH-sha256kdf-scheme
                        break;
                    case "SHA-384":
                        result = "1.3.132.1.11.2"; // dhSinglePass-stdDH-sha384kdf-scheme
                        break;
                    case "SHA-512":
                        result = "1.3.132.1.11.3"; // dhSinglePass-stdDH-sha512kdf-scheme
                        break;
                    default:;
                }
                break;
            case "AES-CTR":
                break;
            case "AES-CBC":
                switch(algorithm.length)
                {
                    case 128:
                        result = "2.16.840.1.101.3.4.1.2";
                        break;
                    case 192:
                        result = "2.16.840.1.101.3.4.1.22";
                        break;
                    case 256:
                        result = "2.16.840.1.101.3.4.1.42";
                        break;
                    default:;
                }
                break;
            case "AES-CMAC":
                break;
            case "AES-GCM":
                switch(algorithm.length)
                {
                    case 128:
                        result = "2.16.840.1.101.3.4.1.6";
                        break;
                    case 192:
                        result = "2.16.840.1.101.3.4.1.26";
                        break;
                    case 256:
                        result = "2.16.840.1.101.3.4.1.46";
                        break;
                    default:;
                }
                break;
            case "AES-CFB":
                switch(algorithm.length)
                {
                    case 128:
                        result = "2.16.840.1.101.3.4.1.4";
                        break;
                    case 192:
                        result = "2.16.840.1.101.3.4.1.24";
                        break;
                    case 256:
                        result = "2.16.840.1.101.3.4.1.44";
                        break;
                    default:;
                }
                break;
            case "AES-KW":
                switch(algorithm.length)
                {
                    case 128:
                        result = "2.16.840.1.101.3.4.1.5";
                        break;
                    case 192:
                        result = "2.16.840.1.101.3.4.1.25";
                        break;
                    case 256:
                        result = "2.16.840.1.101.3.4.1.45";
                        break;
                    default:;
                }
                break;
            case "HMAC":
                switch(algorithm.hash.name.toUpperCase())
                {
                    case "SHA-1":
                        result = "1.2.840.113549.2.7";
                        break;
                    case "SHA-256":
                        result = "1.2.840.113549.2.9";
                        break;
                    case "SHA-384":
                        result = "1.2.840.113549.2.10";
                        break;
                    case "SHA-512":
                        result = "1.2.840.113549.2.11";
                        break;
                    default:;
                }
                break;
            case "DH":
                result = "1.2.840.113549.1.9.16.3.5";
                break;
            case "SHA-1":
                result = "1.3.14.3.2.26";
                break;
            case "SHA-256":
                result = "2.16.840.1.101.3.4.2.1";
                break;
            case "SHA-384":
                result = "2.16.840.1.101.3.4.2.2";
                break;
            case "SHA-512":
                result = "2.16.840.1.101.3.4.2.3";
                break;
            case "CONCAT":
                break;
            case "HKDF":
                break;
            case "PBKDF2":
                result = "1.2.840.113549.1.5.12";
                break;
            // #region Special case - OIDs for ECC curves
            case "P-256":
                result = "1.2.840.10045.3.1.7";
                break;
            case "P-384":
                result = "1.3.132.0.34";
                break;
            case "P-521":
                result = "1.3.132.0.35";
                break;
            // #endregion
            default:;
        }

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.getAlgorithmByOID =
    function(oid)
    {
        /// <summary>Get WebCrypto algorithm by wel-known OID</summary>
        /// <param name="oid" type="String">Wel-known OID to search for</param>

        var result = {};

        switch(oid)
        {
            case "1.2.840.113549.1.1.5":
                result = {
                    name: "RSASSA-PKCS1-v1_5",
                    hash: {
                        name: "SHA-1"
                    }
                };
                break;
            case "1.2.840.113549.1.1.11":
                result = {
                    name: "RSASSA-PKCS1-v1_5",
                    hash: {
                        name: "SHA-256"
                    }
                };
                break;
            case "1.2.840.113549.1.1.12":
                result = {
                    name: "RSASSA-PKCS1-v1_5",
                    hash: {
                        name: "SHA-384"
                    }
                };
                break;
            case "1.2.840.113549.1.1.13":
                result = {
                    name: "RSASSA-PKCS1-v1_5",
                    hash: {
                        name: "SHA-512"
                    }
                };
                break;
            case "1.2.840.113549.1.1.10":
                result = {
                    name: "RSA-PSS"
                };
                break;
            case "1.2.840.113549.1.1.7":
                result = {
                    name: "RSA-OAEP"
                };
                break;
            case "1.2.840.10045.4.1":
                result = {
                    name: "ECDSA",
                    hash: {
                        name: "SHA-1"
                    }
                };
                break;
            case "1.2.840.10045.4.3.2":
                result = {
                    name: "ECDSA",
                    hash: {
                        name: "SHA-256"
                    }
                };
                break;
            case "1.2.840.10045.4.3.3":
                result = {
                    name: "ECDSA",
                    hash: {
                        name: "SHA-384"
                    }
                };
                break;
            case "1.2.840.10045.4.3.4":
                result = {
                    name: "ECDSA",
                    hash: {
                        name: "SHA-512"
                    }
                };
                break;
            case "1.3.133.16.840.63.0.2":
                result = {
                    name: "ECDH",
                    kdf: "SHA-1"
                };
                break;
            case "1.3.132.1.11.1":
                result = {
                    name: "ECDH",
                    kdf: "SHA-256"
                };
                break;
            case "1.3.132.1.11.2":
                result = {
                    name: "ECDH",
                    kdf: "SHA-384"
                };
                break;
            case "1.3.132.1.11.3":
                result = {
                    name: "ECDH",
                    kdf: "SHA-512"
                };
                break;
            case "2.16.840.1.101.3.4.1.2":
                result = {
                    name: "AES-CBC",
                    length: 128
                };
                break;
            case "2.16.840.1.101.3.4.1.22":
                result = {
                    name: "AES-CBC",
                    length: 192
                };
                break;
            case "2.16.840.1.101.3.4.1.42":
                result = {
                    name: "AES-CBC",
                    length: 256
                };
                break;
            case "2.16.840.1.101.3.4.1.6":
                result = {
                    name: "AES-GCM",
                    length: 128
                };
                break;
            case "2.16.840.1.101.3.4.1.26":
                result = {
                    name: "AES-GCM",
                    length: 192
                };
                break;
            case "2.16.840.1.101.3.4.1.46":
                result = {
                    name: "AES-GCM",
                    length: 256
                };
                break;
            case "2.16.840.1.101.3.4.1.4":
                result = {
                    name: "AES-CFB",
                    length: 128
                };
                break;
            case "2.16.840.1.101.3.4.1.24":
                result = {
                    name: "AES-CFB",
                    length: 192
                };
                break;
            case "2.16.840.1.101.3.4.1.44":
                result = {
                    name: "AES-CFB",
                    length: 256
                };
                break;
            case "2.16.840.1.101.3.4.1.5":
                result = {
                    name: "AES-KW",
                    length: 128
                };
                break;
            case "2.16.840.1.101.3.4.1.25":
                result = {
                    name: "AES-KW",
                    length: 192
                };
                break;
            case "2.16.840.1.101.3.4.1.45":
                result = {
                    name: "AES-KW",
                    length: 256
                };
                break;
            case "1.2.840.113549.2.7":
                result = {
                    name: "HMAC",
                    hash: {
                        name: "SHA-1"
                    }
                };
                break;
            case "1.2.840.113549.2.9":
                result = {
                    name: "HMAC",
                    hash: {
                        name: "SHA-256"
                    }
                };
                break;
            case "1.2.840.113549.2.10":
                result = {
                    name: "HMAC",
                    hash: {
                        name: "SHA-384"
                    }
                };
                break;
            case "1.2.840.113549.2.11":
                result = {
                    name: "HMAC",
                    hash: {
                        name: "SHA-512"
                    }
                };
                break;
            case "1.2.840.113549.1.9.16.3.5":
                result = {
                    name: "DH"
                };
                break;
            case "1.3.14.3.2.26":
                result = {
                    name: "SHA-1"
                };
                break;
            case "2.16.840.1.101.3.4.2.1":
                result = {
                    name: "SHA-256"
                };
                break;
            case "2.16.840.1.101.3.4.2.2":
                result = {
                    name: "SHA-384"
                };
                break;
            case "2.16.840.1.101.3.4.2.3":
                result = {
                    name: "SHA-512"
                };
                break;
            case "1.2.840.113549.1.5.12":
                result = {
                    name: "PBKDF2"
                };
                break;
            // #region Special case - OIDs for ECC curves
            case "1.2.840.10045.3.1.7":
                result = {
                    name: "P-256"
                };
                break;
            case "1.3.132.0.34":
                result = {
                    name: "P-384"
                };
                break;
            case "1.3.132.0.35":
                result = {
                    name: "P-521"
                };
                break;
            // #endregion
            default:;
        }

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.getHashAlgorithm =
    function(signatureAlgorithm)
    {
        /// <summary>Getting hash algorithm by signature algorithm</summary>
        /// <param name="signatureAlgorithm" type="in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER">Signature algorithm</param>

        var result = "";

        switch(signatureAlgorithm.algorithm_id)
        {
            case "1.2.840.10045.4.1": // ecdsa-with-SHA1
            case "1.2.840.113549.1.1.5":
                result = "SHA-1";
                break;
            case "1.2.840.10045.4.3.2": // ecdsa-with-SHA256
            case "1.2.840.113549.1.1.11":
                result = "SHA-256";
                break;
            case "1.2.840.10045.4.3.3": // ecdsa-with-SHA384
            case "1.2.840.113549.1.1.12":
                result = "SHA-384";
                break;
            case "1.2.840.10045.4.3.4": // ecdsa-with-SHA512
            case "1.2.840.113549.1.1.13":
                result = "SHA-512";
                break;
            case "1.2.840.113549.1.1.10": // RSA-PSS
                {
                    var params;

                    try
                    {
                        params = new in_window.org.pkijs.simpl.x509.RSASSA_PSS_params({ schema: signatureAlgorithm.algorithm_params });
                        if("hashAlgorithm" in params)
                        {
                            var algorithm = in_window.org.pkijs.getAlgorithmByOID(params.hashAlgorithm.algorithm_id);
                            if(("name" in algorithm) === false)
                                return "";

                            result = algorithm.name;
                        }
                        else
                            result = "SHA-1";
                    }
                    catch(ex)
                    {
                    }
                }
                break;
            default:;
        }

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.createCMSECDSASignature =
    function(signatureBuffer)
    {
        /// <summary>Create CMS ECDSA signature from WebCrypto ECDSA signature</summary>
        /// <param name="signatureBuffer" type="ArrayBuffer">WebCrypto result of "sign" function</param>

        // #region Initial check for correct length
        if((signatureBuffer.byteLength % 2) != 0)
            return new ArrayBuffer(0);
        // #endregion

        // #region Initial variables
        var i = 0;
        var length = signatureBuffer.byteLength / 2; // There are two equal parts inside incoming ArrayBuffer

        var signatureView = new Uint8Array(signatureBuffer);

        var r_buffer = new ArrayBuffer(length);
        var r_view = new Uint8Array(r_buffer);
        var r_corrected_buffer;
        var r_corrected_view;

        var s_buffer = new ArrayBuffer(length);
        var s_view = new Uint8Array(s_buffer);
        var s_corrected_buffer;
        var s_corrected_view;
        // #endregion

        // #region Get "r" part of ECDSA signature
        for(; i < length; i++)
            r_view[i] = signatureView[i];

        if(r_view[0] & 0x80)
        {
            r_corrected_buffer = new ArrayBuffer(length + 1);
            r_corrected_view = new Uint8Array(r_corrected_buffer);

            r_corrected_view[0] = 0x00;

            for(var j = 0; j < length; j++)
                r_corrected_view[j + 1] = r_view[j];
        }
        else
        {
            r_corrected_buffer = r_buffer;
            r_corrected_view = r_view;
        }
        // #endregion

        // #region Get "s" part of ECDSA signature
        for(; i < signatureBuffer.byteLength; i++)
            s_view[i - length] = signatureView[i];


        if(s_view[0] & 0x80)
        {
            s_corrected_buffer = new ArrayBuffer(length + 1);
            s_corrected_view = new Uint8Array(s_corrected_buffer);

            s_corrected_view[0] = 0x00;

            for(var j = 0; j < length; j++)
                s_corrected_view[j + 1] = s_view[j];
        }
        else
        {
            s_corrected_buffer = s_buffer;
            s_corrected_view = s_view;
        }
        // #endregion

        // #region Create ASN.1 structure of CMS ECDSA signature
        var r_integer = new in_window.org.pkijs.asn1.INTEGER();
        r_integer.value_block.is_hex_only = true;
        r_integer.value_block.value_hex = in_window.org.pkijs.copyBuffer(r_corrected_buffer);

        var s_integer = new in_window.org.pkijs.asn1.INTEGER();
        s_integer.value_block.is_hex_only = true;
        s_integer.value_block.value_hex = in_window.org.pkijs.copyBuffer(s_corrected_buffer);

        var asn1 = new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                r_integer,
                s_integer
            ]
        });
        // #endregion

        return asn1.toBER(false);
    }
    //**************************************************************************************
    in_window.org.pkijs.createECDSASignatureFromCMS =
    function(cmsSignature)
    {
        /// <summary>Create a single ArrayBuffer from CMS ECDSA signature</summary>
        /// <param name="cmsSignature" type="in_window.org.pkijs.asn1.SEQUENCE">ASN.1 SEQUENCE contains CMS ECDSA signature</param>

        // #region Initial variables
        var length = 0;

        var r_start = 0;
        var s_start = 0;

        var r_length = cmsSignature.value_block.value[0].value_block.value_hex.byteLength;
        var s_length = cmsSignature.value_block.value[1].value_block.value_hex.byteLength;
        // #endregion

        // #region Get length of final "ArrayBuffer"
        var r_view = new Uint8Array(cmsSignature.value_block.value[0].value_block.value_hex);
        if((r_view[0] === 0x00) && (r_view[1] & 0x80))
        {
            length = r_length - 1;
            r_start = 1;
        }
        else
            length = r_length;

        var s_view = new Uint8Array(cmsSignature.value_block.value[1].value_block.value_hex);
        if((s_view[0] === 0x00) && (s_view[1] & 0x80))
        {
            length += s_length - 1;
            s_start = 1;
        }
        else
            length += s_length;
        // #endregion

        // #region Copy values from CMS ECDSA signature
        var result = new ArrayBuffer(length);
        var result_view = new Uint8Array(result);

        for(var i = r_start; i < r_length; i++)
            result_view[i - r_start] = r_view[i];

        for(var i = s_start; i < s_length; i++)
            result_view[i - s_start + r_length - r_start] = s_view[i];
        // #endregion

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.getEncryptionAlgorithm =
    function(algorithm)
    {
        /// <summary>Get encryption algorithm OID by WebCrypto algorithm's object</summary>
        /// <param name="algorithm" type="WebCryptoAlgorithm">WebCrypto algorithm object</param>

        var result = "";

        switch(algorithm.name.toUpperCase())
        {
            case "AES-CBC":
                switch(algorithm.length)
                {
                    case 128:
                        result = "2.16.840.1.101.3.4.1.2";
                        break;
                    case 192:
                        result = "2.16.840.1.101.3.4.1.22";
                        break;
                    case 256:
                        result = "2.16.840.1.101.3.4.1.42";
                        break;
                    default:;
                }
                break;
            case "AES-GCM":
                switch(algorithm.length)
                {
                    case 128:
                        result = "2.16.840.1.101.3.4.1.6";
                        break;
                    case 192:
                        result = "2.16.840.1.101.3.4.1.26";
                        break;
                    case 256:
                        result = "2.16.840.1.101.3.4.1.46";
                        break;
                    default:;
                }
                break;
            default:;
        }

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.getAlgorithmByEncryptionOID =
    function(oid)
    {
        /// <summary>Get encryption algorithm name by OID</summary>
        /// <param name="oid" type="String">OID of encryption algorithm</param>

        var result = "";

        switch(oid)
        {
            case "2.16.840.1.101.3.4.1.2":
            case "2.16.840.1.101.3.4.1.22":
            case "2.16.840.1.101.3.4.1.42":
                result = "AES-CBC";
                break;
            case "2.16.840.1.101.3.4.1.6":
            case "2.16.840.1.101.3.4.1.26":
            case "2.16.840.1.101.3.4.1.46":
                result = "AES-GCM";
                break;
            default:;
        }

        return result;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
}
)(typeof exports !== "undefined" ? exports : window);

/*
 AngularJS v1.6.4-local+sha.617b36117
 (c) 2010-2017 Google, Inc. http://angularjs.org
 License: MIT
*/
'use strict';(function(G){'use strict';function R(a){return function(){var b=arguments[0];var d="["+(a?a+":":"")+b+"] http://errors.angularjs.org/1.6.4-local+sha.617b36117/"+(a?a+"/":"")+b;for(b=1;b<arguments.length;b++){d=d+(1==b?"?":"&")+"p"+(b-1)+"=";var c=encodeURIComponent;var e=arguments[b];e="function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?JSON.stringify(e):e;d+=c(e)}return Error(d)}}function qe(a){if(H(a))u(a.objectMaxDepth)&&(Pc.objectMaxDepth=
Yb(a.objectMaxDepth)?a.objectMaxDepth:NaN);else return Pc}function Yb(a){return ca(a)&&0<a}function xa(a){if(null==a||ab(a))return!1;if(K(a)||J(a)||B&&a instanceof B)return!0;var b="length"in Object(a)&&a.length;return ca(b)&&(0<=b&&(b-1 in a||a instanceof Array)||"function"===typeof a.item)}function q(a,b,d){var c;if(a)if(z(a))for(f in a)"prototype"!==f&&"length"!==f&&"name"!==f&&a.hasOwnProperty(f)&&b.call(d,a[f],f,a);else if(K(a)||xa(a)){var e="object"!==typeof a;var f=0;for(c=a.length;f<c;f++)(e||
f in a)&&b.call(d,a[f],f,a)}else if(a.forEach&&a.forEach!==q)a.forEach(b,d,a);else if(Qc(a))for(f in a)b.call(d,a[f],f,a);else if("function"===typeof a.hasOwnProperty)for(f in a)a.hasOwnProperty(f)&&b.call(d,a[f],f,a);else for(f in a)ya.call(a,f)&&b.call(d,a[f],f,a);return a}function Rc(a,b,d){for(var c=Object.keys(a).sort(),e=0;e<c.length;e++)b.call(d,a[c[e]],c[e]);return c}function Sc(a){return function(b,d){a(d,b)}}function re(){return++ub}function Zb(a,b,d){for(var c=a.$$hashKey,e=0,f=b.length;e<
f;++e){var g=b[e];if(H(g)||z(g))for(var h=Object.keys(g),k=0,l=h.length;k<l;k++){var p=h[k],m=g[p];d&&H(m)?da(m)?a[p]=new Date(m.valueOf()):vb(m)?a[p]=new RegExp(m):m.nodeName?a[p]=m.cloneNode(!0):$b(m)?a[p]=m.clone():(H(a[p])||(a[p]=K(m)?[]:{}),Zb(a[p],[m],!0)):a[p]=m}}c?a.$$hashKey=c:delete a.$$hashKey;return a}function T(a){return Zb(a,za.call(arguments,1),!1)}function se(a){return Zb(a,za.call(arguments,1),!0)}function ac(a,b){return T(Object.create(a),b)}function D(){}function wb(a){return a}
function pa(a){return function(){return a}}function bc(a){return z(a.toString)&&a.toString!==qa}function x(a){return"undefined"===typeof a}function u(a){return"undefined"!==typeof a}function H(a){return null!==a&&"object"===typeof a}function Qc(a){return null!==a&&"object"===typeof a&&!Tc(a)}function J(a){return"string"===typeof a}function ca(a){return"number"===typeof a}function da(a){return"[object Date]"===qa.call(a)}function z(a){return"function"===typeof a}function vb(a){return"[object RegExp]"===
qa.call(a)}function ab(a){return a&&a.window===a}function bb(a){return a&&a.$evalAsync&&a.$watch}function Pa(a){return"boolean"===typeof a}function te(a){return a&&ca(a.length)&&ue.test(qa.call(a))}function $b(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function ve(a){var b={};a=a.split(",");var d;for(d=0;d<a.length;d++)b[a[d]]=!0;return b}function Aa(a){return S(a.nodeName||a[0]&&a[0].nodeName)}function cb(a,b){b=a.indexOf(b);0<=b&&a.splice(b,1);return b}function Ba(a,b,d){function c(a,
b,c){c--;if(0>c)return"...";var d=b.$$hashKey;if(K(a)){var f=0;for(var g=a.length;f<g;f++)b.push(e(a[f],c))}else if(Qc(a))for(f in a)b[f]=e(a[f],c);else if(a&&"function"===typeof a.hasOwnProperty)for(f in a)a.hasOwnProperty(f)&&(b[f]=e(a[f],c));else for(f in a)ya.call(a,f)&&(b[f]=e(a[f],c));d?b.$$hashKey=d:delete b.$$hashKey;return b}function e(a,b){if(!H(a))return a;var d=g.indexOf(a);if(-1!==d)return h[d];if(ab(a)||bb(a))throw Ca("cpws");d=!1;var e=f(a);void 0===e&&(e=K(a)?[]:Object.create(Tc(a)),
d=!0);g.push(a);h.push(e);return d?c(a,e,b):e}function f(a){switch(qa.call(a)){case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Float32Array]":case "[object Float64Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return new a.constructor(e(a.buffer),a.byteOffset,a.length);case "[object ArrayBuffer]":if(!a.slice){var b=new ArrayBuffer(a.byteLength);(new Uint8Array(b)).set(new Uint8Array(a));
return b}return a.slice(0);case "[object Boolean]":case "[object Number]":case "[object String]":case "[object Date]":return new a.constructor(a.valueOf());case "[object RegExp]":return b=new RegExp(a.source,a.toString().match(/[^/]*$/)[0]),b.lastIndex=a.lastIndex,b;case "[object Blob]":return new a.constructor([a],{type:a.type})}if(z(a.cloneNode))return a.cloneNode(!0)}var g=[],h=[];d=Yb(d)?d:NaN;if(b){if(te(b)||"[object ArrayBuffer]"===qa.call(b))throw Ca("cpta");if(a===b)throw Ca("cpi");K(b)?b.length=
0:q(b,function(a,c){"$$hashKey"!==c&&delete b[c]});g.push(a);h.push(b);return c(a,b,d)}return e(a,d)}function cc(a,b){return a===b||a!==a&&b!==b}function va(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var d=typeof a,c;if(d===typeof b&&"object"===d)if(K(a)){if(!K(b))return!1;if((d=a.length)===b.length){for(c=0;c<d;c++)if(!va(a[c],b[c]))return!1;return!0}}else{if(da(a))return da(b)?cc(a.getTime(),b.getTime()):!1;if(vb(a))return vb(b)?a.toString()===b.toString():!1;
if(bb(a)||bb(b)||ab(a)||ab(b)||K(b)||da(b)||vb(b))return!1;d=V();for(c in a)if("$"!==c.charAt(0)&&!z(a[c])){if(!va(a[c],b[c]))return!1;d[c]=!0}for(c in b)if(!(c in d)&&"$"!==c.charAt(0)&&u(b[c])&&!z(b[c]))return!1;return!0}return!1}function db(a,b,d){return a.concat(za.call(b,d))}function eb(a,b){var d=2<arguments.length?za.call(arguments,2):[];return!z(b)||b instanceof RegExp?b:d.length?function(){return arguments.length?b.apply(a,db(d,arguments,0)):b.apply(a,d)}:function(){return arguments.length?
b.apply(a,arguments):b.call(a)}}function Uc(a,b){var d=b;"string"===typeof a&&"$"===a.charAt(0)&&"$"===a.charAt(1)?d=void 0:ab(b)?d="$WINDOW":b&&G.document===b?d="$DOCUMENT":bb(b)&&(d="$SCOPE");return d}function fb(a,b){if(!x(a))return ca(b)||(b=b?2:null),JSON.stringify(a,Uc,b)}function Vc(a){return J(a)?JSON.parse(a):a}function Wc(a,b){a=a.replace(we,"");a=Date.parse("Jan 01, 1970 00:00:00 "+a)/6E4;return ha(a)?b:a}function dc(a,b,d){d=d?-1:1;var c=a.getTimezoneOffset();b=Wc(b,c);d*=b-c;a=new Date(a.getTime());
a.setMinutes(a.getMinutes()+d);return a}function Da(a){a=B(a).clone();try{a.empty()}catch(d){}var b=B("<div>").append(a).html();try{return a[0].nodeType===Qa?S(b):b.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(a,b){return"<"+S(b)})}catch(d){return S(b)}}function Xc(a){try{return decodeURIComponent(a)}catch(b){}}function Yc(a){var b={};q((a||"").split("&"),function(a){if(a){var c=a=a.replace(/\+/g,"%20");var d=a.indexOf("=");if(-1!==d){c=a.substring(0,d);var f=a.substring(d+1)}c=Xc(c);u(c)&&
(f=u(f)?Xc(f):!0,ya.call(b,c)?K(b[c])?b[c].push(f):b[c]=[b[c],f]:b[c]=f)}});return b}function ec(a){var b=[];q(a,function(a,c){K(a)?q(a,function(a){b.push(oa(c,!0)+(!0===a?"":"="+oa(a,!0)))}):b.push(oa(c,!0)+(!0===a?"":"="+oa(a,!0)))});return b.length?b.join("&"):""}function gb(a){return oa(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function oa(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,
";").replace(/%20/g,b?"%20":"+")}function xe(a,b){var d,c=Ha.length;for(d=0;d<c;++d){var e=Ha[d]+b;if(J(e=a.getAttribute(e)))return e}return null}function ye(a,b){var d,c,e={};q(Ha,function(b){b+="app";!d&&a.hasAttribute&&a.hasAttribute(b)&&(d=a,c=a.getAttribute(b))});q(Ha,function(b){b+="app";var e;!d&&(e=a.querySelector("["+b.replace(":","\\:")+"]"))&&(d=e,c=e.getAttribute(b))});d&&(ze?(e.strictDi=null!==xe(d,"strict-di"),b(d,c?[c]:[],e)):G.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match."))}
function Zc(a,b,d){H(d)||(d={});d=T({strictDi:!1},d);var c=function(){a=B(a);if(a.injector()){var c=a[0]===G.document?"document":Da(a);throw Ca("btstrpd",c.replace(/</,"&lt;").replace(/>/,"&gt;"));}b=b||[];b.unshift(["$provide",function(b){b.value("$rootElement",a)}]);d.debugInfoEnabled&&b.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]);b.unshift("ng");c=hb(b,d.strictDi);c.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",
d);c(b)(a)})}]);return c},e=/^NG_ENABLE_DEBUG_INFO!/,f=/^NG_DEFER_BOOTSTRAP!/;G&&e.test(G.name)&&(d.debugInfoEnabled=!0,G.name=G.name.replace(e,""));if(G&&!f.test(G.name))return c();G.name=G.name.replace(f,"");ma.resumeBootstrap=function(a){q(a,function(a){b.push(a)});return c()};z(ma.resumeDeferredBootstrap)&&ma.resumeDeferredBootstrap()}function Ae(){G.name="NG_ENABLE_DEBUG_INFO!"+G.name;G.location.reload()}function Be(a){a=ma.element(a).injector();if(!a)throw Ca("test");return a.get("$$testability")}
function $c(a,b){b=b||"_";return a.replace(Ce,function(a,c){return(c?b:"")+a.toLowerCase()})}function ib(a,b,d){if(!a)throw Ca("areq",b||"?",d||"required");return a}function xb(a,b,d){d&&K(a)&&(a=a[a.length-1]);ib(z(a),b,"not a function, got "+(a&&"object"===typeof a?a.constructor.name||"Object":typeof a));return a}function Ia(a,b){if("hasOwnProperty"===a)throw Ca("badname",b);}function ad(a,b,d){if(!b)return a;b=b.split(".");for(var c,e=a,f=b.length,g=0;g<f;g++)c=b[g],a&&(a=(e=a)[c]);return!d&&z(a)?
eb(e,a):a}function yb(a){for(var b=a[0],d=a[a.length-1],c,e=1;b!==d&&(b=b.nextSibling);e++)if(c||a[e]!==b)c||(c=B(za.call(a,0,e))),c.push(b);return c||a}function V(){return Object.create(null)}function fc(a){if(null==a)return"";switch(typeof a){case "string":break;case "number":a=""+a;break;default:a=!bc(a)||K(a)||da(a)?fb(a):a.toString()}return a}function De(a){function b(a,b,c){return a[b]||(a[b]=c())}var d=R("$injector"),c=R("ng");a=b(a,"angular",Object);a.$$minErr=a.$$minErr||R;return b(a,"module",
function(){var a={};return function(e,g,h){var f={};if("hasOwnProperty"===e)throw c("badname","module");g&&a.hasOwnProperty(e)&&(a[e]=null);return b(a,e,function(){function a(a,b,c,d){d||(d=k);return function(){d[c||"push"]([a,b,arguments]);return v}}function b(a,b,c){c||(c=k);return function(d,f){f&&z(f)&&(f.$$moduleName=e);c.push([a,b,arguments]);return v}}if(!g)throw d("nomod",e);var k=[],t=[],n=[],M=a("$injector","invoke","push",t),v={_invokeQueue:k,_configBlocks:t,_runBlocks:n,info:function(a){if(u(a)){if(!H(a))throw c("aobj",
"value");f=a;return this}return f},requires:g,name:e,provider:b("$provide","provider"),factory:b("$provide","factory"),service:b("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:b("$provide","decorator",t),animation:b("$animateProvider","register"),filter:b("$filterProvider","register"),controller:b("$controllerProvider","register"),directive:b("$compileProvider","directive"),component:b("$compileProvider","component"),config:M,run:function(a){n.push(a);
return this}};h&&M(h);return v})}})}function ta(a,b){if(K(a)){b=b||[];for(var d=0,c=a.length;d<c;d++)b[d]=a[d]}else if(H(a))for(d in b=b||{},a)if("$"!==d.charAt(0)||"$"!==d.charAt(1))b[d]=a[d];return b||a}function Ee(a,b){var d=[];Yb(b)&&(a=Ba(a,null,b));return JSON.stringify(a,function(a,b){b=Uc(a,b);if(H(b)){if(0<=d.indexOf(b))return"...";d.push(b)}return b})}function ra(a,b){return b.toUpperCase()}function gc(a){a=a.nodeType;return 1===a||!a||9===a}function bd(a,b){var d=b.createDocumentFragment(),
c=[];if(hc.test(a)){b=d.appendChild(b.createElement("div"));var e=(Fe.exec(a)||["",""])[1].toLowerCase();e=ea[e]||ea._default;b.innerHTML=e[1]+a.replace(Ge,"<$1></$2>")+e[2];for(a=e[0];a--;)b=b.lastChild;c=db(c,b.childNodes);b=d.firstChild;b.textContent=""}else c.push(b.createTextNode(a));d.textContent="";d.innerHTML="";q(c,function(a){d.appendChild(a)});return d}function X(a){if(a instanceof X)return a;if(J(a)){a=U(a);var b=!0}if(!(this instanceof X)){if(b&&"<"!==a.charAt(0))throw ic("nosel");return new X(a)}if(b){b=
G.document;var d;a=(d=He.exec(a))?[b.createElement(d[1])]:(d=bd(a,b))?d.childNodes:[];jc(this,a)}else z(a)?cd(a):jc(this,a)}function kc(a){return a.cloneNode(!0)}function zb(a,b){!b&&gc(a)&&B.cleanData([a]);a.querySelectorAll&&B.cleanData(a.querySelectorAll("*"))}function dd(a,b,d,c){if(u(c))throw ic("offargs");var e=(c=Ab(a))&&c.events,f=c&&c.handle;if(f)if(b){var g=function(b){var c=e[b];u(d)&&cb(c||[],d);u(d)&&c&&0<c.length||(a.removeEventListener(b,f),delete e[b])};q(b.split(" "),function(a){g(a);
Bb[a]&&g(Bb[a])})}else for(b in e)"$destroy"!==b&&a.removeEventListener(b,f),delete e[b]}function lc(a,b){var d=a.ng339,c=d&&jb[d];c&&(b?delete c.data[b]:(c.handle&&(c.events.$destroy&&c.handle({},"$destroy"),dd(a)),delete jb[d],a.ng339=void 0))}function Ab(a,b){var d=a.ng339;d=d&&jb[d];b&&!d&&(a.ng339=d=++Ie,d=jb[d]={events:{},data:{},handle:void 0});return d}function mc(a,b,d){if(gc(a)){var c,e=u(d),f=!e&&b&&!H(b),g=!b;a=(a=Ab(a,!f))&&a.data;if(e)a[b.replace(Cb,ra)]=d;else{if(g)return a;if(f)return a&&
a[b.replace(Cb,ra)];for(c in b)a[c.replace(Cb,ra)]=b[c]}}}function Db(a,b){return a.getAttribute?-1<(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" "):!1}function Eb(a,b){b&&a.setAttribute&&q(b.split(" "),function(b){a.setAttribute("class",U((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+U(b)+" "," ")))})}function Fb(a,b){if(b&&a.setAttribute){var d=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");q(b.split(" "),function(a){a=
U(a);-1===d.indexOf(" "+a+" ")&&(d+=a+" ")});a.setAttribute("class",U(d))}}function jc(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var d=b.length;if("number"===typeof d&&b.window!==b){if(d)for(var c=0;c<d;c++)a[a.length++]=b[c]}else a[a.length++]=b}}function ed(a,b){return Gb(a,"$"+(b||"ngController")+"Controller")}function Gb(a,b,d){9===a.nodeType&&(a=a.documentElement);for(b=K(b)?b:[b];a;){for(var c=0,e=b.length;c<e;c++)if(u(d=B.data(a,b[c])))return d;a=a.parentNode||11===a.nodeType&&a.host}}function fd(a){for(zb(a,
!0);a.firstChild;)a.removeChild(a.firstChild)}function Hb(a,b){b||zb(a);(b=a.parentNode)&&b.removeChild(a)}function Je(a,b){b=b||G;if("complete"===b.document.readyState)b.setTimeout(a);else B(b).on("load",a)}function cd(a){function b(){G.document.removeEventListener("DOMContentLoaded",b);G.removeEventListener("load",b);a()}"complete"===G.document.readyState?G.setTimeout(a):(G.document.addEventListener("DOMContentLoaded",b),G.addEventListener("load",b))}function gd(a,b){return(b=Ib[b.toLowerCase()])&&
hd[Aa(a)]&&b}function Ke(a,b){var d=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var e=(d=b[d||c.type])?d.length:0;if(e){if(x(c.immediatePropagationStopped)){var g=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0;c.stopPropagation&&c.stopPropagation();g&&g.call(c)}}c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped};var h=d.specialHandlerWrapper||Le;1<e&&(d=ta(d));for(var k=0;k<e;k++)c.isImmediatePropagationStopped()||
h(a,c,d[k])}};d.elem=a;return d}function Le(a,b,d){d.call(a,b)}function Me(a,b,d){var c=b.relatedTarget;c&&(c===a||Ne.call(a,c))||d.call(a,b)}function Oe(){this.$get=function(){return T(X,{hasClass:function(a,b){a.attr&&(a=a[0]);return Db(a,b)},addClass:function(a,b){a.attr&&(a=a[0]);return Fb(a,b)},removeClass:function(a,b){a.attr&&(a=a[0]);return Eb(a,b)}})}}function Ja(a,b){var d=a&&a.$$hashKey;if(d)return"function"===typeof d&&(d=a.$$hashKey()),d;d=typeof a;return d="function"===d||"object"===
d&&null!==a?a.$$hashKey=d+":"+(b||re)():d+":"+a}function id(){this._keys=[];this._values=[];this._lastKey=NaN;this._lastIndex=-1}function jd(a){a=Function.prototype.toString.call(a).replace(Pe,"");return a.match(Qe)||a.match(Re)}function Se(a){return(a=jd(a))?"function("+(a[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function hb(a,b){function d(a){return function(b,c){if(H(b))q(b,Sc(a));else return a(b,c)}}function c(a,b){Ia(a,"service");if(z(b)||K(b))b=t.instantiate(b);if(!b.$get)throw ua("pget",a);
return m[a+"Provider"]=b}function e(a,b){return function(){var c=v.invoke(b,this);if(x(c))throw ua("undef",a);return c}}function f(a,b,d){return c(a,{$get:!1!==d?e(a,b):b})}function g(a){ib(x(a)||K(a),"modulesToLoad","not an array");var b=[],c;q(a,function(a){function d(a){var b;var c=0;for(b=a.length;c<b;c++){var d=a[c],e=t.get(d[0]);e[d[1]].apply(e,d[2])}}if(!p.get(a)){p.set(a,!0);try{J(a)?(c=nc(a),v.modules[a]=c,b=b.concat(g(c.requires)).concat(c._runBlocks),d(c._invokeQueue),d(c._configBlocks)):
z(a)?b.push(t.invoke(a)):K(a)?b.push(t.invoke(a)):xb(a,"module")}catch(C){throw K(a)&&(a=a[a.length-1]),C.message&&C.stack&&-1===C.stack.indexOf(C.message)&&(C=C.message+"\n"+C.stack),ua("modulerr",a,C.stack||C.message||C);}}});return b}function h(a,c){function d(b,d){if(a.hasOwnProperty(b)){if(a[b]===k)throw ua("cdep",b+" <- "+l.join(" <- "));return a[b]}try{return l.unshift(b),a[b]=k,a[b]=c(b,d),a[b]}catch(E){throw a[b]===k&&delete a[b],E;}finally{l.shift()}}function e(a,c,e){var f=[];a=hb.$$annotate(a,
b,e);for(var g=0,h=a.length;g<h;g++){var k=a[g];if("string"!==typeof k)throw ua("itkn",k);f.push(c&&c.hasOwnProperty(k)?c[k]:d(k,e))}return f}return{invoke:function(a,b,c,d){"string"===typeof c&&(d=c,c=null);c=e(a,c,d);K(a)&&(a=a[a.length-1]);d=a;if(Ka||"function"!==typeof d)d=!1;else{var f=d.$$ngIsClass;Pa(f)||(f=d.$$ngIsClass=/^(?:class\b|constructor\()/.test(Function.prototype.toString.call(d)));d=f}return d?(c.unshift(null),new (Function.prototype.bind.apply(a,c))):a.apply(b,c)},instantiate:function(a,
b,c){var d=K(a)?a[a.length-1]:a;a=e(a,b,c);a.unshift(null);return new (Function.prototype.bind.apply(d,a))},get:d,annotate:hb.$$annotate,has:function(b){return m.hasOwnProperty(b+"Provider")||a.hasOwnProperty(b)}}}b=!0===b;var k={},l=[],p=new Jb,m={$provide:{provider:d(c),factory:d(f),service:d(function(a,b){return f(a,["$injector",function(a){return a.instantiate(b)}])}),value:d(function(a,b){return f(a,pa(b),!1)}),constant:d(function(a,b){Ia(a,"constant");m[a]=b;n[a]=b}),decorator:function(a,b){var c=
t.get(a+"Provider"),d=c.$get;c.$get=function(){var a=v.invoke(d,c);return v.invoke(b,null,{$delegate:a})}}}},t=m.$injector=h(m,function(a,b){ma.isString(b)&&l.push(b);throw ua("unpr",l.join(" <- "));}),n={},M=h(n,function(a,b){b=t.get(a+"Provider",b);return v.invoke(b.$get,b,void 0,a)}),v=M;m.$injectorProvider={$get:pa(M)};v.modules=t.modules=V();a=g(a);v=M.get("$injector");v.strictDi=b;q(a,function(a){a&&v.invoke(a)});return v}function Te(){var a=!0;this.disableAutoScrolling=function(){a=!1};this.$get=
["$window","$location","$rootScope",function(b,d,c){function e(a){var b=null;Array.prototype.some.call(a,function(a){if("a"===Aa(a))return b=a,!0});return b}function f(a){if(a){a.scrollIntoView();var c=g.yOffset;z(c)?c=c():$b(c)?(c=c[0],c="fixed"!==b.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):ca(c)||(c=0);c&&(a=a.getBoundingClientRect().top,b.scrollBy(0,a-c))}else b.scrollTo(0,0)}function g(a){a=J(a)?a:ca(a)?a.toString():d.hash();var b;a?(b=h.getElementById(a))?f(b):(b=e(h.getElementsByName(a)))?
f(b):"top"===a&&f(null):f(null)}var h=b.document;a&&c.$watch(function(){return d.hash()},function(a,b){a===b&&""===a||Je(function(){c.$evalAsync(g)})});return g}]}function kb(a,b){if(!a&&!b)return"";if(!a)return b;if(!b)return a;K(a)&&(a=a.join(" "));K(b)&&(b=b.join(" "));return a+" "+b}function Ue(a){J(a)&&(a=a.split(" "));var b=V();q(a,function(a){a.length&&(b[a]=!0)});return b}function La(a){return H(a)?a:{}}function Ve(a,b,d,c){function e(a){try{a.apply(null,za.call(arguments,1))}finally{if(M--,
0===M)for(;v.length;)try{v.pop()()}catch(P){d.error(P)}}}function f(){L=null;h()}function g(){w=C();w=x(w)?null:w;va(w,A)&&(w=A);N=A=w}function h(){var a=N;g();if(O!==k.url()||a!==w)O=k.url(),N=w,q(E,function(a){a(k.url(),w)})}var k=this,l=a.location,p=a.history,m=a.setTimeout,t=a.clearTimeout,n={};k.isMock=!1;var M=0,v=[];k.$$completeOutstandingRequest=e;k.$$incOutstandingRequestCount=function(){M++};k.notifyWhenNoOutstandingRequests=function(a){0===M?a():v.push(a)};var w,N,O=l.href,y=b.find("base"),
L=null,C=c.history?function(){try{return p.state}catch(I){}}:D;g();k.url=function(b,d,e){x(e)&&(e=null);l!==a.location&&(l=a.location);p!==a.history&&(p=a.history);if(b){var f=N===e;if(O===b&&(!c.history||f))return k;var h=O&&Ea(O)===Ea(b);O=b;N=e;!c.history||h&&f?(h||(L=b),d?l.replace(b):h?(d=l,e=b.indexOf("#"),e=-1===e?"":b.substr(e),d.hash=e):l.href=b,l.href!==b&&(L=b)):(p[d?"replaceState":"pushState"](e,"",b),g());L&&(L=b);return k}return L||l.href.replace(/%27/g,"'")};k.state=function(){return w};
var E=[],ia=!1,A=null;k.onUrlChange=function(b){if(!ia){if(c.history)B(a).on("popstate",f);B(a).on("hashchange",f);ia=!0}E.push(b);return b};k.$$applicationDestroyed=function(){B(a).off("hashchange popstate",f)};k.$$checkUrlChange=h;k.baseHref=function(){var a=y.attr("href");return a?a.replace(/^(https?:)?\/\/[^/]*/,""):""};k.defer=function(a,b){M++;var c=m(function(){delete n[c];e(a)},b||0);n[c]=!0;return c};k.defer.cancel=function(a){return n[a]?(delete n[a],t(a),e(D),!0):!1}}function We(){this.$get=
["$window","$log","$sniffer","$document",function(a,b,d,c){return new Ve(a,c,b,d)}]}function Xe(){this.$get=function(){function a(a,c){function d(a){a!==m&&(t?t===a&&(t=a.n):t=a,f(a.n,a.p),f(a,m),m=a,m.n=null)}function f(a,b){a!==b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw R("$cacheFactory")("iid",a);var g=0,h=T({},c,{id:a}),k=V(),l=c&&c.capacity||Number.MAX_VALUE,p=V(),m=null,t=null;return b[a]={put:function(a,b){if(!x(b)){if(l<Number.MAX_VALUE){var c=p[a]||(p[a]={key:a});d(c)}a in k||g++;k[a]=b;
g>l&&this.remove(t.key);return b}},get:function(a){if(l<Number.MAX_VALUE){var b=p[a];if(!b)return;d(b)}return k[a]},remove:function(a){if(l<Number.MAX_VALUE){var b=p[a];if(!b)return;b===m&&(m=b.p);b===t&&(t=b.n);f(b.n,b.p);delete p[a]}a in k&&(delete k[a],g--)},removeAll:function(){k=V();g=0;p=V();m=t=null},destroy:function(){p=h=k=null;delete b[a]},info:function(){return T({},h,{size:g})}}}var b={};a.info=function(){var a={};q(b,function(b,d){a[d]=b.info()});return a};a.get=function(a){return b[a]};
return a}}function Ye(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function kd(a,b){function d(a,b,c){var d=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,e=V();q(a,function(a,f){if(a in m)e[f]=m[a];else{var g=a.match(d);if(!g)throw ka("iscp",b,f,a,c?"controller bindings definition":"isolate scope definition");e[f]={mode:g[1][0],collection:"*"===g[2],optional:"?"===g[3],attrName:g[4]||f};g[4]&&(m[a]=e[f])}});return e}function c(a){var b=a.charAt(0);if(!b||b!==S(b))throw ka("baddir",
a);if(a!==a.trim())throw ka("baddir",a);}function e(a){var b=a.require||a.controller&&a.name;!K(b)&&H(b)&&q(b,function(a,c){var d=a.match(l);a.substring(d[0].length)||(b[c]=d[0]+c)});return b}var f={},g=/^\s*directive:\s*([\w-]+)\s+(.*)$/,h=/(([\w-]+)(?::([^;]+))?;?)/,k=ve("ngSrc,ngSrcset,src,srcset"),l=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,p=/^(on[a-z]+|formaction)$/,m=V();this.directive=function L(b,d){ib(b,"name");Ia(b,"directive");J(b)?(c(b),ib(d,"directiveFactory"),f.hasOwnProperty(b)||(f[b]=[],a.factory(b+
"Directive",["$injector","$exceptionHandler",function(a,c){var d=[];q(f[b],function(f,g){try{var h=a.invoke(f);z(h)?h={compile:pa(h)}:!h.compile&&h.link&&(h.compile=pa(h.link));h.priority=h.priority||0;h.index=g;h.name=h.name||b;h.require=e(h);g=h;var k=h.restrict;if(k&&(!J(k)||!/[EACM]/.test(k)))throw ka("badrestrict",k,b);g.restrict=k||"EA";h.$$moduleName=f.$$moduleName;d.push(h)}catch(ja){c(ja)}});return d}])),f[b].push(d)):q(b,Sc(L));return this};this.component=function(a,b){function c(a){function c(b){return z(b)||
K(b)?function(c,d){return a.invoke(b,this,{$element:c,$attrs:d})}:b}var e=b.template||b.templateUrl?b.template:"",f={controller:d,controllerAs:Ze(b.controller)||b.controllerAs||"$ctrl",template:c(e),templateUrl:c(b.templateUrl),transclude:b.transclude,scope:{},bindToController:b.bindings||{},restrict:"E",require:b.require};q(b,function(a,b){"$"===b.charAt(0)&&(f[b]=a)});return f}var d=b.controller||function(){};q(b,function(a,b){"$"===b.charAt(0)&&(c[b]=a,z(d)&&(d[b]=a))});c.$inject=["$injector"];
return this.directive(a,c)};this.aHrefSanitizationWhitelist=function(a){return u(a)?(b.aHrefSanitizationWhitelist(a),this):b.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(a){return u(a)?(b.imgSrcSanitizationWhitelist(a),this):b.imgSrcSanitizationWhitelist()};var t=!0;this.debugInfoEnabled=function(a){return u(a)?(t=a,this):t};var n=!1;this.preAssignBindingsEnabled=function(a){return u(a)?(n=a,this):n};var M=10;this.onChangesTtl=function(a){return arguments.length?(M=a,this):
M};var v=!0;this.commentDirectivesEnabled=function(a){return arguments.length?(v=a,this):v};var w=!0;this.cssClassDirectivesEnabled=function(a){return arguments.length?(w=a,this):w};this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(a,b,c,e,E,m,A,I,P,Y){function C(){try{if(!--Ga)throw na=void 0,ka("infchng",M);A.$apply(function(){for(var a=[],b=0,c=na.length;b<c;++b)try{na[b]()}catch(Ra){a.push(Ra)}na=
void 0;if(a.length)throw a;})}finally{Ga++}}function ia(a,b){if(b){var c=Object.keys(b),d;var e=0;for(d=c.length;e<d;e++){var f=c[e];this[f]=b[f]}}else this.$attr={};this.$$element=a}function y(a,b,c){Ea.innerHTML="<span "+b+">";b=Ea.firstChild.attributes;var d=b[0];b.removeNamedItem(d.name);d.value=c;a.attributes.setNamedItem(d)}function O(a,b){try{a.addClass(b)}catch(lb){}}function r(a,b,c,d,e){a instanceof B||(a=B(a));var f=L(a,b,a,c,d,e);r.$$addScopeClass(a);var g=null;return function(b,c,d){if(!a)throw ka("multilink");
ib(b,"scope");e&&e.needsNewScope&&(b=b.$parent.$new());d=d||{};var h=d.parentBoundTranscludeFn,k=d.transcludeControllers;d=d.futureParentElement;h&&h.$$boundTransclude&&(h=h.$$boundTransclude);g||(g=(d=d&&d[0])?"foreignobject"!==Aa(d)&&qa.call(d).match(/SVG/)?"svg":"html":"html");d="html"!==g?B(sa(g,B("<div>").append(a).html())):c?Va.clone.call(a):a;if(k)for(var l in k)d.data("$"+l+"Controller",k[l].instance);r.$$addScopeInfo(d,b);c&&c(d,b);f&&f(b,d,d,h);c||(a=f=null);return d}}function L(a,b,c,d,
e,f){function g(a,c,d,e){var f,g;if(p){var k=Array(c.length);for(f=0;f<h.length;f+=3){var l=h[f];k[l]=c[l]}}else k=c;f=0;for(g=h.length;f<g;){var E=k[h[f++]];c=h[f++];l=h[f++];if(c){if(c.scope){var m=a.$new();r.$$addScopeInfo(B(E),m)}else m=a;var t=c.transcludeOnThisElement?nb(a,c.transclude,e):!c.templateOnThisElement&&e?e:!e&&b?nb(a,b):null;c(l,m,E,d,t)}else l&&l(a,E.childNodes,void 0,e)}}for(var h=[],k=K(a)||a instanceof B,l,E,m,t,p,n=0;n<a.length;n++){l=new ia;11===Ka&&Ua(a,n,k);E=pc(a[n],[],
l,0===n?d:void 0,e);(f=E.length?ca(E,a[n],l,b,c,null,[],[],f):null)&&f.scope&&r.$$addScopeClass(l.$$element);l=f&&f.terminal||!(m=a[n].childNodes)||!m.length?null:L(m,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&&f.transclude:b);if(f||l)h.push(n,f,l),t=!0,p=p||f;f=null}return t?g:null}function Ua(a,b,c){var d=a[b],e=d.parentNode;if(d.nodeType===Qa)for(;;){var f=e?d.nextSibling:a[b+1];if(!f||f.nodeType!==Qa)break;d.nodeValue+=f.nodeValue;f.parentNode&&f.parentNode.removeChild(f);c&&f===
a[b+1]&&a.splice(b+1,1)}}function nb(a,b,c){function d(d,e,f,g,h){d||(d=a.$new(!1,h),d.$$transcluded=!0);return b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})}var e=d.$$slots=V(),f;for(f in b.$$slots)e[f]=b.$$slots[f]?nb(a,b.$$slots[f],c):null;return d}function pc(a,b,c,d,e){var f=c.$attr;switch(a.nodeType){case 1:var g=Aa(a);da(b,Fa(g),"E",d,e);for(var k,l,E,m,t=a.attributes,p=0,n=t&&t.length;p<n;p++){var C=!1,A=!1;k=t[p];l=k.name;E=k.value;k=Fa(l);(m=Sa.test(k))&&
(l=l.replace(ld,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()}));(k=k.match(Ta))&&ma(k[1])&&(C=l,A=l.substr(0,l.length-5)+"end",l=l.substr(0,l.length-6));k=Fa(l.toLowerCase());f[k]=l;if(m||!c.hasOwnProperty(k))c[k]=E,gd(a,k)&&(c[k]=!0);Ba(a,b,E,k,m);da(b,k,"A",d,e,C,A)}"input"===g&&"hidden"===a.getAttribute("type")&&a.setAttribute("autocomplete","off");if(!Oa)break;f=a.className;H(f)&&(f=f.animVal);if(J(f)&&""!==f)for(;a=h.exec(f);)k=Fa(a[2]),da(b,k,"C",d,e)&&(c[k]=U(a[3])),f=
f.substr(a.index+a[0].length);break;case Qa:ta(b,a.nodeValue);break;case 8:Na&&R(a,b,c,d,e)}b.sort(pa);return b}function R(a,b,c,d,e){try{var f=g.exec(a.nodeValue);if(f){var h=Fa(f[1]);da(b,h,"M",d,e)&&(c[h]=U(f[2]))}}catch(Lb){}}function md(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw ka("uterdir",b,c);1===a.nodeType&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--);d.push(a);a=a.nextSibling}while(0<e)}else d.push(a);return B(d)}function X(a,b,c){return function(d,e,
f,g,h){e=md(e[0],b,c);return a(d,e,f,g,h)}}function Z(a,b,c,d,e,f){var g;return a?r(b,c,d,e,f):function(){g||(g=r(b,c,d,e,f),b=c=f=null);return g.apply(this,arguments)}}function ca(a,b,d,e,f,g,h,k,l){function E(a,b,c,d){if(a){c&&(a=X(a,c,d));a.require=F.require;a.directiveName=y;if(A===F||F.$$isolateScope)a=wa(a,{isolateScope:!0});h.push(a)}if(b){c&&(b=X(b,c,d));b.require=F.require;b.directiveName=y;if(A===F||F.$$isolateScope)b=wa(b,{isolateScope:!0});k.push(b)}}function m(a,e,f,g,l){function E(a,
b,c,d){var e;bb(a)||(d=c,c=b,b=a,a=void 0);M&&(e=m);c||(c=M?t.parent():t);if(d){var f=l.$$slots[d];if(f)return f(a,b,e,c,ja);if(x(f))throw ka("noslot",d,Da(t));}else return l(a,b,e,c,ja)}var m;if(b===f){g=d;var t=d.$$element}else t=B(f),g=new ia(t,d);var F=e;if(A)var w=e.$new(!0);else p&&(F=e.$parent);if(l){var W=E;W.$$boundTransclude=l;W.isSlotFilled=function(a){return!!l.$$slots[a]}}C&&(m=fa(t,g,W,C,w,e,A));if(A){r.$$addScopeInfo(t,w,!0,!(P&&(P===A||P===A.$$originalDirective)));r.$$addScopeClass(t,
!0);w.$$isolateBindings=A.$$isolateBindings;var v=ua(e,g,w,w.$$isolateBindings,A);v.removeWatches&&w.$on("$destroy",v.removeWatches)}for(O in m){v=C[O];var I=m[O];var y=v.$$bindings.bindToController;if(n){I.bindingInfo=y?ua(F,g,I.instance,y,v):{};var Y=I();Y!==I.instance&&(I.instance=Y,t.data("$"+v.name+"Controller",Y),I.bindingInfo.removeWatches&&I.bindingInfo.removeWatches(),I.bindingInfo=ua(F,g,I.instance,y,v))}else I.instance=I(),t.data("$"+v.name+"Controller",I.instance),I.bindingInfo=ua(F,g,
I.instance,y,v)}q(C,function(a,b){var c=a.require;a.bindToController&&!K(c)&&H(c)&&T(m[b].instance,aa(b,c,t,m))});q(m,function(a){var b=a.instance;if(z(b.$onChanges))try{b.$onChanges(a.bindingInfo.initialChanges)}catch(qc){c(qc)}if(z(b.$onInit))try{b.$onInit()}catch(qc){c(qc)}z(b.$doCheck)&&(F.$watch(function(){b.$doCheck()}),b.$doCheck());z(b.$onDestroy)&&F.$on("$destroy",function(){b.$onDestroy()})});var O=0;for(v=h.length;O<v;O++)I=h[O],Ca(I,I.isolateScope?w:e,t,g,I.require&&aa(I.directiveName,
I.require,t,m),W);var ja=e;A&&(A.template||null===A.templateUrl)&&(ja=w);a&&a(ja,f.childNodes,void 0,l);for(O=k.length-1;0<=O;O--)I=k[O],Ca(I,I.isolateScope?w:e,t,g,I.require&&aa(I.directiveName,I.require,t,m),W);q(m,function(a){a=a.instance;z(a.$postLink)&&a.$postLink()})}l=l||{};for(var t=-Number.MAX_VALUE,p=l.newScopeDirective,C=l.controllerDirectives,A=l.newIsolateScopeDirective,P=l.templateDirective,w=l.nonTlbTranscludeDirective,v=!1,I=!1,M=l.hasElementTranscludeDirective,W=d.$$element=B(b),
F,y,Y,O=e,ja,L=!1,lb=!1,Q,u=0,Ra=a.length;u<Ra;u++){F=a[u];var ba=F.$$start,oc=F.$$end;ba&&(W=md(b,ba,oc));Y=void 0;if(t>F.priority)break;if(Q=F.scope)F.templateUrl||(H(Q)?(ea("new/isolated scope",A||p,F,W),A=F):ea("new/isolated scope",A,F,W)),p=p||F;y=F.name;if(!L&&(F.replace&&(F.templateUrl||F.template)||F.transclude&&!F.$$tlb)){for(Q=u+1;L=a[Q++];)if(L.transclude&&!L.$$tlb||L.replace&&(L.templateUrl||L.template)){lb=!0;break}L=!0}!F.templateUrl&&F.controller&&(C=C||V(),ea("'"+y+"' controller",
C[y],F,W),C[y]=F);if(Q=F.transclude)if(v=!0,F.$$tlb||(ea("transclusion",w,F,W),w=F),"element"===Q)M=!0,t=F.priority,Y=W,W=d.$$element=B(r.$$createComment(y,d[y])),b=W[0],ra(f,za.call(Y,0),b),Y[0].$$parentNode=Y[0].parentNode,O=Z(lb,Y,e,t,g&&g.name,{nonTlbTranscludeDirective:w});else{var Ma=V();if(H(Q)){Y=[];var Kb=V(),Lb=V();q(Q,function(a,b){var c="?"===a.charAt(0);a=c?a.substring(1):a;Kb[a]=b;Ma[b]=null;Lb[b]=c});q(W.contents(),function(a){var b=Kb[Fa(Aa(a))];b?(Lb[b]=!0,Ma[b]=Ma[b]||[],Ma[b].push(a)):
Y.push(a)});q(Lb,function(a,b){if(!a)throw ka("reqslot",b);});for(var G in Ma)Ma[G]&&(Ma[G]=Z(lb,Ma[G],e))}else Y=B(kc(b)).contents();W.empty();O=Z(lb,Y,e,void 0,void 0,{needsNewScope:F.$$isolateScope||F.$$newScope});O.$$slots=Ma}if(F.template)if(I=!0,ea("template",P,F,W),P=F,Q=z(F.template)?F.template(W,d):F.template,Q=Ja(Q),F.replace){g=F;Y=hc.test(Q)?nd(sa(F.templateNamespace,U(Q))):[];b=Y[0];if(1!==Y.length||1!==b.nodeType)throw ka("tplrt",y,"");ra(f,W,b);Ra={$attr:{}};Q=pc(b,[],Ra);var D=a.splice(u+
1,a.length-(u+1));(A||p)&&ha(Q,A,p);a=a.concat(Q).concat(D);la(d,Ra);Ra=a.length}else W.html(Q);if(F.templateUrl)I=!0,ea("template",P,F,W),P=F,F.replace&&(g=F),m=oa(a.splice(u,a.length-u),W,d,f,v&&O,h,k,{controllerDirectives:C,newScopeDirective:p!==F&&p,newIsolateScopeDirective:A,templateDirective:P,nonTlbTranscludeDirective:w}),Ra=a.length;else if(F.compile)try{ja=F.compile(W,d,O);var mb=F.$$originalDirective||F;z(ja)?E(null,eb(mb,ja),ba,oc):ja&&E(eb(mb,ja.pre),eb(mb,ja.post),ba,oc)}catch(bf){c(bf,
Da(W))}F.terminal&&(m.terminal=!0,t=Math.max(t,F.priority))}m.scope=p&&!0===p.scope;m.transcludeOnThisElement=v;m.templateOnThisElement=I;m.transclude=O;l.hasElementTranscludeDirective=M;return m}function aa(a,b,c,d){if(J(b)){var e=b.match(l);b=b.substring(e[0].length);var f=e[1]||e[3];e="?"===e[2];if("^^"===f)c=c.parent();else var g=(g=d&&d[b])&&g.instance;if(!g){var h="$"+b+"Controller";g=f?c.inheritedData(h):c.data(h)}if(!g&&!e)throw ka("ctreq",b,a);}else if(K(b))for(g=[],f=0,e=b.length;f<e;f++)g[f]=
aa(a,b[f],c,d);else H(b)&&(g={},q(b,function(b,e){g[e]=aa(a,b,c,d)}));return g||null}function fa(a,b,c,d,e,f,g){var h=V(),k;for(k in d){var l=d[k],E={$scope:l===g||l.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},t=l.controller;"@"===t&&(t=b[l.name]);E=m(t,E,!0,l.controllerAs);h[l.name]=E;a.data("$"+l.name+"Controller",E.instance)}return h}function ha(a,b,c){for(var d=0,e=a.length;d<e;d++)a[d]=ac(a[d],{$$isolateScope:b,$$newScope:c})}function da(b,c,e,g,h,k,l){if(c===h)return null;var m=null;
if(f.hasOwnProperty(c)){h=a.get(c+"Directive");for(var E=0,t=h.length;E<t;E++)if(c=h[E],(x(g)||g>c.priority)&&-1!==c.restrict.indexOf(e)){k&&(c=ac(c,{$$start:k,$$end:l}));if(!c.$$bindings){var p=m=c,n=c.name,A={isolateScope:null,bindToController:null};H(p.scope)&&(!0===p.bindToController?(A.bindToController=d(p.scope,n,!0),A.isolateScope={}):A.isolateScope=d(p.scope,n,!1));H(p.bindToController)&&(A.bindToController=d(p.bindToController,n,!0));if(A.bindToController&&!p.controller)throw ka("noctrl",
n);m=m.$$bindings=A;H(m.isolateScope)&&(c.$$isolateBindings=m.isolateScope)}b.push(c);m=c}}return m}function ma(b){if(f.hasOwnProperty(b))for(var c=a.get(b+"Directive"),d=0,e=c.length;d<e;d++)if(b=c[d],b.multiElement)return!0;return!1}function la(a,b){var c=b.$attr,d=a.$attr;q(a,function(d,e){"$"!==e.charAt(0)&&(b[e]&&b[e]!==d&&(d=d.length?d+(("style"===e?";":" ")+b[e]):b[e]),a.$set(e,d,!0,c[e]))});q(b,function(b,e){a.hasOwnProperty(e)||"$"===e.charAt(0)||(a[e]=b,"class"!==e&&"style"!==e&&(d[e]=c[e]))})}
function oa(a,b,d,f,g,h,k,l){var m=[],E,t,p=b[0],n=a.shift(),A=ac(n,{templateUrl:null,transclude:null,replace:null,$$originalDirective:n}),C=z(n.templateUrl)?n.templateUrl(b,d):n.templateUrl,I=n.templateNamespace;b.empty();e(C).then(function(c){c=Ja(c);if(n.replace){c=hc.test(c)?nd(sa(I,U(c))):[];var e=c[0];if(1!==c.length||1!==e.nodeType)throw ka("tplrt",n.name,C);c={$attr:{}};ra(f,b,e);var P=pc(e,[],c);H(n.scope)&&ha(P,!0);a=P.concat(a);la(d,c)}else e=p,b.html(c);a.unshift(A);E=ca(a,e,d,g,b,n,h,
k,l);q(f,function(a,c){a===e&&(f[c]=b[0])});for(t=L(b[0].childNodes,g);m.length;){c=m.shift();var w=m.shift();var ia=m.shift(),v=m.shift();P=b[0];if(!c.$$destroyed){if(w!==p){var M=w.className;l.hasElementTranscludeDirective&&n.replace||(P=kc(e));ra(ia,B(w),P);O(B(P),M)}w=E.transcludeOnThisElement?nb(c,E.transclude,v):v;E(t,c,P,f,w)}}m=null}).catch(function(a){a instanceof Error&&c(a)});return function(a,b,c,d,e){a=e;b.$$destroyed||(m?m.push(b,c,d,a):(E.transcludeOnThisElement&&(a=nb(b,E.transclude,
e)),E(t,b,c,d,a)))}}function pa(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function ea(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw ka("multidir",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,Da(d));}function ta(a,c){var d=b(c,!0);d&&a.push({priority:0,compile:function(a){a=a.parent();var b=!!a.length;b&&r.$$addBindingClass(a);return function(a,c){var e=c.parent();b||r.$$addBindingClass(e);r.$$addBindingInfo(e,d.expressions);
a.$watch(d,function(a){c[0].nodeValue=a})}}})}function sa(a,b){a=S(a||"html");switch(a){case "svg":case "math":var c=G.document.createElement("div");c.innerHTML="<"+a+">"+b+"</"+a+">";return c.childNodes[0].childNodes;default:return b}}function xa(a,b){if("srcdoc"===b)return I.HTML;a=Aa(a);if("src"===b||"ngSrc"===b){if(-1===["img","video","audio","source","track"].indexOf(a))return I.RESOURCE_URL}else if("xlinkHref"===b||"form"===a&&"action"===b||"link"===a&&"href"===b)return I.RESOURCE_URL}function Ba(a,
c,d,e,f){var g=xa(a,e),h=k[e]||f,l=b(d,!f,g,h);if(l){if("multiple"===e&&"select"===Aa(a))throw ka("selmulti",Da(a));if(p.test(e))throw ka("nodomevents");c.push({priority:100,compile:function(){return{pre:function(a,c,f){c=f.$$observers||(f.$$observers=V());var k=f[e];k!==d&&(l=k&&b(k,!0,g,h),d=k);l&&(f[e]=l(a),(c[e]||(c[e]=[])).$$inter=!0,(f.$$observers&&f.$$observers[e].$$scope||a).$watch(l,function(a,b){"class"===e&&a!==b?f.$updateClass(a,b):f.$set(e,a)}))}}}})}}function ra(a,b,c){var d=b[0],e=
b.length,f=d.parentNode,g;if(a){var h=0;for(g=a.length;h<g;h++)if(a[h]===d){a[h++]=c;g=h+e-1;for(var k=a.length;h<k;h++,g++)g<k?a[h]=a[g]:delete a[h];a.length-=e-1;a.context===d&&(a.context=c);break}}f&&f.replaceChild(c,d);a=G.document.createDocumentFragment();for(h=0;h<e;h++)a.appendChild(b[h]);B.hasData(d)&&(B.data(c,B.data(d)),B(d).off("$destroy"));B.cleanData(a.querySelectorAll("*"));for(h=1;h<e;h++)delete b[h];b[0]=c;b.length=1}function wa(a,b){return T(function(){return a.apply(null,arguments)},
a,b)}function Ca(a,b,d,e,f,g){try{a(b,d,e,f,g)}catch($e){c($e,Da(d))}}function ua(a,c,d,e,f){function g(b,c,e){z(d.$onChanges)&&!cc(c,e)&&(na||(a.$$postDigest(C),na=[]),m||(m={},na.push(h)),m[b]&&(e=m[b].previousValue),m[b]=new Mb(e,c))}function h(){d.$onChanges(m);m=void 0}var k=[],l={},m;q(e,function(e,h){var m=e.attrName,t=e.optional;switch(e.mode){case "@":t||ya.call(c,m)||(d[h]=c[m]=void 0);e=c.$observe(m,function(a){if(J(a)||Pa(a))g(h,a,d[h]),d[h]=a});c.$$observers[m].$$scope=a;var p=c[m];J(p)?
d[h]=b(p)(a):Pa(p)&&(d[h]=p);l[h]=new Mb(rc,d[h]);k.push(e);break;case "=":if(!ya.call(c,m)){if(t)break;c[m]=void 0}if(t&&!c[m])break;var n=E(c[m]);var A=n.literal?va:cc;var C=n.assign||function(){p=d[h]=n(a);throw ka("nonassign",c[m],m,f.name);};p=d[h]=n(a);t=function(b){A(b,d[h])||(A(b,p)?C(a,b=d[h]):d[h]=b);return p=b};t.$stateful=!0;e=e.collection?a.$watchCollection(c[m],t):a.$watch(E(c[m],t),null,n.literal);k.push(e);break;case "<":if(!ya.call(c,m)){if(t)break;c[m]=void 0}if(t&&!c[m])break;n=
E(c[m]);var P=n.literal,I=d[h]=n(a);l[h]=new Mb(rc,d[h]);e=a.$watch(n,function(a,b){if(b===a){if(b===I||P&&va(b,I))return;b=I}g(h,a,b);d[h]=a},P);k.push(e);break;case "&":n=c.hasOwnProperty(m)?E(c[m]):D,n===D&&t||(d[h]=function(b){return n(a,b)})}});return{initialChanges:l,removeWatches:k.length&&function(){for(var a=0,b=k.length;a<b;++a)k[a]()}}}var La=/^\w/,Ea=G.document.createElement("div"),Na=v,Oa=w,Ga=M,na;ia.prototype={$normalize:Fa,$addClass:function(a){a&&0<a.length&&P.addClass(this.$$element,
a)},$removeClass:function(a){a&&0<a.length&&P.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=od(a,b);c&&c.length&&P.addClass(this.$$element,c);(a=od(b,a))&&a.length&&P.removeClass(this.$$element,a)},$set:function(a,b,d,e){var f=gd(this.$$element[0],a),g=pd[a],h=a;f?(this.$$element.prop(a,b),e=f):g&&(this[g]=b,h=g);this[a]=b;e?this.$attr[a]=e:(e=this.$attr[a])||(this.$attr[a]=e=$c(a,"-"));f=Aa(this.$$element);if("a"===f&&("href"===a||"xlinkHref"===a)||"img"===f&&"src"===a)this[a]=
b=Y(b,"src"===a);else if("img"===f&&"srcset"===a&&u(b)){f="";g=U(b);var k=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/;k=/\s/.test(g)?k:/(,)/;g=g.split(k);k=Math.floor(g.length/2);for(var l=0;l<k;l++){var m=2*l;f+=Y(U(g[m]),!0);f+=" "+U(g[m+1])}g=U(g[2*l]).split(/\s/);f+=Y(U(g[0]),!0);2===g.length&&(f+=" "+U(g[1]));this[a]=b=f}!1!==d&&(null===b||x(b)?this.$$element.removeAttr(e):La.test(e)?this.$$element.attr(e,b):y(this.$$element[0],e,b));(a=this.$$observers)&&q(a[h],function(a){try{a(b)}catch(af){c(af)}})},
$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=V()),e=d[a]||(d[a]=[]);e.push(b);A.$evalAsync(function(){e.$$inter||!c.hasOwnProperty(a)||x(c[a])||b(c[a])});return function(){cb(e,b)}}};var Ha=b.startSymbol(),Ia=b.endSymbol(),Ja="{{"===Ha&&"}}"===Ia?wb:function(a){return a.replace(/\{\{/g,Ha).replace(/}}/g,Ia)},Sa=/^ngAttr[A-Z]/,Ta=/^(.+)Start$/;r.$$addBindingInfo=t?function(a,b){var c=a.data("$binding")||[];K(b)?c=c.concat(b):c.push(b);a.data("$binding",c)}:D;r.$$addBindingClass=
t?function(a){O(a,"ng-binding")}:D;r.$$addScopeInfo=t?function(a,b,c,d){a.data(c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope",b)}:D;r.$$addScopeClass=t?function(a,b){O(a,b?"ng-isolate-scope":"ng-scope")}:D;r.$$createComment=function(a,b){var c="";t&&(c=" "+(a||"")+": ",b&&(c+=b+" "));return G.document.createComment(c)};return r}]}function Mb(a,b){this.previousValue=a;this.currentValue=b}function Fa(a){return a.replace(ld,"").replace(cf,ra)}function od(a,b){var d="";a=a.split(/\s+/);b=b.split(/\s+/);
var c=0;a:for(;c<a.length;c++){for(var e=a[c],f=0;f<b.length;f++)if(e===b[f])continue a;d+=(0<d.length?" ":"")+e}return d}function nd(a){a=B(a);var b=a.length;if(1>=b)return a;for(;b--;){var d=a[b];(8===d.nodeType||d.nodeType===Qa&&""===d.nodeValue.trim())&&df.call(a,b,1)}return a}function Ze(a,b){if(b&&J(b))return b;if(J(a)&&(a=qd.exec(a)))return a[3]}function ef(){var a={},b=!1;this.has=function(b){return a.hasOwnProperty(b)};this.register=function(b,c){Ia(b,"controller");H(b)?T(a,b):a[b]=c};this.allowGlobals=
function(){b=!0};this.$get=["$injector","$window",function(d,c){function e(a,b,c,d){if(!a||!H(a.$scope))throw R("$controller")("noscp",d,b);a.$scope[b]=c}return function(f,g,h,k){var l;h=!0===h;k&&J(k)&&(l=k);if(J(f)){k=f.match(qd);if(!k)throw rd("ctrlfmt",f);var p=k[1];l=l||k[3];f=a.hasOwnProperty(p)?a[p]:ad(g.$scope,p,!0)||(b?ad(c,p,!0):void 0);if(!f)throw rd("ctrlreg",p);xb(f,p,!0)}if(h){h=(K(f)?f[f.length-1]:f).prototype;var m=Object.create(h||null);l&&e(g,l,m,p||f.name);return T(function(){var a=
d.invoke(f,m,g,p);a!==m&&(H(a)||z(a))&&(m=a,l&&e(g,l,m,p||f.name));return m},{instance:m,identifier:l})}m=d.instantiate(f,g,p);l&&e(g,l,m,p||f.name);return m}}]}function ff(){this.$get=["$window",function(a){return B(a.document)}]}function gf(){this.$get=["$document","$rootScope",function(a,b){function d(){e=c.hidden}var c=a[0],e=c&&c.hidden;a.on("visibilitychange",d);b.$on("$destroy",function(){a.off("visibilitychange",d)});return function(){return e}}]}function hf(){this.$get=["$log",function(a){return function(b,
d){a.error.apply(a,arguments)}}]}function sc(a){return H(a)?da(a)?a.toISOString():fb(a):a}function jf(){this.$get=function(){return function(a){if(!a)return"";var b=[];Rc(a,function(a,c){null===a||x(a)||(K(a)?q(a,function(a){b.push(oa(c)+"="+oa(sc(a)))}):b.push(oa(c)+"="+oa(sc(a))))});return b.join("&")}}}function kf(){this.$get=function(){return function(a){function b(a,e,f){null===a||x(a)||(K(a)?q(a,function(a,c){b(a,e+"["+(H(a)?c:"")+"]")}):H(a)&&!da(a)?Rc(a,function(a,c){b(a,e+(f?"":"[")+c+(f?
"":"]"))}):d.push(oa(e)+"="+oa(sc(a))))}if(!a)return"";var d=[];b(a,"",!0);return d.join("&")}}}function tc(a,b){if(J(a)){var d=a.replace(lf,"").trim();if(d&&(b=b("Content-Type"),(b=b&&0===b.indexOf(sd))||(b=(b=d.match(mf))&&nf[b[0]].test(d)),b))try{a=Vc(d)}catch(c){throw uc("baddata",a,c);}}return a}function td(a){var b=V(),d;J(a)?q(a.split("\n"),function(a){d=a.indexOf(":");var c=S(U(a.substr(0,d)));a=U(a.substr(d+1));c&&(b[c]=b[c]?b[c]+", "+a:a)}):H(a)&&q(a,function(a,d){d=S(d);a=U(a);d&&(b[d]=
b[d]?b[d]+", "+a:a)});return b}function ud(a){var b;return function(d){b||(b=td(a));return d?(d=b[S(d)],void 0===d&&(d=null),d):b}}function vd(a,b,d,c){if(z(c))return c(a,b,d);q(c,function(c){a=c(a,b,d)});return a}function of(){var a=this.defaults={transformResponse:[tc],transformRequest:[function(a){return H(a)&&"[object File]"!==qa.call(a)&&"[object Blob]"!==qa.call(a)&&"[object FormData]"!==qa.call(a)?fb(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ta(vc),put:ta(vc),
patch:ta(vc)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},b=!1;this.useApplyAsync=function(a){return u(a)?(b=!!a,this):b};var d=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(c,e,f,g,h,k,l,p){function m(b){function d(a,b){for(var c=0,d=b.length;c<d;){var e=b[c++],f=b[c++];a=a.then(e,f)}b.length=0;return a}function e(a,b){var c,
d={};q(a,function(a,e){z(a)?(c=a(b),null!=c&&(d[e]=c)):d[e]=a});return d}function f(a){var b=T({},a);b.data=vd(a.data,a.headers,a.status,g.transformResponse);a=a.status;return 200<=a&&300>a?b:k.reject(b)}if(!H(b))throw R("$http")("badreq",b);if(!J(p.valueOf(b.url)))throw R("$http")("badreq",b.url);var g=T({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer,jsonpCallbackParam:a.jsonpCallbackParam},b);g.headers=function(b){var c=
a.headers,d=T({},b.headers),f,g;c=T({},c.common,c[S(b.method)]);a:for(f in c){var h=S(f);for(g in d)if(S(g)===h)continue a;d[f]=c[f]}return e(d,ta(b))}(b);g.method=Nb(g.method);g.paramSerializer=J(g.paramSerializer)?l.get(g.paramSerializer):g.paramSerializer;c.$$incOutstandingRequestCount();var h=[],m=[];b=k.resolve(g);q(w,function(a){(a.request||a.requestError)&&h.unshift(a.request,a.requestError);(a.response||a.responseError)&&m.push(a.response,a.responseError)});b=d(b,h);b=b.then(function(b){var c=
b.headers,d=vd(b.data,ud(c),void 0,b.transformRequest);x(d)&&q(c,function(a,b){"content-type"===S(b)&&delete c[b]});x(b.withCredentials)&&!x(a.withCredentials)&&(b.withCredentials=a.withCredentials);return t(b,d).then(f,f)});b=d(b,m);return b=b.finally(function(){c.$$completeOutstandingRequest(D)})}function t(c,d){function g(a){if(a){var c={};q(a,function(a,d){c[d]=function(c){function d(){a(c)}b?h.$applyAsync(d):h.$$phase?d():h.$apply(d)}});return c}}function l(a,c,d,e){function f(){t(c,a,d,e)}P&&
(200<=a&&300>a?P.put(Q,[a,c,td(d),e]):P.remove(Q));b?h.$applyAsync(f):(f(),h.$$phase||h.$apply())}function t(a,b,d,e){b=-1<=b?b:0;(200<=b&&300>b?N.resolve:N.reject)({data:a,status:b,headers:ud(d),config:c,statusText:e})}function E(a){t(a.data,a.status,ta(a.headers()),a.statusText)}function w(){var a=m.pendingRequests.indexOf(c);-1!==a&&m.pendingRequests.splice(a,1)}var N=k.defer(),I=N.promise,P,O=c.headers,r="jsonp"===S(c.method),Q=c.url;r?Q=p.getTrustedResourceUrl(Q):J(Q)||(Q=p.valueOf(Q));Q=n(Q,
c.paramSerializer(c.params));r&&(Q=M(Q,c.jsonpCallbackParam));m.pendingRequests.push(c);I.then(w,w);!c.cache&&!a.cache||!1===c.cache||"GET"!==c.method&&"JSONP"!==c.method||(P=H(c.cache)?c.cache:H(a.cache)?a.cache:v);if(P){var ba=P.get(Q);u(ba)?ba&&z(ba.then)?ba.then(E,E):K(ba)?t(ba[1],ba[0],ta(ba[2]),ba[3]):t(ba,200,{},"OK"):P.put(Q,I)}x(ba)&&((ba=wd(c.url)?f()[c.xsrfCookieName||a.xsrfCookieName]:void 0)&&(O[c.xsrfHeaderName||a.xsrfHeaderName]=ba),e(c.method,Q,d,l,O,c.timeout,c.withCredentials,c.responseType,
g(c.eventHandlers),g(c.uploadEventHandlers)));return I}function n(a,b){0<b.length&&(a+=(-1===a.indexOf("?")?"?":"&")+b);return a}function M(a,b){if(/[&?][^=]+=JSON_CALLBACK/.test(a))throw uc("badjsonp",a);if((new RegExp("[&?]"+b+"=")).test(a))throw uc("badjsonp",b,a);return a+=(-1===a.indexOf("?")?"?":"&")+b+"=JSON_CALLBACK"}var v=g("$http");a.paramSerializer=J(a.paramSerializer)?l.get(a.paramSerializer):a.paramSerializer;var w=[];q(d,function(a){w.unshift(J(a)?l.get(a):l.invoke(a))});m.pendingRequests=
[];(function(a){q(arguments,function(a){m[a]=function(b,c){return m(T({},c||{},{method:a,url:b}))}})})("get","delete","head","jsonp");(function(a){q(arguments,function(a){m[a]=function(b,c,d){return m(T({},d||{},{method:a,url:b,data:c}))}})})("post","put","patch");m.defaults=a;return m}]}function pf(){this.$get=function(){return function(){return new G.XMLHttpRequest}}}function qf(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(a,b,d,c){return rf(a,c,a.defer,b,d[0])}]}
function rf(a,b,d,c,e){function f(a,b,d){a=a.replace("JSON_CALLBACK",b);var f=e.createElement("script"),g=null;f.type="text/javascript";f.src=a;f.async=!0;g=function(a){f.removeEventListener("load",g);f.removeEventListener("error",g);e.body.removeChild(f);f=null;var h=-1,k="unknown";a&&("load"!==a.type||c.wasCalled(b)||(a={type:"error"}),k=a.type,h="error"===a.type?404:200);d&&d(h,k)};f.addEventListener("load",g);f.addEventListener("error",g);e.body.appendChild(f);return g}return function(e,h,k,l,
p,m,t,n,M,v){function g(){O&&O();y&&y.abort()}h=h||a.url();if("jsonp"===S(e))var N=c.createCallback(h),O=f(h,N,function(a,b){var e=200===a&&c.getResponse(N);u(r)&&d.cancel(r);O=y=null;l(a,e,"",b);c.removeCallback(N)});else{var y=b(e,h);y.open(e,h,!0);q(p,function(a,b){u(a)&&y.setRequestHeader(b,a)});y.onload=function(){var a=y.statusText||"",b="response"in y?y.response:y.responseText,c=1223===y.status?204:y.status;0===c&&(c=b?200:"file"===Na(h).protocol?404:0);var e=y.getAllResponseHeaders();u(r)&&
d.cancel(r);O=y=null;l(c,b,e,a)};e=function(){u(r)&&d.cancel(r);O=y=null;l(-1,null,null,"")};y.onerror=e;y.onabort=e;y.ontimeout=e;q(M,function(a,b){y.addEventListener(b,a)});q(v,function(a,b){y.upload.addEventListener(b,a)});t&&(y.withCredentials=!0);if(n)try{y.responseType=n}catch(C){if("json"!==n)throw C;}y.send(x(k)?null:k)}if(0<m)var r=d(g,m);else m&&z(m.then)&&m.then(g)}}function sf(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a};this.endSymbol=function(a){return a?(b=
a,this):b};this.$get=["$parse","$exceptionHandler","$sce",function(d,c,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(m,a).replace(t,b)}function h(a,b,c,d){var e=a.$watch(function(a){e();return d(a)},b,c);return e}function k(f,k,m,t){function n(a){try{var b=a;a=m?e.getTrusted(m,b):e.valueOf(b);return t&&!u(a)?a:fc(a)}catch(Q){c(Oa.interr(f,Q))}}if(!f.length||-1===f.indexOf(a)){if(!k){k=g(f);var w=pa(k);w.exp=f;w.expressions=[];w.$$watchDelegate=h}return w}t=!!t;var v,M,C=0,E=[],
ia=[];w=f.length;for(var A=[],I=[];C<w;)if(-1!==(v=f.indexOf(a,C))&&-1!==(M=f.indexOf(b,v+l)))C!==v&&A.push(g(f.substring(C,v))),C=f.substring(v+l,M),E.push(C),ia.push(d(C,n)),C=M+p,I.push(A.length),A.push("");else{C!==w&&A.push(g(f.substring(C)));break}m&&1<A.length&&Oa.throwNoconcat(f);if(!k||E.length){var P=function(a){for(var b=0,c=E.length;b<c;b++){if(t&&x(a[b]))return;A[I[b]]=a[b]}return A.join("")};return T(function(a){var b=0,d=E.length,e=Array(d);try{for(;b<d;b++)e[b]=ia[b](a);return P(e)}catch(Kb){c(Oa.interr(f,
Kb))}},{exp:f,expressions:E,$$watchDelegate:function(a,b){var c;return a.$watchGroup(ia,function(d,e){var f=P(d);z(b)&&b.call(this,f,d!==e?c:f,a);c=f})}})}}var l=a.length,p=b.length,m=new RegExp(a.replace(/./g,f),"g"),t=new RegExp(b.replace(/./g,f),"g");k.startSymbol=function(){return a};k.endSymbol=function(){return b};return k}]}function tf(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(a,b,d,c,e){function f(f,k,l,p){function h(){t?f.apply(null,n):f(w)}var t=4<arguments.length,
n=t?za.call(arguments,4):[],M=b.setInterval,v=b.clearInterval,w=0,N=u(p)&&!p,q=(N?c:d).defer(),r=q.promise;l=u(l)?l:0;r.$$intervalId=M(function(){N?e.defer(h):a.$evalAsync(h);q.notify(w++);0<l&&w>=l&&(q.resolve(w),v(r.$$intervalId),delete g[r.$$intervalId]);N||a.$apply()},k);g[r.$$intervalId]=q;return r}var g={};f.cancel=function(a){return a&&a.$$intervalId in g?(g[a.$$intervalId].promise.catch(D),g[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete g[a.$$intervalId],!0):!1};
return f}]}function wc(a){a=a.split("/");for(var b=a.length;b--;)a[b]=gb(a[b]);return a.join("/")}function xd(a,b){a=Na(a);b.$$protocol=a.protocol;b.$$host=a.hostname;b.$$port=parseInt(a.port,10)||uf[a.protocol]||null}function yd(a,b){if(vf.test(a))throw ob("badpath",a);var d="/"!==a.charAt(0);d&&(a="/"+a);a=Na(a);b.$$path=decodeURIComponent(d&&"/"===a.pathname.charAt(0)?a.pathname.substring(1):a.pathname);b.$$search=Yc(a.search);b.$$hash=decodeURIComponent(a.hash);b.$$path&&"/"!==b.$$path.charAt(0)&&
(b.$$path="/"+b.$$path)}function xc(a,b){return a.slice(0,b.length)===b}function sa(a,b){if(xc(b,a))return b.substr(a.length)}function Ea(a){var b=a.indexOf("#");return-1===b?a:a.substr(0,b)}function pb(a){return a.replace(/(#.+)|#$/,"$1")}function yc(a,b,d){this.$$html5=!0;d=d||"";xd(a,this);this.$$parse=function(a){var c=sa(b,a);if(!J(c))throw ob("ipthprfx",a,b);yd(c,this);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var a=ec(this.$$search),d=this.$$hash?"#"+gb(this.$$hash):
"";this.$$url=wc(this.$$path)+(a?"?"+a:"")+d;this.$$absUrl=b+this.$$url.substr(1);this.$$urlUpdatedByLocation=!0};this.$$parseLinkUrl=function(c,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;if(u(e=sa(a,c))){c=e;var f=d&&u(e=sa(d,e))?b+(sa("/",e)||e):a+c}else u(e=sa(b,c))?f=b+e:b===c+"/"&&(f=b);f&&this.$$parse(f);return!!f}}function zc(a,b,d){xd(a,this);this.$$parse=function(c){var e=sa(a,c)||sa(b,c);if(x(e)||"#"!==e.charAt(0))if(this.$$html5)var f=e;else f="",x(e)&&(a=c,this.replace());else f=
sa(d,e),x(f)&&(f=e);yd(f,this);c=this.$$path;e=a;var g=/^\/[A-Z]:(\/.*)/;xc(f,e)&&(f=f.replace(e,""));g.exec(f)||(c=(f=g.exec(c))?f[1]:c);this.$$path=c;this.$$compose()};this.$$compose=function(){var b=ec(this.$$search),e=this.$$hash?"#"+gb(this.$$hash):"";this.$$url=wc(this.$$path)+(b?"?"+b:"")+e;this.$$absUrl=a+(this.$$url?d+this.$$url:"");this.$$urlUpdatedByLocation=!0};this.$$parseLinkUrl=function(b,d){return Ea(a)===Ea(b)?(this.$$parse(b),!0):!1}}function zd(a,b,d){this.$$html5=!0;zc.apply(this,
arguments);this.$$parseLinkUrl=function(c,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;a===Ea(c)?f=c:(g=sa(b,c))?f=a+d+g:b===c+"/"&&(f=b);f&&this.$$parse(f);return!!f};this.$$compose=function(){var b=ec(this.$$search),e=this.$$hash?"#"+gb(this.$$hash):"";this.$$url=wc(this.$$path)+(b?"?"+b:"")+e;this.$$absUrl=a+d+this.$$url;this.$$urlUpdatedByLocation=!0}}function Ob(a){return function(){return this[a]}}function Ad(a,b){return function(d){if(x(d))return this[a];this[a]=b(d);this.$$compose();
return this}}function wf(){var a="!",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return u(b)?(a=b,this):a};this.html5Mode=function(a){if(Pa(a))return b.enabled=a,this;if(H(a)){Pa(a.enabled)&&(b.enabled=a.enabled);Pa(a.requireBase)&&(b.requireBase=a.requireBase);if(Pa(a.rewriteLinks)||J(a.rewriteLinks))b.rewriteLinks=a.rewriteLinks;return this}return b};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(d,c,e,f,g){function h(a,b,d){var e=n.url(),
f=n.$$state;try{c.url(a,b,d),n.$$state=c.state()}catch(C){throw n.url(e),n.$$state=f,C;}}function k(a,b){d.$broadcast("$locationChangeSuccess",n.absUrl(),a,n.$$state,b)}var l=c.baseHref();var p=c.url();if(b.enabled){if(!l&&b.requireBase)throw ob("nobase");var m=p.substring(0,p.indexOf("/",p.indexOf("//")+2))+(l||"/");l=e.history?yc:zd}else m=Ea(p),l=zc;var t=m.substr(0,Ea(m).lastIndexOf("/")+1);var n=new l(m,t,"#"+a);n.$$parseLinkUrl(p,p);n.$$state=c.state();var M=/^\s*(javascript|mailto):/i;f.on("click",
function(a){var e=b.rewriteLinks;if(e&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!==a.which&&2!==a.button){for(var h=B(a.target);"a"!==Aa(h[0]);)if(h[0]===f[0]||!(h=h.parent())[0])return;if(!J(e)||!x(h.attr(e))){e=h.prop("href");var k=h.attr("href")||h.attr("xlink:href");H(e)&&"[object SVGAnimatedString]"===e.toString()&&(e=Na(e.animVal).href);M.test(e)||!e||h.attr("target")||a.isDefaultPrevented()||!n.$$parseLinkUrl(e,k)||(a.preventDefault(),n.absUrl()!==c.url()&&(d.$apply(),g.angular["ff-684208-preventDefault"]=
!0))}}});pb(n.absUrl())!==pb(p)&&c.url(n.absUrl(),!0);var v=!0;c.onUrlChange(function(a,b){xc(a,t)?(d.$evalAsync(function(){var c=n.absUrl(),e=n.$$state;a=pb(a);n.$$parse(a);n.$$state=b;var f=d.$broadcast("$locationChangeStart",a,c,b,e).defaultPrevented;n.absUrl()===a&&(f?(n.$$parse(c),n.$$state=e,h(c,!1,e)):(v=!1,k(c,e)))}),d.$$phase||d.$digest()):g.location.href=a});d.$watch(function(){if(v||n.$$urlUpdatedByLocation){n.$$urlUpdatedByLocation=!1;var a=pb(c.url()),b=pb(n.absUrl()),f=c.state(),g=n.$$replace,
l=a!==b||n.$$html5&&e.history&&f!==n.$$state;if(v||l)v=!1,d.$evalAsync(function(){var b=n.absUrl(),c=d.$broadcast("$locationChangeStart",b,a,n.$$state,f).defaultPrevented;n.absUrl()===b&&(c?(n.$$parse(a),n.$$state=f):(l&&h(b,g,f===n.$$state?null:n.$$state),k(a,f)))})}n.$$replace=!1});return n}]}function xf(){var a=!0,b=this;this.debugEnabled=function(b){return u(b)?(a=b,this):a};this.$get=["$window",function(d){function c(a){a instanceof Error&&(a.stack&&f?a=a.message&&-1===a.stack.indexOf(a.message)?
"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line));return a}function e(a){var b=d.console||{},e=b[a]||b.log||D;a=!1;try{a=!!e.apply}catch(l){}return a?function(){var a=[];q(arguments,function(b){a.push(c(b))});return e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}var f=Ka||/\bEdge\//.test(d.navigator&&d.navigator.userAgent);return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,
arguments)}}()}}]}function yf(a){return a+""}function zf(a,b){return"undefined"!==typeof a?a:b}function Bd(a,b){return"undefined"===typeof a?b:"undefined"===typeof b?a:a+b}function Z(a,b){var d;switch(a.type){case r.Program:var c=!0;q(a.body,function(a){Z(a.expression,b);c=c&&a.expression.constant});a.constant=c;break;case r.Literal:a.constant=!0;a.toWatch=[];break;case r.UnaryExpression:Z(a.argument,b);a.constant=a.argument.constant;a.toWatch=a.argument.toWatch;break;case r.BinaryExpression:Z(a.left,
b);Z(a.right,b);a.constant=a.left.constant&&a.right.constant;a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case r.LogicalExpression:Z(a.left,b);Z(a.right,b);a.constant=a.left.constant&&a.right.constant;a.toWatch=a.constant?[]:[a];break;case r.ConditionalExpression:Z(a.test,b);Z(a.alternate,b);Z(a.consequent,b);a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant;a.toWatch=a.constant?[]:[a];break;case r.Identifier:a.constant=!1;a.toWatch=[a];break;case r.MemberExpression:Z(a.object,
b);a.computed&&Z(a.property,b);a.constant=a.object.constant&&(!a.computed||a.property.constant);a.toWatch=[a];break;case r.CallExpression:c=d=a.filter?!b(a.callee.name).$stateful:!1;var e=[];q(a.arguments,function(a){Z(a,b);c=c&&a.constant;a.constant||e.push.apply(e,a.toWatch)});a.constant=c;a.toWatch=d?e:[a];break;case r.AssignmentExpression:Z(a.left,b);Z(a.right,b);a.constant=a.left.constant&&a.right.constant;a.toWatch=[a];break;case r.ArrayExpression:c=!0;e=[];q(a.elements,function(a){Z(a,b);c=
c&&a.constant;a.constant||e.push.apply(e,a.toWatch)});a.constant=c;a.toWatch=e;break;case r.ObjectExpression:c=!0;e=[];q(a.properties,function(a){Z(a.value,b);c=c&&a.value.constant&&!a.computed;a.value.constant||e.push.apply(e,a.value.toWatch);a.computed&&(Z(a.key,b),a.key.constant||e.push.apply(e,a.key.toWatch))});a.constant=c;a.toWatch=e;break;case r.ThisExpression:a.constant=!1;a.toWatch=[];break;case r.LocalsExpression:a.constant=!1,a.toWatch=[]}}function Cd(a){if(1===a.length){a=a[0].expression;
var b=a.toWatch;return 1!==b.length?b:b[0]!==a?b:void 0}}function Dd(a){return a.type===r.Identifier||a.type===r.MemberExpression}function Ed(a){if(1===a.body.length&&Dd(a.body[0].expression))return{type:r.AssignmentExpression,left:a.body[0].expression,right:{type:r.NGValueParameter},operator:"="}}function Fd(a){this.$filter=a}function Gd(a){this.$filter=a}function Ac(a,b,d){this.ast=new r(a,d);this.astCompiler=d.csp?new Gd(b):new Fd(b)}function Bc(a){return z(a.valueOf)?a.valueOf():Af.call(a)}function Bf(){var a=
V(),b={"true":!0,"false":!1,"null":null,undefined:void 0},d,c;this.addLiteral=function(a,c){b[a]=c};this.setIdentifierFns=function(a,b){d=a;c=b;return this};this.$get=["$filter",function(e){function f(a,b,c){return null==a||null==b?a===b:"object"!==typeof a||(a=Bc(a),"object"!==typeof a||c)?a===b||a!==a&&b!==b:!1}function g(a,b,c,d,e){var g=d.inputs,h;if(1===g.length){var k=f;g=g[0];return a.$watch(function(a){var b=g(a);f(b,k,d.literal)||(h=d(a,void 0,void 0,[b]),k=b&&Bc(b));return h},b,c,e)}for(var l=
[],m=[],t=0,p=g.length;t<p;t++)l[t]=f,m[t]=null;return a.$watch(function(a){for(var b=!1,c=0,e=g.length;c<e;c++){var k=g[c](a);if(b||(b=!f(k,l[c],d.literal)))m[c]=k,l[c]=k&&Bc(k)}b&&(h=d(a,void 0,void 0,m));return h},b,c,e)}function h(a,b,c,d,e){function f(a){return d(a)}function h(a,c,d){t=a;z(b)&&b(a,c,d);l(a)&&d.$$postDigest(function(){l(t)&&m()})}var l=d.literal?k:u,m,t;return m=d.inputs?g(a,h,c,d,e):a.$watch(f,h,c)}function k(a){var b=!0;q(a,function(a){u(a)||(b=!1)});return b}function l(a,b,
c,d){var e=a.$watch(function(a){e();return d(a)},b,c);return e}function p(a,b){function c(c,d,e,g){e=f&&g?g[0]:a(c,d,e,g);return b(e,c,d)}function d(c,d,e,g){e=f&&g?g[0]:a(c,d,e,g);c=b(e,c,d);return h(e)?c:e}if(!b)return a;var e=a.$$watchDelegate,f=!1,h=a.literal?k:u,l=a.oneTime?d:c;l.literal=a.literal;l.oneTime=a.oneTime;f=!a.inputs;e&&e!==g?(l.$$watchDelegate=e,l.inputs=a.inputs):b.$stateful||(l.$$watchDelegate=g,l.inputs=a.inputs?a.inputs:[a]);return l}var m={csp:Ga().noUnsafeEval,literals:Ba(b),
isIdentifierStart:z(d)&&d,isIdentifierContinue:z(c)&&c};return function(b,c){switch(typeof b){case "string":var d=b=b.trim();var f=a[d];if(!f){if(":"===b.charAt(0)&&":"===b.charAt(1)){var k=!0;b=b.substring(2)}f=new Cc(m);f=(new Ac(f,e,m)).parse(b);f.constant?f.$$watchDelegate=l:k?(f.oneTime=!0,f.$$watchDelegate=h):f.inputs&&(f.$$watchDelegate=g);a[d]=f}return p(f,c);case "function":return p(b,c);default:return p(D,c)}}}]}function Cf(){var a=!0;this.$get=["$rootScope","$exceptionHandler",function(b,
d){return Hd(function(a){b.$evalAsync(a)},d,a)}];this.errorOnUnhandledRejections=function(b){return u(b)?(a=b,this):a}}function Df(){var a=!0;this.$get=["$browser","$exceptionHandler",function(b,d){return Hd(function(a){b.defer(a)},d,a)}];this.errorOnUnhandledRejections=function(b){return u(b)?(a=b,this):a}}function Hd(a,b,d){function c(){return new e}function e(){var a=this.promise=new f;this.resolve=function(b){k(a,b)};this.reject=function(b){p(a,b)};this.notify=function(b){t(a,b)}}function f(){this.$$state=
{status:0}}function g(){for(;!u&&y.length;){var a=y.shift();if(!a.pur){a.pur=!0;var c=a.value;c="Possibly unhandled rejection: "+("function"===typeof c?c.toString().replace(/ \{[\s\S]*$/,""):x(c)?"undefined":"string"!==typeof c?Ee(c,void 0):c);a.value instanceof Error?b(a.value,c):b(c)}}}function h(b){!d||b.pending||2!==b.status||b.pur||(0===u&&0===y.length&&a(g),y.push(b));!b.processScheduled&&b.pending&&(b.processScheduled=!0,++u,a(function(){var c=b.pending;b.processScheduled=!1;b.pending=void 0;
try{for(var e=0,f=c.length;e<f;++e){b.pur=!0;var h=c[e][0];var l=c[e][b.status];try{z(l)?k(h,l(b.value)):1===b.status?k(h,b.value):p(h,b.value)}catch(Y){p(h,Y)}}}finally{--u,d&&0===u&&a(g)}}))}function k(a,b){a.$$state.status||(b===a?m(a,N("qcycle",b)):l(a,b))}function l(a,b){function c(b){f||(f=!0,l(a,b))}function d(b){f||(f=!0,m(a,b))}function e(b){t(a,b)}var f=!1;try{if(H(b)||z(b))var g=b.then;z(g)?(a.$$state.status=-1,g.call(b,c,d,e)):(a.$$state.value=b,a.$$state.status=1,h(a.$$state))}catch(ja){d(ja)}}
function p(a,b){a.$$state.status||m(a,b)}function m(a,b){a.$$state.value=b;a.$$state.status=2;h(a.$$state)}function t(c,d){var e=c.$$state.pending;0>=c.$$state.status&&e&&e.length&&a(function(){for(var a,c,f=0,g=e.length;f<g;f++){c=e[f][0];a=e[f][3];try{t(c,z(a)?a(d):d)}catch(ja){b(ja)}}})}function n(a){var b=new f;p(b,a);return b}function r(a,b,c){var d=null;try{z(c)&&(d=c())}catch(I){return n(I)}return d&&z(d.then)?d.then(function(){return b(a)},n):b(a)}function v(a,b,c,d){var e=new f;k(e,a);return e.then(b,
c,d)}function w(a){if(!z(a))throw N("norslvr",a);var b=new f;a(function(a){k(b,a)},function(a){p(b,a)});return b}var N=R("$q",TypeError),u=0,y=[];T(f.prototype,{then:function(a,b,c){if(x(a)&&x(b)&&x(c))return this;var d=new f;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([d,a,b,c]);0<this.$$state.status&&h(this.$$state);return d},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return r(b,L,a)},function(b){return r(b,n,a)},
b)}});var L=v;w.prototype=f.prototype;w.defer=c;w.reject=n;w.when=v;w.resolve=L;w.all=function(a){var b=new f,c=0,d=K(a)?[]:{};q(a,function(a,e){c++;v(a).then(function(a){d[e]=a;--c||k(b,d)},function(a){p(b,a)})});0===c&&k(b,d);return b};w.race=function(a){var b=c();q(a,function(a){v(a).then(b.resolve,b.reject)});return b.promise};return w}function Ef(){this.$get=["$window","$timeout",function(a,b){var d=a.requestAnimationFrame||a.webkitRequestAnimationFrame,c=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||
a.webkitCancelRequestAnimationFrame,e=(a=!!d)?function(a){var b=d(a);return function(){c(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};e.supported=a;return e}]}function Ff(){function a(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=++ub;this.$$ChildScope=null}b.prototype=a;return b}var b=10,d=R("$rootScope"),c=null,e=null;this.digestTtl=function(a){arguments.length&&
(b=a);return b};this.$get=["$exceptionHandler","$parse","$browser",function(f,g,h){function k(a){a.currentScope.$$destroyed=!0}function l(a){9===Ka&&(a.$$childHead&&l(a.$$childHead),a.$$nextSibling&&l(a.$$nextSibling));a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=a.$$childTail=a.$root=a.$$watchers=null}function p(){this.$id=++ub;this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=!1;this.$$listeners=
{};this.$$listenerCount={};this.$$watchersCount=0;this.$$isolateBindings=null}function m(a){if(N.$$phase)throw d("inprog",N.$$phase);N.$$phase=a}function t(a,b){do a.$$watchersCount+=b;while(a=a.$parent)}function n(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function r(){}function v(){for(;L.length;)try{L.shift()()}catch(E){f(E)}e=null}function w(){null===e&&(e=h.defer(function(){N.$apply(v)}))}p.prototype={constructor:p,$new:function(b,
c){c=c||this;if(b){var d=new p;d.$root=this.$root}else this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope;d.$parent=c;d.$$prevSibling=c.$$childTail;c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d;(b||c!==this)&&d.$on("$destroy",k);return d},$watch:function(a,b,d,e){var f=g(a);if(f.$$watchDelegate)return f.$$watchDelegate(this,b,d,f,a);var h=this,k=h.$$watchers,l={fn:b,last:r,get:f,exp:e||a,eq:!!d};c=null;z(b)||(l.fn=D);k||(k=h.$$watchers=
[],k.$$digestWatchIndex=-1);k.unshift(l);k.$$digestWatchIndex++;t(this,1);return function(){var a=cb(k,l);0<=a&&(t(h,-1),a<k.$$digestWatchIndex&&k.$$digestWatchIndex--);c=null}},$watchGroup:function(a,b){function c(){h=!1;k?(k=!1,b(e,e,g)):b(e,d,g)}var d=Array(a.length),e=Array(a.length),f=[],g=this,h=!1,k=!0;if(!a.length){var l=!0;g.$evalAsync(function(){l&&b(e,e,g)});return function(){l=!1}}if(1===a.length)return this.$watch(a[0],function(a,c,f){e[0]=a;d[0]=c;b(e,a===c?e:d,f)});q(a,function(a,b){a=
g.$watch(a,function(a,f){e[b]=a;d[b]=f;h||(h=!0,g.$evalAsync(c))});f.push(a)});return function(){for(;f.length;)f.shift()()}},$watchCollection:function(a,b){function c(a){e=a;var b;if(!x(e)){if(H(e))if(xa(e))for(f!==m&&(f=m,n=f.length=0,l++),a=e.length,n!==a&&(l++,f.length=n=a),b=0;b<a;b++){var c=f[b];var d=e[b];var g=c!==c&&d!==d;g||c===d||(l++,f[b]=d)}else{f!==p&&(f=p={},n=0,l++);a=0;for(b in e)ya.call(e,b)&&(a++,d=e[b],c=f[b],b in f?(g=c!==c&&d!==d,g||c===d||(l++,f[b]=d)):(n++,f[b]=d,l++));if(n>
a)for(b in l++,f)ya.call(e,b)||(n--,delete f[b])}else f!==e&&(f=e,l++);return l}}c.$stateful=!0;var d=this,e,f,h,k=1<b.length,l=0;a=g(a,c);var m=[],p={},t=!0,n=0;return this.$watch(a,function(){t?(t=!1,b(e,e,d)):b(e,h,d);if(k)if(H(e))if(xa(e)){h=Array(e.length);for(var a=0;a<e.length;a++)h[a]=e[a]}else for(a in h={},e)ya.call(e,a)&&(h[a]=e[a]);else h=e})},$digest:function(){var a,g,k,l,p=b,t=[];m("$digest");h.$$checkUrlChange();this===N&&null!==e&&(h.defer.cancel(e),v());c=null;do{var n=!1;var q=
this;for(l=0;l<u.length;l++){try{var w=u[l];var M=w.fn;M(w.scope,w.locals)}catch(Ua){f(Ua)}c=null}u.length=0;a:do{if(l=q.$$watchers)for(l.$$digestWatchIndex=l.length;l.$$digestWatchIndex--;)try{if(a=l[l.$$digestWatchIndex]){var x=a.get;if((g=x(q))!==(k=a.last)&&!(a.eq?va(g,k):ha(g)&&ha(k))){if(n=!0,c=a,a.last=a.eq?Ba(g,null):g,M=a.fn,M(g,k===r?g:k,q),5>p){var L=4-p;t[L]||(t[L]=[]);t[L].push({msg:z(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:g,oldVal:k})}}else if(a===c){n=!1;break a}}}catch(Ua){f(Ua)}if(!(l=
q.$$watchersCount&&q.$$childHead||q!==this&&q.$$nextSibling))for(;q!==this&&!(l=q.$$nextSibling);)q=q.$parent}while(q=l);if((n||u.length)&&!p--)throw N.$$phase=null,d("infdig",b,t);}while(n||u.length);for(N.$$phase=null;C<y.length;)try{y[C++]()}catch(Ua){f(Ua)}y.length=C=0;h.$$checkUrlChange()},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;this===N&&h.$$applicationDestroyed();t(this,-this.$$watchersCount);for(var b in this.$$listenerCount)n(this,
this.$$listenerCount[b],b);a&&a.$$childHead===this&&(a.$$childHead=this.$$nextSibling);a&&a.$$childTail===this&&(a.$$childTail=this.$$prevSibling);this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=D;this.$on=this.$watch=this.$watchGroup=function(){return D};this.$$listeners={};this.$$nextSibling=null;l(this)}},$eval:function(a,b){return g(a)(this,
b)},$evalAsync:function(a,b){N.$$phase||u.length||h.defer(function(){u.length&&N.$digest()});u.push({scope:this,fn:g(a),locals:b})},$$postDigest:function(a){y.push(a)},$apply:function(a){try{m("$apply");try{return this.$eval(a)}finally{N.$$phase=null}}catch(ia){f(ia)}finally{try{N.$digest()}catch(ia){throw f(ia),ia;}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&L.push(b);a=g(a);w()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]);c.push(b);var d=this;do d.$$listenerCount[a]||
(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,n(e,1,a))}},$emit:function(a,b){var c=[],d=this,e=!1,g={name:a,targetScope:d,stopPropagation:function(){e=!0},preventDefault:function(){g.defaultPrevented=!0},defaultPrevented:!1},h=db([g],arguments,1),k;do{var l=d.$$listeners[a]||c;g.currentScope=d;var m=0;for(k=l.length;m<k;m++)if(l[m])try{l[m].apply(null,h)}catch(mb){f(mb)}else l.splice(m,1),m--,k--;if(e)return g.currentScope=
null,g;d=d.$parent}while(d);g.currentScope=null;return g},$broadcast:function(a,b){var c=this,d=this,e={name:a,targetScope:this,preventDefault:function(){e.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[a])return e;for(var g=db([e],arguments,1),h,k;c=d;){e.currentScope=c;d=c.$$listeners[a]||[];h=0;for(k=d.length;h<k;h++)if(d[h])try{d[h].apply(null,g)}catch(ba){f(ba)}else d.splice(h,1),h--,k--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&
!(d=c.$$nextSibling);)c=c.$parent}e.currentScope=null;return e}};var N=new p,u=N.$$asyncQueue=[],y=N.$$postDigestQueue=[],L=N.$$applyAsyncQueue=[],C=0;return N}]}function Gf(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return u(b)?(a=b,this):a};this.imgSrcSanitizationWhitelist=function(a){return u(a)?(b=a,this):b};this.$get=function(){return function(d,c){c=c?b:a;var e=Na(d).href;return""===e||e.match(c)?d:"unsafe:"+
e}}}function Hf(){this.$get=["$window","$document",function(a,b){var d={},c=!((!a.nw||!a.nw.process)&&a.chrome&&(a.chrome.app&&a.chrome.app.runtime||!a.chrome.app&&a.chrome.runtime&&a.chrome.runtime.id))&&a.history&&a.history.pushState,e=parseInt((/android (\d+)/.exec(S((a.navigator||{}).userAgent))||[])[1],10);a=/Boxee/i.test((a.navigator||{}).userAgent);var f=b[0]||{};b=f.body&&f.body.style;var g=!1,h=!1;b&&(g=!!("transition"in b||"webkitTransition"in b),h=!!("animation"in b||"webkitAnimation"in
b));return{history:!(!c||4>e||a),hasEvent:function(a){if("input"===a&&Ka)return!1;if(x(d[a])){var b=f.createElement("div");d[a]="on"+a in b}return d[a]},csp:Ga(),transitions:g,animations:h,android:e}}]}function If(){this.$get=["$rootScope","$browser","$location",function(a,b,d){return{findBindings:function(a,b,d){a=a.getElementsByClassName("ng-binding");var c=[];q(a,function(a){var e=ma.element(a).data("$binding");e&&q(e,function(e){d?(new RegExp("(^|\\s)"+b.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,
"\\$1").replace(/\x08/g,"\\x08")+"(\\s|\\||$)")).test(e)&&c.push(a):-1!==e.indexOf(b)&&c.push(a)})});return c},findModels:function(a,b,d){for(var c=["ng-","data-ng-","ng\\:"],e=0;e<c.length;++e){var f=a.querySelectorAll("["+c[e]+"model"+(d?"=":"*=")+'"'+b+'"]');if(f.length)return f}},getLocation:function(){return d.url()},setLocation:function(b){b!==d.url()&&(d.url(b),a.$digest())},whenStable:function(a){b.notifyWhenNoOutstandingRequests(a)}}}]}function Jf(){this.$get=["$rootScope","$browser","$q",
"$$q","$exceptionHandler",function(a,b,d,c,e){function f(f,k,l){z(f)||(l=k,k=f,f=D);var h=za.call(arguments,3),m=u(l)&&!l,t=(m?c:d).defer(),n=t.promise;var q=b.defer(function(){try{t.resolve(f.apply(null,h))}catch(v){t.reject(v),e(v)}finally{delete g[n.$$timeoutId]}m||a.$apply()},k);n.$$timeoutId=q;g[q]=t;return n}var g={};f.cancel=function(a){return a&&a.$$timeoutId in g?(g[a.$$timeoutId].promise.catch(D),g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId)):
!1};return f}]}function Na(a){Ka&&(aa.setAttribute("href",a),a=aa.href);aa.setAttribute("href",a);return{href:aa.href,protocol:aa.protocol?aa.protocol.replace(/:$/,""):"",host:aa.host,search:aa.search?aa.search.replace(/^\?/,""):"",hash:aa.hash?aa.hash.replace(/^#/,""):"",hostname:aa.hostname,port:aa.port,pathname:"/"===aa.pathname.charAt(0)?aa.pathname:"/"+aa.pathname}}function wd(a){a=J(a)?Na(a):a;return a.protocol===Id.protocol&&a.host===Id.host}function Kf(){this.$get=pa(G)}function Jd(a){function b(a){try{return decodeURIComponent(a)}catch(g){return a}}
var d=a[0]||{},c={},e="";return function(){var a;try{var g=d.cookie||""}catch(p){g=""}if(g!==e)for(e=g,g=e.split("; "),c={},a=0;a<g.length;a++){var h=g[a];var k=h.indexOf("=");if(0<k){var l=b(h.substring(0,k));x(c[l])&&(c[l]=b(h.substring(k+1)))}}return c}}function Lf(){this.$get=Jd}function Kd(a){function b(d,c){if(H(d)){var e={};q(d,function(a,c){e[c]=b(c,a)});return e}return a.factory(d+"Filter",c)}this.register=b;this.$get=["$injector",function(a){return function(b){return a.get(b+"Filter")}}];
b("currency",Ld);b("date",Md);b("filter",Mf);b("json",Nf);b("limitTo",Of);b("lowercase",Pf);b("number",Nd);b("orderBy",Od);b("uppercase",Qf)}function Mf(){return function(a,b,d,c){if(!xa(a)){if(null==a)return a;throw R("filter")("notarray",a);}c=c||"$";switch(Dc(b)){case "function":break;case "boolean":case "null":case "number":case "string":var e=!0;case "object":b=Rf(b,d,c,e);break;default:return a}return Array.prototype.filter.call(a,b)}}function Rf(a,b,d,c){var e=H(a)&&d in a;!0===b?b=va:z(b)||
(b=function(a,b){if(x(a))return!1;if(null===a||null===b)return a===b;if(H(b)||H(a)&&!bc(a))return!1;a=S(""+a);b=S(""+b);return-1!==a.indexOf(b)});return function(f){return e&&!H(f)?na(f,a[d],b,d,!1):na(f,a,b,d,c)}}function na(a,b,d,c,e,f){var g=Dc(a),h=Dc(b);if("string"===h&&"!"===b.charAt(0))return!na(a,b.substring(1),d,c,e);if(K(a))return a.some(function(a){return na(a,b,d,c,e)});switch(g){case "object":var k;if(e){for(k in a)if(k.charAt&&"$"!==k.charAt(0)&&na(a[k],b,d,c,!0))return!0;return f?!1:
na(a,b,d,c,!1)}if("object"===h){for(k in b)if(f=b[k],!z(f)&&!x(f)&&(g=k===c,!na(g?a:a[k],f,d,c,g,g)))return!1;return!0}return d(a,b);case "function":return!1;default:return d(a,b)}}function Dc(a){return null===a?"null":typeof a}function Ld(a){var b=a.NUMBER_FORMATS;return function(a,c,e){x(c)&&(c=b.CURRENCY_SYM);x(e)&&(e=b.PATTERNS[1].maxFrac);return null==a?a:Pd(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,e).replace(/\u00A4/g,c)}}function Nd(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==
a?a:Pd(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function Sf(a){var b=0,d,c,e,f;-1<(d=a.indexOf(Qd))&&(a=a.replace(Qd,""));0<(c=a.search(/e/i))?(0>d&&(d=c),d+=+a.slice(c+1),a=a.substring(0,c)):0>d&&(d=a.length);for(c=0;a.charAt(c)===Ec;c++);if(c===(f=a.length)){var g=[0];d=1}else{for(f--;a.charAt(f)===Ec;)f--;d-=c;g=[];for(e=0;c<=f;c++,e++)g[e]=+a.charAt(c)}d>Rd&&(g=g.splice(0,Rd-1),b=d-1,d=1);return{d:g,e:b,i:d}}function Tf(a,b,d,c){var e=a.d,f=e.length-a.i;b=x(b)?Math.min(Math.max(d,f),c):+b;
d=b+a.i;c=e[d];if(0<d){e.splice(Math.max(a.i,d));for(var g=d;g<e.length;g++)e[g]=0}else for(f=Math.max(0,f),a.i=1,e.length=Math.max(1,d=b+1),e[0]=0,g=1;g<d;g++)e[g]=0;if(5<=c)if(0>d-1){for(c=0;c>d;c--)e.unshift(0),a.i++;e.unshift(1);a.i++}else e[d-1]++;for(;f<Math.max(0,b);f++)e.push(0);if(b=e.reduceRight(function(a,b,c,d){b+=a;d[c]=b%10;return Math.floor(b/10)},0))e.unshift(b),a.i++}function Pd(a,b,d,c,e){if(!J(a)&&!ca(a)||isNaN(a))return"";var f=!isFinite(a),g=!1,h=Math.abs(a)+"",k="";if(f)k="\u221e";
else{g=Sf(h);Tf(g,e,b.minFrac,b.maxFrac);k=g.d;h=g.i;e=g.e;f=[];for(g=k.reduce(function(a,b){return a&&!b},!0);0>h;)k.unshift(0),h++;0<h?f=k.splice(h,k.length):(f=k,k=[0]);h=[];for(k.length>=b.lgSize&&h.unshift(k.splice(-b.lgSize,k.length).join(""));k.length>b.gSize;)h.unshift(k.splice(-b.gSize,k.length).join(""));k.length&&h.unshift(k.join(""));k=h.join(d);f.length&&(k+=c+f.join(""));e&&(k+="e+"+e)}return 0>a&&!g?b.negPre+k+b.negSuf:b.posPre+k+b.posSuf}function Pb(a,b,d,c){var e="";if(0>a||c&&0>=
a)c?a=-a+1:(a=-a,e="-");for(a=""+a;a.length<b;)a=Ec+a;d&&(a=a.substr(a.length-b));return e+a}function fa(a,b,d,c,e){d=d||0;return function(f){f=f["get"+a]();if(0<d||f>-d)f+=d;0===f&&-12===d&&(f=12);return Pb(f,b,c,e)}}function qb(a,b,d){return function(c,e){c=c["get"+a]();var f=Nb((d?"STANDALONE":"")+(b?"SHORT":"")+a);return e[f][c]}}function Sd(a){var b=(new Date(a,0,1)).getDay();return new Date(a,0,(4>=b?5:12)-b)}function Td(a){return function(b){var d=Sd(b.getFullYear());b=new Date(b.getFullYear(),
b.getMonth(),b.getDate()+(4-b.getDay()));return Pb(1+Math.round((+b-+d)/6048E5),a)}}function Fc(a,b){return 0>=a.getFullYear()?b.ERAS[0]:b.ERAS[1]}function Md(a){function b(a){var b;if(b=a.match(d)){a=new Date(0);var c=0,g=0,h=b[8]?a.setUTCFullYear:a.setFullYear,k=b[8]?a.setUTCHours:a.setHours;b[9]&&(c=parseInt(b[9]+b[10],10),g=parseInt(b[9]+b[11],10));h.call(a,parseInt(b[1],10),parseInt(b[2],10)-1,parseInt(b[3],10));c=parseInt(b[4]||0,10)-c;g=parseInt(b[5]||0,10)-g;h=parseInt(b[6]||0,10);b=Math.round(1E3*
parseFloat("0."+(b[7]||0)));k.call(a,c,g,h,b)}return a}var d=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d,f){var e="",h=[],k,l;d=d||"mediumDate";d=a.DATETIME_FORMATS[d]||d;J(c)&&(c=Uf.test(c)?parseInt(c,10):b(c));ca(c)&&(c=new Date(c));if(!da(c)||!isFinite(c.getTime()))return c;for(;d;)(l=Vf.exec(d))?(h=db(h,l,1),d=h.pop()):(h.push(d),d=null);var p=c.getTimezoneOffset();f&&(p=Wc(f,p),c=dc(c,f,!0));q(h,function(b){k=Wf[b];
e+=k?k(c,a.DATETIME_FORMATS,p):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return e}}function Nf(){return function(a,b){x(b)&&(b=2);return fb(a,b)}}function Of(){return function(a,b,d){b=Infinity===Math.abs(Number(b))?Number(b):parseInt(b,10);if(ha(b))return a;ca(a)&&(a=a.toString());if(!xa(a))return a;d=!d||isNaN(d)?0:parseInt(d,10);d=0>d?Math.max(0,a.length+d):d;return 0<=b?Gc(a,d,d+b):0===d?Gc(a,b,a.length):Gc(a,Math.max(0,d+b),d)}}function Gc(a,b,d){return J(a)?a.slice(b,d):za.call(a,
b,d)}function Od(a){function b(b){return b.map(function(b){var c=1,d=wb;if(z(b))d=b;else if(J(b)){if("+"===b.charAt(0)||"-"===b.charAt(0))c="-"===b.charAt(0)?-1:1,b=b.substring(1);if(""!==b&&(d=a(b),d.constant)){var e=d();d=function(a){return a[e]}}}return{get:d,descending:c}})}function d(a){switch(typeof a){case "number":case "boolean":case "string":return!0;default:return!1}}function c(a,b){var c=0,d=a.type,e=b.type;if(d===e){e=a.value;var f=b.value;"string"===d?(e=e.toLowerCase(),f=f.toLowerCase()):
"object"===d&&(H(e)&&(e=a.index),H(f)&&(f=b.index));e!==f&&(c=e<f?-1:1)}else c=d<e?-1:1;return c}return function(a,f,g,h){if(null==a)return a;if(!xa(a))throw R("orderBy")("notarray",a);K(f)||(f=[f]);0===f.length&&(f=["+"]);var e=b(f),l=g?-1:1,p=z(h)?h:c;a=Array.prototype.map.call(a,function(a,b){return{value:a,tieBreaker:{value:b,type:"number",index:b},predicateValues:e.map(function(c){var e=c.get(a);c=typeof e;if(null===e)c="string",e="null";else if("object"===c)a:{if(z(e.valueOf)&&(e=e.valueOf(),
d(e)))break a;bc(e)&&(e=e.toString(),d(e))}return{value:e,type:c,index:b}})}});a.sort(function(a,b){for(var c=0,d=e.length;c<d;c++){var f=p(a.predicateValues[c],b.predicateValues[c]);if(f)return f*e[c].descending*l}return p(a.tieBreaker,b.tieBreaker)*l});return a=a.map(function(a){return a.value})}}function Sa(a){z(a)&&(a={link:a});a.restrict=a.restrict||"AC";return pa(a)}function Qb(a,b,d,c,e){this.$$controls=[];this.$error={};this.$$success={};this.$pending=void 0;this.$name=e(b.name||b.ngForm||
"")(d);this.$dirty=!1;this.$valid=this.$pristine=!0;this.$submitted=this.$invalid=!1;this.$$parentForm=Rb;this.$$element=a;this.$$animate=c;Ud(this)}function Ud(a){a.$$classCache={};a.$$classCache[Vd]=!(a.$$classCache[rb]=a.$$element.hasClass(rb))}function Wd(a){function b(a,b,c){c&&!a.$$classCache[b]?(a.$$animate.addClass(a.$$element,b),a.$$classCache[b]=!0):!c&&a.$$classCache[b]&&(a.$$animate.removeClass(a.$$element,b),a.$$classCache[b]=!1)}function d(a,c,d){c=c?"-"+$c(c,"-"):"";b(a,rb+c,!0===d);
b(a,Vd+c,!1===d)}var c=a.set,e=a.unset;a.clazz.prototype.$setValidity=function(a,g,h){x(g)?(this.$pending||(this.$pending={}),c(this.$pending,a,h)):(this.$pending&&e(this.$pending,a,h),Xd(this.$pending)&&(this.$pending=void 0));Pa(g)?g?(e(this.$error,a,h),c(this.$$success,a,h)):(c(this.$error,a,h),e(this.$$success,a,h)):(e(this.$error,a,h),e(this.$$success,a,h));this.$pending?(b(this,"ng-pending",!0),this.$valid=this.$invalid=void 0,d(this,"",null)):(b(this,"ng-pending",!1),this.$valid=Xd(this.$error),
this.$invalid=!this.$valid,d(this,"",this.$valid));g=this.$pending&&this.$pending[a]?void 0:this.$error[a]?!1:this.$$success[a]?!0:null;d(this,a,g);this.$$parentForm.$setValidity(a,g,this)}}function Xd(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function Hc(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function Ta(a,b,d,c,e,f){var g=S(b[0].type);if(!e.android){var h=!1;b.on("compositionstart",function(){h=!0});b.on("compositionend",function(){h=!1;l()})}var k,
l=function(a){k&&(f.defer.cancel(k),k=null);if(!h){var e=b.val();a=a&&a.type;"password"===g||d.ngTrim&&"false"===d.ngTrim||(e=U(e));(c.$viewValue!==e||""===e&&c.$$hasNativeValidators)&&c.$setViewValue(e,a)}};if(e.hasEvent("input"))b.on("input",l);else{var p=function(a,b,c){k||(k=f.defer(function(){k=null;b&&b.value===c||l(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||15<b&&19>b||37<=b&&40>=b||p(a,this,this.value)});if(e.hasEvent("paste"))b.on("paste cut",p)}b.on("change",l);if(Yd[g]&&
c.$$hasNativeValidators&&g===d.type)b.on("keydown wheel mousedown",function(a){if(!k){var b=this.validity,c=b.badInput,d=b.typeMismatch;k=f.defer(function(){k=null;b.badInput===c&&b.typeMismatch===d||l(a)})}});c.$render=function(){var a=c.$isEmpty(c.$viewValue)?"":c.$viewValue;b.val()!==a&&b.val(a)}}function Sb(a,b){return function(d,c){if(da(d))return d;if(J(d)){'"'===d.charAt(0)&&'"'===d.charAt(d.length-1)&&(d=d.substring(1,d.length-1));if(Xf.test(d))return new Date(d);a.lastIndex=0;if(d=a.exec(d)){d.shift();
var e=c?{yyyy:c.getFullYear(),MM:c.getMonth()+1,dd:c.getDate(),HH:c.getHours(),mm:c.getMinutes(),ss:c.getSeconds(),sss:c.getMilliseconds()/1E3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0};q(d,function(a,c){c<b.length&&(e[b[c]]=+a)});return new Date(e.yyyy,e.MM-1,e.dd,e.HH,e.mm,e.ss||0,1E3*e.sss||0)}}return NaN}}function sb(a,b,d,c){return function(e,f,g,h,k,l,p){function m(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function t(a){return u(a)&&!da(a)?d(a)||void 0:a}Ic(e,f,g,h);Ta(e,f,g,h,k,
l);var n=h&&h.$options.getOption("timezone"),q;h.$$parserName=a;h.$parsers.push(function(a){if(h.$isEmpty(a))return null;if(b.test(a))return a=d(a,q),n&&(a=dc(a,n)),a});h.$formatters.push(function(a){if(a&&!da(a))throw tb("datefmt",a);if(m(a))return(q=a)&&n&&(q=dc(q,n,!0)),p("date")(a,c,n);q=null;return""});if(u(g.min)||g.ngMin){var v;h.$validators.min=function(a){return!m(a)||x(v)||d(a)>=v};g.$observe("min",function(a){v=t(a);h.$validate()})}if(u(g.max)||g.ngMax){var w;h.$validators.max=function(a){return!m(a)||
x(w)||d(a)<=w};g.$observe("max",function(a){w=t(a);h.$validate()})}}}function Ic(a,b,d,c){(c.$$hasNativeValidators=H(b[0].validity))&&c.$parsers.push(function(a){var c=b.prop("validity")||{};return c.badInput||c.typeMismatch?void 0:a})}function Zd(a){a.$$parserName="number";a.$parsers.push(function(b){if(a.$isEmpty(b))return null;if(Yf.test(b))return parseFloat(b)});a.$formatters.push(function(b){if(!a.$isEmpty(b)){if(!ca(b))throw tb("numfmt",b);b=b.toString()}return b})}function Wa(a){u(a)&&!ca(a)&&
(a=parseFloat(a));return ha(a)?void 0:a}function Jc(a){var b=a.toString(),d=b.indexOf(".");return-1===d?-1<a&&1>a&&(a=/e-(\d+)$/.exec(b))?Number(a[1]):0:b.length-d-1}function $d(a,b,d){a=Number(a);var c=(a|0)!==a,e=(b|0)!==b,f=(d|0)!==d;if(c||e||f){var g=c?Jc(a):0,h=e?Jc(b):0,k=f?Jc(d):0;g=Math.pow(10,Math.max(g,h,k));a*=g;b*=g;d*=g;c&&(a=Math.round(a));e&&(b=Math.round(b));f&&(d=Math.round(d))}return 0===(a-b)%d}function ae(a,b,d,c,e){if(u(c)){a=a(c);if(!a.constant)throw tb("constexpr",d,c);return a(b)}return e}
function Kc(a,b){function d(a,b){if(!a||!a.length)return[];if(!b||!b.length)return a;var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],f=0;f<b.length;f++)if(e===b[f])continue a;c.push(e)}return c}function c(a){var b=a;K(a)?b=a.map(c).join(" "):H(a)&&(b=Object.keys(a).filter(function(b){return a[b]}).join(" "));return b}a="ngClass"+a;var e;return["$parse",function(f){return{restrict:"AC",link:function(g,h,k){function l(a,b){var c=[];q(a,function(a){if(0<b||m[a])m[a]=(m[a]||0)+b,m[a]===+(0<b)&&c.push(a)});
return c.join(" ")}function p(a){if(a===b){var c=n;c=l(c&&c.split(" "),1);k.$addClass(c)}else c=n,c=l(c&&c.split(" "),-1),k.$removeClass(c);t=a}var m=h.data("$classCounts"),t=!0,n;m||(m=V(),h.data("$classCounts",m));"ngClass"!==a&&(e||(e=f("$index",function(a){return a&1})),g.$watch(e,p));g.$watch(f(k[a],c),function(a){J(a)||(a=c(a));if(t===b){var e=a,f=n&&n.split(" "),g=e&&e.split(" ");e=d(f,g);f=d(g,f);e=l(e,-1);f=l(f,1);k.$addClass(f);k.$removeClass(e)}n=a})}}}]}function Tb(a,b,d,c,e,f,g,h,k){this.$modelValue=
this.$viewValue=Number.NaN;this.$$rawModelValue=void 0;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;this.$touched=!1;this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$error={};this.$$success={};this.$pending=void 0;this.$name=k(d.name||"",!1)(a);this.$$parentForm=Rb;this.$options=Lc;this.$$parsedNgModel=e(d.ngModel);this.$$parsedNgModelAssign=this.$$parsedNgModel.assign;this.$$ngModelGet=this.$$parsedNgModel;
this.$$ngModelSet=this.$$parsedNgModelAssign;this.$$pendingDebounce=null;this.$$parserValid=void 0;this.$$currentValidationRunId=0;Object.defineProperty(this,"$$scope",{value:a});this.$$attr=d;this.$$element=c;this.$$animate=f;this.$$timeout=g;this.$$parse=e;this.$$q=h;this.$$exceptionHandler=b;Ud(this);Zf(this)}function Zf(a){a.$$scope.$watch(function(b){b=a.$$ngModelGet(b);if(b!==a.$modelValue&&(a.$modelValue===a.$modelValue||b===b)){a.$modelValue=a.$$rawModelValue=b;a.$$parserValid=void 0;for(var d=
a.$formatters,c=d.length,e=b;c--;)e=d[c](e);a.$viewValue!==e&&(a.$$updateEmptyClasses(e),a.$viewValue=a.$$lastCommittedViewValue=e,a.$render(),a.$$runValidators(a.$modelValue,a.$viewValue,D))}return b})}function Mc(a){this.$$options=a}function be(a,b){q(b,function(b,c){u(a[c])||(a[c]=b)})}function Xa(a,b){a.prop("selected",b);a.attr("selected",b)}function $f(){this.SCE_CONTEXTS=Ya;this.resourceUrlWhitelist=function(a){throw la("noresourceurlwhitelist");};this.resourceUrlBlacklist=function(a){throw la("noresourceurlblacklist");
};this.$get=["$injector",function(a){var b=function(a){throw la("unsafe");};a.has("$sanitize")&&(b=a.get("$sanitize"));return{trustAs:function(a,b){throw la("notrustas");},getTrusted:function(d,c){if(null===c||x(c)||""===c)return c;if("string"==typeof c){if(d==Ya.TEMPLATE_URL){d=a.has("html2JsTemplatesCached")?!a.get("html2JsTemplatesCached")():!ng.safehtml.googSceHelper.isCOMPILED();if(d&&wd(c))return c;throw la("insecurl",c);}if(d==Ya.RESOURCE_URL)throw la("insecurl",c);if(d==Ya.HTML)return b(c);
throw la("unsafe",d);}if(ng.safehtml.googSceHelper.isGoogHtmlType(c))try{return ng.safehtml.googSceHelper.unwrapGivenContext(d,c)}catch(e){throw la("googhtml",c,d);}else throw la("unsafe",d);},valueOf:function(a){if(ng.safehtml.googSceHelper.isGoogHtmlType(a))try{return ng.safehtml.googSceHelper.unwrapAny(a)}catch(c){throw la("googhtml",a);}else return a}}}]}function ag(){this.enabled=function(a){if(arguments.length)throw la("nodisabling");return!0};this.$get=["$parse","$sceDelegate",function(a,b){if(8>
Ka)throw la("iequirks");if("undefined"==typeof ng||!ng.safehtml||!ng.safehtml.googSceHelper)throw la("nodep");var d=ta(Ya);d.isEnabled=function(){return!0};d.trustAs=b.trustAs;d.getTrusted=b.getTrusted;d.valueOf=b.valueOf;d.parseAs=function(b,c){var e=a(c);return e.literal&&e.constant?e:a(c,function(a){return d.getTrusted(b,a)})};var c=d.parseAs,e=d.getTrusted,f=d.trustAs;q(Ya,function(a,b){b=S(b);d[("parse_as_"+b).replace(Nc,ra)]=function(b){return c(a,b)};d[("get_trusted_"+b).replace(Nc,ra)]=function(b){return e(a,
b)};d[("trust_as_"+b).replace(Nc,ra)]=function(b){return f(a,b)}});return d}]}function bg(){var a;this.httpOptions=function(b){return b?(a=b,this):a};this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(b,d,c,e,f){function g(h,k){g.totalPendingRequests++;if(!J(h)||x(d.get(h)))h=f.getTrustedTemplateUrl(h);var l=c.defaults&&c.defaults.transformResponse;K(l)?l=l.filter(function(a){return a!==tc}):l===tc&&(l=null);return c.get(h,T({cache:d,transformResponse:l},a)).finally(function(){g.totalPendingRequests--}).then(function(a){d.put(h,
a.data);return a.data},function(a){k||(a=cg("tpload",h,a.status,a.statusText),b(a));return e.reject(a)})}g.totalPendingRequests=0;return g}]}var dg=/^\/(.+)\/([a-z]*)$/,ya=Object.prototype.hasOwnProperty,Pc={objectMaxDepth:5},S=function(a){return J(a)?a.toLowerCase():a},Nb=function(a){return J(a)?a.toUpperCase():a},B,wa,za=[].slice,df=[].splice,eg=[].push,qa=Object.prototype.toString,Tc=Object.getPrototypeOf,Ca=R("ng"),ma=G.angular||(G.angular={}),nc,ub=0;var Ka=G.document.documentMode;var ha=Number.isNaN||
function(a){return a!==a};D.$inject=[];wb.$inject=[];var K=Array.isArray,ue=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,U=function(a){return J(a)?a.trim():a},Ga=function(){if(!u(Ga.rules)){var a=G.document.querySelector("[ng-csp]")||G.document.querySelector("[data-ng-csp]");if(a){var b=a.getAttribute("ng-csp")||a.getAttribute("data-ng-csp");Ga.rules={noUnsafeEval:!b||-1!==b.indexOf("no-unsafe-eval"),noInlineStyle:!b||-1!==b.indexOf("no-inline-style")}}else{a=
Ga;try{new Function(""),b=!1}catch(d){b=!0}a.rules={noUnsafeEval:b,noInlineStyle:!1}}}return Ga.rules},Ub=function(){if(u(Ub.name_))return Ub.name_;var a,b,d=Ha.length;for(b=0;b<d;++b){var c=Ha[b];if(a=G.document.querySelector("["+c.replace(":","\\:")+"jq]")){var e=a.getAttribute(c+"jq");break}}return Ub.name_=e},we=/:/g,Ha=["ng-","data-ng-","ng:","x-ng-"],ze=function(a){var b=a.currentScript;if(!b)return!0;if(!(b instanceof G.HTMLScriptElement||b instanceof G.SVGScriptElement))return!1;b=b.attributes;
return[b.getNamedItem("src"),b.getNamedItem("href"),b.getNamedItem("xlink:href")].every(function(b){if(!b)return!0;if(!b.value)return!1;var c=a.createElement("a");c.href=b.value;if(a.location.origin===c.origin)return!0;switch(c.protocol){case "http:":case "https:":case "ftp:":case "blob:":case "file:":case "data:":return!0;default:return!1}})}(G.document),Ce=/[A-Z]/g,ce=!1,Qa=3,fg={full:"1.6.4-local+sha.617b36117",major:1,minor:6,dot:void 0,codeName:"undefined"};X.expando="ng339";var jb=X.cache={},
Ie=1;X._data=function(a){return this.cache[a[this.expando]]||{}};var Cb=/-([a-z])/g,gg=/^-ms-/,Bb={mouseleave:"mouseout",mouseenter:"mouseover"},ic=R("jqLite"),He=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,hc=/<|&#?\w+;/,Fe=/<([\w:-]+)/,Ge=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ea={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>",
"</tr></tbody></table>"],_default:[0,"",""]};ea.optgroup=ea.option;ea.tbody=ea.tfoot=ea.colgroup=ea.caption=ea.thead;ea.th=ea.td;var Ne=G.Node.prototype.contains||function(a){return!!(this.compareDocumentPosition(a)&16)},Va=X.prototype={ready:cd,toString:function(){var a=[];q(this,function(b){a.push(""+b)});return"["+a.join(", ")+"]"},eq:function(a){return 0<=a?B(this[a]):B(this[this.length+a])},length:0,push:eg,sort:[].sort,splice:[].splice},Ib={};q("multiple selected checked disabled readOnly required open".split(" "),
function(a){Ib[S(a)]=a});var hd={};q("input select option textarea button form details".split(" "),function(a){hd[a]=!0});var pd={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};q({data:mc,removeData:lc,hasData:function(a){for(var b in jb[a.ng339])return!0;return!1},cleanData:function(a){for(var b=0,d=a.length;b<d;b++)lc(a[b])}},function(a,b){X[b]=a});q({data:mc,inheritedData:Gb,scope:function(a){return B.data(a,"$scope")||Gb(a.parentNode||
a,["$isolateScope","$scope"])},isolateScope:function(a){return B.data(a,"$isolateScope")||B.data(a,"$isolateScopeNoTemplate")},controller:ed,injector:function(a){return Gb(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:Db,css:function(a,b,d){b=b.replace(gg,"ms-").replace(Cb,ra);if(u(d))a.style[b]=d;else return a.style[b]},attr:function(a,b,d){var c=a.nodeType;if(c!==Qa&&2!==c&&8!==c&&a.getAttribute){c=S(b);var e=Ib[c];if(u(d))null===d||!1===d&&e?a.removeAttribute(b):a.setAttribute(b,
e?c:d);else return a=a.getAttribute(b),e&&null!==a&&(a=c),null===a?void 0:a}},prop:function(a,b,d){if(u(d))a[b]=d;else return a[b]},text:function(){function a(a,d){if(x(d))return d=a.nodeType,1===d||d===Qa?a.textContent:"";a.textContent=d}a.$dv="";return a}(),val:function(a,b){if(x(b)){if(a.multiple&&"select"===Aa(a)){var d=[];q(a.options,function(a){a.selected&&d.push(a.value||a.text)});return d}return a.value}a.value=b},html:function(a,b){if(x(b))return a.innerHTML;zb(a,!0);a.innerHTML=b},empty:fd},
function(a,b){X.prototype[b]=function(b,c){var d,f,g=this.length;if(a!==fd&&x(2===a.length&&a!==Db&&a!==ed?b:c)){if(H(b)){for(d=0;d<g;d++)if(a===mc)a(this[d],b);else for(f in b)a(this[d],f,b[f]);return this}d=a.$dv;g=x(d)?Math.min(g,1):g;for(f=0;f<g;f++){var h=a(this[f],b,c);d=d?d+h:h}return d}for(d=0;d<g;d++)a(this[d],b,c);return this}});q({removeData:lc,on:function(a,b,d,c){if(u(c))throw ic("onargs");if(gc(a)){c=Ab(a,!0);var e=c.events,f=c.handle;f||(f=c.handle=Ke(a,e));c=0<=b.indexOf(" ")?b.split(" "):
[b];for(var g=c.length,h=function(b,c,g){var h=e[b];h||(h=e[b]=[],h.specialHandlerWrapper=c,"$destroy"===b||g||a.addEventListener(b,f));h.push(d)};g--;)b=c[g],Bb[b]?(h(Bb[b],Me),h(b,void 0,!0)):h(b)}},off:dd,one:function(a,b,d){a=B(a);a.on(b,function e(){a.off(b,d);a.off(b,e)});a.on(b,d)},replaceWith:function(a,b){var d,c=a.parentNode;zb(a);q(new X(b),function(b){d?c.insertBefore(b,d.nextSibling):c.replaceChild(b,a);d=b})},children:function(a){var b=[];q(a.childNodes,function(a){1===a.nodeType&&b.push(a)});
return b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var d=a.nodeType;if(1===d||11===d){b=new X(b);d=0;for(var c=b.length;d<c;d++)a.appendChild(b[d])}},prepend:function(a,b){if(1===a.nodeType){var d=a.firstChild;q(new X(b),function(b){a.insertBefore(b,d)})}},wrap:function(a,b){b=B(b).eq(0).clone()[0];var d=a.parentNode;d&&d.replaceChild(b,a);b.appendChild(a)},remove:Hb,detach:function(a){Hb(a,!0)},after:function(a,b){var d=a;if(a=a.parentNode){b=new X(b);
for(var c=0,e=b.length;c<e;c++){var f=b[c];a.insertBefore(f,d.nextSibling);d=f}}},addClass:Fb,removeClass:Eb,toggleClass:function(a,b,d){b&&q(b.split(" "),function(b){var c=d;x(c)&&(c=!Db(a,b));(c?Fb:Eb)(a,b)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:kc,triggerHandler:function(a,b,d){var c=b.type||b,e=Ab(a);if(e=(e=e&&e.events)&&e[c]){var f=
{preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:D,type:c,target:a};b.type&&(f=T(f,b));b=ta(e);var g=d?[f].concat(d):[f];q(b,function(b){f.isImmediatePropagationStopped()||b.apply(a,g)})}}},function(a,b){X.prototype[b]=function(b,c,e){for(var d,g=0,h=this.length;g<
h;g++)x(d)?(d=a(this[g],b,c,e),u(d)&&(d=B(d))):jc(d,a(this[g],b,c,e));return u(d)?d:this}});X.prototype.bind=X.prototype.on;X.prototype.unbind=X.prototype.off;var hg=Object.create(null);id.prototype={_idx:function(a){if(a===this._lastKey)return this._lastIndex;this._lastKey=a;return this._lastIndex=this._keys.indexOf(a)},_transformKey:function(a){return ha(a)?hg:a},get:function(a){a=this._transformKey(a);a=this._idx(a);if(-1!==a)return this._values[a]},set:function(a,b){a=this._transformKey(a);var d=
this._idx(a);-1===d&&(d=this._lastIndex=this._keys.length);this._keys[d]=a;this._values[d]=b},delete:function(a){a=this._transformKey(a);a=this._idx(a);if(-1===a)return!1;this._keys.splice(a,1);this._values.splice(a,1);this._lastKey=NaN;this._lastIndex=-1;return!0}};var Jb=id,ig=[function(){this.$get=[function(){return Jb}]}],Qe=/^([^(]+?)=>/,Re=/^[^(]*\(\s*([^)]*)\)/m,jg=/,/,kg=/^\s*(_?)(\S+?)\1\s*$/,Pe=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,ua=R("$injector");hb.$$annotate=function(a,b,d){var c;if("function"===
typeof a){if(!(c=a.$inject)){c=[];if(a.length){if(b)throw J(d)&&d||(d=a.name||Se(a)),ua("strictdi",d);b=jd(a);q(b[1].split(jg),function(a){a.replace(kg,function(a,b,d){c.push(d)})})}a.$inject=c}}else K(a)?(b=a.length-1,xb(a[b],"fn"),c=a.slice(0,b)):xb(a,"fn",!0);return c};var de=R("$animate"),lg=function(){this.$get=D},mg=function(){var a=new Jb,b=[];this.$get=["$$AnimateRunner","$rootScope",function(d,c){function e(a,b,c){var d=!1;b&&(b=J(b)?b.split(" "):K(b)?b:[],q(b,function(b){b&&(d=!0,a[b]=c)}));
return d}function f(){q(b,function(b){var c=a.get(b);if(c){var d=Ue(b.attr("class")),e="",f="";q(c,function(a,b){a!==!!d[b]&&(a?e+=(e.length?" ":"")+b:f+=(f.length?" ":"")+b)});q(b,function(a){e&&Fb(a,e);f&&Eb(a,f)});a.delete(b)}});b.length=0}return{enabled:D,on:D,off:D,pin:D,push:function(g,h,k,l){l&&l();k=k||{};k.from&&g.css(k.from);k.to&&g.css(k.to);if(k.addClass||k.removeClass)if(h=k.addClass,l=k.removeClass,k=a.get(g)||{},h=e(k,h,!0),l=e(k,l,!1),h||l)a.set(g,k),b.push(g),1===b.length&&c.$$postDigest(f);
g=new d;g.complete();return g}}}]},og=["$provide",function(a){var b=this,d=null;this.$$registeredAnimations=Object.create(null);this.register=function(c,d){if(c&&"."!==c.charAt(0))throw de("notcsel",c);var e=c+"-animation";b.$$registeredAnimations[c.substr(1)]=e;a.factory(e,d)};this.classNameFilter=function(a){if(1===arguments.length&&(d=a instanceof RegExp?a:null)&&/[(\s|\/)]ng-animate[(\s|\/)]/.test(d.toString()))throw d=null,de("nongcls","ng-animate");return d};this.$get=["$$animateQueue",function(a){function b(a,
b,c){if(c){var d;a:{for(d=0;d<c.length;d++){var e=c[d];if(1===e.nodeType){d=e;break a}}d=void 0}!d||d.parentNode||d.previousElementSibling||(c=null)}c?c.after(a):b.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.end&&a.end()},enter:function(c,d,e,k){d=d&&B(d);e=e&&B(e);d=d||e.parent();b(c,d,e);return a.push(c,"enter",La(k))},move:function(c,d,e,k){d=d&&B(d);e=e&&B(e);d=d||e.parent();b(c,d,e);return a.push(c,"move",La(k))},leave:function(b,c){return a.push(b,"leave",
La(c),function(){b.remove()})},addClass:function(b,c,d){d=La(d);d.addClass=kb(d.addclass,c);return a.push(b,"addClass",d)},removeClass:function(b,c,d){d=La(d);d.removeClass=kb(d.removeClass,c);return a.push(b,"removeClass",d)},setClass:function(b,c,d,e){e=La(e);e.addClass=kb(e.addClass,c);e.removeClass=kb(e.removeClass,d);return a.push(b,"setClass",e)},animate:function(b,c,d,e,l){l=La(l);l.from=l.from?T(l.from,c):c;l.to=l.to?T(l.to,d):d;l.tempClasses=kb(l.tempClasses,e||"ng-inline-animate");return a.push(b,
"animate",l)}}}]}],pg=function(){this.$get=["$$rAF",function(a){function b(b){d.push(b);1<d.length||a(function(){for(var a=0;a<d.length;a++)d[a]();d=[]})}var d=[];return function(){var a=!1;b(function(){a=!0});return function(c){a?c():b(c)}}}]},qg=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(a,b,d,c,e){function f(a){this.setHost(a);var b=d();this._doneCallbacks=[];this._tick=function(a){c()?e(a,0,!1):b(a)};this._state=0}f.chain=function(a,b){function c(){if(d===
a.length)b(!0);else a[d](function(a){!1===a?b(!1):(d++,c())})}var d=0;c()};f.all=function(a,b){function c(c){e=e&&c;++d===a.length&&b(e)}var d=0,e=!0;q(a,function(a){a.done(c)})};f.prototype={setHost:function(a){this.host=a||{}},done:function(a){2===this._state?a():this._doneCallbacks.push(a)},progress:D,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){!1===b?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},"catch":function(a){return this.getPromise()["catch"](a)},
"finally":function(a){return this.getPromise()["finally"](a)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end();this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel();this._resolve(!1)},complete:function(a){var b=this;0===b._state&&(b._state=1,b._tick(function(){b._resolve(a)}))},_resolve:function(a){2!==this._state&&(q(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=
0,this._state=2)}};return f}]},rg=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,b,d){return function(b,e){function c(){a(function(){g.addClass&&(b.addClass(g.addClass),g.addClass=null);g.removeClass&&(b.removeClass(g.removeClass),g.removeClass=null);g.to&&(b.css(g.to),g.to=null);h||k.complete();h=!0});return k}var g=e||{};g.$$prepared||(g=Ba(g));g.cleanupStyles&&(g.from=g.to=null);g.from&&(b.css(g.from),g.from=null);var h,k=new d;return{start:c,end:c}}}]},ka=R("$compile"),rc=new function(){};
kd.$inject=["$provide","$$sanitizeUriProvider"];Mb.prototype.isFirstChange=function(){return this.previousValue===rc};var ld=/^((?:x|data)[:\-_])/i,cf=/[:\-_]+(.)/g,rd=R("$controller"),qd=/^(\S+)(\s+as\s+([\w$]+))?$/,sg=function(){this.$get=["$document",function(a){return function(b){b?!b.nodeType&&b instanceof B&&(b=b[0]):b=a[0].body;return b.offsetWidth+1}}]},sd="application/json",vc={"Content-Type":sd+";charset=utf-8"},mf=/^\[|^\{(?!\{)/,nf={"[":/]$/,"{":/}$/},lf=/^\)]\}',?\n/,uc=R("$http"),Oa=
ma.$interpolateMinErr=R("$interpolate");Oa.throwNoconcat=function(a){throw Oa("noconcat",a);};Oa.interr=function(a,b){return Oa("interr",a,b.toString())};var tg=function(){this.$get=function(){function a(a){var b=function(a){b.data=a;b.called=!0};b.id=a;return b}var b=ma.callbacks,d={};return{createCallback:function(c){c="_"+(b.$$counter++).toString(36);var e="angular.callbacks."+c,f=a(c);d[e]=b[c]=f;return e},wasCalled:function(a){return d[a].called},getResponse:function(a){return d[a].data},removeCallback:function(a){delete b[d[a].id];
delete d[a]}}}},ug=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,uf={http:80,https:443,ftp:21},ob=R("$location"),vf=/^\s*[\\/]{2,}/,vg={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:Ob("$$absUrl"),url:function(a){if(x(a))return this.$$url;var b=ug.exec(a);(b[1]||""===a)&&this.path(decodeURIComponent(b[1]));(b[2]||b[1]||""===a)&&this.search(b[3]||"");this.hash(b[5]||"");return this},protocol:Ob("$$protocol"),host:Ob("$$host"),port:Ob("$$port"),path:Ad("$$path",function(a){a=null!==a?a.toString():"";return"/"===a.charAt(0)?
a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(J(a)||ca(a))a=a.toString(),this.$$search=Yc(a);else if(H(a))a=Ba(a,{}),q(a,function(b,c){null==b&&delete a[c]}),this.$$search=a;else throw ob("isrcharg");break;default:x(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}this.$$compose();return this},hash:Ad("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){this.$$replace=!0;return this}};q([zd,zc,yc],function(a){a.prototype=
Object.create(vg);a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==yc||!this.$$html5)throw ob("nostate");this.$$state=x(b)?null:b;this.$$urlUpdatedByLocation=!0;return this}});var Za=R("$parse"),Af={}.constructor.prototype.valueOf,Vb=V();q("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){Vb[a]=!0});var wg={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Cc=function(a){this.options=a};Cc.prototype={constructor:Cc,lex:function(a){this.text=a;this.index=
0;for(this.tokens=[];this.index<this.text.length;)if(a=this.text.charAt(this.index),'"'===a||"'"===a)this.readString(a);else if(this.isNumber(a)||"."===a&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(a,"(){}[].,;:?"))this.tokens.push({index:this.index,text:a}),this.index++;else if(this.isWhitespace(a))this.index++;else{var b=a+this.peek(),d=b+this.peek(2),c=Vb[b],e=Vb[d];Vb[a]||c||e?(a=e?d:c?b:a,this.tokens.push({index:this.index,
text:a,operator:!0}),this.index+=a.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){a=a||1;return this.index+a<this.text.length?this.text.charAt(this.index+a):!1},isNumber:function(a){return"0"<=a&&"9">=a&&"string"===typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||"\u00a0"===a},isIdentifierStart:function(a){return this.options.isIdentifierStart?this.options.isIdentifierStart(a,
this.codePointAt(a)):this.isValidIdentifierStart(a)},isValidIdentifierStart:function(a){return"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"_"===a||"$"===a},isIdentifierContinue:function(a){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(a,this.codePointAt(a)):this.isValidIdentifierContinue(a)},isValidIdentifierContinue:function(a,b){return this.isValidIdentifierStart(a,b)||this.isNumber(a)},codePointAt:function(a){return 1===a.length?a.charCodeAt(0):(a.charCodeAt(0)<<10)+a.charCodeAt(1)-
56613888},peekMultichar:function(){var a=this.text.charAt(this.index),b=this.peek();if(!b)return a;var d=a.charCodeAt(0),c=b.charCodeAt(0);return 55296<=d&&56319>=d&&56320<=c&&57343>=c?a+b:a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,d){d=d||this.index;b=u(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,d)+"]":" "+d;throw Za("lexerr",a,b,this.text);},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var d=S(this.text.charAt(this.index));
if("."===d||this.isNumber(d))a+=d;else{var c=this.peek();if("e"===d&&this.isExpOperator(c))a+=d;else if(this.isExpOperator(d)&&c&&this.isNumber(c)&&"e"===a.charAt(a.length-1))a+=d;else if(!this.isExpOperator(d)||c&&this.isNumber(c)||"e"!==a.charAt(a.length-1))break;else this.throwError("Invalid exponent")}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){var a=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var b=
this.peekMultichar();if(!this.isIdentifierContinue(b))break;this.index+=b.length}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var d="",c=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index);c+=f;if(e)"u"===f?(e=this.text.substring(this.index+1,this.index+5),e.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+e+"]"),this.index+=4,d+=String.fromCharCode(parseInt(e,16))):d+=
wg[f]||f,e=!1;else if("\\"===f)e=!0;else{if(f===a){this.index++;this.tokens.push({index:b,text:c,constant:!0,value:d});return}d+=f}this.index++}this.throwError("Unterminated quote",b)}};var r=function(a,b){this.lexer=a;this.options=b};r.Program="Program";r.ExpressionStatement="ExpressionStatement";r.AssignmentExpression="AssignmentExpression";r.ConditionalExpression="ConditionalExpression";r.LogicalExpression="LogicalExpression";r.BinaryExpression="BinaryExpression";r.UnaryExpression="UnaryExpression";
r.CallExpression="CallExpression";r.MemberExpression="MemberExpression";r.Identifier="Identifier";r.Literal="Literal";r.ArrayExpression="ArrayExpression";r.Property="Property";r.ObjectExpression="ObjectExpression";r.ThisExpression="ThisExpression";r.LocalsExpression="LocalsExpression";r.NGValueParameter="NGValueParameter";r.prototype={ast:function(a){this.text=a;this.tokens=this.lexer.lex(a);a=this.program();0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]);return a},
program:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:r.Program,body:a}},expressionStatement:function(){return{type:r.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();if(this.expect("=")){if(!Dd(a))throw Za("lval");
a={type:r.AssignmentExpression,left:a,right:this.assignment(),operator:"="}}return a},ternary:function(){var a=this.logicalOR();if(this.expect("?")){var b=this.expression();if(this.consume(":")){var d=this.expression();return{type:r.ConditionalExpression,test:a,alternate:b,consequent:d}}}return a},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:r.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a=
{type:r.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var a=this.relational(),b;b=this.expect("==","!=","===","!==");)a={type:r.BinaryExpression,operator:b.text,left:a,right:this.relational()};return a},relational:function(){for(var a=this.additive(),b;b=this.expect("<",">","<=",">=");)a={type:r.BinaryExpression,operator:b.text,left:a,right:this.additive()};return a},additive:function(){for(var a=this.multiplicative(),b;b=this.expect("+","-");)a={type:r.BinaryExpression,
operator:b.text,left:a,right:this.multiplicative()};return a},multiplicative:function(){for(var a=this.unary(),b;b=this.expect("*","/","%");)a={type:r.BinaryExpression,operator:b.text,left:a,right:this.unary()};return a},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:r.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){if(this.expect("(")){var a=this.filterChain();this.consume(")")}else this.expect("[")?a=this.arrayDeclaration():this.expect("{")?
a=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?a=Ba(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?a={type:r.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b;b=this.expect("(","[",".");)"("===b.text?(a={type:r.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):
"["===b.text?(a={type:r.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:r.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){a=[a];for(var b={type:r.CallExpression,callee:this.identifier(),arguments:a,filter:!0};this.expect(":");)a.push(this.expression());return b},parseArguments:function(){var a=[];if(")"!==this.peekToken().text){do a.push(this.filterChain());while(this.expect(","))
}return a},identifier:function(){var a=this.consume();a.identifier||this.throwError("is not a valid identifier",a);return{type:r.Identifier,name:a.text}},constant:function(){return{type:r.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text){do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","))}this.consume("]");return{type:r.ArrayExpression,elements:a}},object:function(){var a=[];if("}"!==this.peekToken().text){do{if(this.peek("}"))break;
var b={type:r.Property,kind:"init"};this.peek().constant?(b.key=this.constant(),b.computed=!1,this.consume(":"),b.value=this.expression()):this.peek().identifier?(b.key=this.identifier(),b.computed=!1,this.peek(":")?(this.consume(":"),b.value=this.expression()):b.value=b.key):this.peek("[")?(this.consume("["),b.key=this.expression(),this.consume("]"),b.computed=!0,this.consume(":"),b.value=this.expression()):this.throwError("invalid key",this.peek());a.push(b)}while(this.expect(","))}this.consume("}");
return{type:r.ObjectExpression,properties:a}},throwError:function(a,b){throw Za("syntax",b.text,a,b.index+1,this.text,this.text.substring(b.index));},consume:function(a){if(0===this.tokens.length)throw Za("ueoe",this.text);var b=this.expect(a);b||this.throwError("is unexpected, expecting ["+a+"]",this.peek());return b},peekToken:function(){if(0===this.tokens.length)throw Za("ueoe",this.text);return this.tokens[0]},peek:function(a,b,d,c){return this.peekAhead(0,a,b,d,c)},peekAhead:function(a,b,d,c,
e){if(this.tokens.length>a){a=this.tokens[a];var f=a.text;if(f===b||f===d||f===c||f===e||!(b||d||c||e))return a}return!1},expect:function(a,b,d,c){return(a=this.peek(a,b,d,c))?(this.tokens.shift(),a):!1},selfReferential:{"this":{type:r.ThisExpression},$locals:{type:r.LocalsExpression}}};Fd.prototype={compile:function(a){var b=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]};Z(a,b.$filter);var d="",c;this.stage="assign";if(c=Ed(a))this.state.computing=
"assign",d=this.nextId(),this.recurse(c,d),this.return_(d),d="fn.assign="+this.generateFunction("assign","s,v,l");c=Cd(a.body);b.stage="inputs";q(c,function(a,c){var d="fn"+c;b.state[d]={vars:[],body:[],own:{}};b.state.computing=d;var e=b.nextId();b.recurse(a,e);b.return_(e);b.state.inputs.push(d);a.watchId=c});this.state.computing="fn";this.stage="main";this.recurse(a);a='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+d+this.watchFns()+"return fn;";
a=(new Function("$filter","getStringValue","ifDefined","plus",a))(this.$filter,yf,zf,Bd);this.state=this.stage=void 0;return a},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,d=this;q(b,function(b){a.push("var "+b+"="+d.generateFunction(b,"s"))});b.length&&a.push("fn.inputs=["+b.join(",")+"];");return a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],b=this;q(this.state.filters,function(d,
c){a.push(d+"=$filter("+b.escape(c)+")")});return a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,d,c,e,f){var g=this;c=c||D;if(!f&&u(a.watchId))b=b||this.nextId(),this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,d,c,e,!0));else switch(a.type){case r.Program:q(a.body,function(b,c){g.recurse(b.expression,
void 0,void 0,function(a){l=a});c!==a.body.length-1?g.current().body.push(l,";"):g.return_(l)});break;case r.Literal:var h=this.escape(a.value);this.assign(b,h);c(b||h);break;case r.UnaryExpression:this.recurse(a.argument,void 0,void 0,function(a){l=a});h=a.operator+"("+this.ifDefined(l,0)+")";this.assign(b,h);c(h);break;case r.BinaryExpression:this.recurse(a.left,void 0,void 0,function(a){k=a});this.recurse(a.right,void 0,void 0,function(a){l=a});h="+"===a.operator?this.plus(k,l):"-"===a.operator?
this.ifDefined(k,0)+a.operator+this.ifDefined(l,0):"("+k+")"+a.operator+"("+l+")";this.assign(b,h);c(h);break;case r.LogicalExpression:b=b||this.nextId();g.recurse(a.left,b);g.if_("&&"===a.operator?b:g.not(b),g.lazyRecurse(a.right,b));c(b);break;case r.ConditionalExpression:b=b||this.nextId();g.recurse(a.test,b);g.if_(b,g.lazyRecurse(a.alternate,b),g.lazyRecurse(a.consequent,b));c(b);break;case r.Identifier:b=b||this.nextId();d&&(d.context="inputs"===g.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",
a.name)+"?l:s"),d.computed=!1,d.name=a.name);g.if_("inputs"===g.stage||g.not(g.getHasOwnProperty("l",a.name)),function(){g.if_("inputs"===g.stage||"s",function(){e&&1!==e&&g.if_(g.isNull(g.nonComputedMember("s",a.name)),g.lazyAssign(g.nonComputedMember("s",a.name),"{}"));g.assign(b,g.nonComputedMember("s",a.name))})},b&&g.lazyAssign(b,g.nonComputedMember("l",a.name)));c(b);break;case r.MemberExpression:var k=d&&(d.context=this.nextId())||this.nextId();b=b||this.nextId();g.recurse(a.object,k,void 0,
function(){g.if_(g.notNull(k),function(){a.computed?(l=g.nextId(),g.recurse(a.property,l),g.getStringValue(l),e&&1!==e&&g.if_(g.not(g.computedMember(k,l)),g.lazyAssign(g.computedMember(k,l),"{}")),h=g.computedMember(k,l),g.assign(b,h),d&&(d.computed=!0,d.name=l)):(e&&1!==e&&g.if_(g.isNull(g.nonComputedMember(k,a.property.name)),g.lazyAssign(g.nonComputedMember(k,a.property.name),"{}")),h=g.nonComputedMember(k,a.property.name),g.assign(b,h),d&&(d.computed=!1,d.name=a.property.name))},function(){g.assign(b,
"undefined")});c(b)},!!e);break;case r.CallExpression:b=b||this.nextId();if(a.filter){var l=g.filter(a.callee.name);var p=[];q(a.arguments,function(a){var b=g.nextId();g.recurse(a,b);p.push(b)});h=l+"("+p.join(",")+")";g.assign(b,h);c(b)}else l=g.nextId(),k={},p=[],g.recurse(a.callee,l,k,function(){g.if_(g.notNull(l),function(){q(a.arguments,function(b){g.recurse(b,a.constant?void 0:g.nextId(),void 0,function(a){p.push(a)})});h=k.name?g.member(k.context,k.name,k.computed)+"("+p.join(",")+")":l+"("+
p.join(",")+")";g.assign(b,h)},function(){g.assign(b,"undefined")});c(b)});break;case r.AssignmentExpression:l=this.nextId();k={};this.recurse(a.left,void 0,k,function(){g.if_(g.notNull(k.context),function(){g.recurse(a.right,l);h=g.member(k.context,k.name,k.computed)+a.operator+l;g.assign(b,h);c(b||h)})},1);break;case r.ArrayExpression:p=[];q(a.elements,function(b){g.recurse(b,a.constant?void 0:g.nextId(),void 0,function(a){p.push(a)})});h="["+p.join(",")+"]";this.assign(b,h);c(b||h);break;case r.ObjectExpression:p=
[];var m=!1;q(a.properties,function(a){a.computed&&(m=!0)});m?(b=b||this.nextId(),this.assign(b,"{}"),q(a.properties,function(a){a.computed?(k=g.nextId(),g.recurse(a.key,k)):k=a.key.type===r.Identifier?a.key.name:""+a.key.value;l=g.nextId();g.recurse(a.value,l);g.assign(g.member(b,k,a.computed),l)})):(q(a.properties,function(b){g.recurse(b.value,a.constant?void 0:g.nextId(),void 0,function(a){p.push(g.escape(b.key.type===r.Identifier?b.key.name:""+b.key.value)+":"+a)})}),h="{"+p.join(",")+"}",this.assign(b,
h));c(b||h);break;case r.ThisExpression:this.assign(b,"s");c(b||"s");break;case r.LocalsExpression:this.assign(b,"l");c(b||"l");break;case r.NGValueParameter:this.assign(b,"v"),c(b||"v")}},getHasOwnProperty:function(a,b){var d=a+"."+b,c=this.current().own;c.hasOwnProperty(d)||(c[d]=this.nextId(!1,a+"&&("+this.escape(b)+" in "+a+")"));return c[d]},assign:function(a,b){if(a)return this.current().body.push(a,"=",b,";"),a},filter:function(a){this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=
this.nextId(!0));return this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,d){if(!0===a)b();else{var c=this.current().body;c.push("if(",a,"){");b();c.push("}");d&&(c.push("else{"),d(),c.push("}"))}},not:function(a){return"!("+a+")"},isNull:function(a){return a+"==null"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,
b){var d=/[^$_a-zA-Z0-9]/g;return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(b)?a+"."+b:a+'["'+b.replace(d,this.stringEscapeFn)+'"]'},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,d){return d?this.computedMember(a,b):this.nonComputedMember(a,b)},getStringValue:function(a){this.assign(a,"getStringValue("+a+")")},lazyRecurse:function(a,b,d,c,e,f){var g=this;return function(){g.recurse(a,b,d,c,e,f)}},lazyAssign:function(a,b){var d=this;return function(){d.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,
stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(J(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(ca(a))return a.toString();if(!0===a)return"true";if(!1===a)return"false";if(null===a)return"null";if("undefined"===typeof a)return"undefined";throw Za("esc");},nextId:function(a,b){var d="v"+this.state.nextId++;a||this.current().vars.push(d+(b?"="+b:""));return d},current:function(){return this.state[this.state.computing]}};
Gd.prototype={compile:function(a){var b=this;Z(a,b.$filter);var d;if(d=Ed(a))var c=this.recurse(d);d=Cd(a.body);if(d){var e=[];q(d,function(a,c){var d=b.recurse(a);a.input=d;e.push(d);a.watchId=c})}var f=[];q(a.body,function(a){f.push(b.recurse(a.expression))});a=0===a.body.length?D:1===a.body.length?f[0]:function(a,b){var c;q(f,function(d){c=d(a,b)});return c};c&&(a.assign=function(a,b,d){return c(a,d,b)});e&&(a.inputs=e);return a},recurse:function(a,b,d){var c=this;if(a.input)return this.inputs(a.input,
a.watchId);switch(a.type){case r.Literal:return this.value(a.value,b);case r.UnaryExpression:var e=this.recurse(a.argument);return this["unary"+a.operator](e,b);case r.BinaryExpression:var f=this.recurse(a.left);e=this.recurse(a.right);return this["binary"+a.operator](f,e,b);case r.LogicalExpression:return f=this.recurse(a.left),e=this.recurse(a.right),this["binary"+a.operator](f,e,b);case r.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),
b);case r.Identifier:return c.identifier(a.name,b,d);case r.MemberExpression:return f=this.recurse(a.object,!1,!!d),a.computed||(e=a.property.name),a.computed&&(e=this.recurse(a.property)),a.computed?this.computedMember(f,e,b,d):this.nonComputedMember(f,e,b,d);case r.CallExpression:var g=[];q(a.arguments,function(a){g.push(c.recurse(a))});a.filter&&(e=this.$filter(a.callee.name));a.filter||(e=this.recurse(a.callee,!0));return a.filter?function(a,c,d,f){for(var h=[],k=0;k<g.length;++k)h.push(g[k](a,
c,d,f));a=e.apply(void 0,h,f);return b?{context:void 0,name:void 0,value:a}:a}:function(a,c,d,f){var h=e(a,c,d,f);if(null!=h.value){var k=[];for(var l=0;l<g.length;++l)k.push(g[l](a,c,d,f));k=h.value.apply(h.context,k)}return b?{value:k}:k};case r.AssignmentExpression:return f=this.recurse(a.left,!0,1),e=this.recurse(a.right),function(a,c,d,g){var h=f(a,c,d,g);a=e(a,c,d,g);h.context[h.name]=a;return b?{value:a}:a};case r.ArrayExpression:return g=[],q(a.elements,function(a){g.push(c.recurse(a))}),
function(a,c,d,e){for(var f=[],h=0;h<g.length;++h)f.push(g[h](a,c,d,e));return b?{value:f}:f};case r.ObjectExpression:return g=[],q(a.properties,function(a){a.computed?g.push({key:c.recurse(a.key),computed:!0,value:c.recurse(a.value)}):g.push({key:a.key.type===r.Identifier?a.key.name:""+a.key.value,computed:!1,value:c.recurse(a.value)})}),function(a,c,d,e){for(var f={},h=0;h<g.length;++h)g[h].computed?f[g[h].key(a,c,d,e)]=g[h].value(a,c,d,e):f[g[h].key]=g[h].value(a,c,d,e);return b?{value:f}:f};case r.ThisExpression:return function(a){return b?
{value:a}:a};case r.LocalsExpression:return function(a,c){return b?{value:c}:c};case r.NGValueParameter:return function(a,c,d){return b?{value:d}:d}}},"unary+":function(a,b){return function(d,c,e,f){d=a(d,c,e,f);d=u(d)?+d:0;return b?{value:d}:d}},"unary-":function(a,b){return function(d,c,e,f){d=a(d,c,e,f);d=u(d)?-d:-0;return b?{value:d}:d}},"unary!":function(a,b){return function(d,c,e,f){d=!a(d,c,e,f);return b?{value:d}:d}},"binary+":function(a,b,d){return function(c,e,f,g){var h=a(c,e,f,g);c=b(c,
e,f,g);h=Bd(h,c);return d?{value:h}:h}},"binary-":function(a,b,d){return function(c,e,f,g){var h=a(c,e,f,g);c=b(c,e,f,g);h=(u(h)?h:0)-(u(c)?c:0);return d?{value:h}:h}},"binary*":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)*b(c,e,f,g);return d?{value:c}:c}},"binary/":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)/b(c,e,f,g);return d?{value:c}:c}},"binary%":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)%b(c,e,f,g);return d?{value:c}:c}},"binary===":function(a,b,d){return function(c,
e,f,g){c=a(c,e,f,g)===b(c,e,f,g);return d?{value:c}:c}},"binary!==":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)!==b(c,e,f,g);return d?{value:c}:c}},"binary==":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)==b(c,e,f,g);return d?{value:c}:c}},"binary!=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)!=b(c,e,f,g);return d?{value:c}:c}},"binary<":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)<b(c,e,f,g);return d?{value:c}:c}},"binary>":function(a,b,d){return function(c,e,
f,g){c=a(c,e,f,g)>b(c,e,f,g);return d?{value:c}:c}},"binary<=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)<=b(c,e,f,g);return d?{value:c}:c}},"binary>=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)>=b(c,e,f,g);return d?{value:c}:c}},"binary&&":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)&&b(c,e,f,g);return d?{value:c}:c}},"binary||":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)||b(c,e,f,g);return d?{value:c}:c}},"ternary?:":function(a,b,d,c){return function(e,f,
g,h){e=a(e,f,g,h)?b(e,f,g,h):d(e,f,g,h);return c?{value:e}:e}},value:function(a,b){return function(){return b?{context:void 0,name:void 0,value:a}:a}},identifier:function(a,b,d){return function(c,e,f,g){c=e&&a in e?e:c;d&&1!==d&&c&&null==c[a]&&(c[a]={});e=c?c[a]:void 0;return b?{context:c,name:a,value:e}:e}},computedMember:function(a,b,d,c){return function(e,f,g,h){var k=a(e,f,g,h);if(null!=k){var l=b(e,f,g,h);l+="";c&&1!==c&&k&&!k[l]&&(k[l]={});var p=k[l]}return d?{context:k,name:l,value:p}:p}},
nonComputedMember:function(a,b,d,c){return function(e,f,g,h){e=a(e,f,g,h);c&&1!==c&&e&&null==e[b]&&(e[b]={});f=null!=e?e[b]:void 0;return d?{context:e,name:b,value:f}:f}},inputs:function(a,b){return function(d,c,e,f){return f?f[b]:a(d,c,e)}}};Ac.prototype={constructor:Ac,parse:function(a){a=this.ast.ast(a);var b=this.astCompiler.compile(a);b.literal=0===a.body.length||1===a.body.length&&(a.body[0].expression.type===r.Literal||a.body[0].expression.type===r.ArrayExpression||a.body[0].expression.type===
r.ObjectExpression);b.constant=a.constant;return b}};var aa=G.document.createElement("a"),Id=Na(G.location.href);Jd.$inject=["$document"];Kd.$inject=["$provide"];var Rd=22,Qd=".",Ec="0";Ld.$inject=["$locale"];Nd.$inject=["$locale"];var Wf={yyyy:fa("FullYear",4,0,!1,!0),yy:fa("FullYear",2,0,!0,!0),y:fa("FullYear",1,0,!1,!0),MMMM:qb("Month"),MMM:qb("Month",!0),MM:fa("Month",2,1),M:fa("Month",1,1),LLLL:qb("Month",!1,!0),dd:fa("Date",2),d:fa("Date",1),HH:fa("Hours",2),H:fa("Hours",1),hh:fa("Hours",2,
-12),h:fa("Hours",1,-12),mm:fa("Minutes",2),m:fa("Minutes",1),ss:fa("Seconds",2),s:fa("Seconds",1),sss:fa("Milliseconds",3),EEEE:qb("Day"),EEE:qb("Day",!0),a:function(a,b){return 12>a.getHours()?b.AMPMS[0]:b.AMPMS[1]},Z:function(a,b,d){a=-1*d;return(0<=a?"+":"")+(Pb(Math[0<a?"floor":"ceil"](a/60),2)+Pb(Math.abs(a%60),2))},ww:Td(2),w:Td(1),G:Fc,GG:Fc,GGG:Fc,GGGG:function(a,b){return 0>=a.getFullYear()?b.ERANAMES[0]:b.ERANAMES[1]}},Vf=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,
Uf=/^-?\d+$/;Md.$inject=["$locale"];var Pf=pa(S),Qf=pa(Nb);Od.$inject=["$parse"];var xg=pa({restrict:"E",compile:function(a,b){if(!b.href&&!b.xlinkHref)return function(a,b){if("a"===b[0].nodeName.toLowerCase()){var c="[object SVGAnimatedString]"===qa.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(c)||a.preventDefault()})}}}}),Wb={};q(Ib,function(a,b){function d(a,d,e){a.$watch(e[c],function(a){e.$set(b,!!a)})}if("multiple"!==a){var c=Fa("ng-"+b),e=d;"checked"===a&&(e=function(a,
b,e){e.ngModel!==e[c]&&d(a,b,e)});Wb[c]=function(){return{restrict:"A",priority:100,link:e}}}});q(pd,function(a,b){Wb[b]=function(){return{priority:100,link:function(a,c,e){if("ngPattern"===b&&"/"===e.ngPattern.charAt(0)&&(c=e.ngPattern.match(dg))){e.$set("ngPattern",new RegExp(c[1],c[2]));return}a.$watch(e[b],function(a){e.$set(b,a)})}}}});q(["src","srcset","href"],function(a){var b=Fa("ng-"+a);Wb[b]=function(){return{priority:99,link:function(d,c,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===
qa.call(c.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null);e.$observe(b,function(b){b?(e.$set(g,b),Ka&&f&&c.prop(f,e[g])):"href"===a&&e.$set(g,null)})}}}});var Rb={$addControl:D,$$renameControl:function(a,b){a.$name=b},$removeControl:D,$setValidity:D,$setDirty:D,$setPristine:D,$setSubmitted:D};Qb.$inject=["$element","$attrs","$scope","$animate","$interpolate"];Qb.prototype={$rollbackViewValue:function(){q(this.$$controls,function(a){a.$rollbackViewValue()})},$commitViewValue:function(){q(this.$$controls,
function(a){a.$commitViewValue()})},$addControl:function(a){Ia(a.$name,"input");this.$$controls.push(a);a.$name&&(this[a.$name]=a);a.$$parentForm=this},$$renameControl:function(a,b){var d=a.$name;this[d]===a&&delete this[d];this[b]=a;a.$name=b},$removeControl:function(a){a.$name&&this[a.$name]===a&&delete this[a.$name];q(this.$pending,function(b,d){this.$setValidity(d,null,a)},this);q(this.$error,function(b,d){this.$setValidity(d,null,a)},this);q(this.$$success,function(b,d){this.$setValidity(d,null,
a)},this);cb(this.$$controls,a);a.$$parentForm=Rb},$setDirty:function(){this.$$animate.removeClass(this.$$element,$a);this.$$animate.addClass(this.$$element,Xb);this.$dirty=!0;this.$pristine=!1;this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,$a,Xb+" ng-submitted");this.$dirty=!1;this.$pristine=!0;this.$submitted=!1;q(this.$$controls,function(a){a.$setPristine()})},$setUntouched:function(){q(this.$$controls,function(a){a.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,
"ng-submitted");this.$submitted=!0;this.$$parentForm.$setSubmitted()}};Wd({clazz:Qb,set:function(a,b,d){var c=a[b];c?-1===c.indexOf(d)&&c.push(d):a[b]=[d]},unset:function(a,b,d){var c=a[b];c&&(cb(c,d),0===c.length&&delete a[b])}});var ee=function(a){return["$timeout","$parse",function(b,d){function c(a){return""===a?d('this[""]').assign:d(a).assign||D}return{name:"form",restrict:a?"EAC":"E",require:["form","^^?form"],controller:Qb,compile:function(d,f){d.addClass($a).addClass(rb);var e=f.name?"name":
a&&f.ngForm?"ngForm":!1;return{pre:function(a,d,f,g){var h=g[0];if(!("action"in f)){var k=function(b){a.$apply(function(){h.$commitViewValue();h.$setSubmitted()});b.preventDefault()};d[0].addEventListener("submit",k);d.on("$destroy",function(){b(function(){d[0].removeEventListener("submit",k)},0,!1)})}(g[1]||h.$$parentForm).$addControl(h);var l=e?c(h.$name):D;e&&(l(a,h),f.$observe(e,function(b){h.$name!==b&&(l(a,void 0),h.$$parentForm.$$renameControl(h,b),l=c(h.$name),l(a,h))}));d.on("$destroy",function(){h.$$parentForm.$removeControl(h);
l(a,void 0);T(h,Rb)})}}}}}]},yg=ee(),zg=ee(!0),Xf=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Ag=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Bg=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Yf=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,fe=/^(\d{4,})-(\d{2})-(\d{2})$/,
ge=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Oc=/^(\d{4,})-W(\d\d)$/,he=/^(\d{4,})-(\d\d)$/,ie=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Yd=V();q(["date","datetime-local","month","time","week"],function(a){Yd[a]=!0});var je={text:function(a,b,d,c,e,f){Ta(a,b,d,c,e,f);Hc(c)},date:sb("date",fe,Sb(fe,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":sb("datetimelocal",ge,Sb(ge,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:sb("time",ie,Sb(ie,["HH","mm",
"ss","sss"]),"HH:mm:ss.sss"),week:sb("week",Oc,function(a,b){if(da(a))return a;if(J(a)){Oc.lastIndex=0;var d=Oc.exec(a);if(d){a=+d[1];var c=+d[2],e=d=0,f=0,g=0,h=Sd(a);c=7*(c-1);b&&(d=b.getHours(),e=b.getMinutes(),f=b.getSeconds(),g=b.getMilliseconds());return new Date(a,0,h.getDate()+c,d,e,f,g)}}return NaN},"yyyy-Www"),month:sb("month",he,Sb(he,["yyyy","MM"]),"yyyy-MM"),number:function(a,b,d,c,e,f){Ic(a,b,d,c);Zd(c);Ta(a,b,d,c,e,f);var g,h;if(u(d.min)||d.ngMin)c.$validators.min=function(a){return c.$isEmpty(a)||
x(g)||a>=g},d.$observe("min",function(a){g=Wa(a);c.$validate()});if(u(d.max)||d.ngMax)c.$validators.max=function(a){return c.$isEmpty(a)||x(h)||a<=h},d.$observe("max",function(a){h=Wa(a);c.$validate()});if(u(d.step)||d.ngStep){var k;c.$validators.step=function(a,b){return c.$isEmpty(b)||x(k)||$d(b,g||0,k)};d.$observe("step",function(a){k=Wa(a);c.$validate()})}},url:function(a,b,d,c,e,f){Ta(a,b,d,c,e,f);Hc(c);c.$$parserName="url";c.$validators.url=function(a,b){a=a||b;return c.$isEmpty(a)||Ag.test(a)}},
email:function(a,b,d,c,e,f){Ta(a,b,d,c,e,f);Hc(c);c.$$parserName="email";c.$validators.email=function(a,b){a=a||b;return c.$isEmpty(a)||Bg.test(a)}},radio:function(a,b,d,c){var e=!d.ngTrim||"false"!==U(d.ngTrim);x(d.name)&&b.attr("name",++ub);b.on("click",function(a){if(b[0].checked){var f=d.value;e&&(f=U(f));c.$setViewValue(f,a&&a.type)}});c.$render=function(){var a=d.value;e&&(a=U(a));b[0].checked=a===c.$viewValue};d.$observe("value",c.$render)},range:function(a,b,d,c,e,f){function g(a,c){b.attr(a,
d[a]);d.$observe(a,c)}function h(a){m=Wa(a);ha(c.$modelValue)||(p?(a=b.val(),m>a&&(a=m,b.val(a)),c.$setViewValue(a)):c.$validate())}function k(a){t=Wa(a);ha(c.$modelValue)||(p?(a=b.val(),t<a&&(b.val(t),a=t<m?m:t),c.$setViewValue(a)):c.$validate())}function l(a){n=Wa(a);ha(c.$modelValue)||(p&&c.$viewValue!==b.val()?c.$setViewValue(b.val()):c.$validate())}Ic(a,b,d,c);Zd(c);Ta(a,b,d,c,e,f);var p=c.$$hasNativeValidators&&"range"===b[0].type,m=p?0:void 0,t=p?100:void 0,n=p?1:void 0,q=b[0].validity;a=u(d.min);
e=u(d.max);f=u(d.step);var r=c.$render;c.$render=p&&u(q.rangeUnderflow)&&u(q.rangeOverflow)?function(){r();c.$setViewValue(b.val())}:r;a&&(c.$validators.min=p?function(){return!0}:function(a,b){return c.$isEmpty(b)||x(m)||b>=m},g("min",h));e&&(c.$validators.max=p?function(){return!0}:function(a,b){return c.$isEmpty(b)||x(t)||b<=t},g("max",k));f&&(c.$validators.step=p?function(){return!q.stepMismatch}:function(a,b){return c.$isEmpty(b)||x(n)||$d(b,m||0,n)},g("step",l))},checkbox:function(a,b,d,c,e,
f,g,h){var k=ae(h,a,"ngTrueValue",d.ngTrueValue,!0),l=ae(h,a,"ngFalseValue",d.ngFalseValue,!1);b.on("click",function(a){c.$setViewValue(b[0].checked,a&&a.type)});c.$render=function(){b[0].checked=c.$viewValue};c.$isEmpty=function(a){return!1===a};c.$formatters.push(function(a){return va(a,k)});c.$parsers.push(function(a){return a?k:l})},hidden:D,button:D,submit:D,reset:D,file:D},ke=["$browser","$sniffer","$filter","$parse",function(a,b,d,c){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,
f,g,h){h[0]&&(je[S(g.type)]||je.text)(e,f,g,h[0],b,a,d,c)}}}}],Cg=/^(true|false|\d+)$/,Dg=function(){function a(a,d,c){var b=u(c)?c:9===Ka?"":null;a.prop("value",b);d.$set("value",c)}return{restrict:"A",priority:100,compile:function(b,d){return Cg.test(d.ngValue)?function(b,d,f){b=b.$eval(f.ngValue);a(d,f,b)}:function(b,d,f){b.$watch(f.ngValue,function(b){a(d,f,b)})}}}},Eg=["$compile",function(a){return{restrict:"AC",compile:function(b){a.$$addBindingClass(b);return function(b,c,e){a.$$addBindingInfo(c,
e.ngBind);c=c[0];b.$watch(e.ngBind,function(a){c.textContent=fc(a)})}}}}],Fg=["$interpolate","$compile",function(a,b){return{compile:function(d){b.$$addBindingClass(d);return function(c,d,f){c=a(d.attr(f.$attr.ngBindTemplate));b.$$addBindingInfo(d,c.expressions);d=d[0];f.$observe("ngBindTemplate",function(a){d.textContent=x(a)?"":a})}}}}],Gg=["$sce","$parse","$compile",function(a,b,d){return{restrict:"A",compile:function(c,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(b){return a.valueOf(b)});
d.$$addBindingClass(c);return function(b,c,e){d.$$addBindingInfo(c,e.ngBindHtml);b.$watch(g,function(){var d=f(b);c.html(a.getTrustedHtml(d)||"")})}}}}],Hg=pa({restrict:"A",require:"ngModel",link:function(a,b,d,c){c.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),Ig=Kc("",!0),Jg=Kc("Odd",0),Kg=Kc("Even",1),Lg=Sa({compile:function(a,b){b.$set("ngCloak",void 0);a.removeClass("ng-cloak")}}),Mg=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],le={},Ng={blur:!0,focus:!0};
q("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=Fa("ng-"+a);le[b]=["$parse","$rootScope",function(d,c){return{restrict:"A",compile:function(e,f){var g=d(f[b]);return function(b,d){d.on(a,function(d){var e=function(){g(b,{$event:d})};Ng[a]&&c.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var Og=["$animate","$compile",function(a,b){return{multiElement:!0,transclude:"element",priority:600,
terminal:!0,restrict:"A",$$tlb:!0,link:function(d,c,e,f,g){var h,k,l;d.$watch(e.ngIf,function(d){d?k||g(function(d,f){k=f;d[d.length++]=b.$$createComment("end ngIf",e.ngIf);h={clone:d};a.enter(d,c.parent(),c)}):(l&&(l.remove(),l=null),k&&(k.$destroy(),k=null),h&&(l=yb(h.clone),a.leave(l).done(function(a){!1!==a&&(l=null)}),h=null))})}}}],Pg=["$templateRequest","$anchorScroll","$animate",function(a,b,d){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ma.noop,compile:function(c,
e){var f=e.ngInclude||e.src,g=e.onload||"",h=e.autoscroll;return function(c,e,p,m,t){var k=0,l,q,r,x=function(){q&&(q.remove(),q=null);l&&(l.$destroy(),l=null);r&&(d.leave(r).done(function(a){!1!==a&&(q=null)}),q=r,r=null)};c.$watch(f,function(f){var p=function(a){!1===a||!u(h)||h&&!c.$eval(h)||b()},n=++k;f?(a(f,!0).then(function(a){if(!c.$$destroyed&&n===k){var b=c.$new();m.template=a;a=t(b,function(a){x();d.enter(a,null,e).done(p)});l=b;r=a;l.$emit("$includeContentLoaded",f);c.$eval(g)}},function(){c.$$destroyed||
n!==k||(x(),c.$emit("$includeContentError",f))}),c.$emit("$includeContentRequested",f)):(x(),m.template=null)})}}}}],Qg=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(b,d,c,e){qa.call(d[0]).match(/SVG/)?(d.empty(),a(bd(e.template,G.document).childNodes)(b,function(a){d.append(a)},{futureParentElement:d})):(d.html(e.template),a(d.contents())(b))}}}],Rg=Sa({priority:450,compile:function(){return{pre:function(a,b,d){a.$eval(d.ngInit)}}}}),Sg=function(){return{restrict:"A",
priority:100,require:"ngModel",link:function(a,b,d,c){var e=d.ngList||", ",f="false"!==d.ngTrim,g=f?U(e):e;c.$parsers.push(function(a){if(!x(a)){var b=[];a&&q(a.split(g),function(a){a&&b.push(f?U(a):a)});return b}});c.$formatters.push(function(a){if(K(a))return a.join(e)});c.$isEmpty=function(a){return!a||!a.length}}}},rb="ng-valid",Vd="ng-invalid",$a="ng-pristine",Xb="ng-dirty",tb=R("ngModel");Tb.$inject="$scope $exceptionHandler $attrs $element $parse $animate $timeout $q $interpolate".split(" ");
Tb.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var a=this.$$parse(this.$$attr.ngModel+"()"),b=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(b){var c=this.$$parsedNgModel(b);z(c)&&(c=a(b));return c};this.$$ngModelSet=function(a,c){z(this.$$parsedNgModel(a))?b(a,{$$$p:c}):this.$$parsedNgModelAssign(a,c)}}else if(!this.$$parsedNgModel.assign)throw tb("nonassign",this.$$attr.ngModel,Da(this.$$element));},$render:D,$isEmpty:function(a){return x(a)||
""===a||null===a||a!==a},$$updateEmptyClasses:function(a){this.$isEmpty(a)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1;this.$pristine=!0;this.$$animate.removeClass(this.$$element,Xb);this.$$animate.addClass(this.$$element,$a)},$setDirty:function(){this.$dirty=!0;this.$pristine=!1;this.$$animate.removeClass(this.$$element,
$a);this.$$animate.addClass(this.$$element,Xb);this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1;this.$untouched=!0;this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0;this.$untouched=!1;this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce);this.$viewValue=this.$$lastCommittedViewValue;this.$render()},$validate:function(){if(!ha(this.$modelValue)){var a=
this.$$lastCommittedViewValue,b=this.$$rawModelValue,d=this.$valid,c=this.$modelValue,e=this.$options.getOption("allowInvalid"),f=this;this.$$runValidators(b,a,function(a){e||d===a||(f.$modelValue=a?b:void 0,f.$modelValue!==c&&f.$$writeModelToScope())})}},$$runValidators:function(a,b,d){function c(a,b){f===g.$$currentValidationRunId&&g.$setValidity(a,b)}function e(a){f===g.$$currentValidationRunId&&d(a)}this.$$currentValidationRunId++;var f=this.$$currentValidationRunId,g=this;(function(){var a=g.$$parserName||
"parse";if(x(g.$$parserValid))c(a,null);else return g.$$parserValid||(q(g.$validators,function(a,b){c(b,null)}),q(g.$asyncValidators,function(a,b){c(b,null)})),c(a,g.$$parserValid),g.$$parserValid;return!0})()?function(){var d=!0;q(g.$validators,function(e,f){e=!!e(a,b);d=d&&e;c(f,e)});return d?!0:(q(g.$asyncValidators,function(a,b){c(b,null)}),!1)}()?function(){var d=[],f=!0;q(g.$asyncValidators,function(e,g){e=e(a,b);if(!e||!z(e.then))throw tb("nopromise",e);c(g,void 0);d.push(e.then(function(){c(g,
!0)},function(){f=!1;c(g,!1)}))});d.length?g.$$q.all(d).then(function(){e(f)},D):e(!0)}():e(!1):e(!1)},$commitViewValue:function(){var a=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce);if(this.$$lastCommittedViewValue!==a||""===a&&this.$$hasNativeValidators)this.$$updateEmptyClasses(a),this.$$lastCommittedViewValue=a,this.$pristine&&this.$setDirty(),this.$$parseAndValidate()},$$parseAndValidate:function(){var a=this.$$lastCommittedViewValue,b=this;if(this.$$parserValid=x(a)?void 0:!0)for(var d=
0;d<this.$parsers.length;d++)if(a=this.$parsers[d](a),x(a)){this.$$parserValid=!1;break}ha(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var c=this.$modelValue,e=this.$options.getOption("allowInvalid");this.$$rawModelValue=a;e&&(this.$modelValue=a,b.$modelValue!==c&&b.$$writeModelToScope());this.$$runValidators(a,this.$$lastCommittedViewValue,function(d){e||(b.$modelValue=d?a:void 0,b.$modelValue!==c&&b.$$writeModelToScope())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,
this.$modelValue);q(this.$viewChangeListeners,function(a){try{a()}catch(b){this.$$exceptionHandler(b)}},this)},$setViewValue:function(a,b){this.$viewValue=a;this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(b)},$$debounceViewValueCommit:function(a){var b=this.$options.getOption("debounce");ca(b[a])?b=b[a]:ca(b["default"])&&(b=b["default"]);this.$$timeout.cancel(this.$$pendingDebounce);var d=this;0<b?this.$$pendingDebounce=this.$$timeout(function(){d.$commitViewValue()},b):
this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){d.$commitViewValue()})},$overrideModelOptions:function(a){this.$options=this.$options.createChild(a)}};Wd({clazz:Tb,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]}});var Tg=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Tb,priority:1,compile:function(b){b.addClass($a).addClass("ng-untouched").addClass(rb);return{pre:function(a,b,e,f){var c=f[0];b=
f[1]||c.$$parentForm;if(f=f[2])c.$options=f.$options;c.$$initGetterSetters();b.$addControl(c);e.$observe("name",function(a){c.$name!==a&&c.$$parentForm.$$renameControl(c,a)});a.$on("$destroy",function(){c.$$parentForm.$removeControl(c)})},post:function(b,c,e,f){function d(){h.$setTouched()}var h=f[0];if(h.$options.getOption("updateOn"))c.on(h.$options.getOption("updateOn"),function(a){h.$$debounceViewValueCommit(a&&a.type)});c.on("blur",function(){h.$touched||(a.$$phase?b.$evalAsync(d):b.$apply(d))})}}}}}],
Ug=/(\s+|^)default(\s+|$)/;Mc.prototype={getOption:function(a){return this.$$options[a]},createChild:function(a){var b=!1;a=T({},a);q(a,function(d,c){"$inherit"===d?"*"===c?b=!0:(a[c]=this.$$options[c],"updateOn"===c&&(a.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===c&&(a.updateOnDefault=!1,a[c]=U(d.replace(Ug,function(){a.updateOnDefault=!0;return" "})))},this);b&&(delete a["*"],be(a,this.$$options));be(a,Lc.$$options);return new Mc(a)}};var Lc=new Mc({updateOn:"",updateOnDefault:!0,
debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var Vg=function(){function a(a,d){this.$$attrs=a;this.$$scope=d}a.$inject=["$attrs","$scope"];a.prototype={$onInit:function(){var a=this.parentCtrl?this.parentCtrl.$options:Lc,d=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=a.createChild(d)}};return{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:a}},Wg=Sa({terminal:!0,priority:1E3}),Xg=R("ngOptions"),Yg=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,
Zg=["$compile","$document","$parse",function(a,b,d){function c(a,b,c){function e(a,b,c,d,e){this.selectValue=a;this.viewValue=b;this.label=c;this.group=d;this.disabled=e}function f(a){if(!k&&xa(a))var b=a;else{b=[];for(var c in a)a.hasOwnProperty(c)&&"$"!==c.charAt(0)&&b.push(c)}return b}var g=a.match(Yg);if(!g)throw Xg("iexp",a,Da(b));var h=g[5]||g[7],k=g[6];a=/ as /.test(g[0])&&g[1];var q=g[9];b=d(g[2]?g[1]:h);var r=a&&d(a)||b,w=q&&d(q),u=q?function(a,b){return w(c,b)}:function(a){return Ja(a)},
x=function(a,b){return u(a,A(a,b))},y=d(g[2]||g[1]),L=d(g[3]||""),C=d(g[4]||""),E=d(g[8]),B={},A=k?function(a,b){B[k]=b;B[h]=a;return B}:function(a){B[h]=a;return B};return{trackBy:q,getTrackByValue:x,getWatchables:d(E,function(a){var b=[];a=a||[];for(var d=f(a),e=d.length,h=0;h<e;h++){var k=a===d?h:d[h],l=a[k];k=A(l,k);l=u(l,k);b.push(l);if(g[2]||g[1])l=y(c,k),b.push(l);g[4]&&(k=C(c,k),b.push(k))}return b}),getOptions:function(){for(var a=[],b={},d=E(c)||[],g=f(d),h=g.length,k=0;k<h;k++){var l=d===
g?k:g[k],m=A(d[l],l),n=r(c,m);l=u(n,m);var p=y(c,m),t=L(c,m);m=C(c,m);n=new e(l,n,p,t,m);a.push(n);b[l]=n}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[x(a)]},getViewValueFromOption:function(a){return q?Ba(a.viewValue):a.viewValue}}}}}var e=G.document.createElement("option"),f=G.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(a,b,c,d){d[0].registerOption=D},post:function(d,h,k,l){function g(a){var b=(a=
y.getOptionFromViewValue(a))&&a.element;b&&!b.selected&&(b.selected=!0);return a}function m(a,b){a.element=b;b.disabled=a.disabled;a.label!==b.label&&(b.label=a.label,b.textContent=a.label);b.value=a.selectValue}function t(){var a=y&&n.readValue();if(y)for(var b=y.items.length-1;0<=b;b--){var c=y.items[b];u(c.group)?Hb(c.element.parentNode):Hb(c.element)}y=L.getOptions();var d={};z&&h.prepend(n.emptyOption);y.items.forEach(function(a){if(u(a.group)){var b=d[a.group];b||(b=f.cloneNode(!1),C.appendChild(b),
b.label=null===a.group?"null":a.group,d[a.group]=b);var c=e.cloneNode(!1);b.appendChild(c);m(a,c)}else b=C,c=e.cloneNode(!1),b.appendChild(c),m(a,c)});h[0].appendChild(C);r.$render();r.$isEmpty(a)||(b=n.readValue(),(L.trackBy||v?va(a,b):a===b)||(r.$setViewValue(b),r.$render()))}var n=l[0],r=l[1],v=k.multiple;l=0;for(var w=h.children(),x=w.length;l<x;l++)if(""===w[l].value){n.hasEmptyOption=!0;n.emptyOption=w.eq(l);break}var z=!!n.emptyOption;B(e.cloneNode(!1)).val("?");var y,L=c(k.ngOptions,h,d),
C=b[0].createDocumentFragment();n.generateUnknownOptionValue=function(a){return"?"};v?(n.writeValue=function(a){var b=a&&a.map(g)||[];y.items.forEach(function(a){a.element.selected&&-1===Array.prototype.indexOf.call(b,a)&&(a.element.selected=!1)})},n.readValue=function(){var a=h.val()||[],b=[];q(a,function(a){(a=y.selectValueMap[a])&&!a.disabled&&b.push(y.getViewValueFromOption(a))});return b},L.trackBy&&d.$watchCollection(function(){if(K(r.$viewValue))return r.$viewValue.map(function(a){return L.getTrackByValue(a)})},
function(){r.$render()})):(n.writeValue=function(a){var b=y.selectValueMap[h.val()],c=y.getOptionFromViewValue(a);b&&b.element.removeAttribute("selected");c?(h[0].value!==c.selectValue&&(n.removeUnknownOption(),n.unselectEmptyOption(),h[0].value=c.selectValue,c.element.selected=!0),c.element.setAttribute("selected","selected")):z?n.selectEmptyOption():n.unknownOption.parent().length?n.updateUnknownOption(a):n.renderUnknownOption(a)},n.readValue=function(){var a=y.selectValueMap[h.val()];return a&&
!a.disabled?(n.unselectEmptyOption(),n.removeUnknownOption(),y.getViewValueFromOption(a)):null},L.trackBy&&d.$watch(function(){return L.getTrackByValue(r.$viewValue)},function(){r.$render()}));z&&(n.emptyOption.remove(),a(n.emptyOption)(d),8===n.emptyOption[0].nodeType?(n.hasEmptyOption=!1,n.registerOption=function(a,b){""===b.val()&&(n.hasEmptyOption=!0,n.emptyOption=b,n.emptyOption.removeClass("ng-scope"),r.$render(),b.on("$destroy",function(){n.hasEmptyOption=!1;n.emptyOption=void 0}))}):n.emptyOption.removeClass("ng-scope"));
h.empty();t();d.$watchCollection(L.getWatchables,t)}}}}],$g=["$locale","$interpolate","$log",function(a,b,d){var c=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(f,g,h){function k(a){g.text(a||"")}var l=h.count,p=h.$attr.when&&g.attr(h.$attr.when),m=h.offset||0,t=f.$eval(p)||{},n={},r=b.startSymbol(),v=b.endSymbol(),u=r+l+"-"+m+v,B=ma.noop,z;q(h,function(a,b){if(a=e.exec(b))a=(a[1]?"-":"")+S(a[2]),t[a]=g.attr(h.$attr[b])});q(t,function(a,d){n[d]=b(a.replace(c,u))});f.$watch(l,function(b){var c=
parseFloat(b),e=ha(c);e||c in t||(c=a.pluralCat(c-m));c===z||e&&ha(z)||(B(),e=n[c],x(e)?(null!=b&&d.debug("ngPluralize: no rule defined for '"+c+"' in "+p),B=D,k()):B=f.$watch(e,k),z=c)})}}}],ah=["$parse","$animate","$compile",function(a,b,d){var c=R("ngRepeat"),e=function(a,b,c,d,e,p,m){a[c]=d;e&&(a[e]=p);a.$index=b;a.$first=0===b;a.$last=b===m-1;a.$middle=!(a.$first||a.$last);a.$odd=!(a.$even=0===(b&1))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1E3,terminal:!0,$$tlb:!0,
compile:function(f,g){var h=g.ngRepeat,k=d.$$createComment("end ngRepeat",h);f=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!f)throw c("iexp",h);g=f[1];var l=f[2],p=f[3],m=f[4];f=g.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/);if(!f)throw c("iidexp",g);var t=f[3]||f[1],n=f[2];if(p&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(p)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(p)))throw c("badident",
p);var r,v={$id:Ja};if(m)var u=a(m);else{var x=function(a,b){return Ja(b)};var B=function(a){return a}}return function(a,d,f,g,m){u&&(r=function(b,c,d){n&&(v[n]=b);v[t]=c;v.$index=d;return u(a,v)});var w=V();a.$watchCollection(l,function(f){var g,l=d[0],u=V();p&&(a[p]=f);if(xa(f)){var v=f;var y=r||x}else for(C in y=r||B,v=[],f)ya.call(f,C)&&"$"!==C.charAt(0)&&v.push(C);var z=v.length;var C=Array(z);for(g=0;g<z;g++){var E=f===v?g:v[g];var G=f[E];var D=y(E,G,g);if(w[D]){var A=w[D];delete w[D];u[D]=
A;C[g]=A}else{if(u[D])throw q(C,function(a){a&&a.scope&&(w[a.id]=a)}),c("dupes",h,D,G);C[g]={id:D,scope:void 0,clone:void 0};u[D]=!0}}for(H in w){A=w[H];D=yb(A.clone);b.leave(D);if(D[0].parentNode)for(g=0,y=D.length;g<y;g++)D[g].$$NG_REMOVED=!0;A.scope.$destroy()}for(g=0;g<z;g++)if(E=f===v?g:v[g],G=f[E],A=C[g],A.scope){var H=l;do H=H.nextSibling;while(H&&H.$$NG_REMOVED);A.clone[0]!==H&&b.move(yb(A.clone),null,l);l=A.clone[A.clone.length-1];e(A.scope,g,t,G,n,E,z)}else m(function(a,c){A.scope=c;c=k.cloneNode(!1);
a[a.length++]=c;b.enter(a,null,l);l=c;A.clone=a;u[A.id]=A;e(A.scope,g,t,G,n,E,z)});w=u})}}}}],bh=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngShow,function(b){a[b?"removeClass":"addClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],ch=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngHide,function(b){a[b?"addClass":"removeClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],dh=Sa(function(a,
b,d){a.$watch(d.ngStyle,function(a,d){d&&a!==d&&q(d,function(a,c){b.css(c,"")});a&&b.css(a)},!0)}),eh=["$animate","$compile",function(a,b){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(d,c,e,f){var g=[],h=[],k=[],l=[],p=function(a,b){return function(c){!1!==c&&a.splice(b,1)}};d.$watch(e.ngSwitch||e.on,function(c){for(var d,e;k.length;)a.cancel(k.pop());d=0;for(e=l.length;d<e;++d){var m=yb(h[d].clone);l[d].$destroy();(k[d]=a.leave(m)).done(p(k,d))}h.length=
0;l.length=0;(g=f.cases["!"+c]||f.cases["?"])&&q(g,function(c){c.transclude(function(d,e){l.push(e);e=c.element;d[d.length++]=b.$$createComment("end ngSwitchWhen");h.push({clone:d});a.enter(d,e.parent(),e)})})})}}}],fh=Sa({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){a=d.ngSwitchWhen.split(d.ngSwitchWhenSeparator).sort().filter(function(a,b,c){return c[b-1]!==a});q(a,function(a){c.cases["!"+a]=c.cases["!"+a]||[];c.cases["!"+a].push({transclude:e,
element:b})})}}),gh=Sa({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){c.cases["?"]=c.cases["?"]||[];c.cases["?"].push({transclude:e,element:b})}}),hh=R("ngTransclude"),ih=["$compile",function(a){return{restrict:"EAC",terminal:!0,compile:function(b){var d=a(b.contents());b.empty();return function(a,b,f,g,h){function c(){d(a,function(a){b.append(a)})}if(!h)throw hh("orphan",Da(b));f.ngTransclude===f.$attr.ngTransclude&&(f.ngTransclude="");f=f.ngTransclude||
f.ngTranscludeSlot;h(function(a,d){var e;if(e=a.length)a:{e=0;for(var f=a.length;e<f;e++){var g=a[e];if(g.nodeType!==Qa||g.nodeValue.trim()){e=!0;break a}}e=void 0}e?b.append(a):(c(),d.$destroy())},null,f);f&&!h.isSlotFilled(f)&&c()}}}}],jh=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,d){"text/ng-template"===d.type&&a.put(d.id,b[0].text)}}}],kh={$setViewValue:D,$render:D},lh=["$element","$scope",function(a,b){function d(){g||(g=!0,b.$$postDigest(function(){g=!1;
e.ngModelCtrl.$render()}))}function c(a){h||(h=!0,b.$$postDigest(function(){b.$$destroyed||(h=!1,e.ngModelCtrl.$setViewValue(e.readValue()),a&&e.ngModelCtrl.$render())}))}var e=this,f=new Jb;e.selectValueMap={};e.ngModelCtrl=kh;e.multiple=!1;e.unknownOption=B(G.document.createElement("option"));e.hasEmptyOption=!1;e.emptyOption=void 0;e.renderUnknownOption=function(b){b=e.generateUnknownOptionValue(b);e.unknownOption.val(b);a.prepend(e.unknownOption);Xa(e.unknownOption,!0);a.val(b)};e.updateUnknownOption=
function(b){b=e.generateUnknownOptionValue(b);e.unknownOption.val(b);Xa(e.unknownOption,!0);a.val(b)};e.generateUnknownOptionValue=function(a){return"? "+Ja(a)+" ?"};e.removeUnknownOption=function(){e.unknownOption.parent()&&e.unknownOption.remove()};e.selectEmptyOption=function(){e.emptyOption&&(a.val(""),Xa(e.emptyOption,!0))};e.unselectEmptyOption=function(){e.hasEmptyOption&&e.emptyOption.removeAttr("selected")};b.$on("$destroy",function(){e.renderUnknownOption=D});e.readValue=function(){var b=
a.val();b=b in e.selectValueMap?e.selectValueMap[b]:b;return e.hasOption(b)?b:null};e.writeValue=function(b){var c=a[0].options[a[0].selectedIndex];c&&Xa(B(c),!1);e.hasOption(b)?(e.removeUnknownOption(),c=Ja(b),a.val(c in e.selectValueMap?c:b),Xa(B(a[0].options[a[0].selectedIndex]),!0)):null==b&&e.emptyOption?(e.removeUnknownOption(),e.selectEmptyOption()):e.unknownOption.parent().length?e.updateUnknownOption(b):e.renderUnknownOption(b)};e.addOption=function(a,b){8!==b[0].nodeType&&(Ia(a,'"option value"'),
""===a&&(e.hasEmptyOption=!0,e.emptyOption=b),b=f.get(a)||0,f.set(a,b+1),d())};e.removeOption=function(a){var b=f.get(a);b&&(1===b?(f.delete(a),""===a&&(e.hasEmptyOption=!1,e.emptyOption=void 0)):f.set(a,b-1))};e.hasOption=function(a){return!!f.get(a)};var g=!1,h=!1;e.registerOption=function(a,b,f,g,h){if(f.$attr.ngValue){var k,l=NaN;f.$observe("value",function(a){var d=b.prop("selected");if(u(l)){e.removeOption(k);delete e.selectValueMap[l];var f=!0}l=Ja(a);k=a;e.selectValueMap[l]=a;e.addOption(a,
b);b.attr("value",l);f&&d&&c()})}else g?f.$observe("value",function(a){e.readValue();var d=b.prop("selected");if(u(k)){e.removeOption(k);var f=!0}k=a;e.addOption(a,b);f&&d&&c()}):h?a.$watch(h,function(a,d){f.$set("value",a);var g=b.prop("selected");d!==a&&e.removeOption(d);e.addOption(a,b);d&&g&&c()}):e.addOption(f.value,b);f.$observe("disabled",function(a){if("true"===a||a&&b.prop("selected"))e.multiple?c(!0):(e.ngModelCtrl.$setViewValue(null),e.ngModelCtrl.$render())});b.on("$destroy",function(){var a=
e.readValue(),b=f.value;e.removeOption(b);d();(e.multiple&&a&&-1!==a.indexOf(b)||a===b)&&c(!0)})}}],mh=function(){return{restrict:"E",require:["select","?ngModel"],controller:lh,priority:1,link:{pre:function(a,b,d,c){var e=c[0],f=c[1];if(f){if(e.ngModelCtrl=f,b.on("change",function(){e.removeUnknownOption();a.$apply(function(){f.$setViewValue(e.readValue())})}),d.multiple){e.multiple=!0;e.readValue=function(){var a=[];q(b.find("option"),function(b){b.selected&&!b.disabled&&(b=b.value,a.push(b in e.selectValueMap?
e.selectValueMap[b]:b))});return a};e.writeValue=function(a){q(b.find("option"),function(b){var c=!!a&&(-1!==Array.prototype.indexOf.call(a,b.value)||-1!==Array.prototype.indexOf.call(a,e.selectValueMap[b.value]));c!==b.selected&&Xa(B(b),c)})};var g,h=NaN;a.$watch(function(){h!==f.$viewValue||va(g,f.$viewValue)||(g=ta(f.$viewValue),f.$render());h=f.$viewValue});f.$isEmpty=function(a){return!a||0===a.length}}}else e.registerOption=D},post:function(a,b,d,c){var e=c[1];if(e){var f=c[0];e.$render=function(){f.writeValue(e.$viewValue)}}}}}},
nh=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,d){var c;if(!u(d.ngValue))if(u(d.value))var e=a(d.value,!0);else(c=a(b.text(),!0))||d.$set("value",b.text());return function(a,b,d){var f=b.parent();(f=f.data("$selectController")||f.parent().data("$selectController"))&&f.registerOption(a,b,d,e,c)}}}}],me=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){c&&(d.required=!0,c.$validators.required=function(a,b){return!d.required||!c.$isEmpty(b)},
d.$observe("required",function(){c.$validate()}))}}},ne=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e,f=d.ngPattern||d.pattern;d.$observe("pattern",function(a){J(a)&&0<a.length&&(a=new RegExp("^"+a+"$"));if(a&&!a.test)throw R("ngPattern")("noregexp",f,a,Da(b));e=a||void 0;c.$validate()});c.$validators.pattern=function(a,b){return c.$isEmpty(b)||x(e)||e.test(b)}}}}},oe=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=-1;d.$observe("maxlength",
function(a){a=parseInt(a,10);e=ha(a)?-1:a;c.$validate()});c.$validators.maxlength=function(a,b){return 0>e||c.$isEmpty(b)||b.length<=e}}}}},pe=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=0;d.$observe("minlength",function(a){e=parseInt(a,10)||0;c.$validate()});c.$validators.minlength=function(a,b){return c.$isEmpty(b)||b.length>=e}}}}};if(G.angular.bootstrap)G.console&&console.log("WARNING: Tried to load angular more than once.");else{(function(){if(!ce){var a=
Ub();if((wa=x(a)?G.jQuery:a?G[a]:void 0)&&wa.fn.on){B=wa;T(wa.fn,{scope:Va.scope,isolateScope:Va.isolateScope,controller:Va.controller,injector:Va.injector,inheritedData:Va.inheritedData});var b=wa.cleanData;wa.cleanData=function(a){for(var c,d=0,f;null!=(f=a[d]);d++)(c=wa._data(f,"events"))&&c.$destroy&&wa(f).triggerHandler("$destroy");b(a)}}else B=X;ma.element=B;ce=!0}})();(function(a){T(a,{errorHandlingConfig:qe,bootstrap:Zc,copy:Ba,extend:T,merge:se,equals:va,element:B,forEach:q,injector:hb,noop:D,
bind:eb,toJson:fb,fromJson:Vc,identity:wb,isUndefined:x,isDefined:u,isString:J,isFunction:z,isObject:H,isNumber:ca,isElement:$b,isArray:K,version:fg,isDate:da,lowercase:S,uppercase:Nb,callbacks:{$$counter:0},getTestability:Be,reloadWithDebugInfo:Ae,$$minErr:R,$$csp:Ga,$$encodeUriSegment:gb,$$encodeUriQuery:oa,$$stringify:fc});nc=De(G);nc("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:Gf});a.provider("$compile",kd).directive({a:xg,input:ke,textarea:ke,form:yg,script:jh,select:mh,
option:nh,ngBind:Eg,ngBindHtml:Gg,ngBindTemplate:Fg,ngClass:Ig,ngClassEven:Kg,ngClassOdd:Jg,ngCloak:Lg,ngController:Mg,ngForm:zg,ngHide:ch,ngIf:Og,ngInclude:Pg,ngInit:Rg,ngNonBindable:Wg,ngPluralize:$g,ngRepeat:ah,ngShow:bh,ngStyle:dh,ngSwitch:eh,ngSwitchWhen:fh,ngSwitchDefault:gh,ngOptions:Zg,ngTransclude:ih,ngModel:Tg,ngList:Sg,ngChange:Hg,pattern:ne,ngPattern:ne,required:me,ngRequired:me,minlength:pe,ngMinlength:pe,maxlength:oe,ngMaxlength:oe,ngValue:Dg,ngModelOptions:Vg}).directive({ngInclude:Qg}).directive(Wb).directive(le);
a.provider({$anchorScroll:Te,$animate:og,$animateCss:rg,$$animateJs:lg,$$animateQueue:mg,$$AnimateRunner:qg,$$animateAsyncRun:pg,$browser:We,$cacheFactory:Xe,$controller:ef,$document:ff,$$isDocumentHidden:gf,$exceptionHandler:hf,$filter:Kd,$$forceReflow:sg,$interpolate:sf,$interval:tf,$http:of,$httpParamSerializer:jf,$httpParamSerializerJQLike:kf,$httpBackend:qf,$xhrFactory:pf,$jsonpCallbacks:tg,$location:wf,$log:xf,$parse:Bf,$rootScope:Ff,$q:Cf,$$q:Df,$sce:ag,$sceDelegate:$f,$sniffer:Hf,$templateCache:Ye,
$templateRequest:bg,$$testability:If,$timeout:Jf,$window:Kf,$$rAF:Ef,$$jqLite:Oe,$$Map:ig,$$cookieReader:Lf})}]).info({angularVersion:"1.6.4-local+sha.617b36117"})})(ma);ma.module("ngLocale",[],["$provide",function(a){function b(a){a+="";var b=a.indexOf(".");return-1==b?0:a.length-b-1}a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),
SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",
PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-\u00a4",negSuf:"",posPre:"\u00a4",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(a,c){var d=a|0;void 0===c&&(c=Math.min(b(a),3));return 1==d&&0==c?"one":"other"}})}]);var la=R("$sce"),Ya={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",TEMPLATE_URL:"templateUrl",JS:"js"},Nc=/_([a-z])/g,cg=R("$compile");B(function(){ye(G.document,
Zc)})}})(window);angular.element(document).find("head").append('<style type="text/css">@charset "UTF-8";\n\n[ng\\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak],\n.ng-cloak, .x-ng-cloak,\n.ng-hide:not(.ng-hide-animate) {\n  display: none !important;\n}\n\nng\\:form {\n  display: block;\n}\n\n.ng-animate-shim {\n  visibility:hidden;\n}\n\n.ng-anchor {\n  position:absolute;\n}\n</style>');

/*
 AngularJS v1.6.4-local+sha.617b36117
 (c) 2010-2017 Google, Inc. http://angularjs.org
 License: MIT
*/
'use strict';(function(l,e){'use strict';function B(e){u&&e.get("$route")}function C(x,v,h){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(a,b,d,f,q){function m(){k&&(h.cancel(k),k=null);n&&(n.$destroy(),n=null);p&&(k=h.leave(p),k.done(function(a){!1!==a&&(k=null)}),p=null)}function y(){var d=x.current&&x.current.locals;if(e.isDefined(d&&d.$template)){d=a.$new();var f=x.current;p=q(d,function(d){h.enter(d,null,p||b).done(function(b){!1===b||!e.isDefined(z)||z&&!a.$eval(z)||v()});
m()});n=f.scope=d;n.$emit("$viewContentLoaded");n.$eval(l)}else m()}var n,p,k,z=d.autoscroll,l=d.onload||"";a.$on("$routeChangeSuccess",y);y()}}}function A(e,l,h){return{restrict:"ECA",priority:-400,link:function(a,b){var d=h.current,f=d.locals;b.html(f.$template);var q=e(b.contents());if(d.controller){f.$scope=a;var m=l(d.controller,f);d.controllerAs&&(a[d.controllerAs]=m);b.data("$ngControllerController",m);b.children().data("$ngControllerController",m)}a[d.resolveAs||"$resolve"]=f;q(a)}}}"use strict";
var E,F,G,H;l=e.module("ngRoute",[]).info({angularVersion:"1.6.4-local+sha.617b36117"}).provider("$route",function(){function l(a,b){return e.extend(Object.create(a),b)}function v(a,b){b=b.caseInsensitiveMatch;var e={originalPath:a,regexp:a},f=e.keys=[];a=a.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(a,e,b,d){a="?"===d||"*?"===d?"?":null;d="*"===d||"*?"===d?"*":null;f.push({name:b,optional:!!a});e=e||"";return""+(a?"":e)+"(?:"+(a?e:"")+(d&&"(.+?)"||"([^/]+)")+(a||"")+")"+
(a||"")}).replace(/([/$*])/g,"\\$1");e.regexp=new RegExp("^"+a+"$",b?"i":"");return e}E=e.isArray;F=e.isObject;G=e.isDefined;H=e.noop;var h={};this.when=function(a,b){var d=void 0;if(E(b)){d=d||[];for(var f=0,l=b.length;f<l;f++)d[f]=b[f]}else if(F(b))for(f in d=d||{},b)if("$"!==f.charAt(0)||"$"!==f.charAt(1))d[f]=b[f];b=d||b;e.isUndefined(b.reloadOnSearch)&&(b.reloadOnSearch=!0);e.isUndefined(b.caseInsensitiveMatch)&&(b.caseInsensitiveMatch=this.caseInsensitiveMatch);h[a]=e.extend(b,a&&v(a,b));a&&
(d="/"===a[a.length-1]?a.substr(0,a.length-1):a+"/",h[d]=e.extend({redirectTo:a},v(d,b)));return this};this.caseInsensitiveMatch=!1;this.otherwise=function(a){"string"===typeof a&&(a={redirectTo:a});this.when(null,a);return this};u=!0;this.eagerInstantiationEnabled=function(a){return G(a)?(u=a,this):u};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function(a,b,d,f,q,m,u,n){function p(c){var g=r.current;(A=(t=C())&&g&&t.$$route===g.$$route&&
e.equals(t.pathParams,g.pathParams)&&!t.reloadOnSearch&&!D)||!g&&!t||a.$broadcast("$routeChangeStart",t,g).defaultPrevented&&c&&c.preventDefault()}function k(){var c=r.current,g=t;if(A)c.params=g.params,e.copy(c.params,d),a.$broadcast("$routeUpdate",c);else if(g||c){D=!1;r.current=g;var b=f.resolve(g);n.$$incOutstandingRequestCount();b.then(z).then(v).then(function(w){return w&&b.then(x).then(function(b){g===r.current&&(g&&(g.locals=b,e.copy(g.params,d)),a.$broadcast("$routeChangeSuccess",g,c))})}).catch(function(b){g===
r.current&&a.$broadcast("$routeChangeError",g,c,b)}).finally(function(){n.$$completeOutstandingRequest(H)})}}function z(c){var a={route:c,hasRedirection:!1};if(c)if(c.redirectTo)if(e.isString(c.redirectTo))a.path=y(c.redirectTo,c.params),a.search=c.params,a.hasRedirection=!0;else{var d=b.path(),w=b.search();c=c.redirectTo(c.pathParams,d,w);e.isDefined(c)&&(a.url=c,a.hasRedirection=!0)}else if(c.resolveRedirectTo)return f.resolve(q.invoke(c.resolveRedirectTo)).then(function(c){e.isDefined(c)&&(a.url=
c,a.hasRedirection=!0);return a});return a}function v(a){var c=!0;if(a.route!==r.current)c=!1;else if(a.hasRedirection){var e=b.url(),d=a.url;d?b.url(d).replace():d=b.path(a.path).search(a.search).replace().url();d!==e&&(c=!1)}return c}function x(a){if(a){var c=e.extend({},a.resolve);e.forEach(c,function(a,b){c[b]=e.isString(a)?q.get(a):q.invoke(a,null,null,b)});a=B(a);e.isDefined(a)&&(c.$template=a);return f.all(c)}}function B(a){var b,c;e.isDefined(b=a.template)?e.isFunction(b)&&(b=b(a.params)):
e.isDefined(c=a.templateUrl)&&(e.isFunction(c)&&(c=c(a.params)),e.isDefined(c)&&(a.loadedTemplateUrl=u.valueOf(c),b=m(c)));return b}function C(){var a,d;e.forEach(h,function(c,f){if(f=!d){var g=b.path();f=c.keys;var h={};if(c.regexp)if(g=c.regexp.exec(g)){for(var k=1,n=g.length;k<n;++k){var w=f[k-1],m=g[k];w&&m&&(h[w.name]=m)}f=h}else f=null;else f=null;f=a=f}f&&(d=l(c,{params:e.extend({},b.search(),a),pathParams:a}),d.$$route=c)});return d||h[null]&&l(h[null],{params:{},pathParams:{}})}function y(a,
b){var c=[];e.forEach((a||"").split(":"),function(a,d){0===d?c.push(a):(a=a.match(/(\w+)(?:[?*])?(.*)/),d=a[1],c.push(b[d]),c.push(a[2]||""),delete b[d])});return c.join("")}var D=!1,t,A,r={routes:h,reload:function(){D=!0;var c={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0;D=!1}};a.$evalAsync(function(){p(c);c.defaultPrevented||k()})},updateParams:function(a){if(this.current&&this.current.$$route)a=e.extend({},this.current.params,a),b.path(y(this.current.$$route.originalPath,
a)),b.search(a);else throw I("norout");}};a.$on("$locationChangeStart",p);a.$on("$locationChangeSuccess",k);return r}]}).run(B);var I=e.$$minErr("ngRoute"),u;B.$inject=["$injector"];"use strict";l.provider("$routeParams",function(){this.$get=function(){return{}}});"use strict";l.directive("ngView",C);l.directive("ngView",A);C.$inject=["$route","$anchorScroll","$animate"];A.$inject=["$compile","$controller","$route"]})(window,window.angular);

/*
 AngularJS v1.6.4-local+sha.617b36117
 (c) 2010-2017 Google, Inc. http://angularjs.org
 License: MIT
*/
'use strict';(function(T,D){'use strict';function Da(a,b,c){if(!a)throw Pa("areq",b||"?",c||"required");return a}function Ea(a,b){if(!a&&!b)return"";if(!a)return b;if(!b)return a;U(a)&&(a=a.join(" "));U(b)&&(b=b.join(" "));return a+" "+b}function Qa(a){var b={};a&&(a.to||a.from)&&(b.to=a.to,b.from=a.from);return b}function V(a,b,c){var d="";a=U(a)?a:a&&I(a)&&a.length?a.split(/\s+/):[];t(a,function(a,h){a&&0<a.length&&(d+=0<h?" ":"",d+=c?b+a:a+b)});return d}function Fa(a){if(a instanceof B)switch(a.length){case 0:return a;
case 1:if(1===a[0].nodeType)return a;break;default:return B(va(a))}if(1===a.nodeType)return B(a)}function va(a){if(!a[0])return a;for(var b=0;b<a.length;b++){var c=a[b];if(1===c.nodeType)return c}}function Ra(a,b,c){t(b,function(b){a.addClass(b,c)})}function Sa(a,b,c){t(b,function(b){a.removeClass(b,c)})}function W(a){return function(b,c){c.addClass&&(Ra(a,b,c.addClass),c.addClass=null);c.removeClass&&(Sa(a,b,c.removeClass),c.removeClass=null)}}function na(a){a=a||{};if(!a.$$prepared){var b=a.domOperation||
M;a.domOperation=function(){a.$$domOperationFired=!0;b();b=M};a.$$prepared=!0}return a}function ia(a,b){Ga(a,b);Ha(a,b)}function Ga(a,b){b.from&&(a.css(b.from),b.from=null)}function Ha(a,b){b.to&&(a.css(b.to),b.to=null)}function Q(a,b,c){var d=b.options||{};c=c.options||{};var g=(d.addClass||"")+" "+(c.addClass||""),h=(d.removeClass||"")+" "+(c.removeClass||"");a=Ta(a.attr("class"),g,h);c.preparationClasses&&(d.preparationClasses=X(c.preparationClasses,d.preparationClasses),delete c.preparationClasses);
g=d.domOperation!==M?d.domOperation:null;wa(d,c);g&&(d.domOperation=g);d.addClass=a.addClass?a.addClass:null;d.removeClass=a.removeClass?a.removeClass:null;b.addClass=d.addClass;b.removeClass=d.removeClass;return d}function Ta(a,b,c){function d(a){I(a)&&(a=a.split(" "));var b={};t(a,function(a){a.length&&(b[a]=!0)});return b}var g={};a=d(a);b=d(b);t(b,function(a,b){g[b]=1});c=d(c);t(c,function(a,b){g[b]=1===g[b]?null:-1});var h={addClass:"",removeClass:""};t(g,function(b,c){if(1===b){var m="addClass";
var d=!a[c]||a[c+"-remove"]}else-1===b&&(m="removeClass",d=a[c]||a[c+"-add"]);d&&(h[m].length&&(h[m]+=" "),h[m]+=c)});return h}function R(a){return a instanceof B?a[0]:a}function Ua(a,b,c){var d="";b&&(d=V(b,"ng-",!0));c.addClass&&(d=X(d,V(c.addClass,"-add")));c.removeClass&&(d=X(d,V(c.removeClass,"-remove")));d.length&&(c.preparationClasses=d,a.addClass(d))}function oa(a,b){b=b?"-"+b+"s":"";ka(a,[la,b]);return[la,b]}function xa(a,b){b=b?"paused":"";var c=ca+"PlayState";ka(a,[c,b]);return[c,b]}function ka(a,
b){a.style[b[0]]=b[1]}function X(a,b){return a?b?a+" "+b:a:b}function Ia(a,b,c){var d=Object.create(null),g=a.getComputedStyle(b)||{};t(c,function(a,b){if(a=g[a]){var c=a.charAt(0);if("-"===c||"+"===c||0<=c)a=Va(a);0===a&&(a=null);d[b]=a}});return d}function Va(a){var b=0;a=a.split(/\s*,\s*/);t(a,function(a){"s"===a.charAt(a.length-1)&&(a=a.substring(0,a.length-1));a=parseFloat(a)||0;b=b?Math.max(a,b):a});return b}function ya(a){return 0===a||null!=a}function Ja(a,b){var c=S;a+="s";b?c+="Duration":
a+=" linear all";return[c,a]}function Ka(){var a=Object.create(null);return{flush:function(){a=Object.create(null)},count:function(b){return(b=a[b])?b.total:0},get:function(b){return(b=a[b])&&b.value},put:function(b,c){a[b]?a[b].total++:a[b]={total:1,value:c}}}}function La(a,b,c){t(c,function(c){a[c]=za(a[c])?a[c]:b.style.getPropertyValue(c)})}if(void 0===T.ontransitionend&&void 0!==T.onwebkittransitionend){var S="WebkitTransition";var Ma="webkitTransitionEnd transitionend"}else S="transition",Ma=
"transitionend";if(void 0===T.onanimationend&&void 0!==T.onwebkitanimationend){var ca="WebkitAnimation";var Na="webkitAnimationEnd animationend"}else ca="animation",Na="animationend";var pa=ca+"Delay",Aa=ca+"Duration",la=S+"Delay",Oa=S+"Duration",Pa=D.$$minErr("ng");"use strict";"use strict";"use strict";var Wa={transitionDuration:Oa,transitionDelay:la,transitionProperty:S+"Property",animationDuration:Aa,animationDelay:pa,animationIterationCount:ca+"IterationCount"},Xa={transitionDuration:Oa,transitionDelay:la,
animationDuration:Aa,animationDelay:pa};"use strict";"use strict";"use strict";"use strict";"use strict";"use strict";"use strict";var Ba,wa,t,U,za,da,Ca,qa,I,N,B,M;D.module("ngAnimate",[],function(){M=D.noop;Ba=D.copy;wa=D.extend;B=D.element;t=D.forEach;U=D.isArray;I=D.isString;qa=D.isObject;N=D.isUndefined;za=D.isDefined;Ca=D.isFunction;da=D.isElement}).info({angularVersion:"1.6.4-local+sha.617b36117"}).directive("ngAnimateSwap",["$animate","$rootScope",function(a,b){return{restrict:"A",transclude:"element",
terminal:!0,priority:600,link:function(b,d,g,h,m){var c,G;b.$watchCollection(g.ngAnimateSwap||g["for"],function(J){c&&a.leave(c);G&&(G.$destroy(),G=null);if(J||0===J)G=b.$new(),m(G,function(b){c=b;a.enter(b,null,d)})})}}}]).directive("ngAnimateChildren",["$interpolate",function(a){return{link:function(b,c,d){function g(a){c.data("$$ngAnimateChildren","on"===a||"true"===a)}var h=d.ngAnimateChildren;I(h)&&0===h.length?c.data("$$ngAnimateChildren",!0):(g(a(h)(b)),d.$observe("ngAnimateChildren",g))}}}]).factory("$$rAFScheduler",
["$$rAF",function(a){function b(a){g=g.concat(a);c()}function c(){if(g.length){for(var b=g.shift(),m=0;m<b.length;m++)b[m]();d||a(function(){d||c()})}}var d;var g=b.queue=[];b.waitUntilQuiet=function(b){d&&d();d=a(function(){d=null;b();c()})};return b}]).provider("$$animateQueue",["$animateProvider",function(a){function b(a){if(!a)return null;a=a.split(" ");var b=Object.create(null);t(a,function(a){b[a]=!0});return b}function c(a,c){if(a&&c){var m=b(c);return a.split(" ").some(function(a){return m[a]})}}
function d(a,b,c){return h[a].some(function(a){return a(b,c)})}function g(a,b){var c=0<(a.addClass||"").length;a=0<(a.removeClass||"").length;return b?c&&a:c||a}var h=this.rules={skip:[],cancel:[],join:[]};h.join.push(function(a,b){return!a.structural&&g(a)});h.skip.push(function(a,b){return!a.structural&&!g(a)});h.skip.push(function(a,b){return"leave"===b.event&&a.structural});h.skip.push(function(a,b){return b.structural&&2===b.state&&!a.structural});h.cancel.push(function(a,b){return b.structural&&
a.structural});h.cancel.push(function(a,b){return 2===b.state&&a.structural});h.cancel.push(function(a,b){if(b.structural)return!1;var d=a.addClass;a=a.removeClass;var g=b.addClass;b=b.removeClass;return N(d)&&N(a)||N(g)&&N(b)?!1:c(d,b)||c(a,g)});this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(b,c,h,q,Y,O,C,y,l,P,w){function m(){var a=!1;return function(b){a?b():c.$$postDigest(function(){a=
!0;b()})}}function E(a,b,c){var f=[],d=k[c];d&&t(d,function(k){K.call(k.node,b)?f.push(k.callback):"leave"===c&&K.call(k.node,a)&&f.push(k.callback)});return f}function n(a,b,c){var f=va(b);return a.filter(function(a){return!(a.node===f&&(!c||a.callback===c))})}function e(a,k,v){function Z(a,c,f,k){ua(function(){var a=E(ta,l,c);a.length?b(function(){t(a,function(a){a(x,f,k)});"close"!==f||l.parentNode||ra.off(l)}):"close"!==f||l.parentNode||ra.off(l)});a.progress(c,f,k)}function n(a){var b=x,c=e;
c.preparationClasses&&(b.removeClass(c.preparationClasses),c.preparationClasses=null);c.activeClasses&&(b.removeClass(c.activeClasses),c.activeClasses=null);z(x,e);ia(x,e);e.domOperation();h.complete(!a)}var e=Ba(v),x=Fa(a),l=R(x),ta=l&&l.parentNode;e=na(e);var h=new C,ua=m();U(e.addClass)&&(e.addClass=e.addClass.join(" "));e.addClass&&!I(e.addClass)&&(e.addClass=null);U(e.removeClass)&&(e.removeClass=e.removeClass.join(" "));e.removeClass&&!I(e.removeClass)&&(e.removeClass=null);e.from&&!qa(e.from)&&
(e.from=null);e.to&&!qa(e.to)&&(e.to=null);if(!l)return n(),h;v=[l.getAttribute("class"),e.addClass,e.removeClass].join(" ");if(!Ya(v))return n(),h;var q=0<=["enter","move","leave"].indexOf(k),u=w(),K=!f||u||ha.get(l);v=!K&&F.get(l)||{};var P=!!v.state;K||P&&1===v.state||(K=!sa(l,ta,k));if(K)return u&&Z(h,k,"start"),n(),u&&Z(h,k,"close"),h;q&&G(l);u={structural:q,element:x,event:k,addClass:e.addClass,removeClass:e.removeClass,close:n,options:e,runner:h};if(P){if(d("skip",u,v)){if(2===v.state)return n(),
h;Q(x,v,u);return v.runner}if(d("cancel",u,v))if(2===v.state)v.runner.end();else if(v.structural)v.close();else return Q(x,v,u),v.runner;else if(d("join",u,v))if(2===v.state)Q(x,u,{});else return Ua(x,q?k:null,e),k=u.event=v.event,e=Q(x,v,u),v.runner}else Q(x,u,{});(P=u.structural)||(P="animate"===u.event&&0<Object.keys(u.options.to||{}).length||g(u));if(!P)return n(),r(l),h;var ja=(v.counter||0)+1;u.counter=ja;H(l,1,u);c.$$postDigest(function(){x=Fa(a);var b=F.get(l),c=!b;b=b||{};var f=0<(x.parent()||
[]).length&&("animate"===b.event||b.structural||g(b));if(c||b.counter!==ja||!f){c&&(z(x,e),ia(x,e));if(c||q&&b.event!==k)e.domOperation(),h.end();f||r(l)}else k=!b.structural&&g(b,!0)?"setClass":b.event,H(l,2),b=O(x,k,b.options),h.setHost(b),Z(h,k,"start",{}),b.done(function(a){n(!a);(a=F.get(l))&&a.counter===ja&&r(l);Z(h,k,"close",{})})});return h}function G(a){a=a.querySelectorAll("[data-ng-animate]");t(a,function(a){var b=parseInt(a.getAttribute("data-ng-animate"),10),c=F.get(a);if(c)switch(b){case 2:c.runner.end();
case 1:F.delete(a)}})}function r(a){a.removeAttribute("data-ng-animate");F.delete(a)}function sa(a,b,c){c=q[0].body;var f=R(h),k=a===c||"HTML"===a.nodeName,e=a===f,d=!1,l=ha.get(a),n;for((a=B.data(a,"$ngAnimatePin"))&&(b=R(a));b;){e||(e=b===f);if(1!==b.nodeType)break;a=F.get(b)||{};if(!d){var E=ha.get(b);if(!0===E&&!1!==l){l=!0;break}else!1===E&&(l=!1);d=a.structural}if(N(n)||!0===n)a=B.data(b,"$$ngAnimateChildren"),za(a)&&(n=a);if(d&&!1===n)break;k||(k=b===c);if(k&&e)break;if(!e&&(a=B.data(b,"$ngAnimatePin"))){b=
R(a);continue}b=b.parentNode}return(!d||n)&&!0!==l&&e&&k}function H(a,b,c){c=c||{};c.state=b;a.setAttribute("data-ng-animate",b);c=(b=F.get(a))?wa(b,c):c;F.set(a,c)}var F=new Y,ha=new Y,f=null,ta=c.$watch(function(){return 0===y.totalPendingRequests},function(a){a&&(ta(),c.$$postDigest(function(){c.$$postDigest(function(){null===f&&(f=!0)})}))}),k=Object.create(null),ua=a.classNameFilter(),Ya=ua?function(a){return ua.test(a)}:function(){return!0},z=W(l),K=T.Node.prototype.contains||function(a){return this===
a||!!(this.compareDocumentPosition(a)&16)},ra={on:function(a,b,c){var f=va(b);k[a]=k[a]||[];k[a].push({node:f,callback:c});B(b).on("$destroy",function(){F.get(f)||ra.off(a,b,c)})},off:function(a,b,c){if(1!==arguments.length||I(arguments[0])){var f=k[a];f&&(k[a]=1===arguments.length?null:n(f,b,c))}else for(f in b=arguments[0],k)k[f]=n(k[f],b)},pin:function(a,b){Da(da(a),"element","not an element");Da(da(b),"parentElement","not an element");a.data("$ngAnimatePin",b)},push:function(a,b,c,f){c=c||{};
c.domOperation=f;return e(a,b,c)},enabled:function(a,b){var c=arguments.length;if(0===c)b=!!f;else if(da(a)){var k=R(a);1===c?b=!ha.get(k):ha.set(k,!b)}else b=f=!!a;return b}};return ra}]}]).provider("$$animation",["$animateProvider",function(a){var b=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler",function(a,d,g,h,m,J){function c(a){function b(a){if(a.processed)return a;a.processed=!0;var d=a.domNode,n=d.parentNode;g.set(d,a);for(var e;n;){if(e=
g.get(n)){e.processed||(e=b(e));break}n=n.parentNode}(e||c).children.push(a);return a}var c={children:[]},d,g=new m;for(d=0;d<a.length;d++){var h=a[d];g.set(h.domNode,a[d]={domNode:h.domNode,fn:h.fn,children:[]})}for(d=0;d<a.length;d++)b(a[d]);return function(a){var b=[],c=[],e;for(e=0;e<a.children.length;e++)c.push(a.children[e]);a=c.length;var d=0,l=[];for(e=0;e<c.length;e++){var g=c[e];0>=a&&(a=d,d=0,b.push(l),l=[]);l.push(g.fn);g.children.forEach(function(a){d++;c.push(a)});a--}l.length&&b.push(l);
return b}(c)}var q=[],Y=W(a);return function(m,G,y){function l(a){a=a.hasAttribute("ng-animate-ref")?[a]:a.querySelectorAll("[ng-animate-ref]");var b=[];t(a,function(a){var c=a.getAttribute("ng-animate-ref");c&&c.length&&b.push(a)});return b}function P(a){var b=[],c={};t(a,function(a,f){var e=R(a.element),k=0<=["enter","move"].indexOf(a.event);e=a.structural?l(e):[];if(e.length){var d=k?"to":"from";t(e,function(a){var b=a.getAttribute("ng-animate-ref");c[b]=c[b]||{};c[b][d]={animationID:f,element:B(a)}})}else b.push(a)});
var k={},e={};t(c,function(c,f){f=c.from;c=c.to;if(f&&c){var d=a[f.animationID],l=a[c.animationID],n=f.animationID.toString();if(!e[n]){var g=e[n]={structural:!0,beforeStart:function(){d.beforeStart();l.beforeStart()},close:function(){d.close();l.close()},classes:w(d.classes,l.classes),from:d,to:l,anchors:[]};g.classes.length?b.push(g):(b.push(d),b.push(l))}e[n].anchors.push({out:f.element,"in":c.element})}else f=f?f.animationID:c.animationID,c=f.toString(),k[c]||(k[c]=!0,b.push(a[f]))});return b}
function w(a,b){a=a.split(" ");b=b.split(" ");for(var c=[],f=0;f<a.length;f++){var e=a[f];if("ng-"!==e.substring(0,3))for(var d=0;d<b.length;d++)if(e===b[d]){c.push(e);break}}return c.join(" ")}function u(a){for(var c=b.length-1;0<=c;c--){var e=g.get(b[c])(a);if(e)return e}}function E(a,b){function c(a){(a=a.data("$$animationRunner"))&&a.setHost(b)}a.from&&a.to?(c(a.from.element),c(a.to.element)):c(a.element)}function n(){var a=m.data("$$animationRunner");!a||"leave"===G&&y.$$domOperationFired||a.end()}
function e(b){m.off("$destroy",n);m.removeData("$$animationRunner");Y(m,y);ia(m,y);y.domOperation();H&&a.removeClass(m,H);m.removeClass("ng-animate");r.complete(!b)}y=na(y);var ja=0<=["enter","move","leave"].indexOf(G),r=new h({end:function(){e()},cancel:function(){e(!0)}});if(!b.length)return e(),r;m.data("$$animationRunner",r);var sa=Ea(m.attr("class"),Ea(y.addClass,y.removeClass)),H=y.tempClasses;H&&(sa+=" "+H,y.tempClasses=null);if(ja){var F="ng-"+G+"-prepare";a.addClass(m,F)}q.push({element:m,
classes:sa,event:G,structural:ja,options:y,beforeStart:function(){m.addClass("ng-animate");H&&a.addClass(m,H);F&&(a.removeClass(m,F),F=null)},close:e});m.on("$destroy",n);if(1<q.length)return r;d.$$postDigest(function(){var a=[];t(q,function(b){b.element.data("$$animationRunner")?a.push(b):b.close()});q.length=0;var b=P(a),e=[];t(b,function(a){e.push({domNode:R(a.from?a.from.element:a.element),fn:function(){a.beforeStart();var b=a.close;if((a.anchors?a.from.element||a.to.element:a.element).data("$$animationRunner")){var c=
u(a);if(c)var f=c.start}f?(f=f(),f.done(function(a){b(!a)}),E(a,f)):b()}})});J(c(e))});return r}}]}]).provider("$animateCss",["$animateProvider",function(a){var b=Ka(),c=Ka();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(a,g,h,m,J,G,q,Y){function d(a,b){var c=a.parentNode;return(c.$$ngAnimateParentKey||(c.$$ngAnimateParentKey=++w))+"-"+a.getAttribute("class")+"-"+b}function D(d,l,e,h){if(0<b.count(e)){var n=c.get(e);
n||(l=V(l,"-stagger"),g.addClass(d,l),n=Ia(a,d,h),n.animationDuration=Math.max(n.animationDuration,0),n.transitionDuration=Math.max(n.transitionDuration,0),g.removeClass(d,l),c.put(e,n))}return n||{}}function y(a){u.push(a);q.waitUntilQuiet(function(){b.flush();c.flush();for(var a=J(),e=0;e<u.length;e++)u[e](a);u.length=0})}function l(c,d,e){d=b.get(e);d||(d=Ia(a,c,Wa),"infinite"===d.animationIterationCount&&(d.animationIterationCount=1));b.put(e,d);c=d;e=c.animationDelay;d=c.transitionDelay;c.maxDelay=
e&&d?Math.max(e,d):e||d;c.maxDuration=Math.max(c.animationDuration*c.animationIterationCount,c.transitionDuration);return c}var P=W(g),w=0,u=[];return function(a,c){function e(){r()}function n(){r(!0)}function r(b){if(!(K||Z&&E)){K=!0;E=!1;f.$$skipPreparationClasses||g.removeClass(a,fa);g.removeClass(a,T);xa(k,!1);oa(k,!1);t(w,function(a){k.style[a[0]]=""});P(a,f);ia(a,f);Object.keys(u).length&&t(u,function(a,b){a?k.style.setProperty(b,a):k.style.removeProperty(b)});if(f.onDone)f.onDone();C&&C.length&&
a.off(C.join(" "),F);var c=a.data("$$animateCss");c&&(m.cancel(c[0].timer),a.removeData("$$animateCss"));x&&x.complete(!b)}}function q(a){p.blockTransition&&oa(k,a);p.blockKeyframeAnimation&&xa(k,!!a)}function H(){x=new h({end:e,cancel:n});y(M);r();return{$$willAnimate:!1,start:function(){return x},end:e}}function F(a){a.stopPropagation();var b=a.originalEvent||a;a=b.$manualTimeStamp||Date.now();b=parseFloat(b.elapsedTime.toFixed(3));Math.max(a-B,0)>=X&&b>=L&&(Z=!0,r())}function ha(){function b(){if(!K){q(!1);
t(w,function(a){k.style[a[0]]=a[1]});P(a,f);g.addClass(a,T);if(p.recalculateTimingStyles){N=k.getAttribute("class")+" "+fa;Q=d(k,N);A=l(k,N,Q);ba=A.maxDelay;ma=Math.max(ba,0);L=A.maxDuration;if(0===L){r();return}p.hasTransitions=0<A.transitionDuration;p.hasAnimations=0<A.animationDuration}p.applyAnimationDelay&&(ba="boolean"!==typeof f.delay&&ya(f.delay)?parseFloat(f.delay):ba,ma=Math.max(ba,0),A.animationDelay=ba,ea=[pa,ba+"s"],w.push(ea),k.style[ea[0]]=ea[1]);X=1E3*ma;da=1E3*L;if(f.easing){var b=
f.easing;if(p.hasTransitions){var e=S+"TimingFunction";w.push([e,b]);k.style[e]=b}p.hasAnimations&&(e=ca+"TimingFunction",w.push([e,b]),k.style[e]=b)}A.transitionDuration&&C.push(Ma);A.animationDuration&&C.push(Na);B=Date.now();var h=X+1.5*da;e=B+h;b=a.data("$$animateCss")||[];var H=!0;if(b.length){var n=b[0];(H=e>n.expectedEndTime)?m.cancel(n.timer):b.push(r)}H&&(h=m(c,h,!1),b[0]={timer:h,expectedEndTime:e},b.push(r),a.data("$$animateCss",b));if(C.length)a.on(C.join(" "),F);f.to&&(f.cleanupStyles&&
La(u,k,Object.keys(f.to)),Ha(a,f))}}function c(){var b=a.data("$$animateCss");if(b){for(var c=1;c<b.length;c++)b[c]();a.removeData("$$animateCss")}}if(!K)if(k.parentNode){var e=function(a){if(Z)E&&a&&(E=!1,r());else if(E=!a,A.animationDuration)if(a=xa(k,E),E)w.push(a);else{var b=w,c=b.indexOf(a);0<=a&&b.splice(c,1)}},h=0<W&&(A.transitionDuration&&0===aa.transitionDuration||A.animationDuration&&0===aa.animationDuration)&&Math.max(aa.animationDelay,aa.transitionDelay);h?m(b,Math.floor(h*W*1E3),!1):
b();v.resume=function(){e(!0)};v.pause=function(){e(!1)}}else r()}var f=c||{};f.$$prepared||(f=na(Ba(f)));var u={},k=R(a);if(!k||!k.parentNode||!Y.enabled())return H();var w=[],J=a.attr("class"),z=Qa(f),K,E,Z,x,v,B,C=[];if(0===f.duration||!G.animations&&!G.transitions)return H();var O=f.event&&U(f.event)?f.event.join(" "):f.event,I="";c="";O&&f.structural?I=V(O,"ng-",!0):O&&(I=O);f.addClass&&(c+=V(f.addClass,"-add"));f.removeClass&&(c.length&&(c+=" "),c+=V(f.removeClass,"-remove"));f.applyClassesEarly&&
c.length&&P(a,f);var fa=[I,c].join(" ").trim(),N=J+" "+fa,T=V(fa,"-active");J=z.to&&0<Object.keys(z.to).length;if(!(0<(f.keyframeStyle||"").length||J||fa))return H();if(0<f.stagger){z=parseFloat(f.stagger);var aa={transitionDelay:z,animationDelay:z,transitionDuration:0,animationDuration:0}}else{var Q=d(k,N);aa=D(k,fa,Q,Xa)}f.$$skipPreparationClasses||g.addClass(a,fa);f.transitionStyle&&(z=[S,f.transitionStyle],ka(k,z),w.push(z));0<=f.duration&&(z=0<k.style[S].length,z=Ja(f.duration,z),ka(k,z),w.push(z));
f.keyframeStyle&&(z=[ca,f.keyframeStyle],ka(k,z),w.push(z));var W=aa?0<=f.staggerIndex?f.staggerIndex:b.count(Q):0;(O=0===W)&&!f.skipBlocking&&oa(k,9999);var A=l(k,N,Q),ba=A.maxDelay;var ma=Math.max(ba,0);var L=A.maxDuration;var p={};p.hasTransitions=0<A.transitionDuration;p.hasAnimations=0<A.animationDuration;p.hasTransitionAll=p.hasTransitions&&"all"===A.transitionProperty;p.applyTransitionDuration=J&&(p.hasTransitions&&!p.hasTransitionAll||p.hasAnimations&&!p.hasTransitions);p.applyAnimationDuration=
f.duration&&p.hasAnimations;p.applyTransitionDelay=ya(f.delay)&&(p.applyTransitionDuration||p.hasTransitions);p.applyAnimationDelay=ya(f.delay)&&p.hasAnimations;p.recalculateTimingStyles=0<c.length;if(p.applyTransitionDuration||p.applyAnimationDuration)L=f.duration?parseFloat(f.duration):L,p.applyTransitionDuration&&(p.hasTransitions=!0,A.transitionDuration=L,z=0<k.style[S+"Property"].length,w.push(Ja(L,z))),p.applyAnimationDuration&&(p.hasAnimations=!0,A.animationDuration=L,w.push([Aa,L+"s"]));if(0===
L&&!p.recalculateTimingStyles)return H();if(null!=f.delay){if("boolean"!==typeof f.delay){var ea=parseFloat(f.delay);ma=Math.max(ea,0)}p.applyTransitionDelay&&w.push([la,ea+"s"]);p.applyAnimationDelay&&w.push([pa,ea+"s"])}null==f.duration&&0<A.transitionDuration&&(p.recalculateTimingStyles=p.recalculateTimingStyles||O);var X=1E3*ma;var da=1E3*L;f.skipBlocking||(p.blockTransition=0<A.transitionDuration,p.blockKeyframeAnimation=0<A.animationDuration&&0<aa.animationDelay&&0===aa.animationDuration);f.from&&
(f.cleanupStyles&&La(u,k,Object.keys(f.from)),Ga(a,f));p.blockTransition||p.blockKeyframeAnimation?q(L):f.skipBlocking||oa(k,!1);return{$$willAnimate:!0,end:e,start:function(){if(!K)return v={end:e,cancel:n,resume:null,pause:null},x=new h(v),y(ha),x}}}}]}]).provider("$$animateCssDriver",["$$animationProvider",function(a){a.drivers.push("$$animateCssDriver");this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(a,c,d,g,h,m,J){function b(a,
b){I(a)&&(a=a.split(" "));I(b)&&(b=b.split(" "));return a.filter(function(a){return-1===b.indexOf(a)}).join(" ")}function q(c,h,g){function l(a){var b={},c=R(a).getBoundingClientRect();t(["width","height","top","left"],function(a){var f=c[a];switch(a){case "top":f+=C.scrollTop;break;case "left":f+=C.scrollLeft}b[a]=Math.floor(f)+"px"});return b}function m(){var c=(g.attr("class")||"").replace(/\bng-\S+\b/g,""),d=b(c,q);c=b(q,c);d=a(e,{to:l(g),addClass:"ng-anchor-in "+d,removeClass:"ng-anchor-out "+
c,delay:!0});return d.$$willAnimate?d:null}function n(){e.remove();h.removeClass("ng-animate-shim");g.removeClass("ng-animate-shim")}var e=B(R(h).cloneNode(!0)),q=(e.attr("class")||"").replace(/\bng-\S+\b/g,"");h.addClass("ng-animate-shim");g.addClass("ng-animate-shim");e.addClass("ng-anchor");y.append(e);c=function(){var b=a(e,{addClass:"ng-anchor-out",delay:!0,from:l(h)});return b.$$willAnimate?b:null}();if(!c){var r=m();if(!r)return n()}var w=c||r;return{start:function(){function a(){c&&c.end()}
var b,c=w.start();c.done(function(){c=null;if(!r&&(r=m()))return c=r.start(),c.done(function(){c=null;n();b.complete()}),c;n();b.complete()});return b=new d({end:a,cancel:a})}}}function Y(a,b,c,h){var l=O(a,M),g=O(b,M),e=[];t(h,function(a){(a=q(c,a.out,a["in"]))&&e.push(a)});if(l||g||0!==e.length)return{start:function(){function a(){t(b,function(a){a.end()})}var b=[];l&&b.push(l.start());g&&b.push(g.start());t(e,function(a){b.push(a.start())});var c=new d({end:a,cancel:a});d.all(b,function(a){c.complete(a)});
return c}}}function O(b){var c=b.element,d=b.options||{};b.structural&&(d.event=b.event,d.structural=!0,d.applyClassesEarly=!0,"leave"===b.event&&(d.onDone=d.domOperation));d.preparationClasses&&(d.event=X(d.event,d.preparationClasses));b=a(c,d);return b.$$willAnimate?b:null}if(!h.animations&&!h.transitions)return M;var C=J[0].body;c=R(g);var y=B(c.parentNode&&11===c.parentNode.nodeType||C.contains(c)?c:C);return function(a){return a.from&&a.to?Y(a.from,a.to,a.classes,a.anchors):O(a)}}]}]).provider("$$animateJs",
["$animateProvider",function(a){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(b,c,d){function g(c){c=U(c)?c:c.split(" ");for(var d=[],h={},g=0;g<c.length;g++){var m=c[g],t=a.$$registeredAnimations[m];t&&!h[m]&&(d.push(b.get(t)),h[m]=!0)}return d}var h=W(d);return function(a,b,d,q){function m(){q.domOperation();h(a,q)}function G(a,b,d,e,f){switch(d){case "animate":b=[b,e.from,e.to,f];break;case "setClass":b=[b,D,w,f];break;case "addClass":b=[b,D,f];break;case "removeClass":b=[b,w,f];
break;default:b=[b,f]}b.push(e);if(a=a.apply(a,b))if(Ca(a.start)&&(a=a.start()),a instanceof c)a.done(f);else if(Ca(a))return a;return M}function C(a,b,d,e,f){var g=[];t(e,function(e){var h=e[f];h&&g.push(function(){var e=!1,f=function(a){e||(e=!0,(k||M)(a),g.complete(!a))};var g=new c({end:function(){f()},cancel:function(){f(!0)}});var k=G(h,a,b,d,function(a){f(!1===a)});return g})});return g}function y(a,b,d,e,f){var g=C(a,b,d,e,f);if(0===g.length){if("beforeSetClass"===f){var h=C(a,"removeClass",
d,e,"beforeRemoveClass");var l=C(a,"addClass",d,e,"beforeAddClass")}else"setClass"===f&&(h=C(a,"removeClass",d,e,"removeClass"),l=C(a,"addClass",d,e,"addClass"));h&&(g=g.concat(h));l&&(g=g.concat(l))}if(0!==g.length)return function(a){var b=[];g.length&&t(g,function(a){b.push(a())});b.length?c.all(b,a):a();return function(a){t(b,function(b){a?b.cancel():b.end()})}}}var l=!1;3===arguments.length&&qa(d)&&(q=d,d=null);q=na(q);d||(d=a.attr("class")||"",q.addClass&&(d+=" "+q.addClass),q.removeClass&&(d+=
" "+q.removeClass));var D=q.addClass,w=q.removeClass,u=g(d),E;if(u.length){if("leave"===b){var n="leave";var e="afterLeave"}else n="before"+b.charAt(0).toUpperCase()+b.substr(1),e=b;"enter"!==b&&"move"!==b&&(E=y(a,b,q,u,n));var B=y(a,b,q,u,e)}if(E||B){var r;return{$$willAnimate:!0,end:function(){r?r.end():(l=!0,m(),ia(a,q),r=new c,r.complete(!0));return r},start:function(){function b(b){l=!0;m();ia(a,q);r.complete(b)}if(r)return r;r=new c;var d,e=[];E&&e.push(function(a){d=E(a)});e.length?e.push(function(a){m();
a(!0)}):m();B&&e.push(function(a){d=B(a)});r.setHost({end:function(){l||((d||M)(void 0),b(void 0))},cancel:function(){l||((d||M)(!0),b(!0))}});c.chain(e,b);return r}}}}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(a){a.drivers.push("$$animateJsDriver");this.$get=["$$animateJs","$$AnimateRunner",function(a,c){function b(b){return a(b.element,b.event,b.classes,b.options)}return function(a){if(a.from&&a.to){var d=b(a.from),g=b(a.to);return d||g?{start:function(){function a(){return function(){t(b,
function(a){a.end()})}}var b=[];d&&b.push(d.start());g&&b.push(g.start());c.all(b,function(a){h.complete(a)});var h=new c({end:a(),cancel:a()});return h}}:void 0}return b(a)}}]}])})(window,window.angular);

/*
 AngularJS v1.6.4-local+sha.617b36117
 (c) 2010-2017 Google, Inc. http://angularjs.org
 License: MIT
*/
'use strict';(function(t,p){'use strict';var d="BUTTON A INPUT TEXTAREA SELECT DETAILS SUMMARY".split(" "),h=function(a,b){if(-1!==b.indexOf(a[0].nodeName))return!0};p.module("ngAria",["ng"]).info({angularVersion:"1.6.4-local+sha.617b36117"}).provider("$aria",function(){function a(a,d,k,m){return function(e,f,c){var g=c.$normalize(d);!b[g]||h(f,k)||c[g]||e.$watch(c[a],function(a){a=m?!a:!!a;f.attr(d,a)})}}var b={ariaHidden:!0,ariaChecked:!0,ariaReadonly:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaValue:!0,
tabindex:!0,bindKeydown:!0,bindRoleForClick:!0};this.config=function(a){b=p.extend(b,a)};this.$get=function(){return{config:function(a){return b[a]},$$watchExpr:a}}}).directive("ngShow",["$aria",function(a){return a.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(a){return a.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngValue",["$aria",function(a){return a.$$watchExpr("ngValue","aria-checked",d,!1)}]).directive("ngChecked",["$aria",function(a){return a.$$watchExpr("ngChecked",
"aria-checked",d,!1)}]).directive("ngReadonly",["$aria",function(a){return a.$$watchExpr("ngReadonly","aria-readonly",d,!1)}]).directive("ngRequired",["$aria",function(a){return a.$$watchExpr("ngRequired","aria-required",d,!1)}]).directive("ngModel",["$aria",function(a){function b(k,b,e,f){return a.config(b)&&!e.attr(k)&&(f||!h(e,d))}function f(a,b){return!b.attr("role")&&b.attr("type")===a&&!h(b,d)}function l(a,b){b=a.type;a=a.role;return"checkbox"===(b||a)||"menuitemcheckbox"===a?"checkbox":"radio"===
(b||a)||"menuitemradio"===a?"radio":"range"===b||"progressbar"===a||"slider"===a?"range":""}return{restrict:"A",require:"ngModel",priority:200,compile:function(d,m){var e=l(m,d);return{post:function(d,c,g,n){function m(){return n.$modelValue}function h(a){c.attr("aria-checked",g.value==n.$viewValue)}function l(){c.attr("aria-checked",!n.$isEmpty(n.$viewValue))}var k=b("tabindex","tabindex",c,!1);switch(e){case "radio":case "checkbox":f(e,c)&&c.attr("role",e);b("aria-checked","ariaChecked",c,!1)&&
d.$watch(m,"radio"===e?h:l);k&&c.attr("tabindex",0);break;case "range":f(e,c)&&c.attr("role","slider");if(a.config("ariaValue")){var q=!c.attr("aria-valuemin")&&(g.hasOwnProperty("min")||g.hasOwnProperty("ngMin")),p=!c.attr("aria-valuemax")&&(g.hasOwnProperty("max")||g.hasOwnProperty("ngMax")),r=!c.attr("aria-valuenow");q&&g.$observe("min",function(a){c.attr("aria-valuemin",a)});p&&g.$observe("max",function(a){c.attr("aria-valuemax",a)});r&&d.$watch(m,function(a){c.attr("aria-valuenow",a)})}k&&c.attr("tabindex",
0)}!g.hasOwnProperty("ngRequired")&&n.$validators.required&&b("aria-required","ariaRequired",c,!1)&&g.$observe("required",function(){c.attr("aria-required",!!g.required)});b("aria-invalid","ariaInvalid",c,!0)&&d.$watch(function(){return n.$invalid},function(a){c.attr("aria-invalid",!!a)})}}}}}]).directive("ngDisabled",["$aria",function(a){return a.$$watchExpr("ngDisabled","aria-disabled",d,!1)}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(a,b,d,h){b.attr("aria-live")||
b.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(a,b){return{restrict:"A",compile:function(f,l){var k=b(l.ngClick);return function(b,e,f){if(!h(e,d)&&(a.config("bindRoleForClick")&&!e.attr("role")&&e.attr("role","button"),a.config("tabindex")&&!e.attr("tabindex")&&e.attr("tabindex",0),a.config("bindKeydown")&&!f.ngKeydown&&!f.ngKeypress&&!f.ngKeyup))e.on("keydown",function(a){function c(){k(b,{$event:a})}var d=a.which||a.keyCode;32!==d&&13!==d||b.$apply(c)})}}}}]).directive("ngDblclick",
["$aria",function(a){return function(b,f,l){!a.config("tabindex")||f.attr("tabindex")||h(f,d)||f.attr("tabindex",0)}}])})(window,window.angular);

/*
 AngularJS v1.6.4-local+sha.617b36117
 (c) 2010-2017 Google, Inc. http://angularjs.org
 License: MIT
*/
'use strict';(function(r,f){'use strict';function J(f){var h=[];w(h,B).chars(f);return h.join("")}var x=f.$$minErr("$sanitize"),C,m,D,E,p,B,F,G,w;f.module("ngSanitize",[]).provider("$sanitize",function(){function h(a,c){var b={};a=a.split(",");var d;for(d=0;d<a.length;d++)b[c?p(a[d]):a[d]]=!0;return b}function K(a){for(var c={},b=0,d=a.length;b<d;b++){var y=a[b];c[y.name]=y.value}return c}function H(a){return a.replace(/&/g,"&amp;").replace(L,function(a){var b=a.charCodeAt(0);a=a.charCodeAt(1);return"&#"+(1024*
(b-55296)+(a-56320)+65536)+";"}).replace(M,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function I(a){for(;a;){if(a.nodeType===r.Node.ELEMENT_NODE)for(var c=a.attributes,b=0,d=c.length;b<d;b++){var y=c[b],e=y.name.toLowerCase();if("xmlns:ns1"===e||0===e.lastIndexOf("ns1:",0))a.removeAttributeNode(y),b--,d--}(c=a.firstChild)&&I(c);a=t("nextSibling",a)}}function t(a,c){if((a=c[a])&&F.call(c,a))throw x("elclob",c.outerHTML||c.outerText);return a}var z=!1;this.$get=
["$$sanitizeUri",function(a){z&&m(n,N);return function(c){var b=[];G(c,w(b,function(b,c){return!/^unsafe:/.test(a(b,c))}));return b.join("")}}];this.enableSvg=function(a){return E(a)?(z=a,this):z};C=f.bind;m=f.extend;D=f.forEach;E=f.isDefined;p=f.lowercase;B=f.noop;G=function(a,c){null===a||void 0===a?a="":"string"!==typeof a&&(a=""+a);g.innerHTML=a;var b=5;do{if(0===b)throw x("uinput");b--;r.document.documentMode&&I(g);a=g.innerHTML;g.innerHTML=a}while(a!==g.innerHTML);for(a=g.firstChild;a;){switch(a.nodeType){case 1:c.start(a.nodeName.toLowerCase(),
K(a.attributes));break;case 3:c.chars(a.textContent)}if(!(b=a.firstChild)&&(1===a.nodeType&&c.end(a.nodeName.toLowerCase()),b=t("nextSibling",a),!b))for(;null==b;){a=t("parentNode",a);if(a===g)break;b=t("nextSibling",a);1===a.nodeType&&c.end(a.nodeName.toLowerCase())}a=b}for(;a=g.firstChild;)g.removeChild(a)};w=function(a,c){var b=!1,d=C(a,a.push);return{start:function(a,e){a=p(a);!b&&A[a]&&(b=a);b||!0!==n[a]||(d("<"),d(a),D(e,function(b,e){var f=p(e),g="img"===a&&"src"===f||"background"===f;!0!==
u[f]||!0===l[f]&&!c(b,g)||(d(" "),d(e),d('="'),d(H(b)),d('"'))}),d(">"))},end:function(a){a=p(a);b||!0!==n[a]||!0===e[a]||(d("</"),d(a),d(">"));a==b&&(b=!1)},chars:function(a){b||d(H(a))}}};F=r.Node.prototype.contains||function(a){return!!(this.compareDocumentPosition(a)&16)};var L=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,M=/([^#-~ |!])/g,e=h("area,br,col,hr,img,wbr"),v=h("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),k=h("rp,rt"),q=m({},k,v);v=m({},v,h("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul"));
k=m({},k,h("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));var N=h("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),A=h("script,style"),n=m({},e,v,k,q),l=h("background,cite,href,longdesc,src,xlink:href");q=h("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width");
k=h("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",
!0);var u=m({},l,k,q),g;(function(a){if(a.document&&a.document.implementation)a=a.document.implementation.createHTMLDocument("inert");else throw x("noinert");var c=(a.documentElement||a.getDocumentElement()).getElementsByTagName("body");1===c.length?g=c[0]:(c=a.createElement("html"),g=a.createElement("body"),c.appendChild(g),a.appendChild(c))})(r)}).info({angularVersion:"1.6.4-local+sha.617b36117"});f.module("ngSanitize").filter("linky",["$sanitize",function(h){var m=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,
p=/^mailto:/i,r=f.$$minErr("linky"),t=f.isDefined,z=f.isFunction,w=f.isObject,x=f.isString;return function(e,f,k){function q(a){a&&l.push(J(a))}function v(a,c){var b,d=A(a);l.push("<a ");for(b in d)l.push(b+'="'+d[b]+'" ');!t(f)||"target"in d||l.push('target="',f,'" ');l.push('href="',a.replace(/"/g,"&quot;"),'">');q(c);l.push("</a>")}if(null==e||""===e)return e;if(!x(e))throw r("notstring",e);for(var A=z(k)?k:w(k)?function(){return k}:function(){return{}},n=e,l=[],u,g;e=n.match(m);)u=e[0],e[2]||
e[4]||(u=(e[3]?"http://":"mailto:")+u),g=e.index,q(n.substr(0,g)),v(u,e[0].replace(p,"")),n=n.substring(g+e[0].length);q(n);return h(l.join(""))}}])})(window,window.angular);

/*

Angular Material Design
(c) 2016 Google, Inc.
License: MIT
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){function a(a){return $jscomp.SYMBOL_PREFIX+(a||"")+b++}var b=0;return a}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var e=c++;return{value:b(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};
$jscomp.polyfill=function(a,b){if(b){var c=$jscomp.global;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:a=function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");var goog=goog||{};goog.global=this;goog.isDef=function(a){return void 0!==a};goog.isString=function(a){return"string"==typeof a};goog.isBoolean=function(a){return"boolean"==typeof a};goog.isNumber=function(a){return"number"==typeof a};goog.exportPath_=function(a,b,c){a=a.split(".");c=c||goog.global;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&goog.isDef(b)?c[d]=b:c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}};
goog.define=function(a,b){goog.exportPath_(a,b)};goog.DEBUG=!0;goog.LOCALE="en";goog.TRUSTED_SITE=!0;goog.STRICT_MODE_COMPATIBLE=!1;goog.DISALLOW_TEST_ONLY_CODE=!goog.DEBUG;goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1;goog.provide=function(a){if(goog.isInModuleLoader_())throw Error("goog.provide can not be used within a module.");goog.constructNamespace_(a)};goog.constructNamespace_=function(a,b){goog.exportPath_(a,b)};goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/;
goog.module=function(a){if(!goog.isString(a)||!a||-1==a.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+a+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");
if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");goog.moduleLoaderState_.moduleName=a};goog.module.get=function(a){return goog.module.getInternal_(a)};goog.module.getInternal_=function(){return null};goog.ModuleType={ES6:"es6",GOOG:"goog"};goog.moduleLoaderState_=null;goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()};
goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG};goog.isInEs6ModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6};goog.getModulePath_=function(){return goog.moduleLoaderState_&&goog.moduleLoaderState_.path};goog.module.declareLegacyNamespace=function(){goog.moduleLoaderState_.declareLegacyNamespace=!0};
goog.setTestOnly=function(a){if(goog.DISALLOW_TEST_ONLY_CODE)throw a=a||"",Error("Importing test-only code into non-debug environment"+(a?": "+a:"."));};goog.forwardDeclare=function(){};goog.getObjectByName=function(a,b){a=a.split(".");b=b||goog.global;for(var c=0;c<a.length;c++)if(b=b[a[c]],!goog.isDefAndNotNull(b))return null;return b};goog.globalize=function(a,b){b=b||goog.global;for(var c in a)b[c]=a[c]};goog.addDependency=function(){};goog.useStrictRequires=!1;goog.ENABLE_DEBUG_LOADER=!0;
goog.logToConsole_=function(a){goog.global.console&&goog.global.console.error(a)};goog.isPath_=function(a){return 0==a.indexOf("./")||0==a.indexOf("../")};goog.require=function(a){if(goog.isPath_(a))if(goog.isInGoogModuleLoader_()){if(!goog.getModulePath_())throw Error("Current module has no path information. Was it loaded via goog.loadModule without a path argument?");goog.normalizePath_(goog.getModulePath_()+"/../"+a)}else throw Error("Cannot require by path outside of goog.modules.");};
goog.basePath="";goog.nullFunction=function(){};goog.abstractMethod=function(){throw Error("unimplemented abstract method");};goog.addSingletonGetter=function(a){a.instance_=void 0;a.getInstance=function(){if(a.instance_)return a.instance_;goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=a);return a.instance_=new a}};goog.instantiatedSingletons_=[];goog.LOAD_MODULE_USING_EVAL=!0;goog.SEAL_MODULE_EXPORTS=goog.DEBUG;goog.loadedModules_={};goog.DEPENDENCIES_ENABLED=!1;
goog.TRANSPILE="detect";goog.TRANSPILER="transpile.js";goog.hasBadLetScoping=null;goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(b){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping};goog.workaroundSafari10EvalBug=function(a){return"(function(){"+a+"\n;})();\n"};
goog.loadModule=function(a,b){var c=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG,path:b};if(goog.isFunction(a))var d=a.call(void 0,{});else if(goog.isString(a))goog.useSafari10Workaround()&&(a=goog.workaroundSafari10EvalBug(a)),d=goog.loadModuleFromSource_.call(void 0,a);else throw Error("Invalid module definition");var e=goog.moduleLoaderState_.moduleName;if(goog.isString(e)&&e){goog.moduleLoaderState_.declareLegacyNamespace?
goog.constructNamespace_(e,d):goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==typeof d&&null!=d&&Object.seal(d);var f={exports:d,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName};goog.loadedModules_[e]=f;b&&(goog.loadedModules_[b]=f)}else throw Error('Invalid module name "'+e+'"');}finally{goog.moduleLoaderState_=c}};goog.loadModuleFromSource_=function(a){var b={};eval(a);return b};
goog.normalizePath_=function(a){a=a.split("/");for(var b=0;b<a.length;)"."==a[b]?a.splice(b,1):b&&".."==a[b]&&a[b-1]&&".."!=a[b-1]?a.splice(--b,2):b++;return a.join("/")};goog.loadFileSync_=function(a){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(a);try{var b=new goog.global.XMLHttpRequest;b.open("get",a,!1);b.send();return 0==b.status||200==b.status?b.responseText:null}catch(c){return null}};
goog.transpile_=function(a,b){var c=goog.global.$jscomp;c||(goog.global.$jscomp=c={});var d=c.transpile;if(!d){var e=goog.basePath+goog.TRANSPILER,f=goog.loadFileSync_(e);if(f){(function(){eval(f+"\n//# sourceURL="+e)}).call(goog.global);if(goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile;
c=goog.global.$jscomp;d=c.transpile}}if(!d){var g=" requires transpilation but no transpiler was found.";g+=' Please add "//javascript/closure:transpiler" as a data dependency to ensure it is included.';d=c.transpile=function(a,b){goog.logToConsole_(b+g);return a}}return d(a,b)};
goog.typeOf=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b};goog.isNull=function(a){return null===a};goog.isDefAndNotNull=function(a){return null!=a};goog.isArray=function(a){return"array"==goog.typeOf(a)};goog.isArrayLike=function(a){var b=goog.typeOf(a);return"array"==b||"object"==b&&"number"==typeof a.length};goog.isDateLike=function(a){return goog.isObject(a)&&"function"==typeof a.getFullYear};goog.isFunction=function(a){return"function"==goog.typeOf(a)};
goog.isObject=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b};goog.getUid=function(a){return a[goog.UID_PROPERTY_]||(a[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.hasUid=function(a){return!!a[goog.UID_PROPERTY_]};goog.removeUid=function(a){null!==a&&"removeAttribute"in a&&a.removeAttribute(goog.UID_PROPERTY_);try{delete a[goog.UID_PROPERTY_]}catch(b){}};goog.UID_PROPERTY_="closure_uid_"+(1E9*Math.random()>>>0);goog.uidCounter_=0;goog.getHashCode=goog.getUid;
goog.removeHashCode=goog.removeUid;goog.cloneObject=function(a){var b=goog.typeOf(a);if("object"==b||"array"==b){if("function"===typeof a.clone)return a.clone();b="array"==b?[]:{};for(var c in a)b[c]=goog.cloneObject(a[c]);return b}return a};goog.bindNative_=function(a,b,c){return a.call.apply(a.bind,arguments)};
goog.bindJs_=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}};goog.bind=function(a,b,c){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_;return goog.bind.apply(null,arguments)};
goog.partial=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}};goog.mixin=function(a,b){for(var c in b)a[c]=b[c]};goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date};
goog.globalEval=function(a){if(goog.global.execScript)goog.global.execScript(a,"JavaScript");else if(goog.global.eval){if(null==goog.evalWorksForGlobals_){try{goog.global.eval("var _evalTest_ = 1;")}catch(d){}if("undefined"!=typeof goog.global._evalTest_){try{delete goog.global._evalTest_}catch(d){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(a);else{var b=goog.global.document,c=b.createElement("SCRIPT");c.type="text/javascript";c.defer=
!1;c.appendChild(b.createTextNode(a));b.head.appendChild(c);b.head.removeChild(c)}}else throw Error("goog.globalEval not available");};goog.evalWorksForGlobals_=null;
goog.getCssName=function(a,b){if("."==String(a).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+a);var c=function(a){return goog.cssNameMapping_[a]||a},d=function(a){a=a.split("-");for(var b=[],e=0;e<a.length;e++)b.push(c(a[e]));return b.join("-")};d=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?c:d:function(a){return a};a=b?a+"-"+d(b):d(a);return goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(a):a};
goog.setCssNameMapping=function(a,b){goog.cssNameMapping_=a;goog.cssNameMappingStyle_=b};goog.getMsg=function(a,b){b&&(a=a.replace(/\{\$([^}]+)}/g,function(a,d){return null!=b&&d in b?b[d]:a}));return a};goog.getMsgWithFallback=function(a){return a};goog.exportSymbol=function(a,b,c){goog.exportPath_(a,b,c)};goog.exportProperty=function(a,b,c){a[b]=c};
goog.inherits=function(a,b){function c(){}c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(a,c,f){for(var e=Array(arguments.length-2),d=2;d<arguments.length;d++)e[d-2]=arguments[d];return b.prototype[c].apply(a,e)}};
goog.base=function(a,b,c){var d=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!d)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if("undefined"!==typeof d.superClass_){for(var e=Array(arguments.length-1),f=1;f<arguments.length;f++)e[f-1]=arguments[f];return d.superClass_.constructor.apply(a,e)}if("string"!=typeof b&&"symbol"!=typeof b)throw Error("method names provided to goog.base must be a string or a symbol");
e=Array(arguments.length-2);for(f=2;f<arguments.length;f++)e[f-2]=arguments[f];f=!1;for(var g=a.constructor;g;g=g.superClass_&&g.superClass_.constructor)if(g.prototype[b]===d)f=!0;else if(f)return g.prototype[b].apply(a,e);if(a[b]===d)return a.constructor.prototype[b].apply(a,e);throw Error("goog.base called from a method of one name to a method of a different name");};goog.scope=function(a){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");a.call(goog.global)};
goog.defineClass=function(a,b){var c=b.constructor,d=b.statics;c&&c!=Object.prototype.constructor||(c=function(){throw Error("cannot instantiate an interface (no constructor defined).");});c=goog.defineClass.createSealingConstructor_(c,a);a&&goog.inherits(c,a);delete b.constructor;delete b.statics;goog.defineClass.applyProperties_(c.prototype,b);null!=d&&(d instanceof Function?d(c):goog.defineClass.applyProperties_(c,d));return c};goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG;
goog.defineClass.createSealingConstructor_=function(a,b){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return a;var c=!goog.defineClass.isUnsealable_(b),d=function(){var b=a.apply(this,arguments)||this;b[goog.UID_PROPERTY_]=b[goog.UID_PROPERTY_];this.constructor===d&&c&&Object.seal instanceof Function&&Object.seal(b);return b};return d};goog.defineClass.isUnsealable_=function(a){return a&&a.prototype&&a.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]};goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
goog.defineClass.applyProperties_=function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);for(var d=0;d<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;d++)c=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[d],Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};goog.tagUnsealableClass=function(){};goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable";/*
 AngularJS Material Design
 https://github.com/angular/material
 @license MIT
 v1.1.8
*/
var ngmaterial={};DetectNgTouch.$inject=["$log","$injector"];MdCoreConfigure.$inject=["$provide","$mdThemingProvider"];rAFDecorator.$inject=["$delegate"];qDecorator.$inject=["$delegate"];angular.module("material.core","ngAnimate material.core.animate material.core.layout material.core.interaction material.core.gestures material.core.theming".split(" ")).config(MdCoreConfigure).run(DetectNgTouch);
function DetectNgTouch(a,b){b.has("$swipe")&&a.warn("You are using the ngTouch module. \nAngularJS Material already has mobile click, tap, and swipe support... \nngTouch is not supported with AngularJS Material!")}function MdCoreConfigure(a,b){a.decorator("$$rAF",["$delegate",rAFDecorator]);a.decorator("$q",["$delegate",qDecorator]);b.theme("default").primaryPalette("indigo").accentPalette("pink").warnPalette("deep-orange").backgroundPalette("grey")}
function rAFDecorator(a){a.throttle=function(b){var c,d,e,f;return function(){c=arguments;f=this;e=b;d||(d=!0,a(function(){e.apply(f,Array.prototype.slice.call(c));d=!1}))}};return a}function qDecorator(a){a.resolve||(a.resolve=a.when);return a}MdAutofocusDirective.$inject=["$parse"];angular.module("material.core").directive("mdAutofocus",MdAutofocusDirective).directive("mdAutoFocus",MdAutofocusDirective).directive("mdSidenavFocus",MdAutofocusDirective);
function MdAutofocusDirective(a){function b(b,d,e){function c(a){angular.isUndefined(a)&&(a=!0);d.toggleClass("md-autofocus",!!a)}e=e.mdAutoFocus||e.mdAutofocus||e.mdSidenavFocus;c(a(e)(b));e&&b.$watch(e,c)}return{restrict:"A",link:{pre:b}}}angular.module("material.core").factory("$mdColorUtil",ColorUtilFactory);
function ColorUtilFactory(){function a(a){var b="#"===a[0]?a.substr(1):a;a=b.length/3;var c=b.substr(0,a),d=b.substr(a,a);b=b.substr(2*a);1===a&&(c+=c,d+=d,b+=b);return"rgba("+parseInt(c,16)+","+parseInt(d,16)+","+parseInt(b,16)+",0.1)"}function b(a){a=(a=a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===a.length?"#"+("0"+parseInt(a[1],10).toString(16)).slice(-2)+("0"+parseInt(a[2],10).toString(16)).slice(-2)+("0"+parseInt(a[3],10).toString(16)).slice(-2):"";return a.toUpperCase()}
function c(a){return a.replace(")",", 0.1)").replace("(","a(")}function d(a){return a?a.replace("rgba","rgb").replace(/,[^),]+\)/,")"):"rgb(0,0,0)"}return{rgbaToHex:b,hexToRgba:a,rgbToRgba:c,rgbaToRgb:d}}angular.module("material.core").factory("$mdConstant",MdConstantFactory);
function MdConstantFactory(){function a(a){var c=e+"-"+a;c=b(c);var f=c.charAt(0).toLowerCase()+c.substring(1);return angular.isDefined(d.style[a])?a:angular.isDefined(d.style[c])?c:angular.isDefined(d.style[f])?f:a}function b(a){return a.replace(g,function(a,b,c,d){return d?c.toUpperCase():c})}function c(a){var b,c=/^(Moz|webkit|ms)(?=[A-Z])/;for(b in a.style)if(a=c.exec(b))return a[0]}var d=document.createElement("div"),e=c(d),f=/webkit/i.test(e),g=/([:\-_]+(.))/g,k={isInputKey:function(a){return 31<=
a.keyCode&&90>=a.keyCode},isNumPadKey:function(a){return 3===a.location&&97<=a.keyCode&&105>=a.keyCode},isMetaKey:function(a){return 91<=a.keyCode&&93>=a.keyCode},isFnLockKey:function(a){return 112<=a.keyCode&&145>=a.keyCode},isNavigationKey:function(a){var b=k.KEY_CODE;b=[b.SPACE,b.ENTER,b.UP_ARROW,b.DOWN_ARROW];return-1!=b.indexOf(a.keyCode)},hasModifierKey:function(a){return a.ctrlKey||a.metaKey||a.altKey},ELEMENT_MAX_PIXELS:1533917,BEFORE_NG_ARIA:210,KEY_CODE:{COMMA:188,SEMICOLON:186,ENTER:13,
ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,TAB:9,BACKSPACE:8,DELETE:46},CSS:{TRANSITIONEND:"transitionend"+(f?" webkitTransitionEnd":""),ANIMATIONEND:"animationend"+(f?" webkitAnimationEnd":""),TRANSFORM:a("transform"),TRANSFORM_ORIGIN:a("transformOrigin"),TRANSITION:a("transition"),TRANSITION_DURATION:a("transitionDuration"),ANIMATION_PLAY_STATE:a("animationPlayState"),ANIMATION_DURATION:a("animationDuration"),ANIMATION_NAME:a("animationName"),
ANIMATION_TIMING:a("animationTimingFunction"),ANIMATION_DIRECTION:a("animationDirection")},MEDIA:{xs:"(max-width: 599px)","gt-xs":"(min-width: 600px)",sm:"(min-width: 600px) and (max-width: 959px)","gt-sm":"(min-width: 960px)",md:"(min-width: 960px) and (max-width: 1279px)","gt-md":"(min-width: 1280px)",lg:"(min-width: 1280px) and (max-width: 1919px)","gt-lg":"(min-width: 1920px)",xl:"(min-width: 1920px)",landscape:"(orientation: landscape)",portrait:"(orientation: portrait)",print:"print"},MEDIA_PRIORITY:"xl gt-lg lg gt-md md gt-sm sm gt-xs xs landscape portrait print".split(" ")};
return k}angular.module("material.core").config(["$provide",function(a){a.decorator("$mdUtil",["$delegate",function(a){a.iterator=MdIterator;return a}])}]);
function MdIterator(a,b){function c(){return[].concat(q)}function d(){return q.length}function e(a){return q.length&&-1<a&&a<q.length}function f(a){return a?e(l(a)+1):!1}function g(a){return a?e(l(a)-1):!1}function k(a){return e(a)?q[a]:null}function h(a,b){return q.filter(function(c){return c[a]===b})}function m(a,b){if(!a)return-1;angular.isNumber(b)||(b=q.length);q.splice(b,0,a);return l(a)}function r(a){p(a)&&q.splice(l(a),1)}function l(a){return q.indexOf(a)}function p(a){return a&&-1<l(a)}function n(){return q.length?
q[0]:null}function v(){return q.length?q[q.length-1]:null}function u(a,c,d,f){d=d||w;for(c=l(c);;){if(!e(c))return null;c+=a?-1:1;var g=null;e(c)?g=q[c]:b&&(g=a?v():n(),c=l(g));if(null===g||c===f)return null;if(d(g))return g;angular.isUndefined(f)&&(f=c)}}var w=function(){return!0};a&&!angular.isArray(a)&&(a=Array.prototype.slice.call(a));b=!!b;var q=a||[];return{items:c,count:d,inRange:e,contains:p,indexOf:l,itemAt:k,findBy:h,add:m,remove:r,first:n,last:v,next:angular.bind(null,u,!1),previous:angular.bind(null,
u,!0),hasPrevious:g,hasNext:f}}mdMediaFactory.$inject=["$mdConstant","$rootScope","$window"];angular.module("material.core").factory("$mdMedia",mdMediaFactory);
function mdMediaFactory(a,b,c){function d(b){var d=m[b];angular.isUndefined(d)&&(d=b,d=a.MEDIA[d]||("("!==d.charAt(0)?"("+d+")":d),d=m[b]=d);b=l[d];angular.isUndefined(b)&&((b=r[d])||(b=r[d]=c.matchMedia(d)),b.addListener(e),b=l[b.media]=!!b.matches);return b}function e(a){b.$evalAsync(function(){l[a.media]=!!a.matches})}function f(a){return r[a]}function g(b,c){for(var d=0;d<a.MEDIA_PRIORITY.length;d++){var e=a.MEDIA_PRIORITY[d];if(r[m[e]].matches&&(e=h(b,c+"-"+e),b[e]))return b[e]}return b[h(b,
c)]}function k(b,c,d){var e=[];b.forEach(function(b){var f=h(c,b);angular.isDefined(c[f])&&e.push(c.$observe(f,angular.bind(void 0,d,null)));for(var g in a.MEDIA)f=h(c,b+"-"+g),angular.isDefined(c[f])&&e.push(c.$observe(f,angular.bind(void 0,d,g)))});return function(){e.forEach(function(a){a()})}}function h(a,b){return p[b]||(p[b]=a.$normalize(b))}var m={},r={},l={},p={};d.getResponsiveAttribute=g;d.getQuery=f;d.watchResponsiveAttributes=k;return d}
angular.module("material.core").config(["$provide",function(a){a.decorator("$mdUtil",["$delegate",function(a){a.prefixer=MdPrefixer;return a}])}]);
function MdPrefixer(a,b){function c(a){a=angular.isArray(a)?a:[a];a.forEach(function(b){k.forEach(function(c){a.push(c+"-"+b)})});return a}function d(a){a=angular.isArray(a)?a:[a];return c(a).map(function(a){return"["+a+"]"}).join(",")}function e(a,b){a=g(a);if(!a)return!1;b=c(b);for(var d=0;d<b.length;d++)if(a.hasAttribute(b[d]))return!0;return!1}function f(a,b){(a=g(a))&&c(b).forEach(function(b){a.removeAttribute(b)})}function g(a){a=a[0]||a;if(a.nodeType)return a}var k=["data","x"];return a?b?
d(a):c(a):{buildList:c,buildSelector:d,hasAttribute:e,removeAttribute:f}}UtilFactory.$inject="$document $timeout $compile $rootScope $$mdAnimate $interpolate $log $rootElement $window $$rAF".split(" ");var nextUniqueId=0;angular.module("material.core").factory("$mdUtil",UtilFactory);
function UtilFactory(a,b,c,d,e,f,g,k,h,m){function r(a){return a?-1<String(a).indexOf("px")||-1<String(a).indexOf("%")?a:a+"px":"0"}var l=f.startSymbol(),p=f.endSymbol(),n="{{"===l&&"}}"===p,v=function(a,b,c){var d=!1;a&&a.length&&(a=h.getComputedStyle(a[0]),d=angular.isDefined(a[b])&&(c?a[b]==c:!0));return d},u={dom:{},now:window.performance&&window.performance.now?angular.bind(window.performance,window.performance.now):Date.now||function(){return(new Date).getTime()},getModelOption:function(a,b){if(a.$options)return a=
a.$options,a.getOption?a.getOption(b):a[b]},bidi:function(b,c,d,e){var f=!("rtl"==a[0].dir||"rtl"==a[0].body.dir);if(0==arguments.length)return f?"ltr":"rtl";var g=angular.element(b);f&&angular.isDefined(d)?g.css(c,r(d)):!f&&angular.isDefined(e)&&g.css(c,r(e))},bidiProperty:function(b,c,d,e){var f=!("rtl"==a[0].dir||"rtl"==a[0].body.dir);b=angular.element(b);f&&angular.isDefined(c)?(b.css(c,r(e)),b.css(d,"")):!f&&angular.isDefined(d)&&(b.css(d,r(e)),b.css(c,""))},clientRect:function(a,b,c){a=a[0]||
a;b=b||a.offsetParent||document.body;b=b[0]||b;a=a.getBoundingClientRect();c=c?b.getBoundingClientRect():{left:0,top:0,width:0,height:0};return{left:a.left-c.left,top:a.top-c.top,width:a.width,height:a.height}},offsetRect:function(a,b){return u.clientRect(a,b,!0)},nodesToArray:function(a){a=a||[];for(var b=[],c=0;c<a.length;++c)b.push(a.item(c));return b},getViewportTop:function(){return window.scrollY||window.pageYOffset||0},findFocusTarget:function(a,b){function c(a,b){var c;(a=a[0].querySelectorAll(b))&&
a.length&&a.length&&angular.forEach(a,function(a){a=angular.element(a);var b=a.hasClass("md-autofocus");b&&(c=a)});return c}var d=this.prefixer("md-autofocus",!0);var e=c(a,b||d);e||b==d||(e=c(a,this.prefixer("md-auto-focus",!0)))||(e=c(a,d));return e},disableScrollAround:function(b,c,d){function e(a){function b(a){a.preventDefault()}a=angular.element(a||g);if(d.disableScrollMask)var c=a;else c=angular.element('<div class="md-scroll-mask">  <div class="md-scroll-mask-bar"></div></div>'),a.append(c);
c.on("wheel",b);c.on("touchmove",b);return function(){c.off("wheel");c.off("touchmove");!d.disableScrollMask&&c[0].parentNode&&c[0].parentNode.removeChild(c[0])}}function f(){var b=a[0].documentElement,c=b.style.cssText||"",d=g.style.cssText||"",e=u.getViewportTop(),f=g.clientWidth,k=g.scrollHeight>g.clientHeight+1,h=0<b.scrollTop?b:g;k&&angular.element(g).css({position:"fixed",width:"100%",top:-e+"px"});g.clientWidth<f&&(g.style.overflow="hidden");k&&(b.style.overflowY="scroll");return function(){g.style.cssText=
d;b.style.cssText=c;h.scrollTop=e}}d=d||{};u.disableScrollAround._count=Math.max(0,u.disableScrollAround._count||0);u.disableScrollAround._count++;if(u.disableScrollAround._restoreScroll)return u.disableScrollAround._restoreScroll;var g=a[0].body,k=f(),h=e(c);return u.disableScrollAround._restoreScroll=function(){0>=--u.disableScrollAround._count&&(k(),h(),delete u.disableScrollAround._restoreScroll)}},enableScrolling:function(){var a=this.disableScrollAround._restoreScroll;a&&a()},floatingScrollbars:function(){if(void 0===
this.floatingScrollbars.cached){var b=angular.element("<div><div></div></div>").css({width:"100%","z-index":-1,position:"absolute",height:"35px","overflow-y":"scroll"});b.children().css("height","60px");a[0].body.appendChild(b[0]);this.floatingScrollbars.cached=b[0].offsetWidth==b[0].childNodes[0].offsetWidth;b.remove()}return this.floatingScrollbars.cached},forceFocus:function(a){var b=a[0]||a;document.addEventListener("click",function z(a){a.target===b&&a.$focus&&(b.focus(),a.stopImmediatePropagation(),
a.preventDefault(),b.removeEventListener("click",z))},!0);a=document.createEvent("MouseEvents");a.initMouseEvent("click",!1,!0,window,{},0,0,0,0,!1,!1,!1,!1,0,null);a.$material=!0;a.$focus=!0;b.dispatchEvent(a)},createBackdrop:function(a,b){return c(u.supplant('<md-backdrop class="{0}">',[b]))(a)},supplant:function(a,b,c){c=c||/\{([^{}]*)\}/g;return a.replace(c,function(a,c){c=c.split(".");var d=b;try{for(var e in c)c.hasOwnProperty(e)&&(d=d[c[e]])}catch(E){d=a}return"string"===typeof d||"number"===
typeof d?d:a})},fakeNgModel:function(){return{$fake:!0,$setTouched:angular.noop,$setViewValue:function(a){this.$viewValue=a;this.$render(a);this.$viewChangeListeners.forEach(function(a){a()})},$isEmpty:function(a){return 0===(""+a).length},$parsers:[],$formatters:[],$viewChangeListeners:[],$render:angular.noop}},debounce:function(a,c,d,e){var f;return function(){var g=d,k=Array.prototype.slice.call(arguments);b.cancel(f);f=b(function(){f=void 0;a.apply(g,k)},c||10,e)}},throttle:function(a,b){var c;
return function(){var d=this,e=arguments,f=u.now();if(!c||f-c>b)a.apply(d,e),c=f}},time:function(a){var b=u.now();a();return u.now()-b},valueOnUse:function(a,b,c){var d=null,e=Array.prototype.slice.call(arguments),f=3<e.length?e.slice(3):[];Object.defineProperty(a,b,{get:function(){null===d&&(d=c.apply(a,f));return d}})},nextUid:function(){return""+nextUniqueId++},disconnectScope:function(a){if(a&&a.$root!==a&&!a.$$destroyed){var b=a.$parent;a.$$disconnected=!0;b.$$childHead===a&&(b.$$childHead=a.$$nextSibling);
b.$$childTail===a&&(b.$$childTail=a.$$prevSibling);a.$$prevSibling&&(a.$$prevSibling.$$nextSibling=a.$$nextSibling);a.$$nextSibling&&(a.$$nextSibling.$$prevSibling=a.$$prevSibling);a.$$nextSibling=a.$$prevSibling=null}},reconnectScope:function(a){if(a&&a.$root!==a&&a.$$disconnected){var b=a.$parent;a.$$disconnected=!1;a.$$prevSibling=b.$$childTail;b.$$childHead?(b.$$childTail.$$nextSibling=a,b.$$childTail=a):b.$$childHead=b.$$childTail=a}},getClosest:function(a,b,c){if(angular.isString(b)){var d=
b.toUpperCase();b=function(a){return a.nodeName.toUpperCase()===d}}a instanceof angular.element&&(a=a[0]);c&&(a=a.parentNode);if(!a)return null;do if(b(a))return a;while(a=a.parentNode);return null},elementContains:function(a,b){var c=window.Node&&window.Node.prototype&&Node.prototype.contains;c=c?angular.bind(a,a.contains):angular.bind(a,function(c){return a===b||!!(this.compareDocumentPosition(c)&16)});return c(b)},extractElementByName:function(a,b,c,d){function e(a){var d;a:{if(d=a)for(var f=0,
g=d.length;f<g;f++)if(d[f].nodeName.toLowerCase()===b){d=d[f];break a}d=null}if(!d){if(c){if(a)for(d=0,f=a.length;d<f;d++)if(g=a[d],!p)for(var k=0,h=g.childNodes.length;k<h;k++)var p=p||e([g.childNodes[k]])}else p=null;d=p}return d}var f=e(a);!f&&d&&g.warn(u.supplant("Unable to find node '{0}' in element '{1}'.",[b,a[0].outerHTML]));return angular.element(f||a)},initOptionalProperties:function(a,b,c){c=c||{};angular.forEach(a.$$isolateBindings,function(d,e){d.optional&&angular.isUndefined(a[e])&&
(d=angular.isDefined(b[d.attrName]),a[e]=angular.isDefined(c[e])?c[e]:d)})},nextTick:function(a,c,e){function f(){var a=g.queue,b=g.digest;g.queue=[];g.timeout=null;g.digest=!1;a.forEach(function(a){var b=a.scope&&a.scope.$$destroyed;b||a.callback()});b&&d.$digest()}var g=u.nextTick,k=g.timeout,h=g.queue||[];h.push({scope:e,callback:a});null==c&&(c=!0);g.digest=g.digest||c;g.queue=h;return k||(g.timeout=b(f,0,!1))},processTemplate:function(a){return n?a:a&&angular.isString(a)?a.replace(/\{\{/g,l).replace(/}}/g,
p):a},getParentWithPointerEvents:function(a){for(a=a.parent();v(a,"pointer-events","none");)a=a.parent();return a},getNearestContentElement:function(a){for(a=a.parent()[0];a&&a!==k[0]&&a!==document.body&&"MD-CONTENT"!==a.nodeName.toUpperCase();)a=a.parentNode;return a},checkStickySupport:function(){var b=angular.element("<div>");a[0].body.appendChild(b[0]);for(var c=["sticky","-webkit-sticky"],d=0;d<c.length;++d)if(b.css({position:c[d],top:0,"z-index":2}),b.css("position")==c[d]){var e=c[d];break}b.remove();
return e},parseAttributeBoolean:function(a,b){return""===a||!!a&&(!1===b||"false"!==a&&"0"!==a)},hasComputedStyle:v,isParentFormSubmitted:function(a){return(a=(a=u.getClosest(a,"form"))?angular.element(a).controller("form"):null)?a.$submitted:!1},animateScrollTo:function(a,b,c){function d(){var h=c||1E3;var p=u.now()-k;p>h?h=e+f:(h=(p/=h)*p,p*=h,h=e+f*(-2*p+3*h));a.scrollTop=h;(g?h<b:h>b)&&m(d)}var e=a.scrollTop,f=b-e,g=e<b,k=u.now();m(d)},uniq:function(a){if(a)return a.filter(function(a,b,c){return c.indexOf(a)===
b})}};u.dom.animator=e(u);return u}angular.element.prototype.focus=angular.element.prototype.focus||function(){this.length&&this[0].focus();return this};angular.element.prototype.blur=angular.element.prototype.blur||function(){this.length&&this[0].blur();return this};MdAriaService.$inject=["$$rAF","$log","$window","$interpolate"];angular.module("material.core").provider("$mdAria",MdAriaProvider);
function MdAriaProvider(){function a(){b.showWarnings=!1}var b={showWarnings:!0};return{disableWarnings:a,$get:["$$rAF","$log","$window","$interpolate",function(a,d,e,f){return MdAriaService.apply(b,arguments)}]}}
function MdAriaService(a,b,c,d){function e(a,d,e){var f=angular.element(a)[0]||a,g;if(g=f){if(!(g=f.hasAttribute(d)&&0!==f.getAttribute(d).length)){var k=f;g=d;var h=k.hasChildNodes(),p=!1;if(h)for(k=k.childNodes,h=0;h<k.length;h++){var n=k[h];1===n.nodeType&&n.hasAttribute(g)&&(n=n.currentStyle?n.currentStyle:c.getComputedStyle(n),(n="none"===n.display)||(p=!0))}g=p}g=!g}g&&(e=angular.isString(e)?e.trim():"",e.length?a.attr(d,e):l&&b.warn('ARIA: Attribute "',d,'", required for accessibility, is missing on node:',
f))}function f(b,c,d){a(function(){e(b,c,d())})}function g(a,b){var c=h(a)||"",g=-1<c.indexOf(d.startSymbol());g?f(a,b,function(){return h(a)}):e(a,b,c)}function k(a,b){var c=h(a),f=-1<c.indexOf(d.startSymbol());f||c||e(a,b,c)}function h(a){a=a[0]||a;for(var b=document.createTreeWalker(a,NodeFilter.SHOW_TEXT,null,!1),c="",d;d=b.nextNode();){var e;a:{for(e=d;e.parentNode&&(e=e.parentNode)!==a;)if(e.getAttribute&&"true"===e.getAttribute("aria-hidden")){e=!0;break a}e=void 0}e||(c+=d.textContent)}return c.trim()||
""}function m(a){a=angular.element(a)[0]||a;return a.hasAttribute?a.hasAttribute("aria-label")||a.hasAttribute("aria-labelledby")||a.hasAttribute("aria-describedby"):!1}function r(a,b){function c(a){if(!m(a))return!1;if(a.hasAttribute("role"))switch(a.getAttribute("role").toLowerCase()){case "command":case "definition":case "directory":case "grid":case "list":case "listitem":case "log":case "marquee":case "menu":case "menubar":case "note":case "presentation":case "separator":case "scrollbar":case "status":case "tablist":return!1}switch(a.tagName.toLowerCase()){case "abbr":case "acronym":case "address":case "applet":case "audio":case "b":case "bdi":case "bdo":case "big":case "blockquote":case "br":case "canvas":case "caption":case "center":case "cite":case "code":case "col":case "data":case "dd":case "del":case "dfn":case "dir":case "div":case "dl":case "em":case "embed":case "fieldset":case "figcaption":case "font":case "h1":case "h2":case "h3":case "h4":case "h5":case "h6":case "hgroup":case "html":case "i":case "ins":case "isindex":case "kbd":case "keygen":case "label":case "legend":case "li":case "map":case "mark":case "menu":case "object":case "ol":case "output":case "pre":case "presentation":case "q":case "rt":case "ruby":case "samp":case "small":case "source":case "span":case "status":case "strike":case "strong":case "sub":case "sup":case "svg":case "tbody":case "td":case "th":case "thead":case "time":case "tr":case "track":case "tt":case "ul":case "var":return!1}return!0}
b=b||1;a=angular.element(a)[0]||a;if(!a.parentNode)return!1;if(c(a.parentNode))return!0;b--;return b?r(a.parentNode,b):!1}var l=this.showWarnings;return{expect:e,expectAsync:f,expectWithText:g,expectWithoutText:k,getText:h,hasAriaLabel:m,parentHasAriaLabel:r}}MdGesture.$inject=["$$MdGestureHandler","$$rAF","$timeout"];attachToDocument.$inject=["$mdGesture","$$MdGestureHandler"];var HANDLERS={},pointer,lastPointer,forceSkipClickHijack=!1,maxClickDistance=6,lastLabelClickPos=null,isInitialized=!1;
angular.module("material.core.gestures",[]).provider("$mdGesture",MdGestureProvider).factory("$$MdGestureHandler",MdGestureHandler).run(attachToDocument);function MdGestureProvider(){}MdGestureProvider.prototype={skipClickHijack:function(){return forceSkipClickHijack=!0},setMaxClickDistance:function(a){maxClickDistance=parseInt(a)},$get:["$$MdGestureHandler","$$rAF","$timeout",function(a,b,c){return new MdGesture(a,b,c)}]};
function MdGesture(a,b,c){function d(a){return function(b,c){c.distance<this.state.options.maxDistance&&this.dispatchEvent(b,a,c)}}function e(a,b,c){var d=HANDLERS[b.replace(/^\$md./,"")];if(!d)throw Error("Failed to register element with handler "+b+". Available handlers: "+Object.keys(HANDLERS).join(", "));return d.registerElement(a,c)}function f(b,c){var d=new a(b);angular.extend(d,c);HANDLERS[b]=d;return l}function g(){for(var a=document.createElement("div"),b=" webkit Moz MS ms o".split(" "),
c=0;c<b.length;c++){var d=b[c];d=d?d+"TouchAction":"touchAction";if(angular.isDefined(a.style[d]))return d}}var k=navigator.userAgent||navigator.vendor||window.opera,h=k.match(/ipad|iphone|ipod/i);k=k.match(/android/i);var m=g(),r="undefined"!==typeof window.jQuery&&angular.element===window.jQuery,l={handler:f,register:e,isAndroid:k,isIos:h,isHijackingClicks:(h||k)&&!r&&!forceSkipClickHijack};l.isHijackingClicks&&(l.handler("click",{options:{maxDistance:maxClickDistance},onEnd:d("click")}),l.handler("focus",
{options:{maxDistance:maxClickDistance},onEnd:function(a,b){b.distance<this.state.options.maxDistance&&canFocus(a.target)&&(this.dispatchEvent(a,"focus",b),a.target.focus())}}),l.handler("mouseup",{options:{maxDistance:maxClickDistance},onEnd:d("mouseup")}),l.handler("mousedown",{onStart:function(a){this.dispatchEvent(a,"mousedown")}}));return l.handler("press",{onStart:function(a){this.dispatchEvent(a,"$md.pressdown")},onEnd:function(a){this.dispatchEvent(a,"$md.pressup")}}).handler("hold",{options:{maxDistance:6,
delay:500},onCancel:function(){c.cancel(this.state.timeout)},onStart:function(a,b){if(!this.state.registeredParent)return this.cancel();this.state.pos={x:b.x,y:b.y};this.state.timeout=c(angular.bind(this,function(){this.dispatchEvent(a,"$md.hold");this.cancel()}),this.state.options.delay,!1)},onMove:function(a,b){m||"touchmove"!==a.type||a.preventDefault();a=this.state.pos.x-b.x;b=this.state.pos.y-b.y;Math.sqrt(a*a+b*b)>this.options.maxDistance&&this.cancel()},onEnd:function(){this.onCancel()}}).handler("drag",
{options:{minDistance:6,horizontal:!0,cancelMultiplier:1.5},onSetup:function(a,b){m&&(this.oldTouchAction=a[0].style[m],a[0].style[m]=b.horizontal?"pan-y":"pan-x")},onCleanup:function(a){this.oldTouchAction&&(a[0].style[m]=this.oldTouchAction)},onStart:function(){this.state.registeredParent||this.cancel()},onMove:function(a,b){m||"touchmove"!==a.type||a.preventDefault();if(this.state.dragPointer)this.dispatchDragMove(a);else{if(this.state.options.horizontal){var c=Math.abs(b.distanceX)>this.state.options.minDistance;
b=Math.abs(b.distanceY)>this.state.options.minDistance*this.state.options.cancelMultiplier}else c=Math.abs(b.distanceY)>this.state.options.minDistance,b=Math.abs(b.distanceX)>this.state.options.minDistance*this.state.options.cancelMultiplier;c?(this.state.dragPointer=makeStartPointer(a),updatePointerState(a,this.state.dragPointer),this.dispatchEvent(a,"$md.dragstart",this.state.dragPointer)):b&&this.cancel()}},dispatchDragMove:b.throttle(function(a){this.state.isRunning&&(updatePointerState(a,this.state.dragPointer),
this.dispatchEvent(a,"$md.drag",this.state.dragPointer))}),onEnd:function(a){this.state.dragPointer&&(updatePointerState(a,this.state.dragPointer),this.dispatchEvent(a,"$md.dragend",this.state.dragPointer))}}).handler("swipe",{options:{minVelocity:.65,minDistance:10},onEnd:function(a,b){Math.abs(b.velocityX)>this.state.options.minVelocity&&Math.abs(b.distanceX)>this.state.options.minDistance?(b="left"==b.directionX?"$md.swipeleft":"$md.swiperight",this.dispatchEvent(a,b)):Math.abs(b.velocityY)>this.state.options.minVelocity&&
Math.abs(b.distanceY)>this.state.options.minDistance&&(b="up"==b.directionY?"$md.swipeup":"$md.swipedown",this.dispatchEvent(a,b))}})}function GestureHandler(a){this.name=a;this.state={}}
function MdGestureHandler(){function a(a,b,c){c=c||pointer;b=new angular.element.Event(b);b.$material=!0;b.pointer=c;b.srcEvent=a;angular.extend(b,{clientX:c.x,clientY:c.y,screenX:c.x,screenY:c.y,pageX:c.x,pageY:c.y,ctrlKey:a.ctrlKey,altKey:a.altKey,shiftKey:a.shiftKey,metaKey:a.metaKey});angular.element(c.target).trigger(b)}function b(a,b,c){c=c||pointer;if("click"===b||"mouseup"==b||"mousedown"==b){var d=document.createEvent("MouseEvents");d.initMouseEvent(b,!0,!0,window,a.detail,c.x,c.y,c.x,c.y,
a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget||null)}else d=document.createEvent("CustomEvent"),d.initCustomEvent(b,!0,!0,{});d.$material=!0;d.pointer=c;d.srcEvent=a;c.target.dispatchEvent(d)}var c="undefined"!==typeof window.jQuery&&angular.element===window.jQuery;GestureHandler.prototype={options:{},dispatchEvent:c?a:b,onSetup:angular.noop,onCleanup:angular.noop,onStart:angular.noop,onMove:angular.noop,onEnd:angular.noop,onCancel:angular.noop,start:function(a,b){if(!this.state.isRunning){var c=
this.getNearestParent(a.target),d=c&&c.$mdGesture[this.name]||{};this.state={isRunning:!0,options:angular.extend({},this.options,d),registeredParent:c};this.onStart(a,b)}},move:function(a,b){if(this.state.isRunning)this.onMove(a,b)},end:function(a,b){this.state.isRunning&&(this.onEnd(a,b),this.state.isRunning=!1)},cancel:function(a,b){this.onCancel(a,b);this.state={}},getNearestParent:function(a){for(;a;){if((a.$mdGesture||{})[this.name])return a;a=a.parentNode}return null},registerElement:function(a,
b){function c(){delete a[0].$mdGesture[d.name];a.off("$destroy",c);d.onCleanup(a,b||{})}var d=this;a[0].$mdGesture=a[0].$mdGesture||{};a[0].$mdGesture[this.name]=b||{};a.on("$destroy",c);d.onSetup(a,b||{});return c}};return GestureHandler}
function attachToDocument(a,b){function c(a){var b=!a.clientX&&!a.clientY;b||a.$material||a.isIonicTap||lastLabelClickPos&&lastLabelClickPos.x==a.x&&lastLabelClickPos.y==a.y||"mousedown"===a.type&&(canFocus(a.target)||canFocus(document.activeElement))||(a.preventDefault(),a.stopPropagation())}function d(a){var b=0===a.clientX&&0===a.clientY,c=a.target&&"submit"===a.target.type;b||a.$material||a.isIonicTap||lastLabelClickPos&&lastLabelClickPos.x==a.x&&lastLabelClickPos.y==a.y||c?(lastLabelClickPos=
null,"label"==a.target.tagName.toLowerCase()&&(lastLabelClickPos={x:a.x,y:a.y})):(a.preventDefault(),a.stopPropagation(),lastLabelClickPos=null)}function e(a,c){var d;for(d in HANDLERS){var e=HANDLERS[d];e instanceof b&&("start"===a&&e.cancel(),e[a](c,pointer))}}function f(a){if(!pointer){var b=+Date.now();lastPointer&&!typesMatch(a,lastPointer)&&1500>b-lastPointer.endTime||(pointer=makeStartPointer(a),e("start",a))}}function g(a){pointer&&typesMatch(a,pointer)&&(updatePointerState(a,pointer),e("move",
a))}function k(a){pointer&&typesMatch(a,pointer)&&(updatePointerState(a,pointer),pointer.endTime=+Date.now(),"pointercancel"!==a.type&&e("end",a),lastPointer=pointer,pointer=null)}document.contains||(document.contains=function(a){return document.body.contains(a)});!isInitialized&&a.isHijackingClicks&&(document.addEventListener("click",d,!0),document.addEventListener("mouseup",c,!0),document.addEventListener("mousedown",c,!0),document.addEventListener("focus",c,!0),isInitialized=!0);angular.element(document).on("mousedown touchstart pointerdown",
f).on("mousemove touchmove pointermove",g).on("mouseup mouseleave touchend touchcancel pointerup pointercancel",k).on("$$mdGestureReset",function(){lastPointer=pointer=null})}function makeStartPointer(a){var b=getEventPoint(a);a={startTime:+Date.now(),target:a.target,type:a.type.charAt(0)};a.startX=a.x=b.pageX;a.startY=a.y=b.pageY;return a}function typesMatch(a,b){return a&&b&&a.type.charAt(0)===b.type}
function updatePointerState(a,b){var c=getEventPoint(a);a=b.x=c.pageX;c=b.y=c.pageY;b.distanceX=a-b.startX;b.distanceY=c-b.startY;b.distance=Math.sqrt(b.distanceX*b.distanceX+b.distanceY*b.distanceY);b.directionX=0<b.distanceX?"right":0>b.distanceX?"left":"";b.directionY=0<b.distanceY?"down":0>b.distanceY?"up":"";b.duration=+Date.now()-b.startTime;b.velocityX=b.distanceX/b.duration;b.velocityY=b.distanceY/b.duration}
function getEventPoint(a){a=a.originalEvent||a;return a.touches&&a.touches[0]||a.changedTouches&&a.changedTouches[0]||a}function canFocus(a){return!!a&&"-1"!=a.getAttribute("tabindex")&&!a.hasAttribute("disabled")&&(a.hasAttribute("tabindex")||a.hasAttribute("href")||a.isContentEditable||-1!="INPUT SELECT BUTTON TEXTAREA VIDEO AUDIO".split(" ").indexOf(a.nodeName))}angular.module("material.core").provider("$mdCompiler",MdCompilerProvider);MdCompilerProvider.$inject=["$compileProvider"];
function MdCompilerProvider(a){function b(){return d?"function"===typeof a.preAssignBindingsEnabled?a.preAssignBindingsEnabled():1===angular.version.major&&6>angular.version.minor?!0:!1:!0}function c(a,b,c,d,h){this.$q=a;this.$templateRequest=b;this.$injector=c;this.$compile=d;this.$controller=h}var d=!1;this.respectPreAssignBindingsEnabled=function(a){return angular.isDefined(a)?(d=a,this):d};this.$get=["$q","$templateRequest","$injector","$compile","$controller",function(a,b,d,k,h){return new c(a,
b,d,k,h)}];c.prototype.compile=function(a){return a.contentElement?this._prepareContentElement(a):this._compileTemplate(a)};c.prototype._prepareContentElement=function(a){var b=this._fetchContentElement(a);return this.$q.resolve({element:b.element,cleanup:b.restore,locals:{},link:function(){return b.element}})};c.prototype._compileTemplate=function(a){var b=this,c=a.templateUrl,d=a.template||"",e=angular.extend({},a.resolve),m=angular.extend({},a.locals),r=a.transformTemplate||angular.identity;angular.forEach(e,
function(a,c){angular.isString(a)?e[c]=b.$injector.get(a):e[c]=b.$injector.invoke(a)});angular.extend(e,m);e.$$ngTemplate=c?this.$templateRequest(c):this.$q.when(d);return this.$q.all(e).then(function(c){var d=r(c.$$ngTemplate,a);d=a.element||angular.element("<div>").html(d.trim()).contents();return b._compileElement(c,d,a)})};c.prototype._compileElement=function(a,b,c){function d(d){a.$scope=d;if(c.controller){var k=angular.extend({},a,{$element:b});k=e._createController(c,k,a);b.data("$ngControllerController",
k);b.children().data("$ngControllerController",k);g.controller=k}return f(d)}var e=this,f=this.$compile(b),g={element:b,cleanup:b.remove.bind(b),locals:a,link:d};return g};c.prototype._createController=function(a,c,d){c=this.$controller(a.controller,c,!0,a.controllerAs);b()&&a.bindToController&&angular.extend(c.instance,d);c=c();!b()&&a.bindToController&&angular.extend(c,d);angular.isFunction(c.$onInit)&&c.$onInit();return c};c.prototype._fetchContentElement=function(a){function b(a){var b=a.parentNode,
c=a.nextElementSibling;return function(){c?b.insertBefore(a,c):b.appendChild(a)}}var c=a.contentElement;a=null;angular.isString(c)?(c=document.querySelector(c),a=b(c)):(c=c[0]||c,a=document.contains(c)?b(c):function(){c.parentNode&&c.parentNode.removeChild(c)});return{element:angular.element(c),restore:a}}}MdInteractionService.$inject=["$timeout","$mdUtil"];angular.module("material.core.interaction",[]).service("$mdInteraction",MdInteractionService);
function MdInteractionService(a,b){this.$timeout=a;this.$mdUtil=b;this.bodyElement=angular.element(document.body);this.isBuffering=!1;this.lastInteractionTime=this.lastInteractionType=this.bufferTimeout=null;this.inputEventMap={keydown:"keyboard",mousedown:"mouse",mouseenter:"mouse",touchstart:"touch",pointerdown:"pointer",MSPointerDown:"pointer"};this.iePointerMap={2:"touch",3:"touch",4:"mouse"};this.initializeEvents()}
MdInteractionService.prototype.initializeEvents=function(){var a="MSPointerEvent"in window?"MSPointerDown":"PointerEvent"in window?"pointerdown":null;this.bodyElement.on("keydown mousedown",this.onInputEvent.bind(this));if("ontouchstart"in document.documentElement)this.bodyElement.on("touchstart",this.onBufferInputEvent.bind(this));if(a)this.bodyElement.on(a,this.onInputEvent.bind(this))};
MdInteractionService.prototype.onInputEvent=function(a){if(!this.isBuffering){var b=this.inputEventMap[a.type];"pointer"===b&&(b=this.iePointerMap[a.pointerType]||a.pointerType);this.lastInteractionType=b;this.lastInteractionTime=this.$mdUtil.now()}};MdInteractionService.prototype.onBufferInputEvent=function(a){this.$timeout.cancel(this.bufferTimeout);this.onInputEvent(a);this.isBuffering=!0;this.bufferTimeout=this.$timeout(function(){this.isBuffering=!1}.bind(this),650,!1)};
MdInteractionService.prototype.getLastInteractionType=function(){return this.lastInteractionType};MdInteractionService.prototype.isUserInvoked=function(a){a=angular.isNumber(a)?a:15;return this.lastInteractionTime>=this.$mdUtil.now()-a};angular.module("material.core").provider("$$interimElement",InterimElementProvider);
function InterimElementProvider(){function a(a){function b(a){m.optionsFactory=a.options;m.methods=(a.methods||[]).concat(k);return r}function c(a,b){h[a]=b;return r}function f(b,c){c=c||{};c.methods=c.methods||[];c.options=c.options||function(){return{}};if(/^cancel|hide|show$/.test(b))throw Error("Preset '"+b+"' in "+a+" is reserved!");if(-1<c.methods.indexOf("_options"))throw Error("Method '_options' in "+a+" is reserved!");m.presets[b]={methods:c.methods.concat(k),optionsFactory:c.options,argOption:c.argOption};
return r}function g(b,c){function d(a){a=a||{};a._options&&(a=a._options);return g.show(angular.extend({},p,a))}function e(a){return g.destroy(a)}function f(b,d){var e={};e[a]=k;return c.invoke(b||function(){return d},{},e)}var g=b(),k={hide:g.hide,cancel:g.cancel,show:d,destroy:e};var l=m.methods||[];var p=f(m.optionsFactory,{});angular.forEach(h,function(a,b){k[b]=a});angular.forEach(m.presets,function(a,b){function c(a){this._options=angular.extend({},d,a)}var d=f(a.optionsFactory,{}),e=(a.methods||
[]).concat(l);angular.extend(d,{$type:b});angular.forEach(e,function(a){c.prototype[a]=function(b){this._options[a]=b;return this}});a.argOption&&(e="show"+b.charAt(0).toUpperCase()+b.slice(1),k[e]=function(a){a=k[b](a);return k.show(a)});k[b]=function(b){return arguments.length&&a.argOption&&!angular.isObject(b)&&!angular.isArray(b)?(new c)[a.argOption](b):new c(b)}});return k}g.$inject=["$$interimElement","$injector"];var k=["onHide","onShow","onRemove"],h={},m={presets:{}},r={setDefaults:b,addPreset:f,
addMethod:c,$get:g};r.addPreset("build",{methods:"controller controllerAs resolve multiple template templateUrl themable transformTemplate parent contentElement".split(" ")});return r}function b(a,b,e,f,g,k,h,m,r,l,p){return function(){function c(a){a=a||{};var c=new x(a||{}),d=a.multiple?b.resolve():b.all(z);a.multiple||(d=d.then(function(){var a=D.concat(A.map(B.cancel));return b.all(a)}));var e=d.then(function(){return c.show()["catch"](function(a){return a})["finally"](function(){z.splice(z.indexOf(e),
1);A.push(c)})});z.push(e);c.deferred.promise["catch"](function(a){a instanceof Error&&p(a);return a});return c.deferred.promise}function d(a,c){function d(b){var d=b.remove(a,!1,c||{})["catch"](function(a){return a})["finally"](function(){D.splice(D.indexOf(d),1)});A.splice(A.indexOf(b),1);D.push(d);return b.deferred.promise}c=c||{};return c.closeAll?b.all(A.slice().reverse().map(d)):void 0!==c.closeTo?b.all(A.slice(c.closeTo).map(d)):d(A[A.length-1])}function u(a,c){var d=A.pop();if(!d)return b.when(a);
var e=d.remove(a,!0,c||{})["catch"](function(a){return a})["finally"](function(){D.splice(D.indexOf(e),1)});D.push(e);return d.deferred.promise["catch"](angular.noop)}function w(a){return function(){var c=arguments;return A.length?a.apply(B,c):z.length?z[0]["finally"](function(){return a.apply(B,c)}):b.when("No interim elements currently showing up.")}}function q(a){var c=a?null:A.shift(),d=angular.element(a).length&&angular.element(a)[0].parentNode;d&&(a=A.filter(function(a){return a.options.element[0]===
d}),a.length&&(c=a[0],A.splice(A.indexOf(c),1)));return c?c.remove(!1,!1,{$destroy:!0}):b.when(!1)}function x(c){function d(){return b(function(b,d){function e(a){v.deferred.reject(a);d(a)}c.onCompiling&&c.onCompiling(c);p(c).then(function(d){var f=d,k=c;angular.extend(f.locals,k);f=f.link(k.scope);k.element=f;var h=k;var l=f,n=k,m=n.parent;m=angular.isFunction(m)?m(n.scope,l,n):angular.isString(m)?angular.element(a[0].querySelector(m)):angular.element(m);if((m||{}).length)var p=m;else g[0]&&g[0].querySelector&&
(p=g[0].querySelector(":not(svg) > body")),p||(p=g[0]),"#comment"==p.nodeName&&(p=a[0].body),p=angular.element(p);h.parent=p;k.themable&&r(f);x=f;c.cleanupElement=d.cleanup;z=w(x,c,d.controller).then(b,e)})["catch"](e)})}function l(a,d,e){function f(a){v.deferred.reject(a)}if(!x)return b.when(!1);c=angular.extend(c||{},e||{});c.cancelAutoHide&&c.cancelAutoHide();c.element.triggerHandler("$mdInterimElementRemove");if(!0===c.$destroy)return E(c.element,c).then(function(){d&&f(a)||v.deferred.resolve(a)});
b.when(z)["finally"](function(){E(c.element,c).then(function(){d?f(a):v.deferred.resolve(a)},f)});return v.deferred.promise}function n(a){a=a||{};a.template&&(a.template=h.processTemplate(a.template));return angular.extend({preserveScope:!1,cancelAutoHide:angular.noop,scope:a.scope||e.$new(a.isolateScope),onShow:function(a,b,c){return k.enter(b,c.parent)},onRemove:function(a,c){return c&&k.leave(c)||b.when()}},a)}function p(a){var c=a.skipCompile?null:m.compile(a);return c||b(function(b){b({locals:{},
link:function(){return a.element}})})}function q(){var a=angular.noop;if(c.hideDelay){var b=f(B.hide,c.hideDelay);a=function(){f.cancel(b)}}c.cancelAutoHide=function(){a();c.cancelAutoHide=void 0}}function w(a,c,d){var e=c.onShowing||angular.noop,f=c.onComplete||angular.noop;try{e(c.scope,a,c,d)}catch(ba){return b.reject(ba)}return b(function(e,g){try{b.when(c.onShow(c.scope,a,c,d)).then(function(){f(c.scope,a,c);q();e(a)},g)}catch(ia){g(ia.message)}})}function E(a,c){var d=c.onRemoving||angular.noop;
return b(function(e,f){try{var g=b.when(c.onRemove(c.scope,a,c)||!0);d(a,g);c.$destroy?(e(a),!c.preserveScope&&c.scope&&g.then(function(){c.scope.$destroy()})):g.then(function(){!c.preserveScope&&c.scope&&c.scope.$destroy();e(a)},f)}catch(ma){f(ma.message)}})}var v,x,z=b.when(!0);c=n(c);return v={options:c,deferred:b.defer(),show:d,remove:l}}var B,z=[],D=[],A=[];return B={show:c,hide:w(d),cancel:w(u),destroy:q,$injector_:l}}}b.$inject="$document $q $rootScope $timeout $rootElement $animate $mdUtil $mdCompiler $mdTheming $injector $exceptionHandler".split(" ");
a.$get=b;return a}
(function(){function a(a){function g(a){return a.replace(l,"").replace(n,function(a,b,c,d){return d?c.toUpperCase():c})}var l=/^((?:x|data)[:\-_])/i,n=/([:\-_]+(.))/g,p=" xs gt-xs sm gt-sm md gt-md lg gt-lg xl print".split(" "),r=["layout","flex","flex-order","flex-offset","layout-align"],q=["show","hide","layout-padding","layout-margin"];angular.forEach(p,function(b){angular.forEach(r,function(c){c=b?c+"-"+b:c;a.directive(g(c),e(c))});angular.forEach(q,function(c){c=b?c+"-"+b:c;a.directive(g(c),
f(c))})});a.provider("$$mdLayout",function(){return{$get:angular.noop,validateAttributeValue:m,validateAttributeUsage:h,disableLayouts:function(a){A.enabled=!0!==a}}}).directive("mdLayoutCss",c).directive("ngCloak",d("ng-cloak")).directive("layoutWrap",f("layout-wrap")).directive("layoutNowrap",f("layout-nowrap")).directive("layoutNoWrap",f("layout-no-wrap")).directive("layoutFill",f("layout-fill")).directive("layoutLtMd",k("layout-lt-md",!0)).directive("layoutLtLg",k("layout-lt-lg",!0)).directive("flexLtMd",
k("flex-lt-md",!0)).directive("flexLtLg",k("flex-lt-lg",!0)).directive("layoutAlignLtMd",k("layout-align-lt-md")).directive("layoutAlignLtLg",k("layout-align-lt-lg")).directive("flexOrderLtMd",k("flex-order-lt-md")).directive("flexOrderLtLg",k("flex-order-lt-lg")).directive("offsetLtMd",k("flex-offset-lt-md")).directive("offsetLtLg",k("flex-offset-lt-lg")).directive("hideLtMd",k("hide-lt-md")).directive("hideLtLg",k("hide-lt-lg")).directive("showLtMd",k("show-lt-md")).directive("showLtLg",k("show-lt-lg")).config(b)}
function b(){var a=!!document.querySelector("[md-layouts-disabled]");A.enabled=!a}function c(){A.enabled=!1;return{restrict:"A",priority:"900"}}function d(a){return["$timeout",function(b){return{restrict:"A",priority:-10,compile:function(c){if(!A.enabled)return angular.noop;c.addClass(a);return function(c,d){b(function(){d.removeClass(a)},10,!1)}}}}]}function e(a){function b(b,c,d){c=g(c,a,d);var e=d.$observe(d.$normalize(a),c);c(l(a,d,""));b.$on("$destroy",function(){e()})}return["$mdUtil","$interpolate",
"$log",function(c,d,e){n=c;v=d;u=e;return{restrict:"A",compile:function(c,d){if(A.enabled){h(a,d,c,u);m(a,l(a,d,""),r(c,a,d));var e=b}return e||angular.noop}}}]}function f(a){function b(b,c){c.addClass(a)}return["$mdUtil","$interpolate","$log",function(c,d,e){n=c;v=d;u=e;return{restrict:"A",compile:function(c,d){if(A.enabled){m(a,l(a,d,""),r(c,a,d));c.addClass(a);var e=b}return e||angular.noop}}}]}function g(a,b){var c;return function(d){d=m(b,d||"");angular.isDefined(d)&&(c&&a.removeClass(c),c=d?
b+"-"+d.trim().replace(q,"-"):b,a.addClass(c))}}function k(a){var b=a.split("-");return["$log",function(c){c.warn(a+"has been deprecated. Please use a `"+b[0]+"-gt-<xxx>` variant.");return angular.noop}]}function h(a,b,c,d){b=c[0].nodeName.toLowerCase();switch(a.replace(w,"")){case "flex":if("md-button"==b||"fieldset"==b)b="<"+b+" "+a+"></"+b+">",c="https://github.com/philipwalton/flexbugs#9-some-html-elements-cant-be-flex-containers",a="Markup '{0}' may not work as expected in IE Browsers. Consult '{1}' for details.",
d.warn(n.supplant(a,[b,c]))}}function m(a,b,c){var d;if(!(-1<(b||"").indexOf(v.startSymbol()))){switch(a.replace(w,"")){case "layout":p(b,B)||(b=B[0]);break;case "flex":p(b,x)||isNaN(b)&&(b="");break;case "flex-offset":case "flex-order":if(!b||isNaN(+b))b="0";break;case "layout-align":a={main:"start",cross:"stretch"};b=b||"";if(0===b.indexOf("-")||0===b.indexOf(" "))b="none"+b;b=b.toLowerCase().trim().replace(q,"-").split("-");b.length&&"space"===b[0]&&(b=[b[0]+"-"+b[1],b[2]]);0<b.length&&(a.main=
b[0]||a.main);1<b.length&&(a.cross=b[1]||a.cross);0>z.indexOf(a.main)&&(a.main="start");0>D.indexOf(a.cross)&&(a.cross="stretch");b=n.supplant("{main}-{cross}",a);break;case "layout-padding":case "layout-margin":case "layout-fill":case "layout-wrap":case "layout-nowrap":b=""}b!=d&&(c||angular.noop)(b)}return b?b.trim():""}function r(a,b,c){return function(a){-1<(a||"").indexOf(v.startSymbol())||(c[c.$normalize(b)]=a)}}function l(a,b,c){a=b.$normalize(a);return b[a]?b[a].trim().replace(q,"-"):c||null}
function p(a,b,c){a=c&&a?a.replace(q,c):a;var d=!1;a&&b.forEach(function(b){b=c?b.replace(q,c):b;d=d||b===a});return d}var n,v,u,w=/(-gt)?-(sm|md|lg|print)/g,q=/\s+/g,x="grow initial auto none noshrink nogrow".split(" "),B=["row","column"],z=" start center end stretch space-around space-between".split(" "),D=["","start","center","end","stretch"],A={enabled:!0,breakpoints:[]};a(angular.module("material.core.layout",["ng"]))})();MdLiveAnnouncer.$inject=["$timeout"];
angular.module("material.core").service("$mdLiveAnnouncer",MdLiveAnnouncer);function MdLiveAnnouncer(a){this._$timeout=a;this._liveElement=this._createLiveElement();this._announceTimeout=100}MdLiveAnnouncer.prototype.announce=function(a,b){b||(b="polite");var c=this;c._liveElement.textContent="";c._liveElement.setAttribute("aria-live",b);c._$timeout(function(){c._liveElement.textContent=a},c._announceTimeout,!1)};
MdLiveAnnouncer.prototype._createLiveElement=function(){var a=document.createElement("div");a.classList.add("md-visually-hidden");a.setAttribute("role","status");a.setAttribute("aria-atomic","true");a.setAttribute("aria-live","polite");document.body.appendChild(a);return a};
angular.module("material.core.meta",[]).provider("$$mdMeta",function(){function a(a){if(e[a])return!0;var b=document.getElementsByName(a)[0];if(!b)return!1;e[a]=angular.element(b);return!0}function b(b,c){a(b);e[b]?e[b].attr("content",c):(c=angular.element('<meta name="'+b+'" content="'+c+'"/>'),d.append(c),e[b]=c);return function(){e[b].attr("content","");e[b].remove();delete e[b]}}function c(b){if(!a(b))throw Error("$$mdMeta: could not find a meta tag with the name '"+b+"'");return e[b].attr("content")}
var d=angular.element(document.head),e={},f={setMeta:b,getMeta:c};return angular.extend({},f,{$get:function(){return f}})});ComponentRegistry.$inject=["$log","$q"];angular.module("material.core").factory("$mdComponentRegistry",ComponentRegistry);
function ComponentRegistry(a,b){var c,d=[],e={};return c={notFoundError:function(b,c){a.error((c||"")+"No instance found for handle",b)},getInstances:function(){return d},get:function(a){if(!a||""===a)return null;var b;var c=0;for(b=d.length;c<b;c++){var e=d[c];if(e.$$mdHandle===a)return e}return null},register:function(a,b){function c(){var b=d.indexOf(a);-1!==b&&d.splice(b,1)}function f(){var c=e[b];c&&(c.forEach(function(b){b.resolve(a)}),delete e[b])}if(!b)return angular.noop;a.$$mdHandle=b;d.push(a);
f();return c},when:function(a){if(a&&""!==a){var d=b.defer(),f=c.get(a);f?d.resolve(f):(void 0===e[a]&&(e[a]=[]),e[a].push(d));return d.promise}return b.reject("Invalid `md-component-id` value.")}}}
(function(){function a(a){function b(a){return a.hasClass("md-icon-button")?{isMenuItem:a.hasClass("md-menu-item"),fitRipple:!0,center:!0}:{isMenuItem:a.hasClass("md-menu-item"),dimBackground:!0}}return{attach:function(c,e,f){f=angular.extend(b(e),f);return a.attach(c,e,f)}}}a.$inject=["$mdInkRipple"];angular.module("material.core").factory("$mdButtonInkRipple",a)})();
(function(){function a(a){function b(b,c,f){return a.attach(b,c,angular.extend({center:!0,dimBackground:!1,fitRipple:!0},f))}return{attach:b}}a.$inject=["$mdInkRipple"];angular.module("material.core").factory("$mdCheckboxInkRipple",a)})();(function(){function a(a){function b(b,c,f){return a.attach(b,c,angular.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},f))}return{attach:b}}a.$inject=["$mdInkRipple"];angular.module("material.core").factory("$mdListInkRipple",a)})();
InkRippleCtrl.$inject="$scope $element rippleOptions $window $timeout $mdUtil $mdColorUtil".split(" ");InkRippleDirective.$inject=["$mdButtonInkRipple","$mdCheckboxInkRipple"];angular.module("material.core").provider("$mdInkRipple",InkRippleProvider).directive("mdInkRipple",InkRippleDirective).directive("mdNoInk",attrNoDirective).directive("mdNoBar",attrNoDirective).directive("mdNoStretch",attrNoDirective);
function InkRippleDirective(a,b){return{controller:angular.noop,link:function(c,d,e){e.hasOwnProperty("mdInkRippleCheckbox")?b.attach(c,d):a.attach(c,d)}}}function InkRippleProvider(){function a(){b=!0}var b=!1;return{disableInkRipple:a,$get:["$injector",function(a){function c(c,d,g){return b||d.controller("mdNoInk")?angular.noop:a.instantiate(InkRippleCtrl,{$scope:c,$element:d,rippleOptions:g})}return{attach:c}}]}}
function InkRippleCtrl(a,b,c,d,e,f,g){this.$window=d;this.$timeout=e;this.$mdUtil=f;this.$mdColorUtil=g;this.$scope=a;this.$element=b;this.options=c;this.mousedown=!1;this.ripples=[];this.lastRipple=this.timeout=null;f.valueOnUse(this,"container",this.createContainer);this.$element.addClass("md-ink-ripple");(b.controller("mdInkRipple")||{}).createRipple=angular.bind(this,this.createRipple);(b.controller("mdInkRipple")||{}).setColor=angular.bind(this,this.color);this.bindEvents()}
function autoCleanup(a,b){if(a.mousedown||a.lastRipple)a.mousedown=!1,a.$mdUtil.nextTick(angular.bind(a,b),!1)}InkRippleCtrl.prototype.color=function(a){function b(){var a=c.options&&c.options.colorElement?c.options.colorElement:[];return(a=a.length?a[0]:c.$element[0])?c.$window.getComputedStyle(a).color:"rgb(0,0,0)"}var c=this;angular.isDefined(a)&&(c._color=c._parseColor(a));return c._color||c._parseColor(c.inkRipple())||c._parseColor(b())};InkRippleCtrl.prototype.calculateColor=function(){return this.color()};
InkRippleCtrl.prototype._parseColor=function(a,b){b=b||1;var c=this.$mdColorUtil;if(a){if(0===a.indexOf("rgba"))return a.replace(/\d?\.?\d*\s*\)\s*$/,(.1*b).toString()+")");if(0===a.indexOf("rgb"))return c.rgbToRgba(a);if(0===a.indexOf("#"))return c.hexToRgba(a)}};
InkRippleCtrl.prototype.bindEvents=function(){this.$element.on("mousedown",angular.bind(this,this.handleMousedown));this.$element.on("mouseup touchend",angular.bind(this,this.handleMouseup));this.$element.on("mouseleave",angular.bind(this,this.handleMouseup));this.$element.on("touchmove",angular.bind(this,this.handleTouchmove))};
InkRippleCtrl.prototype.handleMousedown=function(a){if(!this.mousedown)if(a.hasOwnProperty("originalEvent")&&(a=a.originalEvent),this.mousedown=!0,this.options.center)this.createRipple(this.container.prop("clientWidth")/2,this.container.prop("clientWidth")/2);else if(a.srcElement!==this.$element[0]){var b=this.$element[0].getBoundingClientRect(),c=a.clientX-b.left;a=a.clientY-b.top;this.createRipple(c,a)}else this.createRipple(a.offsetX,a.offsetY)};
InkRippleCtrl.prototype.handleMouseup=function(){autoCleanup(this,this.clearRipples)};InkRippleCtrl.prototype.handleTouchmove=function(){autoCleanup(this,this.deleteRipples)};InkRippleCtrl.prototype.deleteRipples=function(){for(var a=0;a<this.ripples.length;a++)this.ripples[a].remove()};InkRippleCtrl.prototype.clearRipples=function(){for(var a=0;a<this.ripples.length;a++)this.fadeInComplete(this.ripples[a])};
InkRippleCtrl.prototype.createContainer=function(){var a=angular.element('<div class="md-ripple-container"></div>');this.$element.append(a);return a};InkRippleCtrl.prototype.clearTimeout=function(){this.timeout&&(this.$timeout.cancel(this.timeout),this.timeout=null)};
InkRippleCtrl.prototype.isRippleAllowed=function(){var a=this.$element[0];do{if(!a.tagName||"BODY"===a.tagName)break;if(a&&angular.isFunction(a.hasAttribute)&&(a.hasAttribute("disabled")||"false"===this.inkRipple()||"0"===this.inkRipple()))return!1}while(a=a.parentNode);return!0};InkRippleCtrl.prototype.inkRipple=function(){return this.$element.attr("md-ink-ripple")};
InkRippleCtrl.prototype.createRipple=function(a,b){if(this.isRippleAllowed()){var c=this,d=c.$mdColorUtil,e=angular.element('<div class="md-ripple"></div>'),f=this.$element.prop("clientWidth"),g=this.$element.prop("clientHeight");f=2*Math.max(Math.abs(f-a),a);g=2*Math.max(Math.abs(g-b),b);g=this.options.fitRipple?Math.max(f,g):Math.sqrt(Math.pow(f,2)+Math.pow(g,2));f=this.calculateColor();e.css({left:a+"px",top:b+"px",background:"black",width:g+"px",height:g+"px",backgroundColor:d.rgbaToRgb(f),borderColor:d.rgbaToRgb(f)});
this.lastRipple=e;this.clearTimeout();this.timeout=this.$timeout(function(){c.clearTimeout();c.mousedown||c.fadeInComplete(e)},157.5,!1);this.options.dimBackground&&this.container.css({backgroundColor:f});this.container.append(e);this.ripples.push(e);e.addClass("md-ripple-placed");this.$mdUtil.nextTick(function(){e.addClass("md-ripple-scaled md-ripple-active");c.$timeout(function(){c.clearRipples()},450,!1)},!1)}};
InkRippleCtrl.prototype.fadeInComplete=function(a){this.lastRipple===a?this.timeout||this.mousedown||this.removeRipple(a):this.removeRipple(a)};InkRippleCtrl.prototype.removeRipple=function(a){var b=this,c=this.ripples.indexOf(a);0>c||(this.ripples.splice(this.ripples.indexOf(a),1),a.removeClass("md-ripple-active"),a.addClass("md-ripple-remove"),0===this.ripples.length&&this.container.css({backgroundColor:""}),this.$timeout(function(){b.fadeOutComplete(a)},450,!1))};
InkRippleCtrl.prototype.fadeOutComplete=function(a){a.remove();this.lastRipple=null};function attrNoDirective(){return{controller:angular.noop}}(function(){function a(a){function b(b,c,f){return a.attach(b,c,angular.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},f))}return{attach:b}}a.$inject=["$mdInkRipple"];angular.module("material.core").factory("$mdTabInkRipple",a)})();
angular.module("material.core.theming.palette",[]).constant("$mdColorPalette",{red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100",contrastStrongLightColors:"400 500 600 700 A200 A400 A700"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",
600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"500 600 A200 A400 A700"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",
contrastStrongLightColors:"300 400 A200 A400 A700"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",
900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},
"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A700",contrastStrongLightColors:"600 700 800 A700"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",
A400:"#00e5ff",A700:"#00b8d4",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",
400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",
contrastStrongLightColors:"700 800 900"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00",contrastDefaultColor:"dark",contrastLightColors:"900",contrastStrongLightColors:"900"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",
A400:"#ffea00",A700:"#ffd600",contrastDefaultColor:"dark"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00",contrastDefaultColor:"dark"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00",
contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100 A200",contrastStrongLightColors:"500 600 700 800 900 A400 A700"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",
400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100 A200",contrastStrongLightColors:"300 400"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#ffffff",A200:"#000000",A400:"#303030",A700:"#616161",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A200 A400 A700"},
"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100 A200",contrastStrongLightColors:"400 500 700"}});
(function(a){function b(a){var b=!!document.querySelector("[md-themes-disabled]");a.disableTheming(b)}function c(b,c){function d(a,b){b=b||{};n[a]=f(a,b);return q}function e(b,c){return f(b,a.extend({},n[b]||{},c))}function f(a,b){var c=A.filter(function(a){return!b[a]});if(c.length)throw Error("Missing colors %1 in palette %2!".replace("%1",c.join(", ")).replace("%2",a));return b}function k(b,c){if(r[b])return r[b];c=c||"default";c="string"===typeof c?r[c]:c;var d=new m(b);c&&a.forEach(c.colors,
function(b,c){d.colors[c]={name:b.name,hues:a.extend({},b.hues)}});return r[b]=d}function m(b){function c(b){b=0===arguments.length?!0:!!b;if(b!==d.isDark){d.isDark=b;d.foregroundPalette=d.isDark?u:v;d.foregroundShadow=d.isDark?"1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4)":"";var c=d.isDark?D:z,e=d.isDark?z:D;a.forEach(c,function(a,b){var c=d.colors[b];b=e[b];if(c)for(var f in c.hues)c.hues[f]===b[f]&&(c.hues[f]=a[f])});return d}}var d=this;d.name=b;d.colors={};d.dark=c;c(!1);B.forEach(function(b){var c=
(d.isDark?D:z)[b];d[b+"Palette"]=function(e,f){var g=d.colors[b]={name:e,hues:a.extend({},c,f)};Object.keys(g.hues).forEach(function(a){if(!c[a])throw Error("Invalid hue name '%1' in theme %2's %3 color %4. Available hue names: %4".replace("%1",a).replace("%2",d.name).replace("%3",e).replace("%4",Object.keys(c).join(", ")));});Object.keys(g.hues).map(function(a){return g.hues[a]}).forEach(function(a){if(-1==A.indexOf(a))throw Error("Invalid hue value '%1' in theme %2's %3 color %4. Available hue values: %5".replace("%1",
a).replace("%2",d.name).replace("%3",b).replace("%4",e).replace("%5",A.join(", ")));});return d};d[b+"Color"]=function(){var a=Array.prototype.slice.call(arguments);console.warn("$mdThemingProviderTheme."+b+"Color() has been deprecated. Use $mdThemingProviderTheme."+b+"Palette() instead.");return d[b+"Palette"].apply(d,a)}})}function p(b,c,d,e){function f(a){return void 0===a||""===a?!0:void 0!==l.THEMES[a]}function g(a,b){function d(b){if(b){f(b)||e.warn("Attempted to use unregistered theme '"+b+
"'. Register it with $mdThemingProvider.theme().");var c=a.data("$mdThemeName");c&&a.removeClass("md-"+c+"-theme");a.addClass("md-"+b+"-theme");a.data("$mdThemeName",b);g&&a.data("$mdThemeController",g)}}var g=b.controller("mdTheme")||a.data("$mdThemeController");d(g&&g.$mdTheme||("default"==x?"":x));if(g)var k=w||g.$shouldWatch||c.parseAttributeBoolean(a.attr("md-theme-watch")),h=g.registerChanges(function(b){d(b);if(k)a.on("$destroy",h);else h()})}var l=function(a,b){void 0===b&&(b=a);l.inherit(b,
b)};Object.defineProperty(l,"THEMES",{get:function(){return a.extend({},r)}});Object.defineProperty(l,"PALETTES",{get:function(){return a.extend({},n)}});Object.defineProperty(l,"ALWAYS_WATCH",{get:function(){return w}});l.inherit=g;l.registered=f;l.defaultTheme=function(){return x};l.generateTheme=function(a){h(r[a],a,E.nonce)};l.defineTheme=function(a,b){b=b||{};var c=k(a);b.primary&&c.primaryPalette(b.primary);b.accent&&c.accentPalette(b.accent);b.warn&&c.warnPalette(b.warn);b.background&&c.backgroundPalette(b.background);
b.dark&&c.dark();this.generateTheme(a);return d.resolve(a)};l.setBrowserColor=H;return l}p.$inject=["$rootScope","$mdUtil","$q","$log"];n={};var r={},q,w=!1,x="default";a.extend(n,b);var G=function(a){var b=c.setMeta("theme-color",a),d=c.setMeta("msapplication-navbutton-color",a);return function(){b();d()}},H=function(b){b=a.isObject(b)?b:{};var c=b.theme||"default",d=b.hue||"800";b=n[b.palette]||n[r[c].colors[b.palette||"primary"].name];d=a.isObject(b[d])?b[d].hex:b[d];return G(d)};return q={definePalette:d,
extendPalette:e,theme:k,configuration:function(){return a.extend({},E,{defaultTheme:x,alwaysWatchTheme:w,registeredStyles:[].concat(E.registeredStyles)})},disableTheming:function(b){E.disableTheming=a.isUndefined(b)||!!b},registerStyles:function(a){E.registeredStyles.push(a)},setNonce:function(a){E.nonce=a},generateThemesOnDemand:function(a){E.generateOnDemand=a},setDefaultTheme:function(a){x=a},alwaysWatchTheme:function(a){w=a},enableBrowserColor:H,$get:p,_LIGHT_DEFAULT_HUES:z,_DARK_DEFAULT_HUES:D,
_PALETTES:n,_THEMES:r,_parseRules:g,_rgba:l}}function d(b,c,d,e,f,g){return{priority:101,link:{pre:function(k,h,l){var n=[],m=c.startSymbol(),p=c.endSymbol(),r=l.mdTheme.trim();r=r.substr(0,m.length)===m&&r.lastIndexOf(p)===r.length-p.length;m="::"===l.mdTheme.split(m).join("").split(p).join("").trim().substr(0,2);var q={registerChanges:function(b,c){c&&(b=a.bind(c,b));n.push(b);return function(){var a=n.indexOf(b);-1<a&&n.splice(a,1)}},$setTheme:function(a){b.registered(a)||g.warn("attempted to use unregistered theme '"+
a+"'");q.$mdTheme=a;for(var c=n.length;c--;)n[c](a)},$shouldWatch:e.parseAttributeBoolean(h.attr("md-theme-watch"))||b.ALWAYS_WATCH||r&&!m};h.data("$mdThemeController",q);h=function(){var a=c(l.mdTheme)(k);return d(a)(k)||a};var w=function(b){if("string"===typeof b)return q.$setTheme(b);f.when(a.isFunction(b)?b():b).then(function(a){q.$setTheme(a)})};w(h());var x=k.$watch(h,function(a){a&&(w(a),q.$shouldWatch||x())})}}}}function e(){E.disableTheming=!0;return{restrict:"A",priority:"900"}}function f(a){return a}
function g(b,c,d){m(b,c);d=d.replace(/THEME_NAME/g,b.name);var e=new RegExp("\\.md-"+b.name+"-theme","g");c=/'?"?\{\{\s*([a-zA-Z]+)-(A?\d+|hue-[0-3]|shadow|default)-?(\d\.?\d*)?(contrast)?\s*\}\}'?"?/g;d=d.replace(c,function(a,c,d,e,f){if("foreground"===c)return"shadow"==d?b.foregroundShadow:b.foregroundPalette[d]||b.foregroundPalette["1"];if(0===d.indexOf("hue")||"default"===d)d=b.colors[c].hues[d];return l((n[b.colors[c].name][d]||"")[f?"contrast":"value"],e)});var f=/('|")?{{\s*([a-zA-Z]+)-(color|contrast)-?(\d\.?\d*)?\s*}}("|')?/g,
g=[];a.forEach(["default","hue-1","hue-2","hue-3"],function(a){var c=d.replace(f,function(c,d,e,f,g){e=b.colors[e];c=n[e.name];e=e.hues[a];return l(c[e]["color"===f?"value":"contrast"],g)});"default"!==a&&(c=c.replace(e,".md-"+b.name+"-theme.md-"+a));if("default"==b.name){var k=/((?:\s|>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)\.md-default-theme((?:\s|>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)/g;c=c.replace(k,function(a,b,c){return a+", "+b+c})}g.push(c)});return g}function k(b,c){function d(b){var c=b.contrastDefaultColor,
d=b.contrastLightColors||[],e=b.contrastStrongLightColors||[],f=b.contrastDarkColors||[];"string"===typeof d&&(d=d.split(" "));"string"===typeof e&&(e=e.split(" "));"string"===typeof f&&(f=f.split(" "));delete b.contrastDefaultColor;delete b.contrastLightColors;delete b.contrastStrongLightColors;delete b.contrastDarkColors;a.forEach(b,function(g,k){if(!a.isObject(g)){var h=r(g);if(!h)throw Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",g).replace("%2",
b.name).replace("%3",k));b[k]={hex:b[k],value:h,contrast:"light"===c?-1<f.indexOf(k)?w:-1<e.indexOf(k)?x:q:-1<d.indexOf(k)?-1<e.indexOf(k)?x:q:w}}})}var e=document.head;e=e?e.firstElementChild:null;b=!E.disableTheming&&b.has("$MD_THEME_CSS")?b.get("$MD_THEME_CSS"):"";b+=E.registeredStyles.join("");e&&0!==b.length&&(a.forEach(n,d),b=b.split(/\}(?!(\}|'|"|;))/).filter(function(a){return a&&a.trim().length}).map(function(a){return a.trim()+"}"}),B.forEach(function(a){H[a]=""}),b.forEach(function(a){for(var b=
0,c;c=B[b];b++)if(-1<a.indexOf(".md-"+c))return H[c]+=a;for(b=0;c=B[b];b++)if(-1<a.indexOf(c))return H[c]+=a;return H.primary+=a}),E.generateOnDemand||a.forEach(c.THEMES,function(a){p[a.name]||"default"!==c.defaultTheme()&&"default"===a.name||h(a,a.name,E.nonce)}))}function h(a,b,c){var d=document.head,e=d?d.firstElementChild:null;p[b]||(B.forEach(function(b){for(b=g(a,b,H[b]);b.length;){var f=b.shift();if(f){var k=document.createElement("style");k.setAttribute("md-theme-style","");c&&k.setAttribute("nonce",
c);k.appendChild(document.createTextNode(f));d.insertBefore(k,e)}}}),p[a.name]=!0)}function m(a,b){if(!n[(a.colors[b]||{}).name])throw Error("You supplied an invalid color palette for theme %1's %2 palette. Available palettes: %3".replace("%1",a.name).replace("%2",b).replace("%3",Object.keys(n).join(", ")));}function r(b){if(a.isArray(b)&&3==b.length)return b;if(/^rgb/.test(b))return b.replace(/(^\s*rgba?\(|\)\s*$)/g,"").split(",").map(function(a,b){return 3==b?parseFloat(a,10):parseInt(a,10)});"#"==
b.charAt(0)&&(b=b.substring(1));if(/^([a-fA-F0-9]{3}){1,2}$/g.test(b)){var c=b.length/3,d=b.substr(0,c),e=b.substr(c,c);b=b.substr(2*c);1===c&&(d+=d,e+=e,b+=b);return[parseInt(d,16),parseInt(e,16),parseInt(b,16)]}}function l(b,c){if(!b)return"rgb('0,0,0')";4==b.length&&(b=a.copy(b),c?b.pop():c=b.pop());return c&&("number"==typeof c||"string"==typeof c&&c.length)?"rgba("+b.join(",")+","+c+")":"rgb("+b.join(",")+")"}b.$inject=["$mdThemingProvider"];d.$inject="$mdTheming $interpolate $parse $mdUtil $q $log".split(" ");
f.$inject=["$mdTheming"];c.$inject=["$mdColorPalette","$$mdMetaProvider"];k.$inject=["$injector","$mdTheming"];a.module("material.core.theming",["material.core.theming.palette","material.core.meta"]).directive("mdTheme",d).directive("mdThemable",f).directive("mdThemesDisabled",e).provider("$mdTheming",c).config(b).run(k);var p={},n,v={name:"dark",1:"rgba(0,0,0,0.87)",2:"rgba(0,0,0,0.54)",3:"rgba(0,0,0,0.38)",4:"rgba(0,0,0,0.12)"},u={name:"light",1:"rgba(255,255,255,1.0)",2:"rgba(255,255,255,0.7)",
3:"rgba(255,255,255,0.5)",4:"rgba(255,255,255,0.12)"},w=r("rgba(0,0,0,0.87)"),q=r("rgba(255,255,255,0.87)"),x=r("rgb(255,255,255)"),B=["primary","accent","warn","background"],z={accent:{"default":"A200","hue-1":"A100","hue-2":"A400","hue-3":"A700"},background:{"default":"50","hue-1":"A100","hue-2":"100","hue-3":"300"}},D={background:{"default":"A400","hue-1":"800","hue-2":"900","hue-3":"A200"}};B.forEach(function(a){var b={"default":"500","hue-1":"300","hue-2":"800","hue-3":"A100"};z[a]||(z[a]=b);
D[a]||(D[a]=b)});var A="50 100 200 300 400 500 600 700 800 900 A100 A200 A400 A700".split(" "),E={disableTheming:!1,generateOnDemand:!1,registeredStyles:[],nonce:null},H={}})(window.angular);angular.module("material.core").factory("$$mdAnimate",["$q","$timeout","$mdConstant","$animateCss",function(a,b,c,d){return function(e){return AnimateDomUtils(e,a,b,c,d)}}]);
function AnimateDomUtils(a,b,c,d,e){var f;return f={translate3d:function(a,b,c,d){function f(c){return e(a,{to:c||b,addClass:d.transitionOutClass,removeClass:d.transitionInClass,duration:d.duration}).start()}return e(a,{from:b,to:c,addClass:d.transitionInClass,removeClass:d.transitionOutClass,duration:d.duration}).start().then(function(){return f})},waitTransitionEnd:function(a,e){var f=3E3;return b(function(b){function g(e){e&&e.target!==a[0]||(e&&c.cancel(h),a.off(d.CSS.TRANSITIONEND,g),b())}function k(b){b=
b||window.getComputedStyle(a[0]);return"0s"==b.transitionDuration||!b.transition&&!b.transitionProperty}e=e||{};k(e.cachedTransitionStyles)&&(f=0);var h=c(g,e.timeout||f);a.on(d.CSS.TRANSITIONEND,g)})},calculateTransformValues:function(a,b){var c=b.element;b=b.bounds;if(c||b){c?(c=f.clientRect(c))||(c=(c=(c=a?a.parent():null)?c.parent():null)?f.clientRect(c):null):c=f.copyRect(b);a=f.copyRect(a[0].getBoundingClientRect());b=f.centerPointFor(a);var d=f.centerPointFor(c);return{centerX:d.x-b.x,centerY:d.y-
b.y,scaleX:Math.round(100*Math.min(.5,c.width/a.width))/100,scaleY:Math.round(100*Math.min(.5,c.height/a.height))/100}}return{centerX:0,centerY:0,scaleX:.5,scaleY:.5}},calculateZoomToOrigin:function(b,c){var d=angular.bind(null,a.supplant,"translate3d( {centerX}px, {centerY}px, 0 ) scale( {scaleX}, {scaleY} )");return d(f.calculateTransformValues(b,c))},calculateSlideToOrigin:function(b,c){var d=angular.bind(null,a.supplant,"translate3d( {centerX}px, {centerY}px, 0 )");return d(f.calculateTransformValues(b,
c))},toCss:function(a){function b(a,b,d){angular.forEach(b.split(" "),function(a){c[a]=d})}var c={};angular.forEach(a,function(a,e){if(!angular.isUndefined(a))if(0<="left top right bottom width height x y min-width min-height max-width max-height".indexOf(e))c[e]=a+"px";else switch(e){case "transition":b(e,d.CSS.TRANSITION,a);break;case "transform":b(e,d.CSS.TRANSFORM,a);break;case "transformOrigin":b(e,d.CSS.TRANSFORM_ORIGIN,a);break;case "font-size":c["font-size"]=a}});return c},toTransformCss:function(a,
b,c){var e={};angular.forEach(d.CSS.TRANSFORM.split(" "),function(b){e[b]=a});b&&(c=c||"all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1) !important",e.transition=c);return e},copyRect:function(a,b){if(!a)return null;b=b||{};angular.forEach("left top right bottom width height".split(" "),function(c){b[c]=Math.round(a[c])});b.width=b.width||b.right-b.left;b.height=b.height||b.bottom-b.top;return b},clientRect:function(a){return(a=angular.element(a)[0].getBoundingClientRect())&&0<a.width&&0<a.height?f.copyRect(a):
null},centerPointFor:function(a){return a?{x:Math.round(a.left+a.width/2),y:Math.round(a.top+a.height/2)}:{x:0,y:0}}}}
4<=angular.version.minor?angular.module("material.core.animate",[]):function(){function a(a){return a.replace(/-[a-z]/g,function(a){return a.charAt(1).toUpperCase()})}var b=angular.forEach,c=angular.isDefined(document.documentElement.style.WebkitAppearance),d=c?"-webkit-":"",e=(c?"webkitTransitionEnd ":"")+"transitionend",f=(c?"webkitAnimationEnd ":"")+"animationend",g=["$document",function(a){return function(){return a[0].body.clientWidth+1}}],k=["$$rAF",function(a){return function(){var b=!1;a(function(){b=
!0});return function(c){b?c():a(c)}}}],h=["$q","$$rAFMutex",function(a,c){function d(a){this.setHost(a);this._doneCallbacks=[];this._runInAnimationFrame=c();this._state=0}d.prototype={setHost:function(a){this.host=a||{}},done:function(a){2===this._state?a():this._doneCallbacks.push(a)},progress:angular.noop,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){!1===b?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},
"catch":function(a){return this.getPromise()["catch"](a)},"finally":function(a){return this.getPromise()["finally"](a)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end();this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel();this._resolve(!1)},complete:function(a){var b=this;0===b._state&&(b._state=1,b._runInAnimationFrame(function(){b._resolve(a)}))},_resolve:function(a){2!==
this._state&&(b(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=0,this._state=2)}};d.all=function(a,c){function d(b){f=f&&b;++e===a.length&&c(f)}var e=0,f=!0;b(a,function(a){a.done(d)})};return d}];angular.module("material.core.animate",[]).factory("$$forceReflow",g).factory("$$AnimateRunner",h).factory("$$rAFMutex",k).factory("$animateCss",["$window","$$rAF","$$AnimateRunner","$$forceReflow","$$jqLite","$timeout","$animate",function(g,k,h,p,n,v,u){function l(c,k){var l=[],n=H(c),
p=n&&u.enabled(),r=!1,w=!1;p&&(k.transitionStyle&&l.push([d+"transition",k.transitionStyle]),k.keyframeStyle&&l.push([d+"animation",k.keyframeStyle]),k.delay&&l.push([d+"transition-delay",k.delay+"s"]),k.duration&&l.push([d+"transition-duration",k.duration+"s"]),r=k.keyframeStyle||k.to&&(0<k.duration||k.transitionStyle),w=!!k.addClass||!!k.removeClass,F(c,!0));var x=p&&(r||w);A(c,k);var C=!1,G,B;return{close:g.close,start:function(){function g(){if(!C)return C=!0,G&&B&&c.off(G,B),q(c,k),D(c,k),b(l,
function(b){n.style[a(b[0])]=""}),p.complete(!0),p}var p=new h;z(function(){F(c,!1);if(!x)return g();b(l,function(b){var c=b[0];b=b[1];n.style[a(c)]=b});q(c,k);var h=m(c);if(0===h.duration)return g();var p=[];k.easing&&(h.transitionDuration&&p.push([d+"transition-timing-function",k.easing]),h.animationDuration&&p.push([d+"animation-timing-function",k.easing]));k.delay&&h.animationDelay&&p.push([d+"animation-delay",k.delay+"s"]);k.duration&&h.animationDuration&&p.push([d+"animation-duration",k.duration+
"s"]);b(p,function(b){var c=b[0],d=b[1];n.style[a(c)]=d;l.push(b)});p=h.delay;var r=1E3*p,w=h.duration;p=1E3*w;var z=Date.now();G=[];h.transitionDuration&&G.push(e);h.animationDuration&&G.push(f);G=G.join(" ");B=function(a){a.stopPropagation();var b=a.originalEvent||a;a=b.timeStamp||Date.now();b=parseFloat(b.elapsedTime.toFixed(3));Math.max(a-z,0)>=r&&b>=w&&g()};c.on(G,B);E(c,k);v(g,r+1.5*p,!1)});return p}}}function q(a,b){b.addClass&&(n.addClass(a,b.addClass),b.addClass=null);b.removeClass&&(n.removeClass(a,
b.removeClass),b.removeClass=null)}function m(a){function b(a){return c?"Webkit"+a.charAt(0).toUpperCase()+a.substr(1):a}a=H(a);var d=g.getComputedStyle(a);a=r(d[b("transitionDuration")]);var e=r(d[b("animationDuration")]),f=r(d[b("transitionDelay")]),k=r(d[b("animationDelay")]);e*=parseInt(d[b("animationIterationCount")],10)||1;d=Math.max(e,a);var h=Math.max(k,f);return{duration:d,delay:h,animationDuration:e,transitionDuration:a,animationDelay:k,transitionDelay:f}}function r(a){var c=0;a=(a||"").split(/\s*,\s*/);
b(a,function(a){"s"==a.charAt(a.length-1)&&(a=a.substring(0,a.length-1));a=parseFloat(a)||0;c=c?Math.max(a,c):a});return c}function z(a){G&&G();J.push(a);G=k(function(){G=null;for(var a=p(),b=0;b<J.length;b++)J[b](a);J.length=0})}function D(a,b){A(a,b);E(a,b)}function A(a,b){b.from&&(a.css(b.from),b.from=null)}function E(a,b){b.to&&(a.css(b.to),b.to=null)}function H(a){for(var b=0;b<a.length;b++)if(1===a[b].nodeType)return a[b]}function F(b,c){b=H(b);var e=a(d+"transition-delay");b.style[e]=c?"-9999s":
""}var G,J=[];return l}])}();angular.module("material.core").constant("$MD_THEME_CSS",'md-autocomplete.md-THEME_NAME-theme{background:"{{background-A100}}"}md-autocomplete.md-THEME_NAME-theme[disabled]:not([md-floating-label]){background:"{{background-100}}"}md-autocomplete.md-THEME_NAME-theme button md-icon path{fill:"{{background-600}}"}md-autocomplete.md-THEME_NAME-theme button:after{background:"{{background-600-0.3}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme{background:"{{background-A100}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme li{color:"{{background-900}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme li .highlight{color:"{{background-600}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme li.selected,.md-autocomplete-suggestions-container.md-THEME_NAME-theme li:hover{background:"{{background-200}}"}md-backdrop{background-color:"{{background-900-0.0}}"}md-backdrop.md-opaque.md-THEME_NAME-theme{background-color:"{{background-900-1.0}}"}md-bottom-sheet.md-THEME_NAME-theme{background-color:"{{background-50}}";border-top-color:"{{background-300}}"}md-bottom-sheet.md-THEME_NAME-theme.md-list md-list-item{color:"{{foreground-1}}"}md-bottom-sheet.md-THEME_NAME-theme .md-subheader{background-color:"{{background-50}}";color:"{{foreground-1}}"}.md-button.md-THEME_NAME-theme:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme:not([disabled]):hover{background-color:"{{background-500-0.2}}"}.md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover{background-color:transparent}.md-button.md-THEME_NAME-theme.md-fab md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab,.md-button.md-THEME_NAME-theme.md-primary.md-raised{color:"{{primary-contrast}}";background-color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon{color:"{{primary-contrast}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover{background-color:"{{primary-600}}"}.md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon{color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-fab{background-color:"{{accent-color}}";color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover{background-color:"{{accent-A700}}"}.md-button.md-THEME_NAME-theme.md-raised{color:"{{background-900}}";background-color:"{{background-50}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]) md-icon{color:"{{background-900}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover{background-color:"{{background-50}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused{background-color:"{{background-200}}"}.md-button.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab,.md-button.md-THEME_NAME-theme.md-warn.md-raised{color:"{{warn-contrast}}";background-color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon{color:"{{warn-contrast}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover{background-color:"{{warn-600}}"}.md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon{color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab,.md-button.md-THEME_NAME-theme.md-accent.md-raised{color:"{{accent-contrast}}";background-color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover{background-color:"{{accent-A700}}"}.md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon{color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent[disabled],.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled],.md-button.md-THEME_NAME-theme.md-warn[disabled],.md-button.md-THEME_NAME-theme[disabled]{color:"{{foreground-3}}";cursor:default}.md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon,.md-button.md-THEME_NAME-theme[disabled] md-icon{color:"{{foreground-3}}"}.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled]{background-color:"{{foreground-4}}"}.md-button.md-THEME_NAME-theme[disabled]{background-color:transparent}._md a.md-THEME_NAME-theme:not(.md-button).md-primary{color:"{{primary-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-primary:hover{color:"{{primary-700}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-accent{color:"{{accent-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-accent:hover{color:"{{accent-A700}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-warn{color:"{{warn-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-warn:hover{color:"{{warn-700}}"}md-card.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-hue-1}}";border-radius:2px}md-card.md-THEME_NAME-theme .md-card-image{border-radius:2px 2px 0 0}md-card.md-THEME_NAME-theme md-card-header md-card-avatar md-icon{color:"{{background-color}}";background-color:"{{foreground-3}}"}md-card.md-THEME_NAME-theme md-card-header md-card-header-text .md-subhead,md-card.md-THEME_NAME-theme md-card-title md-card-title-text:not(:only-child) .md-subhead{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme .md-ripple{color:"{{accent-A700}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-ripple{color:"{{background-600}}"}md-checkbox.md-THEME_NAME-theme.md-checked.md-focused .md-container:before{background-color:"{{accent-color-0.26}}"}md-checkbox.md-THEME_NAME-theme .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-icon{background-color:"{{accent-color-0.87}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-icon:after{border-color:"{{accent-contrast-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ripple{color:"{{primary-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ripple{color:"{{background-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple{color:"{{primary-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon{background-color:"{{primary-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked.md-focused .md-container:before{background-color:"{{primary-color-0.26}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon:after{border-color:"{{primary-contrast-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-indeterminate[disabled] .md-container{color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ripple{color:"{{warn-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple{color:"{{warn-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon{background-color:"{{warn-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked.md-focused:not([disabled]) .md-container:before{background-color:"{{warn-color-0.26}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon:after{border-color:"{{background-200}}"}md-checkbox.md-THEME_NAME-theme[disabled]:not(.md-checked) .md-icon{border-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon{background-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon:after{border-color:"{{background-200}}"}md-checkbox.md-THEME_NAME-theme[disabled] .md-icon:after{border-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled] .md-label{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips{box-shadow:0 1px "{{foreground-4}}"}md-chips.md-THEME_NAME-theme .md-chips.md-focused{box-shadow:0 2px "{{primary-color}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input{color:"{{foreground-1}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input:-moz-placeholder,md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-moz-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input:-ms-input-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-webkit-input-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme md-chip{background:"{{background-300}}";color:"{{background-800}}"}md-chips.md-THEME_NAME-theme md-chip md-icon{color:"{{background-700}}"}md-chips.md-THEME_NAME-theme md-chip.md-focused{background:"{{primary-color}}";color:"{{primary-contrast}}"}md-chips.md-THEME_NAME-theme md-chip.md-focused md-icon{color:"{{primary-contrast}}"}md-chips.md-THEME_NAME-theme md-chip._md-chip-editing{background:transparent;color:"{{background-800}}"}md-chips.md-THEME_NAME-theme md-chip-remove .md-button md-icon path{fill:"{{background-500}}"}.md-contact-suggestion span.md-contact-email{color:"{{background-400}}"}md-content.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-default}}"}.md-calendar.md-THEME_NAME-theme{background:"{{background-A100}}";color:"{{background-A200-0.87}}"}.md-calendar.md-THEME_NAME-theme tr:last-child td{border-bottom-color:"{{background-200}}"}.md-THEME_NAME-theme .md-calendar-day-header{background:"{{background-300}}";color:"{{background-A200-0.87}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today .md-calendar-date-selection-indicator{border:1px solid "{{primary-500}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today.md-calendar-date-disabled{color:"{{primary-500-0.6}}"}.md-calendar-date.md-focus .md-THEME_NAME-theme .md-calendar-date-selection-indicator,.md-THEME_NAME-theme .md-calendar-date-selection-indicator:hover{background:"{{background-300}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-selected-date .md-calendar-date-selection-indicator,.md-THEME_NAME-theme .md-calendar-date.md-focus.md-calendar-selected-date .md-calendar-date-selection-indicator{background:"{{primary-500}}";color:"{{primary-500-contrast}}";border-color:transparent}.md-THEME_NAME-theme .md-calendar-date-disabled,.md-THEME_NAME-theme .md-calendar-month-label-disabled{color:"{{background-A200-0.435}}"}.md-THEME_NAME-theme .md-datepicker-input{color:"{{foreground-1}}"}.md-THEME_NAME-theme .md-datepicker-input:-moz-placeholder,.md-THEME_NAME-theme .md-datepicker-input::-moz-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input:-ms-input-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input::-webkit-input-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input-container{border-bottom-color:"{{foreground-4}}"}.md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{primary-color}}"}.md-accent .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{accent-color}}"}.md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-invalid,.md-warn .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{warn-A700}}"}.md-THEME_NAME-theme .md-datepicker-calendar-pane{border-color:"{{background-hue-1}}"}.md-THEME_NAME-theme .md-datepicker-triangle-button .md-datepicker-expand-triangle{border-top-color:"{{foreground-2}}"}.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon{color:"{{primary-color}}"}.md-accent .md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon,.md-THEME_NAME-theme .md-datepicker-open.md-accent .md-datepicker-calendar-icon{color:"{{accent-color}}"}.md-THEME_NAME-theme .md-datepicker-open.md-warn .md-datepicker-calendar-icon,.md-warn .md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon{color:"{{warn-A700}}"}.md-THEME_NAME-theme .md-datepicker-calendar{background:"{{background-A100}}"}.md-THEME_NAME-theme .md-datepicker-input-mask-opaque{box-shadow:0 0 0 9999px "{{background-hue-1}}"}.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-input-container{background:"{{background-hue-1}}"}md-dialog.md-THEME_NAME-theme{border-radius:4px;background-color:"{{background-hue-1}}";color:"{{foreground-1}}"}md-dialog.md-THEME_NAME-theme.md-content-overflow .md-actions,md-dialog.md-THEME_NAME-theme.md-content-overflow md-dialog-actions,md-divider.md-THEME_NAME-theme{border-top-color:"{{foreground-4}}"}.layout-gt-lg-row>md-divider.md-THEME_NAME-theme,.layout-gt-md-row>md-divider.md-THEME_NAME-theme,.layout-gt-sm-row>md-divider.md-THEME_NAME-theme,.layout-gt-xs-row>md-divider.md-THEME_NAME-theme,.layout-lg-row>md-divider.md-THEME_NAME-theme,.layout-md-row>md-divider.md-THEME_NAME-theme,.layout-row>md-divider.md-THEME_NAME-theme,.layout-sm-row>md-divider.md-THEME_NAME-theme,.layout-xl-row>md-divider.md-THEME_NAME-theme,.layout-xs-row>md-divider.md-THEME_NAME-theme{border-right-color:"{{foreground-4}}"}md-icon.md-THEME_NAME-theme{color:"{{foreground-2}}"}md-icon.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}md-icon.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}md-icon.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}md-input-container.md-THEME_NAME-theme .md-input{color:"{{foreground-1}}";border-color:"{{foreground-4}}"}md-input-container.md-THEME_NAME-theme .md-input:-moz-placeholder,md-input-container.md-THEME_NAME-theme .md-input::-moz-placeholder{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme .md-input:-ms-input-placeholder{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme .md-input::-webkit-input-placeholder{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme>md-icon{color:"{{foreground-1}}"}md-input-container.md-THEME_NAME-theme .md-placeholder,md-input-container.md-THEME_NAME-theme label{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme label.md-required:after{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-focused):not(.md-input-invalid) label.md-required:after{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme .md-input-message-animation,md-input-container.md-THEME_NAME-theme .md-input-messages-animation{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme .md-input-message-animation .md-char-counter,md-input-container.md-THEME_NAME-theme .md-input-messages-animation .md-char-counter{color:"{{foreground-1}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input:-moz-placeholder,md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::-moz-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input:-ms-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::-webkit-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-has-value label{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused .md-input,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-resized .md-input{border-color:"{{primary-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused md-icon{color:"{{primary-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent .md-input{border-color:"{{accent-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent md-icon{color:"{{accent-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn .md-input{border-color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn md-icon{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input{border-color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme.md-input-invalid .md-char-counter,md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input-message-animation,md-input-container.md-THEME_NAME-theme.md-input-invalid label{color:"{{warn-A700}}"}[disabled] md-input-container.md-THEME_NAME-theme .md-input,md-input-container.md-THEME_NAME-theme .md-input[disabled]{border-bottom-color:transparent;color:"{{foreground-3}}";background-image:linear-gradient(90deg,"{{foreground-3}}" 0,"{{foreground-3}}" 33%,transparent 0);background-image:-ms-linear-gradient(left,transparent 0,"{{foreground-3}}" 100%)}md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h3,md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h4,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h3,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h4{color:"{{foreground-1}}"}md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text p,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text p{color:"{{foreground-2}}"}md-list.md-THEME_NAME-theme .md-proxy-focus.md-focused div.md-no-style{background-color:"{{background-100}}"}md-list.md-THEME_NAME-theme md-list-item .md-avatar-icon{background-color:"{{foreground-3}}";color:"{{background-color}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon{color:"{{foreground-2}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon.md-highlight{color:"{{primary-color}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon.md-highlight.md-accent{color:"{{accent-color}}"}md-menu-content.md-THEME_NAME-theme{background-color:"{{background-A100}}"}md-menu-content.md-THEME_NAME-theme md-menu-item{color:"{{background-A200-0.87}}"}md-menu-content.md-THEME_NAME-theme md-menu-item md-icon{color:"{{background-A200-0.54}}"}md-menu-content.md-THEME_NAME-theme md-menu-item .md-button[disabled],md-menu-content.md-THEME_NAME-theme md-menu-item .md-button[disabled] md-icon{color:"{{background-A200-0.25}}"}md-menu-content.md-THEME_NAME-theme md-menu-divider{background-color:"{{background-A200-0.11}}"}md-menu-bar.md-THEME_NAME-theme>button.md-button{color:"{{foreground-2}}";border-radius:2px}md-menu-bar.md-THEME_NAME-theme md-menu.md-open>button,md-menu-bar.md-THEME_NAME-theme md-menu>button:focus{outline:none;background:"{{background-200}}"}md-menu-bar.md-THEME_NAME-theme.md-open:not(.md-keyboard-mode) md-menu:hover>button{background-color:"{{ background-500-0.2}}"}md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:focus,md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:hover{background:transparent}md-menu-content.md-THEME_NAME-theme .md-menu>.md-button:after{color:"{{background-A200-0.54}}"}md-menu-content.md-THEME_NAME-theme .md-menu.md-open>.md-button{background-color:"{{ background-500-0.2}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar{background-color:"{{background-A100}}";color:"{{background-A200}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler{background-color:"{{primary-color}}";color:"{{background-A100-0.87}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler md-icon{color:"{{background-A100-0.87}}"}md-nav-bar.md-THEME_NAME-theme .md-nav-bar{background-color:transparent;border-color:"{{foreground-4}}"}md-nav-bar.md-THEME_NAME-theme .md-button._md-nav-button.md-unselected{color:"{{foreground-2}}"}md-nav-bar.md-THEME_NAME-theme md-nav-ink-bar{color:"{{accent-color}}";background:"{{accent-color}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar{background-color:"{{accent-color}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button{color:"{{accent-A100}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{accent-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{accent-contrast-0.1}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar md-nav-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar{background-color:"{{warn-color}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button{color:"{{warn-100}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{warn-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{warn-contrast-0.1}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar{background-color:"{{primary-color}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button{color:"{{primary-100}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{primary-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{primary-color}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{primary-100}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{primary-contrast}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{accent-color}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{accent-A100}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{accent-contrast}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{accent-contrast-0.1}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar md-nav-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{warn-color}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{warn-100}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{warn-contrast}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{warn-contrast-0.1}}"}._md-panel-backdrop.md-THEME_NAME-theme{background-color:"{{background-900-1.0}}"}md-progress-circular.md-THEME_NAME-theme path{stroke:"{{primary-color}}"}md-progress-circular.md-THEME_NAME-theme.md-warn path{stroke:"{{warn-color}}"}md-progress-circular.md-THEME_NAME-theme.md-accent path{stroke:"{{accent-color}}"}md-progress-linear.md-THEME_NAME-theme .md-container{background-color:"{{primary-100}}"}md-progress-linear.md-THEME_NAME-theme .md-bar{background-color:"{{primary-color}}"}md-progress-linear.md-THEME_NAME-theme.md-warn .md-container{background-color:"{{warn-100}}"}md-progress-linear.md-THEME_NAME-theme.md-warn .md-bar{background-color:"{{warn-color}}"}md-progress-linear.md-THEME_NAME-theme.md-accent .md-container{background-color:"{{accent-100}}"}md-progress-linear.md-THEME_NAME-theme.md-accent .md-bar{background-color:"{{accent-color}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-primary .md-bar1{background-color:"{{primary-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-primary .md-dashed:before{background:radial-gradient("{{primary-100}}" 0,"{{primary-100}}" 16%,transparent 42%)}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-bar1{background-color:"{{warn-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-dashed:before{background:radial-gradient("{{warn-100}}" 0,"{{warn-100}}" 16%,transparent 42%)}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-bar1{background-color:"{{accent-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-dashed:before{background:radial-gradient("{{accent-100}}" 0,"{{accent-100}}" 16%,transparent 42%)}md-radio-button.md-THEME_NAME-theme .md-off{border-color:"{{foreground-2}}"}md-radio-button.md-THEME_NAME-theme .md-on{background-color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme.md-checked .md-off{border-color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme .md-container .md-ripple{color:"{{accent-A700}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on{background-color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off{border-color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple{color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple{color:"{{primary-600}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on{background-color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off{border-color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple{color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple{color:"{{warn-600}}"}md-radio-button.md-THEME_NAME-theme[disabled],md-radio-group.md-THEME_NAME-theme[disabled]{color:"{{foreground-3}}"}md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-off,md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-on,md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-off,md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-on{border-color:"{{foreground-3}}"}md-radio-group.md-THEME_NAME-theme .md-checked .md-ink-ripple{color:"{{accent-color-0.26}}"}md-radio-group.md-THEME_NAME-theme .md-checked:not([disabled]).md-primary .md-ink-ripple,md-radio-group.md-THEME_NAME-theme.md-primary .md-checked:not([disabled]) .md-ink-ripple{color:"{{primary-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked .md-container:before{background-color:"{{accent-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-primary .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-primary .md-checked .md-container:before{background-color:"{{primary-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-warn .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-warn .md-checked .md-container:before{background-color:"{{warn-color-0.26}}"}md-input-container md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{warn-A700}}"}md-input-container:not(.md-input-focused):not(.md-input-invalid) md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{foreground-3}}"}md-input-container.md-input-focused:not(.md-input-has-value) md-select.md-THEME_NAME-theme .md-select-value,md-input-container.md-input-focused:not(.md-input-has-value) md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder{color:"{{primary-color}}"}md-input-container.md-input-invalid md-select.md-THEME_NAME-theme .md-select-value{color:"{{warn-A700}}"!important;border-bottom-color:"{{warn-A700}}"!important}md-input-container.md-input-invalid md-select.md-THEME_NAME-theme.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme[disabled] .md-select-value{border-bottom-color:transparent;background-image:linear-gradient(90deg,"{{foreground-3}}" 0,"{{foreground-3}}" 33%,transparent 0);background-image:-ms-linear-gradient(left,transparent 0,"{{foreground-3}}" 100%)}md-select.md-THEME_NAME-theme .md-select-value{border-bottom-color:"{{foreground-4}}"}md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder{color:"{{foreground-3}}"}md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{warn-A700}}"}md-select.md-THEME_NAME-theme.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme.ng-invalid.ng-touched .md-select-value{color:"{{warn-A700}}"!important;border-bottom-color:"{{warn-A700}}"!important}md-select.md-THEME_NAME-theme.ng-invalid.ng-touched.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value{border-bottom-color:"{{primary-color}}";color:"{{ foreground-1 }}"}md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value.md-select-placeholder{color:"{{ foreground-1 }}"}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-accent .md-select-value{border-bottom-color:"{{accent-color}}"}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-warn .md-select-value{border-bottom-color:"{{warn-color}}"}md-select.md-THEME_NAME-theme[disabled] .md-select-icon,md-select.md-THEME_NAME-theme[disabled] .md-select-value,md-select.md-THEME_NAME-theme[disabled] .md-select-value.md-select-placeholder{color:"{{foreground-3}}"}md-select.md-THEME_NAME-theme .md-select-icon{color:"{{foreground-2}}"}md-select-menu.md-THEME_NAME-theme md-content{background:"{{background-A100}}"}md-select-menu.md-THEME_NAME-theme md-content md-optgroup{color:"{{background-600-0.87}}"}md-select-menu.md-THEME_NAME-theme md-content md-option{color:"{{background-900-0.87}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[disabled] .md-text{color:"{{background-400-0.87}}"}md-select-menu.md-THEME_NAME-theme md-content md-option:not([disabled]):focus,md-select-menu.md-THEME_NAME-theme md-content md-option:not([disabled]):hover{background:"{{background-200}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected]{color:"{{primary-500}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected]:focus{color:"{{primary-600}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected].md-accent{color:"{{accent-color}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected].md-accent:focus{color:"{{accent-A700}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-ripple{color:"{{primary-600}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-ripple{color:"{{background-600}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-ink-ripple{color:"{{foreground-2}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-ink-ripple{color:"{{primary-color-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-icon{background-color:"{{primary-color-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected].md-focused .md-container:before{background-color:"{{primary-color-0.26}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-icon:after{border-color:"{{primary-contrast-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-indeterminate[disabled] .md-container{color:"{{foreground-3}}"}.md-checkbox-enabled.md-THEME_NAME-theme md-option .md-text{color:"{{background-900-0.87}}"}md-sidenav.md-THEME_NAME-theme,md-sidenav.md-THEME_NAME-theme md-content{background-color:"{{background-hue-1}}"}md-slider.md-THEME_NAME-theme .md-track{background-color:"{{foreground-3}}"}md-slider.md-THEME_NAME-theme .md-track-ticks{color:"{{background-contrast}}"}md-slider.md-THEME_NAME-theme .md-focus-ring{background-color:"{{accent-A200-0.2}}"}md-slider.md-THEME_NAME-theme .md-disabled-thumb{border-color:"{{background-color}}";background-color:"{{background-color}}"}md-slider.md-THEME_NAME-theme.md-min .md-thumb:after{background-color:"{{background-color}}";border-color:"{{foreground-3}}"}md-slider.md-THEME_NAME-theme.md-min .md-focus-ring{background-color:"{{foreground-3-0.38}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-thumb:after{background-color:"{{background-contrast}}";border-color:transparent}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-sign{background-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-sign:after{border-top-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete][md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme .md-track.md-track-fill{background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-thumb:after{border-color:"{{accent-color}}";background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-sign{background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-sign:after{border-top-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-thumb-text{color:"{{accent-contrast}}"}md-slider.md-THEME_NAME-theme.md-warn .md-focus-ring{background-color:"{{warn-200-0.38}}"}md-slider.md-THEME_NAME-theme.md-warn .md-track.md-track-fill{background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-thumb:after{border-color:"{{warn-color}}";background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-sign{background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-sign:after{border-top-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-thumb-text{color:"{{warn-contrast}}"}md-slider.md-THEME_NAME-theme.md-primary .md-focus-ring{background-color:"{{primary-200-0.38}}"}md-slider.md-THEME_NAME-theme.md-primary .md-track.md-track-fill{background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-thumb:after{border-color:"{{primary-color}}";background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-sign{background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-sign:after{border-top-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-thumb-text{color:"{{primary-contrast}}"}md-slider.md-THEME_NAME-theme[disabled] .md-thumb:after{border-color:transparent}md-slider.md-THEME_NAME-theme[disabled]:not(.md-min) .md-thumb:after,md-slider.md-THEME_NAME-theme[disabled][md-discrete] .md-thumb:after{background-color:"{{foreground-3}}";border-color:transparent}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-sign{background-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-sign:after{border-top-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly][md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-disabled-thumb{border-color:transparent;background-color:transparent}md-slider-container[disabled]>:first-child:not(md-slider),md-slider-container[disabled]>:last-child:not(md-slider){color:"{{foreground-3}}"}.md-subheader.md-THEME_NAME-theme{color:"{{ foreground-2-0.23 }}";background-color:"{{background-default}}"}.md-subheader.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}.md-subheader.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}.md-subheader.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme .md-ink-ripple{color:"{{background-500}}"}md-switch.md-THEME_NAME-theme .md-thumb{background-color:"{{background-50}}"}md-switch.md-THEME_NAME-theme .md-bar{background-color:"{{background-500}}"}md-switch.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color}}"}md-switch.md-THEME_NAME-theme.md-checked .md-thumb{background-color:"{{accent-color}}"}md-switch.md-THEME_NAME-theme.md-checked .md-bar{background-color:"{{accent-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked.md-focused .md-thumb:before{background-color:"{{accent-color-0.26}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-ink-ripple{color:"{{primary-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-thumb{background-color:"{{primary-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-bar{background-color:"{{primary-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary.md-focused .md-thumb:before{background-color:"{{primary-color-0.26}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-ink-ripple{color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-thumb{background-color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-bar{background-color:"{{warn-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn.md-focused .md-thumb:before{background-color:"{{warn-color-0.26}}"}md-switch.md-THEME_NAME-theme[disabled] .md-thumb{background-color:"{{background-400}}"}md-switch.md-THEME_NAME-theme[disabled] .md-bar{background-color:"{{foreground-4}}"}md-tabs.md-THEME_NAME-theme md-tabs-wrapper{background-color:transparent;border-color:"{{foreground-4}}"}md-tabs.md-THEME_NAME-theme .md-paginator md-icon{color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme md-ink-bar{color:"{{accent-color}}";background:"{{accent-color}}"}md-tabs.md-THEME_NAME-theme .md-tab{color:"{{foreground-2}}"}md-tabs.md-THEME_NAME-theme .md-tab[disabled],md-tabs.md-THEME_NAME-theme .md-tab[disabled] md-icon{color:"{{foreground-3}}"}md-tabs.md-THEME_NAME-theme .md-tab.md-active,md-tabs.md-THEME_NAME-theme .md-tab.md-active md-icon,md-tabs.md-THEME_NAME-theme .md-tab.md-focused,md-tabs.md-THEME_NAME-theme .md-tab.md-focused md-icon{color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme .md-tab.md-focused{background:"{{primary-color-0.1}}"}md-tabs.md-THEME_NAME-theme .md-tab .md-ripple-container{color:"{{accent-A100}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper{background-color:"{{accent-color}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{accent-A100}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{accent-contrast}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{accent-contrast-0.1}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper{background-color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{primary-100}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{primary-contrast}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{primary-contrast-0.1}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper{background-color:"{{warn-color}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{warn-100}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{warn-contrast}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{warn-contrast-0.1}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{primary-color}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{primary-100}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{primary-contrast}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{accent-color}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{accent-A100}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{accent-contrast}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{accent-contrast-0.1}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{warn-color}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{warn-100}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{warn-contrast}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{warn-contrast-0.1}}"}md-toast.md-THEME_NAME-theme .md-toast-content{background-color:#323232;color:"{{background-50}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button{color:"{{background-50}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight{color:"{{accent-color}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-primary{color:"{{primary-color}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-warn{color:"{{warn-color}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar){background-color:"{{primary-color}}";color:"{{primary-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) md-icon{color:"{{primary-contrast}}";fill:"{{primary-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) .md-button[disabled] md-icon{color:"{{primary-contrast-0.26}}";fill:"{{primary-contrast-0.26}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent{background-color:"{{accent-color}}";color:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent .md-ink-ripple{color:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent md-icon{color:"{{accent-contrast}}";fill:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent .md-button[disabled] md-icon{color:"{{accent-contrast-0.26}}";fill:"{{accent-contrast-0.26}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-warn{background-color:"{{warn-color}}";color:"{{warn-contrast}}"}.md-panel.md-tooltip.md-THEME_NAME-theme{color:"{{background-700-contrast}}";background-color:"{{background-700}}"}body.md-THEME_NAME-theme,html.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-color}}"}');
ngmaterial.core=angular.module("material.core");ngmaterial.components={};angular.module("material.components.icon",["material.core"]);angular.module("material.components.icon").directive("mdIcon",["$mdIcon","$mdTheming","$mdAria","$sce",mdIconDirective]);
function mdIconDirective(a,b,c){function d(d,f,g){function e(){if(!g.mdSvgIcon&&!g.mdSvgSrc){g.mdFontIcon&&(f.removeClass(h),f.addClass(g.mdFontIcon),h=g.mdFontIcon);var b=a.fontSet(g.mdFontSet);m!==b&&(f.removeClass(m),f.addClass(b),m=b)}}b(f);var h=g.mdFontIcon,m=a.fontSet(g.mdFontSet);g.mdSvgIcon||g.mdSvgSrc||(g.mdFontIcon&&f.addClass("md-font "+g.mdFontIcon),f.addClass(m));g.$observe("mdFontIcon",e);g.$observe("mdFontSet",e);f[0].getAttribute(g.$attr.mdSvgSrc);d=g.$normalize(g.$attr.mdSvgIcon||
g.$attr.mdSvgSrc||"");g.role||(c.expect(f,"role","img"),g.role="img");if("img"===g.role&&!g.ariaHidden&&!c.hasAriaLabel(f)){var r;g.alt?c.expect(f,"aria-label",g.alt):c.parentHasAriaLabel(f,2)?c.expect(f,"aria-hidden","true"):(r=g.mdFontIcon||g.mdSvgIcon||f.text())?c.expect(f,"aria-label",r):c.expect(f,"aria-hidden","true")}d&&g.$observe(d,function(b){f.empty();b&&a(b).then(function(a){f.empty();f.append(a)})})}return{restrict:"E",link:d}}MdIconService.$inject="config $templateRequest $q $log $mdUtil $sce".split(" ");
angular.module("material.components.icon").constant("$$mdSvgRegistry",{mdTabsArrow:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwb2x5Z29uIHBvaW50cz0iMTUuNCw3LjQgMTQsNiA4LDEyIDE0LDE4IDE1LjQsMTYuNiAxMC44LDEyICIvPjwvZz48L3N2Zz4=",mdClose:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik0xOSA2LjQxbC0xLjQxLTEuNDEtNS41OSA1LjU5LTUuNTktNS41OS0xLjQxIDEuNDEgNS41OSA1LjU5LTUuNTkgNS41OSAxLjQxIDEuNDEgNS41OS01LjU5IDUuNTkgNS41OSAxLjQxLTEuNDEtNS41OS01LjU5eiIvPjwvZz48L3N2Zz4=",
mdCancel:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik0xMiAyYy01LjUzIDAtMTAgNC40Ny0xMCAxMHM0LjQ3IDEwIDEwIDEwIDEwLTQuNDcgMTAtMTAtNC40Ny0xMC0xMC0xMHptNSAxMy41OWwtMS40MSAxLjQxLTMuNTktMy41OS0zLjU5IDMuNTktMS40MS0xLjQxIDMuNTktMy41OS0zLjU5LTMuNTkgMS40MS0xLjQxIDMuNTkgMy41OSAzLjU5LTMuNTkgMS40MSAxLjQxLTMuNTkgMy41OSAzLjU5IDMuNTl6Ii8+PC9nPjwvc3ZnPg==",mdMenu:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0zLDZIMjFWOEgzVjZNMywxMUgyMVYxM0gzVjExTTMsMTZIMjFWMThIM1YxNloiIC8+PC9zdmc+",
mdToggleArrow:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNDggNDgiPjxwYXRoIGQ9Ik0yNCAxNmwtMTIgMTIgMi44MyAyLjgzIDkuMTctOS4xNyA5LjE3IDkuMTcgMi44My0yLjgzeiIvPjxwYXRoIGQ9Ik0wIDBoNDh2NDhoLTQ4eiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==",mdCalendar:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTkgM2gtMVYxaC0ydjJIOFYxSDZ2Mkg1Yy0xLjExIDAtMS45OS45LTEuOTkgMkwzIDE5YzAgMS4xLjg5IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6bTAgMTZINVY4aDE0djExek03IDEwaDV2NUg3eiIvPjwvc3ZnPg==",
mdChecked:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik05IDE2LjE3TDQuODMgMTJsLTEuNDIgMS40MUw5IDE5IDIxIDdsLTEuNDEtMS40MXoiLz48L2c+PC9zdmc+"}).provider("$mdIcon",MdIconProvider);var config={defaultViewBoxSize:24,defaultFontSet:"material-icons",fontSets:[]};function MdIconProvider(){}
MdIconProvider.prototype={icon:function(a,b,c){-1==a.indexOf(":")&&(a="$default:"+a);config[a]=new ConfigurationItem(b,c);return this},iconSet:function(a,b,c){config[a]=new ConfigurationItem(b,c);return this},defaultIconSet:function(a,b){config.$default||(config.$default=new ConfigurationItem(a,b));config.$default.viewBoxSize=b||config.defaultViewBoxSize;return this},defaultViewBoxSize:function(a){config.defaultViewBoxSize=a;return this},fontSet:function(a,b){config.fontSets.push({alias:a,fontSet:b||
a});return this},defaultFontSet:function(a){config.defaultFontSet=a?a:"";return this},defaultIconSize:function(a){config.defaultIconSize=a;return this},$get:["$templateRequest","$q","$log","$mdUtil","$sce",function(a,b,c,d,e){return MdIconService(config,a,b,c,d,e)}]};function ConfigurationItem(a,b){this.url=a;this.viewBoxSize=b||config.defaultViewBoxSize}
function MdIconService(a,b,c,d,e,f){function g(b){b=b||"";angular.isString(b)||(b=f.getTrustedUrl(b));if(w[b])return c.when(h(w[b]));if(x.test(b)||B.test(b))return p(b).then(m(b));-1==b.indexOf(":")&&(b="$default:"+b);var d=a[b]?r:l;return d(b).then(m(b))}function k(b){var c=angular.isUndefined(b)||!(b&&b.length);if(c)return a.defaultFontSet;var d=b;angular.forEach(a.fontSets,function(a){a.alias==b&&(d=a.fontSet||d)});return d}function h(a){a=a.clone();var b="_cache"+e.nextUid();a.id&&(a.id+=b);angular.forEach(a.querySelectorAll("[id]"),
function(a){a.id+=b});return a}function m(b){return function(c){var d=c;d=angular.isDefined(d.element)&&angular.isDefined(d.config);w[b]=d?c:new n(c,a[b]);return w[b].clone()}}function r(b){var c=a[b];return p(c.url).then(function(a){return new n(a,c)})}function l(b){function e(a){var c=b.slice(b.lastIndexOf(":")+1);return(a=a.querySelector("#"+c))?new n(a,k):f(b)}function f(a){var b="icon "+a+" not found";d.warn(b);return c.reject(b||a)}var g=b.substring(0,b.lastIndexOf(":"))||"$default",k=a[g];
return k?p(k.url).then(e):f(b)}function p(a){function e(a){var b=B.exec(a);b=(a=/base64/i.test(a))?window.atob(b[2]):b[2];return c.when(angular.element(b)[0])}function f(a){return c(function(c,e){var f=function(a){var b=angular.isString(a)?a:a.message||a.data||a.statusText;d.warn(b);e(a)},g=function(b){q[a]||(q[a]=angular.element("<div>").append(b)[0].querySelector("svg"));c(q[a])};b(a,!0).then(g,f)})}return B.test(a)?e(a):f(a)}function n(a,b){a&&"svg"!=a.tagName&&(a=angular.element('<svg xmlns="http://www.w3.org/2000/svg">').append(a.cloneNode(!0))[0]);
a.getAttribute("xmlns")||a.setAttribute("xmlns","http://www.w3.org/2000/svg");this.element=a;this.config=b;this.prepare()}function v(){var b=this.config?this.config.viewBoxSize:a.defaultViewBoxSize;angular.forEach({fit:"",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:this.element.getAttribute("viewBox")||"0 0 "+b+" "+b,focusable:!1},function(a,b){this.element.setAttribute(b,a)},this)}function u(){return this.element.cloneNode(!0)}var w={},q={},x=/[-\w@:%+.~#?&//=]{2,}\.[a-z]{2,4}\b(\/[-\w@:%+.~#?&//=]*)?/i,
B=/^data:image\/svg\+xml[\s*;\w\-=]*?(base64)?,(.*)$/i;n.prototype={clone:u,prepare:v};g.fontSet=k;return g}ngmaterial.components.icon=angular.module("material.components.icon");angular.module("material.components.showHide",["material.core"]).directive("ngShow",createDirective("ngShow",!0)).directive("ngHide",createDirective("ngHide",!1));
function createDirective(a,b){return["$mdUtil","$window",function(c,d){return{restrict:"A",multiElement:!0,link:function(e,f,g){var k=e.$on("$md-resize-enable",function(){k();var h=f[0],m=h.nodeType===d.Node.ELEMENT_NODE?d.getComputedStyle(h):{};e.$watch(g[a],function(a){!!a===b&&(c.nextTick(function(){e.$broadcast("$md-resize")}),a={cachedTransitionStyles:m},c.dom.animator.waitTransitionEnd(f,a).then(function(){e.$broadcast("$md-resize")}))})})}}}]}ngmaterial.components.showHide=angular.module("material.components.showHide");VirtualRepeatContainerController.$inject="$$rAF $mdUtil $mdConstant $parse $rootScope $window $scope $element $attrs".split(" ");VirtualRepeatController.$inject="$scope $element $attrs $browser $document $rootScope $$rAF $mdUtil".split(" ");VirtualRepeatDirective.$inject=["$parse"];
angular.module("material.components.virtualRepeat",["material.core","material.components.showHide"]).directive("mdVirtualRepeatContainer",VirtualRepeatContainerDirective).directive("mdVirtualRepeat",VirtualRepeatDirective).directive("mdForceHeight",ForceHeightDirective);
function VirtualRepeatContainerDirective(){return{controller:VirtualRepeatContainerController,template:virtualRepeatContainerTemplate,compile:function(a,b){a.addClass("md-virtual-repeat-container").addClass(b.hasOwnProperty("mdOrientHorizontal")?"md-orient-horizontal":"md-orient-vertical")}}}
function virtualRepeatContainerTemplate(a){return'<div class="md-virtual-repeat-scroller" role="presentation"><div class="md-virtual-repeat-sizer" role="presentation"></div><div class="md-virtual-repeat-offsetter" role="presentation">'+a[0].innerHTML+"</div></div>"}
function VirtualRepeatContainerController(a,b,c,d,e,f,g,k,h){this.$rootScope=e;this.$scope=g;this.$element=k;this.$attrs=h;this.scrollOffset=this.scrollSize=this.size=0;this.horizontal=this.$attrs.hasOwnProperty("mdOrientHorizontal");this.repeater=null;this.autoShrink=this.$attrs.hasOwnProperty("mdAutoShrink");this.autoShrinkMin=parseInt(this.$attrs.mdAutoShrinkMin,10)||0;this.originalSize=null;this.offsetSize=parseInt(this.$attrs.mdOffsetSize,10)||0;this.oldElementSize=null;this.maxElementPixels=
c.ELEMENT_MAX_PIXELS;this.$attrs.mdTopIndex?(this.bindTopIndex=d(this.$attrs.mdTopIndex),this.topIndex=this.bindTopIndex(this.$scope),angular.isDefined(this.topIndex)||(this.topIndex=0,this.bindTopIndex.assign(this.$scope,0)),this.$scope.$watch(this.bindTopIndex,angular.bind(this,function(a){a!==this.topIndex&&this.scrollToIndex(a)}))):this.topIndex=0;this.scroller=k[0].querySelector(".md-virtual-repeat-scroller");this.sizer=this.scroller.querySelector(".md-virtual-repeat-sizer");this.offsetter=this.scroller.querySelector(".md-virtual-repeat-offsetter");
var m=angular.bind(this,this.updateSize);a(angular.bind(this,function(){m();var a=b.debounce(m,10,null,!1),c=angular.element(f);this.size||a();c.on("resize",a);g.$on("$destroy",function(){c.off("resize",a)});g.$emit("$md-resize-enable");g.$on("$md-resize",m)}))}VirtualRepeatContainerController.prototype.register=function(a){this.repeater=a;angular.element(this.scroller).on("scroll wheel touchmove touchend",angular.bind(this,this.handleScroll_))};
VirtualRepeatContainerController.prototype.isHorizontal=function(){return this.horizontal};VirtualRepeatContainerController.prototype.getSize=function(){return this.size};VirtualRepeatContainerController.prototype.setSize_=function(a){var b=this.getDimensionName_();this.size=a;this.$element[0].style[b]=a+"px"};VirtualRepeatContainerController.prototype.unsetSize_=function(){this.$element[0].style[this.getDimensionName_()]=this.oldElementSize;this.oldElementSize=null};
VirtualRepeatContainerController.prototype.updateSize=function(){this.originalSize||(this.size=this.isHorizontal()?this.$element[0].clientWidth:this.$element[0].clientHeight,this.handleScroll_(),this.repeater&&this.repeater.containerUpdated())};VirtualRepeatContainerController.prototype.getScrollSize=function(){return this.scrollSize};VirtualRepeatContainerController.prototype.getDimensionName_=function(){return this.isHorizontal()?"width":"height"};
VirtualRepeatContainerController.prototype.sizeScroller_=function(a){var b=this.getDimensionName_(),c=this.isHorizontal()?"height":"width";this.sizer.innerHTML="";if(a<this.maxElementPixels)this.sizer.style[b]=a+"px";else{this.sizer.style[b]="auto";this.sizer.style[c]="auto";var d=Math.floor(a/this.maxElementPixels),e=document.createElement("div");e.style[b]=this.maxElementPixels+"px";e.style[c]="1px";for(c=0;c<d;c++)this.sizer.appendChild(e.cloneNode(!1));e.style[b]=a-d*this.maxElementPixels+"px";
this.sizer.appendChild(e)}};
VirtualRepeatContainerController.prototype.autoShrink_=function(a){a=Math.max(a,this.autoShrinkMin*this.repeater.getItemSize());if(this.autoShrink&&a!==this.size){null===this.oldElementSize&&(this.oldElementSize=this.$element[0].style[this.getDimensionName_()]);var b=this.originalSize||this.size;if(!b||a<b)this.originalSize||(this.originalSize=this.size),this.setSize_(a);else if(null!==this.originalSize){this.unsetSize_();var c=this.originalSize;this.originalSize=null;c||this.updateSize();this.setSize_(c||
this.size)}this.repeater.containerUpdated()}};VirtualRepeatContainerController.prototype.setScrollSize=function(a){a+=this.offsetSize;this.scrollSize!==a&&(this.sizeScroller_(a),this.autoShrink_(a),this.scrollSize=a)};VirtualRepeatContainerController.prototype.getScrollOffset=function(){return this.scrollOffset};VirtualRepeatContainerController.prototype.scrollTo=function(a){this.scroller[this.isHorizontal()?"scrollLeft":"scrollTop"]=a;this.handleScroll_()};
VirtualRepeatContainerController.prototype.scrollToIndex=function(a){var b=this.repeater.getItemSize(),c=this.repeater.itemsLength;a>c&&(a=c-1);this.scrollTo(b*a)};VirtualRepeatContainerController.prototype.resetScroll=function(){this.scrollTo(0)};
VirtualRepeatContainerController.prototype.handleScroll_=function(){var a="rtl"!=document.dir&&"rtl"!=document.body.dir;a||this.maxSize||(this.scroller.scrollLeft=this.scrollSize,this.maxSize=this.scroller.scrollLeft);var b=this.isHorizontal()?a?this.scroller.scrollLeft:this.maxSize-this.scroller.scrollLeft:this.scroller.scrollTop;if(!(b===this.scrollOffset||b>this.scrollSize-this.size)){var c=this.repeater.getItemSize();if(c){var d=Math.max(0,Math.floor(b/c)-3);a=(this.isHorizontal()?"translateX(":
"translateY(")+(!this.isHorizontal()||a?d*c:-(d*c))+"px)";this.scrollOffset=b;this.offsetter.style.webkitTransform=a;this.offsetter.style.transform=a;this.bindTopIndex&&(b=Math.floor(b/c),b!==this.topIndex&&b<this.repeater.getItemCount()&&(this.topIndex=b,this.bindTopIndex.assign(this.$scope,b),this.$rootScope.$$phase||this.$scope.$digest()));this.repeater.containerUpdated()}}};
function VirtualRepeatDirective(a){return{controller:VirtualRepeatController,priority:1E3,require:["mdVirtualRepeat","^^mdVirtualRepeatContainer"],restrict:"A",terminal:!0,transclude:"element",compile:function(b,c){b=c.mdVirtualRepeat;b=b.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/);var d=b[1],e=a(b[2]),f=c.mdExtraName&&a(c.mdExtraName);return function(a,b,c,m,r){m[0].link_(m[1],r,d,e,f)}}}}
function VirtualRepeatController(a,b,c,d,e,f,g,k){this.$scope=a;this.$element=b;this.$attrs=c;this.$browser=d;this.$document=e;this.$mdUtil=k;this.$rootScope=f;this.$$rAF=g;this.onDemand=k.parseAttributeBoolean(c.mdOnDemand);this.browserCheckUrlChange=d.$$checkUrlChange;this.endIndex=this.startIndex=this.newVisibleEnd=this.newEndIndex=this.newStartIndex=0;this.itemSize=a.$eval(c.mdItemSize)||null;this.isFirstRender=!0;this.isVirtualRepeatUpdating_=!1;this.itemsLength=0;this.unwatchItemSize_=angular.noop;
this.blocks={};this.pooledBlocks=[];a.$on("$destroy",angular.bind(this,this.cleanupBlocks_))}VirtualRepeatController.prototype.link_=function(a,b,c,d,e){this.container=a;this.transclude=b;this.repeatName=c;this.rawRepeatListExpression=d;this.extraName=e;this.sized=!1;this.repeatListExpression=angular.bind(this,this.repeatListExpression_);this.container.register(this)};VirtualRepeatController.prototype.cleanupBlocks_=function(){angular.forEach(this.pooledBlocks,function(a){a.element.remove()})};
VirtualRepeatController.prototype.readItemSize_=function(){if(!this.itemSize){this.items=this.repeatListExpression(this.$scope);this.parentNode=this.$element[0].parentNode;var a=this.getBlock_(0);a.element[0].parentNode||this.parentNode.appendChild(a.element[0]);this.itemSize=a.element[0][this.container.isHorizontal()?"offsetWidth":"offsetHeight"]||null;this.blocks[0]=a;this.poolBlock_(0);this.itemSize&&this.containerUpdated()}};
VirtualRepeatController.prototype.repeatListExpression_=function(a){a=this.rawRepeatListExpression(a);this.onDemand&&a&&(a=new VirtualRepeatModelArrayLike(a),a.$$includeIndexes(this.newStartIndex,this.newVisibleEnd));return a};
VirtualRepeatController.prototype.containerUpdated=function(){if(this.itemSize){if(this.sized||(this.items=this.repeatListExpression(this.$scope)),this.sized||(this.unwatchItemSize_(),this.sized=!0,this.$scope.$watchCollection(this.repeatListExpression,angular.bind(this,function(a,b){this.isVirtualRepeatUpdating_||this.virtualRepeatUpdate_(a,b)}))),this.updateIndexes_(),this.newStartIndex!==this.startIndex||this.newEndIndex!==this.endIndex||this.container.getScrollOffset()>this.container.getScrollSize())this.items instanceof
VirtualRepeatModelArrayLike&&this.items.$$includeIndexes(this.newStartIndex,this.newEndIndex),this.virtualRepeatUpdate_(this.items,this.items)}else this.unwatchItemSize_&&this.unwatchItemSize_!==angular.noop&&this.unwatchItemSize_(),this.unwatchItemSize_=this.$scope.$watchCollection(this.repeatListExpression,angular.bind(this,function(a){a&&a.length&&this.readItemSize_()})),this.$rootScope.$$phase||this.$scope.$digest()};VirtualRepeatController.prototype.getItemSize=function(){return this.itemSize};
VirtualRepeatController.prototype.getItemCount=function(){return this.itemsLength};
VirtualRepeatController.prototype.virtualRepeatUpdate_=function(a,b){this.isVirtualRepeatUpdating_=!0;var c=a&&a.length||0,d=!1;if(this.items&&c<this.items.length&&0!==this.container.getScrollOffset()){this.items=a;var e=this.container.getScrollOffset();this.container.resetScroll();this.container.scrollTo(e)}c!==this.itemsLength&&(d=!0,this.itemsLength=c);this.items=a;(a!==b||d)&&this.updateIndexes_();this.parentNode=this.$element[0].parentNode;d&&this.container.setScrollSize(c*this.itemSize);Object.keys(this.blocks).forEach(function(a){a=
parseInt(a,10);(a<this.newStartIndex||a>=this.newEndIndex)&&this.poolBlock_(a)},this);this.$browser.$$checkUrlChange=angular.noop;c=[];d=[];for(a=this.newStartIndex;a<this.newEndIndex&&null==this.blocks[a];a++)b=this.getBlock_(a),this.updateBlock_(b,a),c.push(b);for(;null!=this.blocks[a];a++)this.updateBlock_(this.blocks[a],a);for(e=a-1;a<this.newEndIndex;a++)b=this.getBlock_(a),this.updateBlock_(b,a),d.push(b);c.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(c),this.$element[0].nextSibling);
d.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(d),this.blocks[e]&&this.blocks[e].element[0].nextSibling);this.$browser.$$checkUrlChange=this.browserCheckUrlChange;this.startIndex=this.newStartIndex;this.endIndex=this.newEndIndex;if(this.isFirstRender){this.isFirstRender=!1;var f=this.$attrs.mdStartIndex?this.$scope.$eval(this.$attrs.mdStartIndex):this.container.topIndex;this.$mdUtil.nextTick(function(){this.container.scrollToIndex(f)}.bind(this))}this.isVirtualRepeatUpdating_=
!1};VirtualRepeatController.prototype.getBlock_=function(a){if(this.pooledBlocks.length)return this.pooledBlocks.pop();var b;this.transclude(angular.bind(this,function(c,d){b={element:c,"new":!0,scope:d};this.updateScope_(d,a);this.parentNode.appendChild(c[0])}));return b};VirtualRepeatController.prototype.updateBlock_=function(a,b){this.blocks[b]=a;if(a["new"]||a.scope.$index!==b||a.scope[this.repeatName]!==this.items[b])a["new"]=!1,this.updateScope_(a.scope,b),this.$rootScope.$$phase||a.scope.$digest()};
VirtualRepeatController.prototype.updateScope_=function(a,b){a.$index=b;a[this.repeatName]=this.items&&this.items[b];this.extraName&&(a[this.extraName(this.$scope)]=this.items[b])};VirtualRepeatController.prototype.poolBlock_=function(a){this.pooledBlocks.push(this.blocks[a]);this.parentNode.removeChild(this.blocks[a].element[0]);delete this.blocks[a]};
VirtualRepeatController.prototype.domFragmentFromBlocks_=function(a){var b=this.$document[0].createDocumentFragment();a.forEach(function(a){b.appendChild(a.element[0])});return b};
VirtualRepeatController.prototype.updateIndexes_=function(){var a=this.items?this.items.length:0,b=Math.ceil(this.container.getSize()/this.itemSize);this.newStartIndex=Math.max(0,Math.min(a-b,Math.floor(this.container.getScrollOffset()/this.itemSize)));this.newVisibleEnd=this.newStartIndex+b+3;this.newEndIndex=Math.min(a,this.newVisibleEnd);this.newStartIndex=Math.max(0,this.newStartIndex-3)};
function VirtualRepeatModelArrayLike(a){if(!angular.isFunction(a.getItemAtIndex)||!angular.isFunction(a.getLength))throw Error("When md-on-demand is enabled, the Object passed to md-virtual-repeat must implement functions getItemAtIndex() and getLength() ");this.model=a}VirtualRepeatModelArrayLike.prototype.$$includeIndexes=function(a,b){for(;a<b;a++)this.hasOwnProperty(a)||(this[a]=this.model.getItemAtIndex(a));this.length=this.model.getLength()};
function ForceHeightDirective(){return{restrict:"A",link:function(a,b,c){(a=a.$eval(c.mdForceHeight)||null)&&b&&(b[0].style.height=a)}}}ForceHeightDirective.$inject=["$mdUtil"];ngmaterial.components.virtualRepeat=angular.module("material.components.virtualRepeat");angular.module("material.components.autocomplete",["material.core","material.components.icon","material.components.virtualRepeat"]);MdAutocompleteCtrl.$inject="$scope $element $mdUtil $mdConstant $mdTheming $window $animate $rootElement $attrs $q $log $mdLiveAnnouncer".split(" ");angular.module("material.components.autocomplete").controller("MdAutocompleteCtrl",MdAutocompleteCtrl);
function MdAutocompleteCtrl(a,b,c,d,e,f,g,k,h,m,r,l){function p(){c.initOptionalProperties(a,h,{searchText:"",selectedItem:null,clearButton:!1});e(b);w();c.nextTick(function(){var c;for(c=b;c.length;c=c.parent()){var d=c.attr("md-autocomplete-snap");if(angular.isDefined(d))break}c.length?c={snap:c[0],wrap:"width"===d.toLowerCase()?c[0]:b.find("md-autocomplete-wrap")[0]}:(c=b.find("md-autocomplete-wrap")[0],c={snap:c,wrap:c});I={main:b[0],scrollContainer:b[0].querySelector(".md-virtual-repeat-container"),
scroller:b[0].querySelector(".md-virtual-repeat-scroller"),ul:b.find("ul")[0],input:b.find("input")[0],wrap:c.wrap,snap:c.snap,root:document.body};I.li=I.ul.getElementsByTagName("li");c=I;d=I;var f={};for(h in d)d.hasOwnProperty(h)&&(f[h]=angular.element(d[h]));var h=f;c.$=h;V=I.$.input.controller("ngModel");I.$.root.length&&(e(I.$.scrollContainer),I.$.scrollContainer.detach(),I.$.root.append(I.$.scrollContainer),g.pin&&g.pin(I.$.scrollContainer,k));if(a.autofocus)b.on("focus",u)})}function n(){a.requireMatch&&
V&&V.$setValidity("md-require-match",!!a.selectedItem||!a.searchText)}function v(){function d(){var a=0,c=b.find("md-input-container");if(c.length){var d=c.find("input");a=c.prop("offsetHeight");a-=d.prop("offsetTop");a-=d.prop("offsetHeight");a+=c.prop("offsetTop")}return a}function e(){var a=I.scrollContainer.getBoundingClientRect(),b={};a.right>l.right-8&&(b.left=g.right-a.width+"px");I.$.scrollContainer.css(b)}if(!I)return c.nextTick(v,!1,a);var f=48*(a.dropdownItems||5),g=I.wrap.getBoundingClientRect(),
k=I.snap.getBoundingClientRect(),l=I.root.getBoundingClientRect(),p=k.bottom-l.top,n=l.bottom-k.top,q=g.left-l.left,m=g.width;k=d();var r=a.dropdownPosition;r||(r=p>n&&l.height-p-8<f?"top":"bottom");h.mdFloatingLabel&&(q+=2,m-=4);q={left:q+"px",minWidth:m+"px",maxWidth:Math.max(g.right-l.left,l.right-g.left)-8+"px"};"top"===r?(q.top="auto",q.bottom=n+"px",q.maxHeight=Math.min(f,g.top-l.top-8)+"px"):(n=l.bottom-g.bottom-8+c.getViewportTop(),q.top=p-k+"px",q.bottom="auto",q.maxHeight=Math.min(f,n)+
"px");I.$.scrollContainer.css(q);c.nextTick(e,!1)}function u(){I.input.focus()}function w(){var b=parseInt(a.delay,10)||0;h.$observe("disabled",function(a){y.isDisabled=c.parseAttributeBoolean(a,!1)});h.$observe("required",function(a){y.isRequired=c.parseAttributeBoolean(a,!1)});h.$observe("readonly",function(a){y.isReadonly=c.parseAttributeBoolean(a,!1)});a.$watch("searchText",b?c.debounce(C,b):C);a.$watch("selectedItem",H);angular.element(f).on("resize",la);a.$on("$destroy",q)}function q(){y.hidden||
c.enableScrolling();angular.element(f).off("resize",la);if(I){var a=["ul","scroller","scrollContainer","input"];angular.forEach(a,function(a){I.$[a].remove()})}}function x(){y.hidden||v()}function B(a,b){!a&&b?(v(),T(!0,fa.Count|fa.Selected),I&&(c.disableScrollAround(I.ul),Y=z(angular.element(I.wrap)))):a&&!b&&(c.enableScrolling(),Y&&(Y(),Y=null))}function z(a){function b(a){a.preventDefault()}a.on("wheel",b);a.on("touchmove",b);return function(){a.off("wheel",b);a.off("touchmove",b)}}function D(){ea=
!0}function A(){Z||y.hidden||I.input.focus();ea=!1;y.hidden=R()}function E(){I.input.focus()}function H(b,c){n();b?S(b).then(function(d){a.searchText=d;F(b,c)}):c&&a.searchText&&S(c).then(function(b){angular.isString(a.searchText)&&b.toString().toLowerCase()===a.searchText.toLowerCase()&&(a.searchText="")});b!==c&&angular.isFunction(a.itemChange)&&a.itemChange(X(a.selectedItem))}function F(a,b){W.forEach(function(c){c(a,b)})}function G(a){-1==W.indexOf(a)&&W.push(a)}function J(a){a=W.indexOf(a);-1!=
a&&W.splice(a,1)}function C(b,c){y.index=a.autoselect?0:-1;b!==c&&(n(),S(a.selectedItem).then(function(d){b!==d&&(a.selectedItem=null,b!==c&&angular.isFunction(a.textChange)&&a.textChange(),ma()?pa():(y.matches=[],U(!1),T(!1,fa.Count)))}))}function L(b){Z=!1;if(!ea){y.hidden=R();var c="ngBlur";b={$event:b};h[c]&&a.$parent.$eval(h[c],b||{})}}function K(b){Z=!0;aa()&&ma()&&pa();y.hidden=R();var c="ngFocus";b={$event:b};h[c]&&a.$parent.$eval(h[c],b||{})}function M(b){switch(b.keyCode){case d.KEY_CODE.DOWN_ARROW:if(y.loading)break;
b.stopPropagation();b.preventDefault();y.index=Math.min(y.index+1,y.matches.length-1);ka();T(!1,fa.Selected);break;case d.KEY_CODE.UP_ARROW:if(y.loading)break;b.stopPropagation();b.preventDefault();y.index=0>y.index?y.matches.length-1:Math.max(0,y.index-1);ka();T(!1,fa.Selected);break;case d.KEY_CODE.TAB:A();if(y.hidden||y.loading||0>y.index||1>y.matches.length)break;ja(y.index);break;case d.KEY_CODE.ENTER:if(y.hidden||y.loading||0>y.index||1>y.matches.length)break;if(y.scope.selectedItem)break;b.stopPropagation();
b.preventDefault();ja(y.index);break;case d.KEY_CODE.ESCAPE:if(b.preventDefault(),O("blur")||!y.hidden||y.loading||O("clear")&&a.searchText)b.stopPropagation(),y.index=0,y.matches=[],a.searchText&&O("clear")&&P(),y.hidden=!0,O("blur")&&(Z=ea=!1,I.input.blur())}}function S(b){return m.when((b&&a.itemText?a.itemText(X(b)):null)||b).then(function(a){a&&!angular.isString(a)&&r.warn("md-autocomplete: Could not resolve display value to a string. Please check the `md-item-text` attribute.");return a})}function X(a){if(a){var b=
{};y.itemName&&(b[y.itemName]=a);return b}}function U(a){y.loading!=a&&(y.loading=a);y.hidden=R()}function R(){return aa()?!(ma()&&y.matches.length||oa()):!0}function aa(){return y.loading&&!y.matches.length||y.scope.selectedItem||!Z?!1:!0}function O(b){return!a.escapeOptions||-1!==a.escapeOptions.toLowerCase().indexOf(b)}function N(){return y.loading&&!y.scope.selectedItem}function ba(){return S(y.matches[y.index])}function ma(){return(a.searchText||"").length>=(angular.isNumber(a.minLength)?a.minLength:
1)}function ia(a,b,c){Object.defineProperty(y,a,{get:function(){return c},set:function(a){var d=c;c=a;b(a,d)}})}function ja(b){c.nextTick(function(){S(y.matches[b]).then(function(a){var b=I.$.input.controller("ngModel");b.$setViewValue(a);b.$render()})["finally"](function(){a.selectedItem=y.matches[b];U(!1)})},!1)}function ra(){y.index=0;y.matches=[];P()}function P(){U(!0);a.searchText="";var b=document.createEvent("CustomEvent");b.initCustomEvent("change",!0,!0,{value:""});I.input.dispatchEvent(b);
I.input.blur();a.searchText="";I.input.focus()}function ca(b){function d(b){b&&(b=m.when(b),t++,U(!0),c.nextTick(function(){b.then(e)["finally"](function(){0===--t&&U(!1)})},!0,a))}function e(c){Q[g]=c;(b||"")===(a.searchText||"")&&da(c)}var f=a.$parent.$eval(ha),g=b.toLowerCase(),k=angular.isArray(f),h=!!f.then;k?e(f):h&&d(f)}function T(a,b){var c=a?"polite":"assertive";a=[];b&fa.Selected&&-1!==y.index&&a.push(ba());b&fa.Count&&a.push(m.resolve(na()));m.all(a).then(function(a){l.announce(a.join(" "),
c)})}function na(){switch(y.matches.length){case 0:return"There are no matches available.";case 1:return"There is 1 match available.";default:return"There are "+y.matches.length+" matches available."}}function ka(){if(I.li[0]){var a=I.li[0].offsetHeight,b=a*y.index;a=b+a;var c=I.scroller.clientHeight,d=I.scroller.scrollTop;b<d?sa(b):a>d+c&&sa(a-c)}}function sa(a){I.$.scrollContainer.controller("mdVirtualRepeatContainer").scrollTo(a)}function oa(){var b=(y.scope.searchText||"").length;return y.hasNotFound&&
!y.matches.length&&(!y.loading||0!==t)&&b>=(angular.isNumber(a.minLength)?a.minLength:1)&&(Z||ea)&&!y.scope.selectedItem}function pa(){var b=a.searchText||"",c=b.toLowerCase();!a.noCache&&Q[c]?da(Q[c]):ca(b);y.hidden=R()}function da(b){y.matches=b;y.hidden=R();y.loading&&U(!1);a.selectOnMatch&&ta();v();T(!0,fa.Count)}function ta(){var b=a.searchText,c=y.matches,d=c[0];1===c.length&&S(d).then(function(c){var d=b==c;a.matchInsensitive&&!d&&(d=b.toLowerCase()==c.toLowerCase());d&&ja(0)})}var y=this,
qa=a.itemsExpr.split(/ in /i),ha=qa[1],I=null,Q={},ea=!1,W=[],Z=!1,t=0,Y=null,V=null,la=c.debounce(x);ia("hidden",B,!0);y.scope=a;y.parent=a.$parent;y.itemName=qa[0];y.matches=[];y.loading=!1;y.hidden=!0;y.index=null;y.id=c.nextUid();y.isDisabled=null;y.isRequired=null;y.isReadonly=null;y.hasNotFound=!1;y.keydown=M;y.blur=L;y.focus=K;y.clear=ra;y.select=ja;y.listEnter=D;y.listLeave=A;y.mouseUp=E;y.getCurrentDisplayValue=ba;y.registerSelectedItemWatcher=G;y.unregisterSelectedItemWatcher=J;y.notFoundVisible=
oa;y.loadingIsVisible=N;y.positionDropdown=v;var fa={Count:1,Selected:2};return p()}MdAutocomplete.$inject=["$$mdSvgRegistry"];angular.module("material.components.autocomplete").directive("mdAutocomplete",MdAutocomplete);
function MdAutocomplete(a){return{controller:"MdAutocompleteCtrl",controllerAs:"$mdAutocompleteCtrl",scope:{inputName:"@mdInputName",inputMinlength:"@mdInputMinlength",inputMaxlength:"@mdInputMaxlength",searchText:"=?mdSearchText",selectedItem:"=?mdSelectedItem",itemsExpr:"@mdItems",itemText:"&mdItemText",placeholder:"@placeholder",noCache:"=?mdNoCache",requireMatch:"=?mdRequireMatch",selectOnMatch:"=?mdSelectOnMatch",matchInsensitive:"=?mdMatchCaseInsensitive",itemChange:"&?mdSelectedItemChange",
textChange:"&?mdSearchTextChange",minLength:"=?mdMinLength",delay:"=?mdDelay",autofocus:"=?mdAutofocus",floatingLabel:"@?mdFloatingLabel",autoselect:"=?mdAutoselect",menuClass:"@?mdMenuClass",inputId:"@?mdInputId",escapeOptions:"@?mdEscapeOptions",dropdownItems:"=?mdDropdownItems",dropdownPosition:"@?mdDropdownPosition",clearButton:"=?mdClearButton"},compile:function(a,c){var b=["md-select-on-focus","md-no-asterisk","ng-trim","ng-pattern"],e=a.find("input");b.forEach(function(a){var b=c[c.$normalize(a)];
null!==b&&e.attr(a,b)});return function(a,b,c,d){d.hasNotFound=!!b.attr("md-has-not-found");angular.isDefined(c.mdClearButton)||a.floatingLabel||(a.clearButton=!0)}},template:function(b,c){function d(){var a=b.find("md-item-template").detach(),c=a.length?a.html():b.html();a.length||b.empty();return"<md-autocomplete-parent-scope md-autocomplete-replace>"+c+"</md-autocomplete-parent-scope>"}function e(){var a=b.find("md-not-found").detach();return(a=a.length?a.html():"")?'<li ng-if="$mdAutocompleteCtrl.notFoundVisible()"                         md-autocomplete-parent-scope>'+
a+"</li>":""}var f=e(),g=d(),k=b.html(),h=c.tabindex;f&&b.attr("md-has-not-found",!0);b.attr("tabindex","-1");k=c.mdFloatingLabel?'            <md-input-container ng-if="floatingLabel">              <label>{{floatingLabel}}</label>              <input type="search"                  '+(null!=h?'tabindex="'+h+'"':"")+'                  id="{{ inputId || \'fl-input-\' + $mdAutocompleteCtrl.id }}"                  name="{{inputName}}"                  autocomplete="off"                  ng-required="$mdAutocompleteCtrl.isRequired"                  ng-readonly="$mdAutocompleteCtrl.isReadonly"                  ng-minlength="inputMinlength"                  ng-maxlength="inputMaxlength"                  ng-disabled="$mdAutocompleteCtrl.isDisabled"                  ng-model="$mdAutocompleteCtrl.scope.searchText"                  ng-model-options="{ allowInvalid: true }"                  ng-keydown="$mdAutocompleteCtrl.keydown($event)"                  ng-blur="$mdAutocompleteCtrl.blur($event)"                  ng-focus="$mdAutocompleteCtrl.focus($event)"                  aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                  aria-label="{{floatingLabel}}"                  aria-autocomplete="list"                  role="combobox"                  aria-haspopup="true"                  aria-activedescendant=""                  aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>              <div md-autocomplete-parent-scope md-autocomplete-replace>'+
k+"</div>            </md-input-container>":'            <input type="search"                '+(null!=h?'tabindex="'+h+'"':"")+'                id="{{ inputId || \'input-\' + $mdAutocompleteCtrl.id }}"                name="{{inputName}}"                ng-if="!floatingLabel"                autocomplete="off"                ng-required="$mdAutocompleteCtrl.isRequired"                ng-disabled="$mdAutocompleteCtrl.isDisabled"                ng-readonly="$mdAutocompleteCtrl.isReadonly"                ng-minlength="inputMinlength"                ng-maxlength="inputMaxlength"                ng-model="$mdAutocompleteCtrl.scope.searchText"                ng-keydown="$mdAutocompleteCtrl.keydown($event)"                ng-blur="$mdAutocompleteCtrl.blur($event)"                ng-focus="$mdAutocompleteCtrl.focus($event)"                placeholder="{{placeholder}}"                aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                aria-label="{{placeholder}}"                aria-autocomplete="list"                role="combobox"                aria-haspopup="true"                aria-activedescendant=""                aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>';
return"        <md-autocomplete-wrap            ng-class=\"{ 'md-whiteframe-z1': !floatingLabel,                         'md-menu-showing': !$mdAutocompleteCtrl.hidden,                         'md-show-clear-button': !!clearButton }\">          "+k+"          "+('<button type="button" aria-label="Clear Input" tabindex="-1" ng-if="clearButton && $mdAutocompleteCtrl.scope.searchText" ng-click="$mdAutocompleteCtrl.clear($event)"><md-icon md-svg-src="'+a.mdClose+'"></md-icon></button>')+'          <md-progress-linear              class="'+
(c.mdFloatingLabel?"md-inline":"")+'"              ng-if="$mdAutocompleteCtrl.loadingIsVisible()"              md-mode="indeterminate"></md-progress-linear>          <md-virtual-repeat-container              md-auto-shrink              md-auto-shrink-min="1"              ng-mouseenter="$mdAutocompleteCtrl.listEnter()"              ng-mouseleave="$mdAutocompleteCtrl.listLeave()"              ng-mouseup="$mdAutocompleteCtrl.mouseUp()"              ng-hide="$mdAutocompleteCtrl.hidden"              class="md-autocomplete-suggestions-container md-whiteframe-z1"              ng-class="{ \'md-not-found\': $mdAutocompleteCtrl.notFoundVisible() }"              role="presentation">            <ul class="md-autocomplete-suggestions"                ng-class="::menuClass"                id="ul-{{$mdAutocompleteCtrl.id}}">              <li md-virtual-repeat="item in $mdAutocompleteCtrl.matches"                  ng-class="{ selected: $index === $mdAutocompleteCtrl.index }"                  ng-click="$mdAutocompleteCtrl.select($index)"                  md-extra-name="$mdAutocompleteCtrl.itemName">                  '+
g+"                  </li>"+f+"            </ul>          </md-virtual-repeat-container>        </md-autocomplete-wrap>"}}}MdAutocompleteItemScopeDirective.$inject=["$compile","$mdUtil"];angular.module("material.components.autocomplete").directive("mdAutocompleteParentScope",MdAutocompleteItemScopeDirective);
function MdAutocompleteItemScopeDirective(a,b){function c(a,c,f){return function(a,c){function d(c,d){k[d]=a[c];a.$watch(c,function(a){b.nextTick(function(){k[d]=a})})}function e(){var b=!1,c=!1;a.$watch(function(){c||b||(b=!0,a.$$postDigest(function(){c||k.$digest();b=c=!1}))});k.$watch(function(){c=!0})}var g=a.$mdAutocompleteCtrl,k=g.parent.$new();g=g.itemName;d("$index","$index");d("item",g);e();f(k,function(a){c.after(a)})}}return{restrict:"AE",compile:c,terminal:!0,transclude:"element"}}
MdHighlightCtrl.$inject=["$scope","$element","$attrs"];angular.module("material.components.autocomplete").controller("MdHighlightCtrl",MdHighlightCtrl);function MdHighlightCtrl(a,b,c){this.$scope=a;this.$element=b;this.$attrs=c;this.regex=null}MdHighlightCtrl.prototype.init=function(a,b){this.flags=this.$attrs.mdHighlightFlags||"";this.unregisterFn=this.$scope.$watch(function(c){return{term:a(c),contentText:b(c)}}.bind(this),this.onRender.bind(this),!0);this.$element.on("$destroy",this.unregisterFn)};
MdHighlightCtrl.prototype.onRender=function(a,b){var c=a.contentText;if(null===this.regex||a.term!==b.term)this.regex=this.createRegex(a.term,this.flags);a.term?this.applyRegex(c):this.$element.text(c)};MdHighlightCtrl.prototype.applyRegex=function(a){a=this.resolveTokens(a);this.$element.empty();a.forEach(function(a){a.isMatch?(a=angular.element('<span class="highlight">').text(a.text),this.$element.append(a)):this.$element.append(document.createTextNode(a))}.bind(this))};
MdHighlightCtrl.prototype.resolveTokens=function(a){function b(b,d){(b=a.slice(b,d))&&c.push(b)}var c=[],d=0;a.replace(this.regex,function(a,f){b(d,f);c.push({text:a,isMatch:!0});d=f+a.length});b(d);return c};MdHighlightCtrl.prototype.createRegex=function(a,b){var c="",d="";a=this.sanitizeRegex(a);0<=b.indexOf("^")&&(c="^");0<=b.indexOf("$")&&(d="$");return new RegExp(c+a+d,b.replace(/[$^]/g,""))};
MdHighlightCtrl.prototype.sanitizeRegex=function(a){return a&&a.toString().replace(/[\\^$*+?.()|{}[\]]/g,"\\$&")};MdHighlight.$inject=["$interpolate","$parse"];angular.module("material.components.autocomplete").directive("mdHighlightText",MdHighlight);function MdHighlight(a,b){return{terminal:!0,controller:"MdHighlightCtrl",compile:function(c,d){var e=b(d.mdHighlightText),f=a(c.html());return function(a,b,c,d){d.init(e,f)}}}}ngmaterial.components.autocomplete=angular.module("material.components.autocomplete");angular.module("material.components.backdrop",["material.core"]).directive("mdBackdrop",["$mdTheming","$mdUtil","$animate","$rootElement","$window","$log","$$rAF","$document",function(a,b,c,d,e,f,g,k){function h(h,r){function l(){var a=parseInt(p.height,10)+Math.abs(parseInt(p.top,10));r.css("height",a+"px")}c.pin&&c.pin(r,d);var p;g(function(){p=e.getComputedStyle(k[0].body);if("fixed"===p.position){var c=b.debounce(function(){p=e.getComputedStyle(k[0].body);l()},60,null,!1);l();angular.element(e).on("resize",
c);h.$on("$destroy",function(){angular.element(e).off("resize",c)})}var d=r.parent();if(d.length){"BODY"===d[0].nodeName&&r.css("position","fixed");var g=e.getComputedStyle(d[0]);"static"===g.position&&f.warn("<md-backdrop> may not work properly in a scrolled, static-positioned parent container.");a.inherit(r,d)}})}return{restrict:"E",link:h}}]);ngmaterial.components.backdrop=angular.module("material.components.backdrop");MdBottomSheetDirective.$inject=["$mdBottomSheet"];MdBottomSheetProvider.$inject=["$$interimElementProvider"];angular.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",MdBottomSheetDirective).provider("$mdBottomSheet",MdBottomSheetProvider);function MdBottomSheetDirective(a){return{restrict:"E",link:function(b,c){c.addClass("_md");b.$on("$destroy",function(){a.destroy()})}}}
function MdBottomSheetProvider(a){function b(a,b,e,f,g,k,h,m){function c(c,d,h){d=e.extractElementByName(d,"md-bottom-sheet");d.attr("tabindex","-1");d.hasClass("ng-cloak")&&m.warn("$mdBottomSheet: using `<md-bottom-sheet ng-cloak>` will affect the bottom-sheet opening animations.",d[0]);h.isLockedOpen?(h.clickOutsideToClose=!1,h.escapeToClose=!1):h.cleanupGestures=p(d,h.parent);if(!h.disableBackdrop){n=e.createBackdrop(c,"md-bottom-sheet-backdrop md-opaque");n[0].tabIndex=-1;if(h.clickOutsideToClose)n.on("click",
function(){e.nextTick(g.cancel,!0)});f.inherit(n,h.parent);a.enter(n,h.parent,null)}f.inherit(d,h.parent);h.disableParentScroll&&(h.restoreScroll=e.disableScrollAround(d,h.parent));return a.enter(d,h.parent,n).then(function(){var a=e.findFocusTarget(d)||angular.element(d[0].querySelector("button")||d[0].querySelector("a")||d[0].querySelector(e.prefixer("ng-click",!0)))||n;h.escapeToClose&&(h.rootElementKeyupCallback=function(a){a.keyCode===b.KEY_CODE.ESCAPE&&e.nextTick(g.cancel,!0)},k.on("keyup",
h.rootElementKeyupCallback),a&&a.focus())})}function d(b,c,d){d.disableBackdrop||a.leave(n);return a.leave(c).then(function(){d.disableParentScroll&&(d.restoreScroll(),delete d.restoreScroll);d.cleanupGestures&&d.cleanupGestures()})}function p(a,c){function d(){a.css(b.CSS.TRANSITION_DURATION,"0ms")}function f(c){c=c.pointer.distanceY;5>c&&(c=Math.max(-80,c/2));a.css(b.CSS.TRANSFORM,"translate3d(0,"+(80+c)+"px,0)")}function k(c){if(0<c.pointer.distanceY&&(20<c.pointer.distanceY||.5<Math.abs(c.pointer.velocityY))){var d=
a.prop("offsetHeight")-c.pointer.distanceY;c=Math.min(d/c.pointer.velocityY*.75,500);a.css(b.CSS.TRANSITION_DURATION,c+"ms");e.nextTick(g.cancel,!0)}else a.css(b.CSS.TRANSITION_DURATION,""),a.css(b.CSS.TRANSFORM,"")}var l=h.register(c,"drag",{horizontal:!1});c.on("$md.dragstart",d).on("$md.drag",f).on("$md.dragend",k);return function(){l();c.off("$md.dragstart",d);c.off("$md.drag",f);c.off("$md.dragend",k)}}var n;return{themable:!0,onShow:c,onRemove:d,disableBackdrop:!1,escapeToClose:!0,clickOutsideToClose:!0,
disableParentScroll:!0,isLockedOpen:!1}}b.$inject="$animate $mdConstant $mdUtil $mdTheming $mdBottomSheet $rootElement $mdGesture $log".split(" ");return a("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","clickOutsideToClose"],options:b})}ngmaterial.components.bottomSheet=angular.module("material.components.bottomSheet");MdButtonDirective.$inject=["$mdButtonInkRipple","$mdTheming","$mdAria","$mdInteraction"];MdAnchorDirective.$inject=["$mdTheming"];angular.module("material.components.button",["material.core"]).directive("mdButton",MdButtonDirective).directive("a",MdAnchorDirective);function MdAnchorDirective(a){return{restrict:"E",link:function(b,c){a(c)}}}
function MdButtonDirective(a,b,c,d){function e(a){return angular.isDefined(a.href)||angular.isDefined(a.ngHref)||angular.isDefined(a.ngLink)||angular.isDefined(a.uiSref)}function f(a,b){if(e(b))return'<a class="md-button" ng-transclude></a>';a="undefined"===typeof b.type?"button":b.type;return'<button class="md-button" type="'+a+'" ng-transclude></button>'}function g(f,g,m){b(g);a.attach(f,g);c.expectWithoutText(g,"aria-label");e(m)&&angular.isDefined(m.ngDisabled)&&f.$watch(m.ngDisabled,function(a){g.attr("tabindex",
a?-1:0)});g.on("click",function(a){!0===m.disabled&&(a.preventDefault(),a.stopImmediatePropagation())});g.hasClass("md-no-focus")||(g.on("focus",function(){d.isUserInvoked()&&"keyboard"!==d.getLastInteractionType()||g.addClass("md-focused")}),g.on("blur",function(){g.removeClass("md-focused")}))}return{restrict:"EA",replace:!0,transclude:!0,template:f,link:g}}ngmaterial.components.button=angular.module("material.components.button");mdCardDirective.$inject=["$mdTheming"];angular.module("material.components.card",["material.core"]).directive("mdCard",mdCardDirective);function mdCardDirective(a){return{restrict:"E",link:function(b,c){c.addClass("_md");a(c)}}}ngmaterial.components.card=angular.module("material.components.card");MdCheckboxDirective.$inject="inputDirective $mdAria $mdConstant $mdTheming $mdUtil $mdInteraction".split(" ");angular.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",MdCheckboxDirective);
function MdCheckboxDirective(a,b,c,d,e,f){function g(g,h){function k(g,k,h,n){function l(a,b,c){h[a]&&g.$watch(h[a],function(a){c[a]&&k.attr(b,c[a])})}function p(a){var b=a.which||a.keyCode;if(b===c.KEY_CODE.SPACE||b===c.KEY_CODE.ENTER)a.preventDefault(),k.addClass("md-focused"),m(a)}function m(a){k[0].hasAttribute("disabled")||g.skipToggle||g.$apply(function(){var b=h.ngChecked&&h.ngClick?h.checked:!D.$viewValue;D.$setViewValue(b,a&&a.type);D.$render()})}function q(){k.toggleClass("md-checked",!!D.$viewValue&&
!B)}function r(a){(B=!1!==a)&&k.attr("aria-checked","mixed");k.toggleClass("md-indeterminate",B)}var B,z=n[0],D=n[1]||e.fakeNgModel(),A=n[2];z&&(n=z.isErrorGetter||function(){return D.$invalid&&(D.$touched||A&&A.$submitted)},z.input=k,g.$watch(n,z.setInvalid));d(k);k.children().on("focus",function(){k.focus()});e.parseAttributeBoolean(h.mdIndeterminate)&&(r(),g.$watch(h.mdIndeterminate,r));h.ngChecked&&g.$watch(g.$eval.bind(g,h.ngChecked),function(a){D.$setViewValue(a);D.$render()});l("ngDisabled",
"tabindex",{"true":"-1","false":h.tabindex});b.expectWithText(k,"aria-label");a.link.pre(g,{on:angular.noop,0:{}},h,[D]);k.on("click",m).on("keypress",p).on("focus",function(){"keyboard"===f.getLastInteractionType()&&k.addClass("md-focused")}).on("blur",function(){k.removeClass("md-focused")});D.$render=q}h.$set("tabindex",h.tabindex||"0");h.$set("type","checkbox");h.$set("role",h.type);return{pre:function(a,b){b.on("click",function(a){this.hasAttribute("disabled")&&a.stopImmediatePropagation()})},
post:k}}a=a[0];return{restrict:"E",transclude:!0,require:["^?mdInputContainer","?ngModel","?^form"],priority:c.BEFORE_NG_ARIA,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-icon"></div></div><div ng-transclude class="md-label"></div>',compile:g}}ngmaterial.components.checkbox=angular.module("material.components.checkbox");angular.module("material.components.chips",["material.core","material.components.autocomplete"]);MdChipCtrl.$inject=["$scope","$element","$mdConstant","$timeout","$mdUtil"];angular.module("material.components.chips").controller("MdChipCtrl",MdChipCtrl);function MdChipCtrl(a,b,c,d,e){this.$scope=a;this.$element=b;this.$mdConstant=c;this.$timeout=d;this.$mdUtil=e;this.isEditting=!1;this.parentController=void 0;this.enableChipEdit=!1}
MdChipCtrl.prototype.init=function(a){this.parentController=a;if(this.enableChipEdit=this.parentController.enableChipEdit)this.$element.on("keydown",this.chipKeyDown.bind(this)),this.$element.on("mousedown",this.chipMouseDown.bind(this)),this.getChipContent().addClass("_md-chip-content-edit-is-enabled")};MdChipCtrl.prototype.getChipContent=function(){var a=this.$element[0].getElementsByClassName("md-chip-content");return angular.element(a[0])};MdChipCtrl.prototype.getContentElement=function(){return angular.element(this.getChipContent().children()[0])};
MdChipCtrl.prototype.getChipIndex=function(){return parseInt(this.$element.attr("index"))};
MdChipCtrl.prototype.goOutOfEditMode=function(){if(this.isEditting){this.isEditting=!1;this.$element.removeClass("_md-chip-editing");this.getChipContent()[0].contentEditable="false";var a=this.getChipIndex(),b=this.getContentElement().text();b?(this.parentController.updateChipContents(a,this.getContentElement().text()),this.$mdUtil.nextTick(function(){this.parentController.selectedChip===a&&this.parentController.focusChip(a)}.bind(this))):this.parentController.removeChipAndFocusInput(a)}};
MdChipCtrl.prototype.selectNodeContents=function(a){if(document.body.createTextRange){var b=document.body.createTextRange();b.moveToElementText(a);b.select()}else if(window.getSelection){var c=window.getSelection();b=document.createRange();b.selectNodeContents(a);c.removeAllRanges();c.addRange(b)}};
MdChipCtrl.prototype.goInEditMode=function(){this.isEditting=!0;this.$element.addClass("_md-chip-editing");this.getChipContent()[0].contentEditable="true";this.getChipContent().on("blur",function(){this.goOutOfEditMode()}.bind(this));this.selectNodeContents(this.getChipContent()[0])};
MdChipCtrl.prototype.chipKeyDown=function(a){this.isEditting||a.keyCode!==this.$mdConstant.KEY_CODE.ENTER&&a.keyCode!==this.$mdConstant.KEY_CODE.SPACE?this.isEditting&&a.keyCode===this.$mdConstant.KEY_CODE.ENTER&&(a.preventDefault(),this.goOutOfEditMode()):(a.preventDefault(),this.goInEditMode())};MdChipCtrl.prototype.chipMouseDown=function(){this.getChipIndex()==this.parentController.selectedChip&&this.enableChipEdit&&!this.isEditting&&this.goInEditMode()};
MdChip.$inject=["$mdTheming","$mdUtil","$compile","$timeout"];angular.module("material.components.chips").directive("mdChip",MdChip);
function MdChip(a,b,c,d){function e(b,e,h,m){var g=m.shift();h=m.shift();m=angular.element(e[0].querySelector(".md-chip-content"));a(e);g&&(h.init(g),m.append(c(f)(b)),m.on("blur",function(){g.resetSelectedChip();g.$scope.$applyAsync()}));d(function(){g&&g.shouldFocusLastChip&&g.focusLastChipThenInput()})}var f=b.processTemplate('    <span ng-if="!$mdChipsCtrl.readonly" class="md-visually-hidden">      {{$mdChipsCtrl.deleteHint}}    </span>');return{restrict:"E",require:["^?mdChips","mdChip"],link:e,
controller:"MdChipCtrl"}}MdChipRemove.$inject=["$timeout"];angular.module("material.components.chips").directive("mdChipRemove",MdChipRemove);function MdChipRemove(a){function b(b,d,e,f){d.on("click",function(){b.$apply(function(){f.removeChip(b.$$replacedScope.$index)})});a(function(){d.attr({tabindex:-1,"aria-hidden":!0});d.find("button").attr("tabindex","-1")})}return{restrict:"A",require:"^mdChips",scope:!1,link:b}}MdChipTransclude.$inject=["$compile"];
angular.module("material.components.chips").directive("mdChipTransclude",MdChipTransclude);function MdChipTransclude(a){function b(b,d,e){var c=b.$parent.$mdChipsCtrl,g=c.parent.$new(!1,c.parent);g.$$replacedScope=b;g.$chip=b.$chip;g.$index=b.$index;g.$mdChipsCtrl=c;b=c.$scope.$eval(e.mdChipTransclude);d.html(b);a(d.contents())(g)}return{restrict:"EA",terminal:!0,link:b,scope:!1}}MdChipsCtrl.$inject="$scope $attrs $mdConstant $log $element $timeout $mdUtil".split(" ");
angular.module("material.components.chips").controller("MdChipsCtrl",MdChipsCtrl);
function MdChipsCtrl(a,b,c,d,e,f,g){this.$timeout=f;this.$mdConstant=c;this.$scope=a;this.parent=a.$parent;this.$mdUtil=g;this.$log=d;this.$element=e;this.$attrs=b;this.userInputElement=this.autocompleteCtrl=this.userInputNgModelCtrl=this.ngModelCtrl=null;this.items=[];this.selectedChip=-1;this.enableChipEdit=g.parseAttributeBoolean(b.mdEnableChipEdit);this.addOnBlur=g.parseAttributeBoolean(b.mdAddOnBlur);this.inputAriaLabel="Chips input.";this.containerHint="Chips container. Use arrow keys to select chips.";
this.deleteHint="Press delete to remove this chip.";this.deleteButtonLabel="Remove";this.chipBuffer="";this.useOnRemove=this.useOnAdd=this.useTransformChip=!1;this.wrapperId="";this.contentIds=[];this.ariaTabIndex=null;this.chipAppendDelay=300;this.deRegister=[];this.init()}
MdChipsCtrl.prototype.init=function(){var a=this;this.wrapperId="_md-chips-wrapper-"+this.$mdUtil.nextUid();this.deRegister.push(this.$scope.$watchCollection("$mdChipsCtrl.items",function(){a.setupInputAria();a.setupWrapperAria()}));this.deRegister.push(this.$attrs.$observe("mdChipAppendDelay",function(b){b=parseInt(b);a.chipAppendDelay=isNaN(b)?300:b}))};MdChipsCtrl.prototype.$onDestroy=function(){for(var a;a=this.deRegister.pop();)a.call(this)};
MdChipsCtrl.prototype.setupInputAria=function(){var a=this.$element.find("input");a&&(a.attr("role","textbox"),a.attr("aria-multiline",!0))};MdChipsCtrl.prototype.setupWrapperAria=function(){var a=this,b=this.$element.find("md-chips-wrap");this.items&&this.items.length?(b.attr("role","listbox"),this.contentIds=this.items.map(function(){return a.wrapperId+"-chip-"+a.$mdUtil.nextUid()}),b.attr("aria-owns",this.contentIds.join(" "))):(b.removeAttr("role"),b.removeAttr("aria-owns"))};
MdChipsCtrl.prototype.inputKeydown=function(a){var b=this.getChipBuffer();if(!(this.autocompleteCtrl&&a.isDefaultPrevented&&a.isDefaultPrevented()))if(a.keyCode===this.$mdConstant.KEY_CODE.BACKSPACE)0===this.getCursorPosition(a.target)&&(a.preventDefault(),a.stopPropagation(),this.items.length&&this.selectAndFocusChipSafe(this.items.length-1));else{if(!this.separatorKeys||1>this.separatorKeys.length)this.separatorKeys=[this.$mdConstant.KEY_CODE.ENTER];if(!(-1===this.separatorKeys.indexOf(a.keyCode)||
this.autocompleteCtrl&&this.requireMatch||!b||(a.preventDefault(),this.hasMaxChipsReached())))return this.appendChip(b.trim()),this.resetChipBuffer(),!1}};MdChipsCtrl.prototype.getCursorPosition=function(a){try{if(a.selectionStart===a.selectionEnd)return a.selectionStart}catch(b){if(!a.value)return 0}};MdChipsCtrl.prototype.updateChipContents=function(a,b){0<=a&&a<this.items.length&&(this.items[a]=b,this.updateNgModel())};MdChipsCtrl.prototype.isEditingChip=function(){return!!this.$element[0].querySelector("._md-chip-editing")};
MdChipsCtrl.prototype.isRemovable=function(){return this.ngModelCtrl?this.readonly?this.removable:angular.isDefined(this.removable)?this.removable:!0:!1};
MdChipsCtrl.prototype.chipKeydown=function(a){if(!this.getChipBuffer()&&!this.isEditingChip())switch(a.keyCode){case this.$mdConstant.KEY_CODE.BACKSPACE:case this.$mdConstant.KEY_CODE.DELETE:if(0>this.selectedChip)break;a.preventDefault();if(!this.isRemovable())break;this.removeAndSelectAdjacentChip(this.selectedChip);break;case this.$mdConstant.KEY_CODE.LEFT_ARROW:a.preventDefault();if(0>this.selectedChip||this.readonly&&0==this.selectedChip)this.selectedChip=this.items.length;this.items.length&&
this.selectAndFocusChipSafe(this.selectedChip-1);break;case this.$mdConstant.KEY_CODE.RIGHT_ARROW:a.preventDefault();this.selectAndFocusChipSafe(this.selectedChip+1);break;case this.$mdConstant.KEY_CODE.ESCAPE:case this.$mdConstant.KEY_CODE.TAB:0>this.selectedChip||(a.preventDefault(),this.onFocus())}};MdChipsCtrl.prototype.getPlaceholder=function(){var a=this.items&&this.items.length&&(""==this.secondaryPlaceholder||this.secondaryPlaceholder);return a?this.secondaryPlaceholder:this.placeholder};
MdChipsCtrl.prototype.removeAndSelectAdjacentChip=function(a){var b=this,c=b.getAdjacentChipIndex(a);this.$element[0].querySelector("md-chips-wrap");this.$element[0].querySelector('md-chip[index="'+a+'"]');b.removeChip(a);b.$timeout(function(){b.$timeout(function(){b.selectAndFocusChipSafe(c)})})};MdChipsCtrl.prototype.resetSelectedChip=function(){this.selectedChip=-1;this.ariaTabIndex=null};MdChipsCtrl.prototype.getAdjacentChipIndex=function(a){var b=this.items.length-1;return 0==b?-1:a==b?a-1:a};
MdChipsCtrl.prototype.appendChip=function(a){this.shouldFocusLastChip=!0;if(this.useTransformChip&&this.transformChip){var b=this.transformChip({$chip:a});angular.isDefined(b)&&(a=b)}if(angular.isObject(a)&&(b=this.items.some(function(b){return angular.equals(a,b)})))return;if(!(null==a||this.items.indexOf(a)+1)&&(b=this.items.push(a),--b,this.updateNgModel(),this.useOnAdd&&this.onAdd))this.onAdd({$chip:a,$index:b})};
MdChipsCtrl.prototype.useTransformChipExpression=function(){this.useTransformChip=!0};MdChipsCtrl.prototype.useOnAddExpression=function(){this.useOnAdd=!0};MdChipsCtrl.prototype.useOnRemoveExpression=function(){this.useOnRemove=!0};MdChipsCtrl.prototype.useOnSelectExpression=function(){this.useOnSelect=!0};
MdChipsCtrl.prototype.getChipBuffer=function(){var a=this.userInputElement?this.userInputNgModelCtrl?this.userInputNgModelCtrl.$viewValue:this.userInputElement[0].value:this.chipBuffer;return angular.isString(a)?a:""};MdChipsCtrl.prototype.resetChipBuffer=function(){this.userInputElement?this.userInputNgModelCtrl?(this.userInputNgModelCtrl.$setViewValue(""),this.userInputNgModelCtrl.$render()):this.userInputElement[0].value="":this.chipBuffer=""};
MdChipsCtrl.prototype.hasMaxChipsReached=function(){angular.isString(this.maxChips)&&(this.maxChips=parseInt(this.maxChips,10)||0);return 0<this.maxChips&&this.items.length>=this.maxChips};MdChipsCtrl.prototype.validateModel=function(){this.ngModelCtrl.$setValidity("md-max-chips",!this.hasMaxChipsReached());this.ngModelCtrl.$validate()};MdChipsCtrl.prototype.updateNgModel=function(){this.ngModelCtrl.$setViewValue(this.items.slice());this.validateModel()};
MdChipsCtrl.prototype.removeChip=function(a){var b=this.items.splice(a,1);this.updateNgModel();if(b&&b.length&&this.useOnRemove&&this.onRemove)this.onRemove({$chip:b[0],$index:a})};MdChipsCtrl.prototype.removeChipAndFocusInput=function(a){this.removeChip(a);if(this.autocompleteCtrl)this.autocompleteCtrl.hidden=!0,this.$mdUtil.nextTick(this.onFocus.bind(this));else this.onFocus()};
MdChipsCtrl.prototype.selectAndFocusChipSafe=function(a){if(!this.items.length||-1===a)return this.focusInput();if(a>=this.items.length)if(this.readonly)a=0;else return this.onFocus();a=Math.max(a,0);a=Math.min(a,this.items.length-1);this.selectChip(a);this.focusChip(a)};MdChipsCtrl.prototype.focusLastChipThenInput=function(){var a=this;a.shouldFocusLastChip=!1;a.focusChip(this.items.length-1);a.$timeout(function(){a.focusInput()},a.chipAppendDelay)};
MdChipsCtrl.prototype.focusInput=function(){this.selectChip(-1);this.onFocus()};MdChipsCtrl.prototype.selectChip=function(a){if(-1<=a&&a<=this.items.length){if(this.selectedChip=a,this.useOnSelect&&this.onSelect)this.onSelect({$chip:this.items[a]})}else this.$log.warn("Selected Chip index out of bounds; ignoring.")};MdChipsCtrl.prototype.selectAndFocusChip=function(a){this.selectChip(a);-1!=a&&this.focusChip(a)};
MdChipsCtrl.prototype.focusChip=function(a){var b=this.$element[0].querySelector('md-chip[index="'+a+'"] .md-chip-content');this.ariaTabIndex=a;b.focus()};MdChipsCtrl.prototype.configureNgModel=function(a){this.ngModelCtrl=a;var b=this;a.$isEmpty=function(a){return!a||0===a.length};a.$render=function(){b.items=b.ngModelCtrl.$viewValue}};MdChipsCtrl.prototype.onFocus=function(){var a=this.$element[0].querySelector("input");a&&a.focus();this.resetSelectedChip()};
MdChipsCtrl.prototype.onInputFocus=function(){this.inputHasFocus=!0;this.setupInputAria();this.resetSelectedChip()};MdChipsCtrl.prototype.onInputBlur=function(){this.inputHasFocus=!1;this.shouldAddOnBlur()&&(this.appendChip(this.getChipBuffer().trim()),this.resetChipBuffer())};
MdChipsCtrl.prototype.configureInput=function(a){var b=a.controller("ngModel"),c=this;b&&(this.deRegister.push(this.$scope.$watch(function(){return b.$touched},function(a){a&&c.ngModelCtrl.$setTouched()})),this.deRegister.push(this.$scope.$watch(function(){return b.$dirty},function(a){a&&c.ngModelCtrl.$setDirty()})))};
MdChipsCtrl.prototype.configureUserInput=function(a){this.userInputElement=a;var b=a.controller("ngModel");b!=this.ngModelCtrl&&(this.userInputNgModelCtrl=b);var c=this.$scope,d=this;a.attr({tabindex:0}).on("keydown",function(a){c.$evalAsync(angular.bind(d,d.inputKeydown,a))}).on("focus",function(a){c.$evalAsync(angular.bind(d,d.onInputFocus,a))}).on("blur",function(a){c.$evalAsync(angular.bind(d,d.onInputBlur,a))})};
MdChipsCtrl.prototype.configureAutocomplete=function(a){a&&(this.autocompleteCtrl=a,a.registerSelectedItemWatcher(angular.bind(this,function(a){a&&!this.hasMaxChipsReached()&&(this.appendChip(a),this.resetChipBuffer())})),this.$element.find("input").on("focus",angular.bind(this,this.onInputFocus)).on("blur",angular.bind(this,this.onInputBlur)))};
MdChipsCtrl.prototype.shouldAddOnBlur=function(){this.validateModel();var a=this.getChipBuffer().trim(),b=this.ngModelCtrl.$valid,c=this.autocompleteCtrl&&!this.autocompleteCtrl.hidden;this.userInputNgModelCtrl&&(b=b&&this.userInputNgModelCtrl.$valid);return this.addOnBlur&&!this.requireMatch&&a&&b&&!c};MdChipsCtrl.prototype.hasFocus=function(){return this.inputHasFocus||0<=this.selectedChip};MdChipsCtrl.prototype.contentIdFor=function(a){return this.contentIds[a]};MdChips.$inject="$mdTheming $mdUtil $compile $log $timeout $$mdSvgRegistry".split(" ");
angular.module("material.components.chips").directive("mdChips",MdChips);
function MdChips(a,b,c,d,e,f){function g(g,m){function h(a){if(m.ngModel)return(a=l[0].querySelector(a))&&a.outerHTML}var l=m.$mdUserTemplate;m.$mdUserTemplate=null;var p=h("md-chips>md-chip-template");g=b.prefixer().buildList("md-chip-remove").map(function(a){return"md-chips>*["+a+"]"}).join(",");var n=h(g)||k.remove,v=p||k["default"],u=h("md-chips>md-autocomplete")||h("md-chips>input")||k.input,w=l.find("md-chip");l[0].querySelector("md-chip-template>*[md-chip-remove]")&&d.warn("invalid placement of md-chip-remove within md-chip-template.");
return function(d,g,h,l){b.initOptionalProperties(d,m);a(g);var q=l[0];p&&(q.enableChipEdit=!1);q.chipContentsTemplate=v;q.chipRemoveTemplate=n;q.chipInputTemplate=u;q.mdCloseIcon=f.mdClose;g.attr({tabindex:-1}).on("focus",function(){q.onFocus()});m.ngModel&&(q.configureNgModel(g.controller("ngModel")),h.mdTransformChip&&q.useTransformChipExpression(),h.mdOnAppend&&q.useOnAppendExpression(),h.mdOnAdd&&q.useOnAddExpression(),h.mdOnRemove&&q.useOnRemoveExpression(),h.mdOnSelect&&q.useOnSelectExpression(),
u!=k.input&&d.$watch("$mdChipsCtrl.readonly",function(a){a||b.nextTick(function(){if(0===u.indexOf("<md-autocomplete")){var a=g.find("md-autocomplete");q.configureAutocomplete(a.controller("mdAutocomplete"))}q.configureUserInput(g.find("input"))})}),b.nextTick(function(){var a=g.find("input");a&&(q.configureInput(a),a.toggleClass("md-input",!0))}));if(0<w.length){var r=c(w.clone())(d.$parent);e(function(){g.find("md-chips-wrap").prepend(r)})}}}var k={chips:b.processTemplate('      <md-chips-wrap          id="{{$mdChipsCtrl.wrapperId}}"          tabindex="{{$mdChipsCtrl.readonly ? 0 : -1}}"          ng-keydown="$mdChipsCtrl.chipKeydown($event)"          ng-class="{ \'md-focused\': $mdChipsCtrl.hasFocus(),                       \'md-readonly\': !$mdChipsCtrl.ngModelCtrl || $mdChipsCtrl.readonly,                      \'md-removable\': $mdChipsCtrl.isRemovable() }"          aria-setsize="{{$mdChipsCtrl.items.length}}"          class="md-chips">        <span ng-if="$mdChipsCtrl.readonly" class="md-visually-hidden">          {{$mdChipsCtrl.containerHint}}        </span>        <md-chip ng-repeat="$chip in $mdChipsCtrl.items"            index="{{$index}}"            ng-class="{\'md-focused\': $mdChipsCtrl.selectedChip == $index, \'md-readonly\': !$mdChipsCtrl.ngModelCtrl || $mdChipsCtrl.readonly}">          <div class="md-chip-content"              tabindex="{{$mdChipsCtrl.ariaTabIndex == $index ? 0 : -1}}"              id="{{$mdChipsCtrl.contentIdFor($index)}}"              role="option"              aria-selected="{{$mdChipsCtrl.selectedChip == $index}}"               aria-posinset="{{$index}}"              ng-click="!$mdChipsCtrl.readonly && $mdChipsCtrl.focusChip($index)"              ng-focus="!$mdChipsCtrl.readonly && $mdChipsCtrl.selectChip($index)"              md-chip-transclude="$mdChipsCtrl.chipContentsTemplate"></div>          <div ng-if="$mdChipsCtrl.isRemovable()"               class="md-chip-remove-container"               tabindex="-1"               md-chip-transclude="$mdChipsCtrl.chipRemoveTemplate"></div>        </md-chip>        <div class="md-chip-input-container" ng-if="!$mdChipsCtrl.readonly && $mdChipsCtrl.ngModelCtrl">          <div md-chip-transclude="$mdChipsCtrl.chipInputTemplate"></div>        </div>      </md-chips-wrap>'),
input:b.processTemplate('        <input            class="md-input"            tabindex="0"            aria-label="{{$mdChipsCtrl.inputAriaLabel}}"             placeholder="{{$mdChipsCtrl.getPlaceholder()}}"            ng-model="$mdChipsCtrl.chipBuffer"            ng-focus="$mdChipsCtrl.onInputFocus()"            ng-blur="$mdChipsCtrl.onInputBlur()"            ng-keydown="$mdChipsCtrl.inputKeydown($event)">'),"default":b.processTemplate("      <span>{{$chip}}</span>"),remove:b.processTemplate('      <button          class="md-chip-remove"          ng-if="$mdChipsCtrl.isRemovable()"          ng-click="$mdChipsCtrl.removeChipAndFocusInput($$replacedScope.$index)"          type="button"          tabindex="-1">        <md-icon md-svg-src="{{ $mdChipsCtrl.mdCloseIcon }}"></md-icon>        <span class="md-visually-hidden">          {{$mdChipsCtrl.deleteButtonLabel}}        </span>      </button>')};
return{template:function(a,b){b.$mdUserTemplate=a.clone();return k.chips},require:["mdChips"],restrict:"E",controller:"MdChipsCtrl",controllerAs:"$mdChipsCtrl",bindToController:!0,compile:g,scope:{readonly:"=readonly",removable:"=mdRemovable",placeholder:"@",secondaryPlaceholder:"@",maxChips:"@mdMaxChips",transformChip:"&mdTransformChip",onAppend:"&mdOnAppend",onAdd:"&mdOnAdd",onRemove:"&mdOnRemove",onSelect:"&mdOnSelect",inputAriaLabel:"@",containerHint:"@",deleteHint:"@",deleteButtonLabel:"@",separatorKeys:"=?mdSeparatorKeys",
requireMatch:"=?mdRequireMatch",chipAppendDelayString:"@?mdChipAppendDelay"}}}angular.module("material.components.chips").controller("MdContactChipsCtrl",MdContactChipsCtrl);function MdContactChipsCtrl(){this.selectedItem=null;this.searchText=""}MdContactChipsCtrl.prototype.queryContact=function(a){return this.contactQuery({$query:a})};MdContactChipsCtrl.prototype.itemName=function(a){return a[this.contactName]};MdContactChips.$inject=["$mdTheming","$mdUtil"];
angular.module("material.components.chips").directive("mdContactChips",MdContactChips);
function MdContactChips(a,b){function c(c,e){return function(c,d,k,h){var f=h;b.initOptionalProperties(c,e);a(d);d.attr("tabindex","-1");k.$observe("mdChipAppendDelay",function(a){f.chipAppendDelay=a})}}return{template:function(){return'      <md-chips class="md-contact-chips"          ng-model="$mdContactChipsCtrl.contacts"          ng-change="$mdContactChipsCtrl.ngChange($mdContactChipsCtrl.contacts)"          md-require-match="$mdContactChipsCtrl.requireMatch"          md-chip-append-delay="{{$mdContactChipsCtrl.chipAppendDelay}}"           md-autocomplete-snap>          <md-autocomplete              md-menu-class="md-contact-chips-suggestions"              md-selected-item="$mdContactChipsCtrl.selectedItem"              md-search-text="$mdContactChipsCtrl.searchText"              md-items="item in $mdContactChipsCtrl.queryContact($mdContactChipsCtrl.searchText)"              md-item-text="$mdContactChipsCtrl.itemName(item)"              md-no-cache="true"              md-min-length="$mdContactChipsCtrl.minLength"              md-autoselect              placeholder="{{$mdContactChipsCtrl.contacts.length == 0 ?                  $mdContactChipsCtrl.placeholder : $mdContactChipsCtrl.secondaryPlaceholder}}">            <div class="md-contact-suggestion">              <img                   ng-src="{{item[$mdContactChipsCtrl.contactImage]}}"                  alt="{{item[$mdContactChipsCtrl.contactName]}}"                  ng-if="item[$mdContactChipsCtrl.contactImage]" />              <span class="md-contact-name" md-highlight-text="$mdContactChipsCtrl.searchText"                    md-highlight-flags="{{$mdContactChipsCtrl.highlightFlags}}">                {{item[$mdContactChipsCtrl.contactName]}}              </span>              <span class="md-contact-email" >{{item[$mdContactChipsCtrl.contactEmail]}}</span>            </div>          </md-autocomplete>          <md-chip-template>            <div class="md-contact-avatar">              <img                   ng-src="{{$chip[$mdContactChipsCtrl.contactImage]}}"                  alt="{{$chip[$mdContactChipsCtrl.contactName]}}"                  ng-if="$chip[$mdContactChipsCtrl.contactImage]" />            </div>            <div class="md-contact-name">              {{$chip[$mdContactChipsCtrl.contactName]}}            </div>          </md-chip-template>      </md-chips>'},restrict:"E",
controller:"MdContactChipsCtrl",controllerAs:"$mdContactChipsCtrl",bindToController:!0,compile:c,scope:{contactQuery:"&mdContacts",placeholder:"@",secondaryPlaceholder:"@",contactName:"@mdContactName",contactImage:"@mdContactImage",contactEmail:"@mdContactEmail",contacts:"=ngModel",ngChange:"&",requireMatch:"=?mdRequireMatch",minLength:"=?mdMinLength",highlightFlags:"@?mdHighlightFlags",chipAppendDelay:"@?mdChipAppendDelay"}}}ngmaterial.components.chips=angular.module("material.components.chips");(function(){function a(a,b,c){function e(a,b){try{b&&a.css(r(b))}catch(u){c.error(u.message)}}function f(a){a=p(a);return g(a)}function g(c,d){d=d||!1;var e=a.PALETTES[c.palette][c.hue];e=d?e.contrast:e.value;return b.supplant("rgba({0}, {1}, {2}, {3})",[e[0],e[1],e[2],e[3]||c.opacity])}function r(a){var b={},c=a.hasOwnProperty("color");angular.forEach(a,function(a,d){a=p(a);var e=-1<d.indexOf("background");b[d]=g(a);e&&!c&&(b.color=g(a,!0))});return b}function l(b){return angular.isDefined(a.THEMES[b.split("-")[0]])}
function p(c){c=c.split("-");var e=angular.isDefined(a.THEMES[c[0]]);e=e?c.splice(0,1)[0]:a.defaultTheme();var f=c,g=e,k=1<f.length&&-1!==d.indexOf(f[1]);var h=f[0].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();k&&(h=f[0]+"-"+f.splice(1,1));if(-1===d.indexOf(h)){f=a.THEMES[g].colors[h];if(!f)throw Error(b.supplant("mdColors: couldn't find '{palette}' in the palettes.",{palette:h}));h=f.name}f=c;g=a.THEMES[e].colors;if("hue"===f[1]){k=parseInt(f.splice(2,1)[0],10);if(1>k||3<k)throw Error(b.supplant("mdColors: 'hue-{hueNumber}' is not a valid hue, can be only 'hue-1', 'hue-2' and 'hue-3'",
{hueNumber:k}));f[1]="hue-"+k;if(!(f[0]in g))throw Error(b.supplant("mdColors: 'hue-x' can only be used with [{availableThemes}], but was used with '{usedTheme}'",{availableThemes:Object.keys(g).join(", "),usedTheme:f[0]}));f=g[f[0]].hues[f[1]]}else f=f[1]||g[f[0]in g?f[0]:"primary"].hues["default"];return{theme:e,palette:h,hue:f,opacity:c[2]||1}}d=d||Object.keys(a.PALETTES);return{applyThemeColors:e,getThemeColor:f,hasTheme:l}}function b(a,b,d,k){return{restrict:"A",require:["^?mdTheme"],compile:function(e,
f){function g(){var a=f.mdColors,d=-1<a.indexOf("::"),e=d?!0:c.test(f.mdColors);f.mdColors=a.replace("::","");a=angular.isDefined(f.mdColorsWatch);return d||e?!1:a?b.parseAttributeBoolean(f.mdColorsWatch):!0}var h=g();return function(b,c,e,f){var g=f[0],l={},p=function(c){"string"!==typeof c&&(c="");e.mdColors||(e.mdColors="{}");var d=k(e.mdColors)(b);g&&Object.keys(d).forEach(function(b){var e=d[b];a.hasTheme(e)||(d[b]=(c||g.$mdTheme)+"-"+e)});n(d);return d},n=function(a){if(!angular.equals(a,l)){var b=
Object.keys(l);l.background&&!b.color&&b.push("color");b.forEach(function(a){c.css(a,"")})}l=a},m=angular.noop;g&&(m=g.registerChanges(function(b){a.applyThemeColors(c,p(b))}));b.$on("$destroy",function(){m()});try{h?b.$watch(p,angular.bind(this,a.applyThemeColors,c),!0):a.applyThemeColors(c,p())}catch(D){d.error(D.message)}}}}}b.$inject=["$mdColors","$mdUtil","$log","$parse"];a.$inject=["$mdTheming","$mdUtil","$log"];var c=/^{((\s|,)*?["'a-zA-Z-]+?\s*?:\s*?('|")[a-zA-Z0-9-.]*('|"))+\s*}$/,d=null;
angular.module("material.components.colors",["material.core"]).directive("mdColors",b).service("$mdColors",a)})();ngmaterial.components.colors=angular.module("material.components.colors");mdContentDirective.$inject=["$mdTheming"];angular.module("material.components.content",["material.core"]).directive("mdContent",mdContentDirective);function mdContentDirective(a){function b(a,b){this.$scope=a;this.$element=b}return{restrict:"E",controller:["$scope","$element",b],link:function(b,d){d.addClass("_md");a(d);b.$broadcast("$mdContentLoaded",d);iosScrollFix(d[0])}}}
function iosScrollFix(a){angular.element(a).on("$md.pressdown",function(b){"t"!==b.pointer.type||b.$materialScrollFixed||(b.$materialScrollFixed=!0,0===a.scrollTop?a.scrollTop=1:a.scrollHeight===a.scrollTop+a.offsetHeight&&--a.scrollTop)})}ngmaterial.components.content=angular.module("material.components.content");angular.module("material.components.datepicker",["material.core","material.components.icon","material.components.virtualRepeat"]);
(function(){function a(){return{template:function(a,b){a=b.hasOwnProperty("ngIf")?"":'ng-if="calendarCtrl.isInitialized"';return a='<div ng-switch="calendarCtrl.currentView" '+a+'><md-calendar-year ng-switch-when="year"></md-calendar-year><md-calendar-month ng-switch-default></md-calendar-month></div>'},scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",dateFilter:"=mdDateFilter",_mode:"@mdMode",_currentView:"@mdCurrentView"},require:["ngModel","mdCalendar"],controller:b,controllerAs:"calendarCtrl",
bindToController:!0,link:function(a,b,c,d){a=d[0];d=d[1];d.configureNgModel(a)}}}function b(a,b,d,k,h,m,r,l,p){m(a);this.$element=a;this.$scope=b;this.dateUtil=d;this.$mdUtil=k;this.keyCode=h.KEY_CODE;this.$$rAF=r;this.$mdDateLocale=p;this.today=this.dateUtil.createDateAtMidnight();this.ngModelCtrl=null;this.SELECTED_DATE_CLASS="md-calendar-selected-date";this.TODAY_CLASS="md-calendar-date-today";this.FOCUSED_DATE_CLASS="md-focus";this.id=c++;this.lastRenderableDate=this.firstRenderableDate=this.selectedDate=
this.displayDate=null;this.isInitialized=!1;this.scrollbarWidth=this.width=0;l.tabindex||a.attr("tabindex","-1");var e=angular.bind(this,this.handleKeyEvent);var f=a.parent().hasClass("md-datepicker-calendar")?angular.element(document.body):a;f.on("keydown",e);b.$on("$destroy",function(){f.off("keydown",e)});1===angular.version.major&&4>=angular.version.minor&&this.$onInit()}b.$inject="$element $scope $$mdDateUtil $mdUtil $mdConstant $mdTheming $$rAF $attrs $mdDateLocale".split(" ");angular.module("material.components.datepicker").directive("mdCalendar",
a);var c=0,d={day:"month",month:"year"};b.prototype.$onInit=function(){this._mode&&d.hasOwnProperty(this._mode)?(this.currentView=d[this._mode],this.mode=this._mode):(this.currentView=this._currentView||"month",this.mode=null);var a=this.$mdDateLocale;this.firstRenderableDate=this.minDate&&this.minDate>a.firstRenderableDate?this.minDate:a.firstRenderableDate;this.lastRenderableDate=this.maxDate&&this.maxDate<a.lastRenderableDate?this.maxDate:a.lastRenderableDate};b.prototype.configureNgModel=function(a){var b=
this;b.ngModelCtrl=a;b.$mdUtil.nextTick(function(){b.isInitialized=!0});a.$render=function(){var a=this.$viewValue;b.$scope.$broadcast("md-calendar-parent-changed",a);b.selectedDate||(b.selectedDate=a);b.displayDate||(b.displayDate=b.selectedDate||b.today)}};b.prototype.setNgModelValue=function(a){a=this.dateUtil.createDateAtMidnight(a);this.focus(a);this.$scope.$emit("md-calendar-change",a);this.ngModelCtrl.$setViewValue(a);this.ngModelCtrl.$render();return a};b.prototype.setCurrentView=function(a,
b){var c=this;c.$mdUtil.nextTick(function(){c.currentView=a;b&&(c.displayDate=angular.isDate(b)?b:new Date(b))})};b.prototype.focus=function(a){if(this.dateUtil.isValidDate(a)){var b=this.$element[0].querySelector("."+this.FOCUSED_DATE_CLASS);b&&b.classList.remove(this.FOCUSED_DATE_CLASS);b=this.getDateId(a,this.currentView);if(b=document.getElementById(b))b.classList.add(this.FOCUSED_DATE_CLASS),b.focus(),this.displayDate=a}else(a=this.$element[0].querySelector("[ng-switch]"))&&a.focus()};b.prototype.changeSelectedDate=
function(a){var b=this.SELECTED_DATE_CLASS,c=this.$element[0].querySelector("."+b);c&&(c.classList.remove(b),c.setAttribute("aria-selected","false"));a&&(c=document.getElementById(this.getDateId(a,this.currentView)))&&(c.classList.add(b),c.setAttribute("aria-selected","true"));this.selectedDate=a};b.prototype.getActionFromKeyEvent=function(a){var b=this.keyCode;switch(a.which){case b.ENTER:return"select";case b.RIGHT_ARROW:return"move-right";case b.LEFT_ARROW:return"move-left";case b.DOWN_ARROW:return a.metaKey?
"move-page-down":"move-row-down";case b.UP_ARROW:return a.metaKey?"move-page-up":"move-row-up";case b.PAGE_DOWN:return"move-page-down";case b.PAGE_UP:return"move-page-up";case b.HOME:return"start";case b.END:return"end";default:return null}};b.prototype.handleKeyEvent=function(a){var b=this;this.$scope.$apply(function(){if(a.which==b.keyCode.ESCAPE||a.which==b.keyCode.TAB)b.$scope.$emit("md-calendar-close"),a.which==b.keyCode.TAB&&a.preventDefault();else{var c=b.getActionFromKeyEvent(a);c&&(a.preventDefault(),
a.stopPropagation(),b.$scope.$broadcast("md-calendar-parent-action",c))}})};b.prototype.hideVerticalScrollbar=function(a){function b(){var b=c.width||340,d=c.scrollbarWidth,f=a.calendarScroller;e.style.width=b+"px";f.style.width=b+d+"px";f.style.paddingRight=d+"px"}var c=this,d=a.$element[0],e=d.querySelector(".md-calendar-scroll-mask");0<c.width?b():c.$$rAF(function(){var e=a.calendarScroller;c.scrollbarWidth=e.offsetWidth-e.clientWidth;c.width=d.querySelector("table").offsetWidth;b()})};b.prototype.getDateId=
function(a,b){if(!b)throw Error("A namespace for the date id has to be specified.");return["md",this.id,b,a.getFullYear(),a.getMonth(),a.getDate()].join("-")};b.prototype.updateVirtualRepeat=function(){var a=this.$scope,b=a.$on("$md-resize-enable",function(){a.$$phase||a.$apply();b()})}})();
(function(){function a(){return{template:'<table aria-hidden="true" class="md-calendar-day-header"><thead></thead></table><div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container" md-offset-size="-220"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-month-body role="rowgroup" md-virtual-repeat="i in monthCtrl.items" md-month-offset="$index" class="md-calendar-month" md-start-index="monthCtrl.getSelectedMonthIndex()" md-item-size="265"><tr aria-hidden="true" md-force-height="\'265px\'"></tr></tbody></table></md-virtual-repeat-container></div>',require:["^^mdCalendar",
"mdCalendarMonth"],controller:b,controllerAs:"monthCtrl",bindToController:!0,link:function(a,b,e,f){a=f[0];f=f[1];f.initialize(a)}}}function b(a,b,e,f,g,k){this.$element=a;this.$scope=b;this.$animate=e;this.$q=f;this.dateUtil=g;this.dateLocale=k;this.calendarScroller=a[0].querySelector(".md-virtual-repeat-scroller");this.isMonthTransitionInProgress=this.isInitialized=!1;var c=this;this.cellClickHandler=function(){var a=g.getTimestampFromNode(this);c.$scope.$apply(function(){c.calendarCtrl.setNgModelValue(a)})};
this.headerClickHandler=function(){c.calendarCtrl.setCurrentView("year",g.getTimestampFromNode(this))}}b.$inject="$element $scope $animate $q $$mdDateUtil $mdDateLocale".split(" ");angular.module("material.components.datepicker").directive("mdCalendarMonth",a);b.prototype.initialize=function(a){this.items={length:this.dateUtil.getMonthDistance(a.firstRenderableDate,a.lastRenderableDate)+2};this.calendarCtrl=a;this.attachScopeListeners();a.updateVirtualRepeat();a.ngModelCtrl&&a.ngModelCtrl.$render()};
b.prototype.getSelectedMonthIndex=function(){var a=this.calendarCtrl;return this.dateUtil.getMonthDistance(a.firstRenderableDate,a.displayDate||a.selectedDate||a.today)};b.prototype.changeDisplayDate=function(a){if(!this.isInitialized)return this.buildWeekHeader(),this.calendarCtrl.hideVerticalScrollbar(this),this.isInitialized=!0,this.$q.when();if(!this.dateUtil.isValidDate(a)||this.isMonthTransitionInProgress)return this.$q.when();this.isMonthTransitionInProgress=!0;var b=this.animateDateChange(a);
this.calendarCtrl.displayDate=a;var c=this;b.then(function(){c.isMonthTransitionInProgress=!1});return b};b.prototype.animateDateChange=function(a){this.dateUtil.isValidDate(a)&&(a=this.dateUtil.getMonthDistance(this.calendarCtrl.firstRenderableDate,a),this.calendarScroller.scrollTop=265*a);return this.$q.when()};b.prototype.buildWeekHeader=function(){for(var a=this.dateLocale.firstDayOfWeek,b=this.dateLocale.shortDays,e=document.createElement("tr"),f=0;7>f;f++){var g=document.createElement("th");
g.textContent=b[(f+a)%7];e.appendChild(g)}this.$element.find("thead").append(e)};b.prototype.attachScopeListeners=function(){var a=this;a.$scope.$on("md-calendar-parent-changed",function(b,c){a.calendarCtrl.changeSelectedDate(c);a.changeDisplayDate(c)});a.$scope.$on("md-calendar-parent-action",angular.bind(this,this.handleKeyEvent))};b.prototype.handleKeyEvent=function(a,b){var c=this.calendarCtrl;a=c.displayDate;if("select"===b)c.setNgModelValue(a);else{var d=null,g=this.dateUtil;switch(b){case "move-right":d=
g.incrementDays(a,1);break;case "move-left":d=g.incrementDays(a,-1);break;case "move-page-down":d=g.incrementMonths(a,1);break;case "move-page-up":d=g.incrementMonths(a,-1);break;case "move-row-down":d=g.incrementDays(a,7);break;case "move-row-up":d=g.incrementDays(a,-7);break;case "start":d=g.getFirstDateOfMonth(a);break;case "end":d=g.getLastDateOfMonth(a)}d&&(d=this.dateUtil.clampDate(d,c.minDate,c.maxDate),this.changeDisplayDate(d).then(function(){c.focus(d)}))}}})();
(function(){function a(a,d){var c=a('<md-icon md-svg-src="'+d.mdTabsArrow+'"></md-icon>')({})[0];return{require:["^^mdCalendar","^^mdCalendarMonth","mdCalendarMonthBody"],scope:{offset:"=mdMonthOffset"},controller:b,controllerAs:"mdMonthBodyCtrl",bindToController:!0,link:function(a,b,d,e){b=e[0];d=e[1];var f=e[2];f.calendarCtrl=b;f.monthCtrl=d;f.arrowIcon=c.cloneNode(!0);a.$watch(function(){return f.offset},function(a){angular.isNumber(a)&&f.generateContent()})}}}function b(a,b,e){this.$element=a;
this.dateUtil=b;this.dateLocale=e;this.focusAfterAppend=this.offset=this.calendarCtrl=this.monthCtrl=null}a.$inject=["$compile","$$mdSvgRegistry"];b.$inject=["$element","$$mdDateUtil","$mdDateLocale"];angular.module("material.components.datepicker").directive("mdCalendarMonthBody",a);b.prototype.generateContent=function(){var a=this.dateUtil.incrementMonths(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForMonth(a));this.focusAfterAppend&&(this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS),
this.focusAfterAppend.focus(),this.focusAfterAppend=null)};b.prototype.buildDateCell=function(a){var b=this.monthCtrl,c=this.calendarCtrl,f=document.createElement("td");f.tabIndex=-1;f.classList.add("md-calendar-date");f.setAttribute("role","gridcell");if(a){f.setAttribute("tabindex","-1");f.setAttribute("aria-label",this.dateLocale.longDateFormatter(a));f.id=c.getDateId(a,"month");f.setAttribute("data-timestamp",a.getTime());this.dateUtil.isSameDay(a,c.today)&&f.classList.add(c.TODAY_CLASS);this.dateUtil.isValidDate(c.selectedDate)&&
this.dateUtil.isSameDay(a,c.selectedDate)&&(f.classList.add(c.SELECTED_DATE_CLASS),f.setAttribute("aria-selected","true"));var g=this.dateLocale.dates[a.getDate()];if(this.isDateEnabled(a)){var k=document.createElement("span");k.classList.add("md-calendar-date-selection-indicator");k.textContent=g;f.appendChild(k);f.addEventListener("click",b.cellClickHandler);c.displayDate&&this.dateUtil.isSameDay(a,c.displayDate)&&(this.focusAfterAppend=f)}else f.classList.add("md-calendar-date-disabled"),f.textContent=
g}return f};b.prototype.isDateEnabled=function(a){return this.dateUtil.isDateWithinRange(a,this.calendarCtrl.minDate,this.calendarCtrl.maxDate)&&(!angular.isFunction(this.calendarCtrl.dateFilter)||this.calendarCtrl.dateFilter(a))};b.prototype.buildDateRow=function(a){var b=document.createElement("tr");b.setAttribute("role","row");b.setAttribute("aria-label",this.dateLocale.weekNumberFormatter(a));return b};b.prototype.buildCalendarForMonth=function(a){var b=this.dateUtil.isValidDate(a)?a:new Date,
c=this.dateUtil.getFirstDateOfMonth(b),f=this.getLocaleDay_(c),g=this.dateUtil.getNumberOfDaysInMonth(b);a=document.createDocumentFragment();var k=1,h=this.buildDateRow(k);a.appendChild(h);var m=this.offset===this.monthCtrl.items.length-1,r=0,l=document.createElement("td"),p=document.createElement("span"),n=this.calendarCtrl;p.textContent=this.dateLocale.monthHeaderFormatter(b);l.appendChild(p);l.classList.add("md-calendar-month-label");n.maxDate&&c>n.maxDate?l.classList.add("md-calendar-month-label-disabled"):
n.mode||(l.addEventListener("click",this.monthCtrl.headerClickHandler),l.setAttribute("data-timestamp",c.getTime()),l.setAttribute("aria-label",this.dateLocale.monthFormatter(b)),l.classList.add("md-calendar-label-clickable"),l.appendChild(this.arrowIcon.cloneNode(!0)));if(2>=f){if(l.setAttribute("colspan","7"),b=this.buildDateRow(),b.appendChild(l),a.insertBefore(b,h),m)return a}else r=3,l.setAttribute("colspan","3"),h.appendChild(l);for(;r<f;r++)h.appendChild(this.buildDateCell());for(r=1;r<=g;r++){if(7===
f){if(m)return a;f=0;k++;h=this.buildDateRow(k);a.appendChild(h)}c.setDate(r);l=this.buildDateCell(c);h.appendChild(l);f++}for(;7>h.childNodes.length;)h.appendChild(this.buildDateCell());for(;6>a.childNodes.length;){g=this.buildDateRow();for(k=0;7>k;k++)g.appendChild(this.buildDateCell());a.appendChild(g)}return a};b.prototype.getLocaleDay_=function(a){return(a.getDay()+(7-this.dateLocale.firstDayOfWeek))%7}})();
(function(){function a(){return{template:'<div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-year-body role="rowgroup" md-virtual-repeat="i in yearCtrl.items" md-year-offset="$index" class="md-calendar-year" md-start-index="yearCtrl.getFocusedYearIndex()" md-item-size="88"><tr aria-hidden="true" md-force-height="\'88px\'"></tr></tbody></table></md-virtual-repeat-container></div>',require:["^^mdCalendar",
"mdCalendarYear"],controller:b,controllerAs:"yearCtrl",bindToController:!0,link:function(a,b,e,f){a=f[0];f=f[1];f.initialize(a)}}}function b(a,b,e,f,g,k){this.$element=a;this.$scope=b;this.$animate=e;this.$q=f;this.dateUtil=g;this.calendarScroller=a[0].querySelector(".md-virtual-repeat-scroller");this.isMonthTransitionInProgress=this.isInitialized=!1;this.$mdUtil=k;var c=this;this.cellClickHandler=function(){c.onTimestampSelected(g.getTimestampFromNode(this))}}b.$inject="$element $scope $animate $q $$mdDateUtil $mdUtil".split(" ");
angular.module("material.components.datepicker").directive("mdCalendarYear",a);b.prototype.initialize=function(a){this.items={length:this.dateUtil.getYearDistance(a.firstRenderableDate,a.lastRenderableDate)+1};this.calendarCtrl=a;this.attachScopeListeners();a.updateVirtualRepeat();a.ngModelCtrl&&a.ngModelCtrl.$render()};b.prototype.getFocusedYearIndex=function(){var a=this.calendarCtrl;return this.dateUtil.getYearDistance(a.firstRenderableDate,a.displayDate||a.selectedDate||a.today)};b.prototype.changeDate=
function(a){if(!this.isInitialized)return this.calendarCtrl.hideVerticalScrollbar(this),this.isInitialized=!0,this.$q.when();if(this.dateUtil.isValidDate(a)&&!this.isMonthTransitionInProgress){var b=this,c=this.animateDateChange(a);b.isMonthTransitionInProgress=!0;b.calendarCtrl.displayDate=a;return c.then(function(){b.isMonthTransitionInProgress=!1})}};b.prototype.animateDateChange=function(a){this.dateUtil.isValidDate(a)&&(a=this.dateUtil.getYearDistance(this.calendarCtrl.firstRenderableDate,a),
this.calendarScroller.scrollTop=88*a);return this.$q.when()};b.prototype.handleKeyEvent=function(a,b){var c=this,d=c.calendarCtrl,g=d.displayDate;if("select"===b)c.changeDate(g).then(function(){c.onTimestampSelected(g)});else{var k=null;a=c.dateUtil;switch(b){case "move-right":k=a.incrementMonths(g,1);break;case "move-left":k=a.incrementMonths(g,-1);break;case "move-row-down":k=a.incrementMonths(g,6);break;case "move-row-up":k=a.incrementMonths(g,-6)}if(k){b=d.minDate?a.getFirstDateOfMonth(d.minDate):
null;var h=d.maxDate?a.getFirstDateOfMonth(d.maxDate):null;k=a.getFirstDateOfMonth(c.dateUtil.clampDate(k,b,h));c.changeDate(k).then(function(){d.focus(k)})}}};b.prototype.attachScopeListeners=function(){var a=this;a.$scope.$on("md-calendar-parent-changed",function(b,c){a.calendarCtrl.changeSelectedDate(c?a.dateUtil.getFirstDateOfMonth(c):c);a.changeDate(c)});a.$scope.$on("md-calendar-parent-action",angular.bind(a,a.handleKeyEvent))};b.prototype.onTimestampSelected=function(a){var b=this.calendarCtrl;
b.mode?this.$mdUtil.nextTick(function(){b.setNgModelValue(a)}):b.setCurrentView("month",a)}})();
(function(){function a(){return{require:["^^mdCalendar","^^mdCalendarYear","mdCalendarYearBody"],scope:{offset:"=mdYearOffset"},controller:b,controllerAs:"mdYearBodyCtrl",bindToController:!0,link:function(a,b,e,f){b=f[0];e=f[1];var c=f[2];c.calendarCtrl=b;c.yearCtrl=e;a.$watch(function(){return c.offset},function(a){angular.isNumber(a)&&c.generateContent()})}}}function b(a,b,e){this.$element=a;this.dateUtil=b;this.dateLocale=e;this.focusAfterAppend=this.offset=this.yearCtrl=this.calendarCtrl=null}
b.$inject=["$element","$$mdDateUtil","$mdDateLocale"];angular.module("material.components.datepicker").directive("mdCalendarYearBody",a);b.prototype.generateContent=function(){var a=this.dateUtil.incrementYears(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForYear(a));this.focusAfterAppend&&(this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS),this.focusAfterAppend.focus(),this.focusAfterAppend=null)};b.prototype.buildMonthCell=
function(a,b){var c=this.calendarCtrl,d=this.yearCtrl,g=this.buildBlankCell();a=new Date(a,b,1);g.setAttribute("aria-label",this.dateLocale.monthFormatter(a));g.id=c.getDateId(a,"year");g.setAttribute("data-timestamp",a.getTime());this.dateUtil.isSameMonthAndYear(a,c.today)&&g.classList.add(c.TODAY_CLASS);this.dateUtil.isValidDate(c.selectedDate)&&this.dateUtil.isSameMonthAndYear(a,c.selectedDate)&&(g.classList.add(c.SELECTED_DATE_CLASS),g.setAttribute("aria-selected","true"));b=this.dateLocale.shortMonths[b];
if(this.dateUtil.isMonthWithinRange(a,c.minDate,c.maxDate)){var k=document.createElement("span");k.classList.add("md-calendar-date-selection-indicator");k.textContent=b;g.appendChild(k);g.addEventListener("click",d.cellClickHandler);c.displayDate&&this.dateUtil.isSameMonthAndYear(a,c.displayDate)&&(this.focusAfterAppend=g)}else g.classList.add("md-calendar-date-disabled"),g.textContent=b;return g};b.prototype.buildBlankCell=function(){var a=document.createElement("td");a.tabIndex=-1;a.classList.add("md-calendar-date");
a.setAttribute("role","gridcell");a.setAttribute("tabindex","-1");return a};b.prototype.buildCalendarForYear=function(a){a=a.getFullYear();var b=document.createDocumentFragment(),c=document.createElement("tr");var f=document.createElement("td");f.className="md-calendar-month-label";f.textContent=a;c.appendChild(f);for(f=0;6>f;f++)c.appendChild(this.buildMonthCell(a,f));b.appendChild(c);c=document.createElement("tr");c.appendChild(this.buildBlankCell());for(f=6;12>f;f++)c.appendChild(this.buildMonthCell(a,
f));b.appendChild(c);return b}})();
angular.module("material.components.datepicker").config(["$provide",function(a){function b(){this.dates=this.shortDays=this.days=this.shortMonths=this.months=null;this.firstDayOfWeek=0;this.longDateFormatter=this.weekNumberFormatter=this.monthHeaderFormatter=this.parseDate=this.formatDate=null;this.msgOpenCalendar=this.msgCalendar=""}b.prototype.$get=function(a,b){function c(a,c){if(!a)return"";var d=a.toLocaleTimeString(),e=a;0!==a.getHours()||-1===d.indexOf("11:")&&-1===d.indexOf("23:")||(e=new Date(a.getFullYear(),
a.getMonth(),a.getDate(),1,0,0));return b("date")(e,"M/d/yyyy",c)}function d(a){return new Date(a)}function g(a){a=a.trim();var b=/^(([a-zA-Z]{3,}|[0-9]{1,4})([ .,]+|[/-])){2}([a-zA-Z]{3,}|[0-9]{1,4})$/;return b.test(a)}function k(a){return u.shortMonths[a.getMonth()]+" "+a.getFullYear()}function h(a){return u.months[a.getMonth()]+" "+a.getFullYear()}function m(a){return"Week "+a}function r(a){return[u.days[a.getDay()],u.months[a.getMonth()],u.dates[a.getDate()],a.getFullYear()].join(" ")}for(var l=
a.DATETIME_FORMATS.SHORTDAY.map(function(a){return a.substring(0,1)}),p=Array(32),n=1;31>=n;n++)p[n]=n;n=new Date(1880,0,1);var v=new Date(n.getFullYear()+250,0,1),u={months:this.months||a.DATETIME_FORMATS.MONTH,shortMonths:this.shortMonths||a.DATETIME_FORMATS.SHORTMONTH,days:this.days||a.DATETIME_FORMATS.DAY,shortDays:this.shortDays||l,dates:this.dates||p,firstDayOfWeek:this.firstDayOfWeek||0,formatDate:this.formatDate||c,parseDate:this.parseDate||d,isDateComplete:this.isDateComplete||g,monthHeaderFormatter:this.monthHeaderFormatter||
k,monthFormatter:this.monthFormatter||h,weekNumberFormatter:this.weekNumberFormatter||m,longDateFormatter:this.longDateFormatter||r,msgCalendar:this.msgCalendar||"Calendar",msgOpenCalendar:this.msgOpenCalendar||"Open calendar",firstRenderableDate:this.firstRenderableDate||n,lastRenderableDate:this.lastRenderableDate||v};return u};b.prototype.$get.$inject=["$locale","$filter"];a.provider("$mdDateLocale",new b)}]);
angular.module("material.components.datepicker").factory("$$mdDateUtil",function(){function a(a){return new Date(a.getFullYear(),a.getMonth(),1)}function b(a){return(new Date(a.getFullYear(),a.getMonth()+1,0)).getDate()}function c(a){return new Date(a.getFullYear(),a.getMonth()+1,1)}function d(a){return new Date(a.getFullYear(),a.getMonth()-1,1)}function e(a,b){return a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth()}function f(a,b){return a.getDate()==b.getDate()&&e(a,b)}function g(a,
b){a=c(a);return e(a,b)}function k(a,b){a=d(a);return e(b,a)}function h(a,b){return w((a.getTime()+b.getTime())/2)}function m(b){var c=a(b);return Math.floor((c.getDay()+b.getDate()-1)/7)}function r(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate()+b)}function l(a,c){c=new Date(a.getFullYear(),a.getMonth()+c,1);var d=b(c);d<a.getDate()?c.setDate(d):c.setDate(a.getDate());return c}function p(a,b){return 12*(b.getFullYear()-a.getFullYear())+(b.getMonth()-a.getMonth())}function n(a){return new Date(a.getFullYear(),
a.getMonth(),b(a))}function v(a){return a&&a.getTime&&!isNaN(a.getTime())}function u(a){v(a)&&a.setHours(0,0,0,0)}function w(a){a=angular.isUndefined(a)?new Date:new Date(a);u(a);return a}function q(a,b,c){a=w(a);b=v(b)?w(b):null;c=v(c)?w(c):null;return(!b||b<=a)&&(!c||c>=a)}function x(a,b){return l(a,12*b)}function B(a,b){return b.getFullYear()-a.getFullYear()}function z(a,b,c){var d=a;b&&a<b&&(d=new Date(b.getTime()));c&&a>c&&(d=new Date(c.getTime()));return d}function D(a){if(a&&a.hasAttribute("data-timestamp"))return Number(a.getAttribute("data-timestamp"))}
function A(a,b,c){var d=a.getMonth();a=a.getFullYear();return(!b||b.getFullYear()<a||b.getMonth()<=d)&&(!c||c.getFullYear()>a||c.getMonth()>=d)}return{getFirstDateOfMonth:a,getNumberOfDaysInMonth:b,getDateInNextMonth:c,getDateInPreviousMonth:d,isInNextMonth:g,isInPreviousMonth:k,getDateMidpoint:h,isSameMonthAndYear:e,getWeekOfMonth:m,incrementDays:r,incrementMonths:l,getLastDateOfMonth:n,isSameDay:f,getMonthDistance:p,isValidDate:v,setDateTimeToMidnight:u,createDateAtMidnight:w,isDateWithinRange:q,
incrementYears:x,getYearDistance:B,clampDate:z,getTimestampFromNode:D,isMonthWithinRange:A}});
(function(){function a(a,c,f,g){return{template:function(b,c){var d=c.mdHideIcons;c=c.ariaLabel||c.mdPlaceholder;var e="all"===d||"calendar"===d?"":'<md-button class="md-datepicker-button md-icon-button" type="button" tabindex="-1" aria-hidden="true" ng-click="ctrl.openCalendarPane($event)"><md-icon class="md-datepicker-calendar-icon" aria-label="md-calendar" md-svg-src="'+a.mdCalendar+'"></md-icon></md-button>',f="";"all"!==d&&"triangle"!==d&&(f='<md-button type="button" md-no-ink class="md-datepicker-triangle-button md-icon-button" ng-click="ctrl.openCalendarPane($event)" aria-label="{{::ctrl.locale.msgOpenCalendar}}"><div class="md-datepicker-expand-triangle"></div></md-button>',
b.addClass("_md-datepicker-has-triangle-icon"));return e+'<div class="md-datepicker-input-container" ng-class="{\'md-datepicker-focused\': ctrl.isFocused}"><input '+(c?'aria-label="'+c+'" ':"")+'class="md-datepicker-input" aria-haspopup="true" aria-expanded="{{ctrl.isCalendarOpen}}" ng-focus="ctrl.setFocused(true)" ng-blur="ctrl.setFocused(false)"> '+f+'</div><div class="md-datepicker-calendar-pane md-whiteframe-z1" id="{{::ctrl.calendarPaneId}}"><div class="md-datepicker-input-mask"><div class="md-datepicker-input-mask-opaque"></div></div><div class="md-datepicker-calendar"><md-calendar role="dialog" aria-label="{{::ctrl.locale.msgCalendar}}" md-current-view="{{::ctrl.currentView}}"md-mode="{{::ctrl.mode}}"md-min-date="ctrl.minDate"md-max-date="ctrl.maxDate"md-date-filter="ctrl.dateFilter"ng-model="ctrl.date" ng-if="ctrl.isCalendarOpen"></md-calendar></div></div>'},
require:["ngModel","mdDatepicker","?^mdInputContainer","?^form"],scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",placeholder:"@mdPlaceholder",currentView:"@mdCurrentView",mode:"@mdMode",dateFilter:"=mdDateFilter",isOpen:"=?mdIsOpen",debounceInterval:"=mdDebounceInterval",dateLocale:"=mdDateLocale"},controller:b,controllerAs:"ctrl",bindToController:!0,link:function(a,b,d,e){var k=e[0],h=e[1],n=e[2],m=e[3];e=c.parseAttributeBoolean(d.mdNoAsterisk);h.configureNgModel(k,n,g);if(n){var r=b[0].querySelector(".md-errors-spacer");
r&&b.after(angular.element("<div>").append(r));n.setHasPlaceholder(d.mdPlaceholder);n.input=b;n.element.addClass("_md-datepicker-floating-label").toggleClass("_md-datepicker-has-calendar-icon","calendar"!==d.mdHideIcons&&"all"!==d.mdHideIcons);n.label?e||d.$observe("required",function(a){n.label.toggleClass("md-required",!!a)}):f.expect(b,"aria-label",d.mdPlaceholder);a.$watch(n.isErrorGetter||function(){return k.$invalid&&(k.$touched||m&&m.$submitted)},n.setInvalid)}else if(m)var w=a.$watch(function(){return m.$submitted},
function(a){a&&(h.updateErrorState(),w())})}}}function b(a,b,f,g,k,h,m,r,l,p,n){this.$window=g;this.dateUtil=l;this.$mdConstant=k;this.$mdUtil=m;this.$$rAF=p;this.$mdDateLocale=r;this.documentElement=angular.element(document.documentElement);this.ngModelCtrl=null;this.inputElement=b[0].querySelector("input");this.ngInputElement=angular.element(this.inputElement);this.inputContainer=b[0].querySelector(".md-datepicker-input-container");this.calendarPane=b[0].querySelector(".md-datepicker-calendar-pane");
this.calendarButton=b[0].querySelector(".md-datepicker-button");this.inputMask=angular.element(b[0].querySelector(".md-datepicker-input-mask-opaque"));this.$element=b;this.$attrs=f;this.$scope=a;this.date=null;this.isFocused=!1;this.setDisabled(b[0].disabled||angular.isString(f.disabled));this.isCalendarOpen=!1;this.openOnFocus=f.hasOwnProperty("mdOpenOnFocus");this.calendarPaneOpenedFrom=this.mdInputContainer=null;this.calendarPaneId="md-date-pane-"+m.nextUid();this.bodyClickHandler=angular.bind(this,
this.handleBodyClick);this.windowEventName=c.test(navigator.userAgent||navigator.vendor||window.opera)?"orientationchange":"resize";this.windowEventHandler=m.debounce(angular.bind(this,this.closeCalendarPane),100);this.windowBlurHandler=angular.bind(this,this.handleWindowBlur);this.ngDateFilter=n("date");this.leftMargin=20;this.topMargin=null;f.tabindex?(this.ngInputElement.attr("tabindex",f.tabindex),f.$set("tabindex",null)):f.$set("tabindex","-1");f.$set("aria-owns",this.calendarPaneId);h(b);h(angular.element(this.calendarPane));
var d=this;a.$on("$destroy",function(){d.detachCalendarPane()});f.mdIsOpen&&a.$watch("ctrl.isOpen",function(a){a?d.openCalendarPane({target:d.inputElement}):d.closeCalendarPane()});1===angular.version.major&&4>=angular.version.minor&&this.$onInit()}b.$inject="$scope $element $attrs $window $mdConstant $mdTheming $mdUtil $mdDateLocale $$mdDateUtil $$rAF $filter".split(" ");a.$inject=["$$mdSvgRegistry","$mdUtil","$mdAria","inputDirective"];angular.module("material.components.datepicker").directive("mdDatepicker",
a);var c=/ipad|iphone|ipod|android/i;b.prototype.$onInit=function(){this.locale=this.dateLocale?angular.extend({},this.$mdDateLocale,this.dateLocale):this.$mdDateLocale;this.installPropertyInterceptors();this.attachChangeListeners();this.attachInteractionListeners()};b.prototype.configureNgModel=function(a,b,c){this.ngModelCtrl=a;this.mdInputContainer=b;this.$attrs.$set("type","date");c[0].link.pre(this.$scope,{on:angular.noop,val:angular.noop,0:{}},this.$attrs,[a]);var d=this;d.ngModelCtrl.$formatters.push(function(a){angular.isDefined(a);
if(!(a instanceof Date)){var b=Date.parse(a);!isNaN(b)&&angular.isNumber(b)&&(a=new Date(b));if(a&&!(a instanceof Date))throw Error("The ng-model for md-datepicker must be a Date instance or a value that can be parsed into a date. Currently the model is of type: "+typeof a);}d.onExternalChange(a);return a});a.$viewChangeListeners.unshift(angular.bind(this,this.updateErrorState));if(a=d.$mdUtil.getModelOption(a,"updateOn"))this.ngInputElement.on(a,angular.bind(this.$element,this.$element.triggerHandler,
a))};b.prototype.attachChangeListeners=function(){var a=this;a.$scope.$on("md-calendar-change",function(b,c){a.setModelValue(c);a.onExternalChange(c);a.closeCalendarPane()});a.ngInputElement.on("input",angular.bind(a,a.resizeInputElement));var b=angular.isDefined(this.debounceInterval)?this.debounceInterval:500;a.ngInputElement.on("input",a.$mdUtil.debounce(a.handleInputEvent,b,a))};b.prototype.attachInteractionListeners=function(){var a=this,b=this.$scope,c=this.$mdConstant.KEY_CODE;a.ngInputElement.on("keydown",
function(d){d.altKey&&d.keyCode==c.DOWN_ARROW&&(a.openCalendarPane(d),b.$digest())});a.openOnFocus&&(a.ngInputElement.on("focus",angular.bind(a,a.openCalendarPane)),angular.element(a.$window).on("blur",a.windowBlurHandler),b.$on("$destroy",function(){angular.element(a.$window).off("blur",a.windowBlurHandler)}));b.$on("md-calendar-close",function(){a.closeCalendarPane()})};b.prototype.installPropertyInterceptors=function(){var a=this;if(this.$attrs.ngDisabled){var b=this.$scope.$parent;b&&b.$watch(this.$attrs.ngDisabled,
function(b){a.setDisabled(b)})}Object.defineProperty(this,"placeholder",{get:function(){return a.inputElement.placeholder},set:function(b){a.inputElement.placeholder=b||""}})};b.prototype.setDisabled=function(a){this.isDisabled=a;this.inputElement.disabled=a;this.calendarButton&&(this.calendarButton.disabled=a)};b.prototype.updateErrorState=function(a){a=a||this.date;this.clearErrorState();if(this.dateUtil.isValidDate(a)){a=this.dateUtil.createDateAtMidnight(a);if(this.dateUtil.isValidDate(this.minDate)){var b=
this.dateUtil.createDateAtMidnight(this.minDate);this.ngModelCtrl.$setValidity("mindate",a>=b)}this.dateUtil.isValidDate(this.maxDate)&&(b=this.dateUtil.createDateAtMidnight(this.maxDate),this.ngModelCtrl.$setValidity("maxdate",a<=b));angular.isFunction(this.dateFilter)&&this.ngModelCtrl.$setValidity("filtered",this.dateFilter(a))}else this.ngModelCtrl.$setValidity("valid",null==a);angular.element(this.inputContainer).toggleClass("md-datepicker-invalid",!this.ngModelCtrl.$valid)};b.prototype.clearErrorState=
function(){this.inputContainer.classList.remove("md-datepicker-invalid");["mindate","maxdate","filtered","valid"].forEach(function(a){this.ngModelCtrl.$setValidity(a,!0)},this)};b.prototype.resizeInputElement=function(){this.inputElement.size=this.inputElement.value.length+3};b.prototype.handleInputEvent=function(){var a=this.inputElement.value,b=a?this.locale.parseDate(a):null;this.dateUtil.setDateTimeToMidnight(b);if(a=""==a||this.dateUtil.isValidDate(b)&&this.locale.isDateComplete(a)&&this.isDateEnabled(b))this.setModelValue(b),
this.date=b;this.updateErrorState(b)};b.prototype.isDateEnabled=function(a){return this.dateUtil.isDateWithinRange(a,this.minDate,this.maxDate)&&(!angular.isFunction(this.dateFilter)||this.dateFilter(a))};b.prototype.attachCalendarPane=function(){var a=this.calendarPane,b=document.body;a.style.transform="";this.$element.addClass("md-datepicker-open");this.mdInputContainer&&this.mdInputContainer.element.addClass("md-datepicker-open");angular.element(b).addClass("md-datepicker-is-showing");var c=this.inputContainer.getBoundingClientRect(),
g=b.getBoundingClientRect();if(!this.topMargin||0>this.topMargin)this.topMargin=(this.inputMask.parent().prop("clientHeight")-this.ngInputElement.prop("clientHeight"))/2;b=c.top-g.top-this.topMargin;var k=c.left-g.left-this.leftMargin,h=0>g.top&&0==document.body.scrollTop?-g.top:document.body.scrollTop,m=0>g.left&&0==document.body.scrollLeft?-g.left:document.body.scrollLeft;g=h+this.$window.innerHeight;var r=m+this.$window.innerWidth;this.inputMask.css({position:"absolute",left:this.leftMargin+"px",
top:this.topMargin+"px",width:c.width-1+"px",height:c.height-2+"px"});k+360>r&&(0<r-360?k=r-360:(k=m,c=this.$window.innerWidth/360,a.style.transform="scale("+c+")"),a.classList.add("md-datepicker-pos-adjusted"));b+368>g&&g-368>h&&(b=g-368,a.classList.add("md-datepicker-pos-adjusted"));a.style.left=k+"px";a.style.top=b+"px";document.body.appendChild(a);this.$$rAF(function(){a.classList.add("md-pane-open")})};b.prototype.detachCalendarPane=function(){this.$element.removeClass("md-datepicker-open");
this.mdInputContainer&&this.mdInputContainer.element.removeClass("md-datepicker-open");angular.element(document.body).removeClass("md-datepicker-is-showing");this.calendarPane.classList.remove("md-pane-open");this.calendarPane.classList.remove("md-datepicker-pos-adjusted");this.isCalendarOpen&&this.$mdUtil.enableScrolling();this.calendarPane.parentNode&&this.calendarPane.parentNode.removeChild(this.calendarPane)};b.prototype.openCalendarPane=function(a){if(!this.isCalendarOpen&&!this.isDisabled&&
!this.inputFocusedOnWindowBlur){this.isCalendarOpen=this.isOpen=!0;this.calendarPaneOpenedFrom=a.target;this.$mdUtil.disableScrollAround(this.calendarPane);this.attachCalendarPane();this.focusCalendar();this.evalAttr("ngFocus");var b=this;this.$mdUtil.nextTick(function(){b.documentElement.on("click touchstart",b.bodyClickHandler)},!1);window.addEventListener(this.windowEventName,this.windowEventHandler)}};b.prototype.closeCalendarPane=function(){function a(){b.isCalendarOpen=b.isOpen=!1}if(this.isCalendarOpen){var b=
this;b.detachCalendarPane();b.ngModelCtrl.$setTouched();b.evalAttr("ngBlur");b.documentElement.off("click touchstart",b.bodyClickHandler);window.removeEventListener(b.windowEventName,b.windowEventHandler);b.calendarPaneOpenedFrom.focus();b.calendarPaneOpenedFrom=null;b.openOnFocus?b.$mdUtil.nextTick(a):a()}};b.prototype.getCalendarCtrl=function(){return angular.element(this.calendarPane.querySelector("md-calendar")).controller("mdCalendar")};b.prototype.focusCalendar=function(){var a=this;this.$mdUtil.nextTick(function(){a.getCalendarCtrl().focus()},
!1)};b.prototype.setFocused=function(a){a||this.ngModelCtrl.$setTouched();this.openOnFocus||this.evalAttr(a?"ngFocus":"ngBlur");this.isFocused=a};b.prototype.handleBodyClick=function(a){this.isCalendarOpen&&((a=this.$mdUtil.getClosest(a.target,"md-calendar"))||this.closeCalendarPane(),this.$scope.$digest())};b.prototype.handleWindowBlur=function(){this.inputFocusedOnWindowBlur=document.activeElement===this.inputElement};b.prototype.evalAttr=function(a){this.$attrs[a]&&this.$scope.$parent.$eval(this.$attrs[a])};
b.prototype.setModelValue=function(a){var b=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");this.ngModelCtrl.$setViewValue(this.ngDateFilter(a,"yyyy-MM-dd",b))};b.prototype.onExternalChange=function(a){var b=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");this.date=a;this.inputElement.value=this.locale.formatDate(a,b);this.mdInputContainer&&this.mdInputContainer.setHasValue(!!a);this.resizeInputElement();this.updateErrorState()}})();ngmaterial.components.datepicker=angular.module("material.components.datepicker");MdDialogDirective.$inject=["$$rAF","$mdTheming","$mdDialog"];MdDialogProvider.$inject=["$$interimElementProvider"];angular.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",MdDialogDirective).provider("$mdDialog",MdDialogProvider);
function MdDialogDirective(a,b,c){return{restrict:"E",link:function(d,e){e.addClass("_md");b(e);a(function(){function a(){e.toggleClass("md-content-overflow",b.scrollHeight>b.clientHeight)}var b=e[0].querySelector("md-dialog-content");if(b){var k=b.getElementsByTagName("img");a();angular.element(k).on("load",a)}d.$on("$destroy",function(){c.destroy(e)})})}}}
function MdDialogProvider(a){function b(){return{template:'<md-dialog md-theme="{{ dialog.theme || dialog.defaultTheme }}" aria-label="{{ dialog.ariaLabel }}" ng-class="dialog.css">  <md-dialog-content class="md-dialog-content" role="document" tabIndex="-1">    <h2 class="md-title">{{ dialog.title }}</h2>    <div ng-if="::dialog.mdHtmlContent" class="md-dialog-content-body"         ng-bind-html="::dialog.mdHtmlContent"></div>    <div ng-if="::!dialog.mdHtmlContent" class="md-dialog-content-body">      <p>{{::dialog.mdTextContent}}</p>    </div>    <md-input-container md-no-float ng-if="::dialog.$type == \'prompt\'" class="md-prompt-input-container">      <input ng-keypress="dialog.keypress($event)" md-autofocus ng-model="dialog.result"              placeholder="{{::dialog.placeholder}}" ng-required="dialog.required">    </md-input-container>  </md-dialog-content>  <md-dialog-actions>    <md-button ng-if="dialog.$type === \'confirm\' || dialog.$type === \'prompt\'"               ng-click="dialog.abort()" class="md-primary md-cancel-button">      {{ dialog.cancel }}    </md-button>    <md-button ng-click="dialog.hide()" class="md-primary md-confirm-button" md-autofocus="dialog.$type===\'alert\'"               ng-disabled="dialog.required && !dialog.result">      {{ dialog.ok }}    </md-button>  </md-dialog-actions></md-dialog>'.replace(/\s\s+/g,""),
controller:c,controllerAs:"dialog",bindToController:!0}}function c(a,b){this.$onInit=function(){var c="prompt"==this.$type;c&&this.initialValue&&(this.result=this.initialValue);this.hide=function(){a.hide(c?this.result:!0)};this.abort=function(){a.cancel()};this.keypress=function(d){var e=c&&this.required&&!angular.isDefined(this.result);d.keyCode!==b.KEY_CODE.ENTER||e||a.hide(this.result)}}}function d(a,b,c,d,r,l,p,n,v,u,w,q,x){function g(a){a.defaultTheme=w.defaultTheme();E(a)}function k(a,b,c,
d){if(d){a=d.htmlContent||c.htmlContent||"";c=d.textContent||c.textContent||d.content||c.content||"";if(a&&!u.has("$sanitize"))throw Error("The ngSanitize module must be loaded in order to use htmlContent.");if(a&&c)throw Error("md-dialog cannot have both `htmlContent` and `textContent`");d.mdHtmlContent=a;d.mdTextContent=c}}function h(a,b,d){angular.element(l[0].body).addClass("md-dialog-is-showing");var e=b.find("md-dialog");e.hasClass("ng-cloak")&&v.warn("$mdDialog: using `<md-dialog ng-cloak>` will affect the dialog opening animations.",
b[0]);H(d);J(e,d);G(a,b,d);F(b,d);return K(b,d).then(function(){C(b,d);b[0].querySelector(".md-actions")&&v.warn("Using a class of md-actions is deprecated, please use <md-dialog-actions>.");if(d.focusOnOpen){var a=c.findFocusTarget(b)||b[0].querySelector(".dialog-close, md-dialog-actions button:last-child")||e;a.focus()}})}function m(a,b,c){function d(){angular.element(l[0].body).removeClass("md-dialog-is-showing");c.contentElement&&c.reverseContainerStretch();c.cleanupElement();c.$destroy||"keyboard"!==
c.originInteraction||c.origin.focus()}c.deactivateListeners();c.unlockScreenReader();c.hideBackdrop(c.$destroy);e&&e.parentNode&&e.parentNode.removeChild(e);f&&f.parentNode&&f.parentNode.removeChild(f);return c.$destroy?d():M(b,c).then(d)}function E(a){var b;a.targetEvent&&a.targetEvent.target&&(b=angular.element(a.targetEvent.target));b=b&&b.controller("mdTheme");a.hasTheme=!!b;if(a.hasTheme){a.themeWatch=b.$shouldWatch;var c=a.theme||b.$mdTheme;c&&(a.scope.theme=c);var d=b.registerChanges(function(b){a.scope.theme=
b;a.themeWatch||d()})}}function H(a){function b(a,b){if((a=angular.element(a||{}))&&a.length){var c={top:0,left:0,height:0,width:0},d=angular.isFunction(a[0].getBoundingClientRect);return angular.extend(b||{},{element:d?a:void 0,bounds:d?a[0].getBoundingClientRect():angular.extend({},c,a[0]),focus:angular.bind(a,a.focus)})}}function c(a,b){angular.isString(a)&&(a=l[0].querySelector(a));return angular.element(a||b)}a.origin=angular.extend({element:null,bounds:null,focus:angular.noop},a.origin||{});
a.parent=c(a.parent,n);a.closeTo=b(c(a.closeTo));a.openFrom=b(c(a.openFrom));a.targetEvent&&(a.origin=b(a.targetEvent.target,a.origin),a.originInteraction=x.getLastInteractionType())}function F(b,e){var f=angular.element(p),g=c.debounce(function(){L(b,e)},60),k=[],h=function(){var b="alert"==e.$type?a.hide:a.cancel;c.nextTick(b,!0)};if(e.escapeToClose){var l=e.parent,q=function(a){a.keyCode===d.KEY_CODE.ESCAPE&&(a.stopPropagation(),a.preventDefault(),h())};b.on("keydown",q);l.on("keydown",q);k.push(function(){b.off("keydown",
q);l.off("keydown",q)})}f.on("resize",g);k.push(function(){f.off("resize",g)});if(e.clickOutsideToClose){var n=b,m,r=function(a){m=a.target},x=function(a){m===n[0]&&a.target===n[0]&&(a.stopPropagation(),a.preventDefault(),h())};n.on("mousedown",r);n.on("mouseup",x);k.push(function(){n.off("mousedown",r);n.off("mouseup",x)})}e.deactivateListeners=function(){k.forEach(function(a){a()});e.deactivateListeners=null}}function G(a,b,d){d.disableParentScroll&&(d.restoreScroll=c.disableScrollAround(b,d.parent));
d.hasBackdrop&&(d.backdrop=c.createBackdrop(a,"md-dialog-backdrop md-opaque"),r.enter(d.backdrop,d.parent));d.hideBackdrop=function(a){d.backdrop&&(a?d.backdrop.remove():r.leave(d.backdrop));d.disableParentScroll&&(d.restoreScroll&&d.restoreScroll(),delete d.restoreScroll);d.hideBackdrop=null}}function J(a,d){var g="alert"===d.$type?"alertdialog":"dialog",k=a.find("md-dialog-content"),h=a.attr("id"),l="dialogContent_"+(h||c.nextUid());a.attr({role:g,tabIndex:"-1"});0===k.length&&(k=a,h&&(l=h));k.attr("id",
l);a.attr("aria-describedby",l);d.ariaLabel?b.expect(a,"aria-label",d.ariaLabel):b.expectAsync(a,"aria-label",function(){if(d.title)return d.title;var a=k.text().split(/\s+/);3<a.length&&(a=a.slice(0,3).concat("..."));return a.join(" ")});e=document.createElement("div");e.classList.add("md-dialog-focus-trap");e.tabIndex=0;f=e.cloneNode(!1);g=function(){a.focus()};e.addEventListener("focus",g);f.addEventListener("focus",g);a[0].parentNode.insertBefore(e,a[0]);a.after(f)}function C(a,b){function c(a){for(;a.parentNode&&
a!==document.body;){for(var b=a.parentNode.children,e=0;e<b.length;e++){var f;if(f=a!==b[e])f=["SCRIPT","STYLE"],f=-1!==f.indexOf(b[e].nodeName)?!0:void 0,f=!f;f&&!b[e].hasAttribute("aria-live")&&b[e].setAttribute("aria-hidden",d)}c(a=a.parentNode)}}var d=!0;c(a[0]);b.unlockScreenReader=function(){d=!1;c(a[0]);b.unlockScreenReader=null}}function L(a,b){var c="fixed"==p.getComputedStyle(l[0].body).position,d=b.backdrop?p.getComputedStyle(b.backdrop[0]):null;d=d?Math.min(l[0].body.clientHeight,Math.ceil(Math.abs(parseInt(d.height,
10)))):0;var e={top:a.css("top"),height:a.css("height")};b=Math.abs(b.parent[0].getBoundingClientRect().top);a.css({top:(c?b:0)+"px",height:d?d+"px":"100%"});return function(){a.css(e)}}function K(a,b){b.parent.append(a);b.reverseContainerStretch=L(a,b);var d=a.find("md-dialog"),e=c.dom.animator,f=e.calculateZoomToOrigin,g={transitionInClass:"md-transition-in",transitionOutClass:"md-transition-out"},k=e.toTransformCss(f(d,b.openFrom||b.origin)),h=e.toTransformCss("");d.toggleClass("md-dialog-fullscreen",
!!b.fullscreen);return e.translate3d(d,k,h,g).then(function(a){b.reverseAnimate=function(){delete b.reverseAnimate;return b.closeTo?(g={transitionInClass:"md-transition-out",transitionOutClass:"md-transition-in"},k=h,h=e.toTransformCss(f(d,b.closeTo)),e.translate3d(d,k,h,g)):a(h=e.toTransformCss(f(d,b.origin)))};b.clearAnimate=function(){delete b.clearAnimate;d.removeClass([g.transitionOutClass,g.transitionInClass].join(" "));return e.translate3d(d,h,e.toTransformCss(""),{})};return!0})}function M(a,
b){return b.reverseAnimate().then(function(){b.contentElement&&b.clearAnimate()})}return{hasBackdrop:!0,isolateScope:!0,onCompiling:g,onShow:h,onShowing:k,onRemove:m,clickOutsideToClose:!1,escapeToClose:!0,targetEvent:null,closeTo:null,openFrom:null,focusOnOpen:!0,disableParentScroll:!0,autoWrap:!0,fullscreen:!1,transformTemplate:function(a,b){var c=q.startSymbol(),d=q.endSymbol();c=c+(b.themeWatch?"":"::")+"theme"+d;c=b.hasTheme?'md-theme="'+c+'"':"";b=b.autoWrap&&!/<\/md-dialog>/g.test(a)?"<md-dialog>"+
(a||"")+"</md-dialog>":a||"";return'<div class="md-dialog-container" tabindex="-1" '+c+">"+b+"</div>"}}}c.$inject=["$mdDialog","$mdConstant"];d.$inject="$mdDialog $mdAria $mdUtil $mdConstant $animate $document $window $rootElement $log $injector $mdTheming $interpolate $mdInteraction".split(" ");var e,f;return a("$mdDialog").setDefaults({methods:"disableParentScroll hasBackdrop clickOutsideToClose escapeToClose targetEvent closeTo openFrom parent fullscreen multiple".split(" "),options:d}).addPreset("alert",
{methods:"title htmlContent textContent content ariaLabel ok theme css".split(" "),options:b}).addPreset("confirm",{methods:"title htmlContent textContent content ariaLabel ok cancel theme css".split(" "),options:b}).addPreset("prompt",{methods:"title htmlContent textContent initialValue content placeholder ariaLabel ok cancel theme css required".split(" "),options:b})}ngmaterial.components.dialog=angular.module("material.components.dialog");MdDividerDirective.$inject=["$mdTheming"];angular.module("material.components.divider",["material.core"]).directive("mdDivider",MdDividerDirective);function MdDividerDirective(a){return{restrict:"E",link:a}}ngmaterial.components.divider=angular.module("material.components.divider");(function(){function a(a){return{restrict:"E",require:["^?mdFabSpeedDial","^?mdFabToolbar"],compile:function(b){b=b.children();var c=a.prefixer().hasAttribute(b,"ng-repeat");c?b.addClass("md-fab-action-item"):b.wrap('<div class="md-fab-action-item">')}}}a.$inject=["$mdUtil"];angular.module("material.components.fabActions",["material.core"]).directive("mdFabActions",a)})();ngmaterial.components.fabActions=angular.module("material.components.fabActions");(function(){function a(a,c,d,e,f,g){function b(){var b=["click","focusin","focusout"];angular.forEach(b,function(a){c.on(a,h)});a.$on("$destroy",function(){angular.forEach(b,function(a){c.off(a,h)});p()})}function h(a){"click"==a.type&&q(a);"focusout"!=a.type||z||(z=g(function(){x.close()},100,!1));"focusin"==a.type&&z&&(g.cancel(z),z=null)}function m(){a.$watch("vm.direction",function(a,b){d.removeClass(c,"md-"+b);d.addClass(c,"md-"+a);x.currentActionIndex=-1});var b,e;a.$watch("vm.isOpen",function(a){x.currentActionIndex=
-1;b&&e||(b=c.find("md-fab-trigger"),e=c.find("md-fab-actions"));a?l():p();var f=a?"md-is-open":"",g=a?"":"md-is-open";b.attr("aria-haspopup",!0);b.attr("aria-expanded",a);e.attr("aria-hidden",!a);d.setClass(c,f,g)})}function r(){0<c[0].scrollHeight?d.addClass(c,"_md-animations-ready").then(function(){c.removeClass("md-animations-waiting")}):10>B&&(g(r,100),B+=1)}function l(){c.on("keydown",v);e.nextTick(function(){angular.element(document).on("click touchend",n)})}function p(){c.off("keydown",v);
angular.element(document).off("click touchend",n)}function n(a){if(a.target){var b=e.getClosest(a.target,"md-fab-trigger");a=e.getClosest(a.target,"md-fab-actions");b||a||x.close()}}function v(a){switch(a.which){case f.KEY_CODE.ESCAPE:return x.close(),a.preventDefault(),!1;case f.KEY_CODE.LEFT_ARROW:return"left"===x.direction?u(a,1):u(a,-1),!1;case f.KEY_CODE.UP_ARROW:return"down"===x.direction?u(a,-1):u(a,1),!1;case f.KEY_CODE.RIGHT_ARROW:return"left"===x.direction?u(a,-1):u(a,1),!1;case f.KEY_CODE.DOWN_ARROW:return"up"===
x.direction?u(a,-1):u(a,1),!1}}function u(a,b){var c=w();x.currentActionIndex+=b;x.currentActionIndex=Math.min(c.length-1,x.currentActionIndex);x.currentActionIndex=Math.max(0,x.currentActionIndex);b=angular.element(c[x.currentActionIndex]).children()[0];angular.element(b).attr("tabindex",0);b.focus();a.preventDefault();a.stopImmediatePropagation()}function w(){var a=c.find("md-fab-actions")[0].querySelectorAll(".md-fab-action-item");angular.forEach(a,function(a){angular.element(angular.element(a).children()[0]).attr("tabindex",
-1)});return a}function q(a){e.getClosest(a.target,"md-fab-trigger")&&x.toggle();e.getClosest(a.target,"md-fab-actions")&&x.close()}var x=this,B=0;x.open=function(){a.$evalAsync("vm.isOpen = true")};x.close=function(){a.$evalAsync("vm.isOpen = false");c.find("md-fab-trigger")[0].focus()};x.toggle=function(){a.$evalAsync("vm.isOpen = !vm.isOpen")};x.$onInit=function(){x.direction=x.direction||"down";x.isOpen=x.isOpen||!1;x.currentActionIndex=-1;c.addClass("md-animations-waiting");b();m();r()};1===
angular.version.major&&4>=angular.version.minor&&this.$onInit();var z}a.$inject="$scope $element $animate $mdUtil $mdConstant $timeout".split(" ");angular.module("material.components.fabShared",["material.core"]).controller("MdFabController",a)})();
(function(){function a(){function a(a,b){b.prepend('<div class="_md-css-variables"></div>')}return{restrict:"E",scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"MdFabController",controllerAs:"vm",link:a}}function b(a){function b(a){if(!a.hasClass("md-animations-waiting")||a.hasClass("_md-animations-ready")){var b=a[0],c=a.controller("mdFabSpeedDial"),d=b.querySelectorAll(".md-fab-action-item"),e=b.querySelector("md-fab-trigger");a=b.querySelector("._md-css-variables");
var f=parseInt(window.getComputedStyle(a).zIndex);angular.forEach(d,function(a,b){a=a.style;a.transform=a.webkitTransform="";a.transitionDelay="";a.opacity=1;a.zIndex=d.length-b+f});e.style.zIndex=f+d.length+1;c.isOpen||angular.forEach(d,function(a,b){var d=a.style,f=(e.clientHeight-a.clientHeight)/2,g=(e.clientWidth-a.clientWidth)/2;switch(c.direction){case "up":var k=a.scrollHeight*(b+1)+f;var h="Y";break;case "down":k=-(a.scrollHeight*(b+1)+f);h="Y";break;case "left":k=a.scrollWidth*(b+1)+g;h=
"X";break;case "right":k=-(a.scrollWidth*(b+1)+g),h="X"}a="translate"+h+"("+k+"px)";d.transform=d.webkitTransform=a})}}return{addClass:function(c,e,f){c.hasClass("md-fling")?(b(c),a(f,d,!1)):f()},removeClass:function(c,e,f){b(c);a(f,d,!1)}}}function c(a){function b(a){var b=a[0],c=a.controller("mdFabSpeedDial"),d=b.querySelectorAll(".md-fab-action-item");a=b.querySelector("._md-css-variables");var e=parseInt(window.getComputedStyle(a).zIndex);angular.forEach(d,function(a,b){a=a.style;var f=65*b;a.opacity=
c.isOpen?1:0;a.transform=a.webkitTransform=c.isOpen?"scale(1)":"scale(0)";a.transitionDelay=(c.isOpen?f:d.length-f)+"ms";a.zIndex=d.length-b+e})}return{addClass:function(c,e,f){b(c);a(f,d,!1)},removeClass:function(c,e,f){b(c);a(f,d,!1)}}}b.$inject=["$timeout"];c.$inject=["$timeout"];var d=300;angular.module("material.components.fabSpeedDial",["material.core","material.components.fabShared","material.components.fabActions"]).directive("mdFabSpeedDial",a).animation(".md-fling",b).animation(".md-scale",
c).service("mdFabSpeedDialFlingAnimation",b).service("mdFabSpeedDialScaleAnimation",c)})();ngmaterial.components.fabShared=angular.module("material.components.fabShared");(function(){function a(){function a(a,b){b.addClass("md-fab-toolbar");b.find("md-fab-trigger").find("button").prepend('<div class="md-fab-toolbar-background"></div>')}return{restrict:"E",transclude:!0,template:'<div class="md-fab-toolbar-wrapper">  <div class="md-fab-toolbar-content" ng-transclude></div></div>',scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"MdFabController",controllerAs:"vm",link:a}}function b(){function a(a,b){if(b){var c=a[0];b=a.controller("mdFabToolbar");
var d=c.querySelector(".md-fab-toolbar-background"),e=c.querySelector("md-fab-trigger button"),h=c.querySelector("md-toolbar"),m=c.querySelector("md-fab-trigger button md-icon"),r=a.find("md-fab-actions").children();if(e&&d){var l=window.getComputedStyle(e).getPropertyValue("background-color");c=c.offsetWidth;var p=c/e.offsetWidth*2;d.style.backgroundColor=l;d.style.borderRadius=c+"px";b.isOpen?(h.style.pointerEvents="inherit",d.style.width=e.offsetWidth+"px",d.style.height=e.offsetHeight+"px",d.style.transform=
"scale("+p+")",d.style.transitionDelay="0ms",m&&(m.style.transitionDelay=".3s"),angular.forEach(r,function(a,b){a.style.transitionDelay=25*(r.length-b)+"ms"})):(h.style.pointerEvents="none",d.style.transform="scale(1)",d.style.top="0",a.hasClass("md-right")&&(d.style.left="0",d.style.right=null),a.hasClass("md-left")&&(d.style.right="0",d.style.left=null),d.style.transitionDelay="200ms",m&&(m.style.transitionDelay="0ms"),angular.forEach(r,function(a,b){a.style.transitionDelay=200+25*b+"ms"}))}}}return{addClass:function(b,
c,f){a(b,c,f);f()},removeClass:function(b,c,f){a(b,c,f);f()}}}angular.module("material.components.fabToolbar",["material.core","material.components.fabShared","material.components.fabActions"]).directive("mdFabToolbar",a).animation(".md-fab-toolbar",b).service("mdFabToolbarAnimation",b)})();ngmaterial.components.fabToolbar=angular.module("material.components.fabToolbar");GridListController.$inject=["$mdUtil"];GridLayoutFactory.$inject=["$mdUtil"];GridListDirective.$inject=["$interpolate","$mdConstant","$mdGridLayout","$mdMedia"];GridTileDirective.$inject=["$mdMedia"];angular.module("material.components.gridList",["material.core"]).directive("mdGridList",GridListDirective).directive("mdGridTile",GridTileDirective).directive("mdGridTileFooter",GridTileCaptionDirective).directive("mdGridTileHeader",GridTileCaptionDirective).factory("$mdGridLayout",GridLayoutFactory);
function GridListDirective(a,b,c,d){function e(e,g,k,h){function f(){for(var a in b.MEDIA)d(a),d.getQuery(b.MEDIA[a]).addListener(z);return d.watchResponsiveAttributes(["md-cols","md-row-height","md-gutter"],k,l)}function r(){h.layoutDelegate=angular.noop;D();for(var a in b.MEDIA)d.getQuery(b.MEDIA[a]).removeListener(z)}function l(a){null==a?h.invalidateLayout():d(a)&&h.invalidateLayout()}function p(a){var b=v(),f={tileSpans:u(b),colCount:w(),rowMode:x(),rowHeight:q(),gutter:B(d.getResponsiveAttribute(k,
"md-gutter")||1)};if(a||!angular.equals(f,A))a=c(f.colCount,f.tileSpans,b).map(function(a,c){return{grid:{element:g,style:n(f.colCount,c,f.gutter,f.rowMode,f.rowHeight)},tiles:a.map(function(a,d){d=angular.element(b[d]);var e=a.position;a=a.spans;var g=f.colCount,k=c,h=f.gutter,l=f.rowMode,q=f.rowHeight,p=1/g*100;g=(g-1)/g;var n=F({share:p,gutterShare:g,gutter:h}),m="rtl"!=document.dir&&"rtl"!=document.body.dir;n=m?{left:G({unit:n,offset:e.col,gutter:h}),width:J({unit:n,span:a.col,gutter:h}),paddingTop:"",
marginTop:"",top:"",height:""}:{right:G({unit:n,offset:e.col,gutter:h}),width:J({unit:n,span:a.col,gutter:h}),paddingTop:"",marginTop:"",top:"",height:""};switch(l){case "fixed":n.top=G({unit:q,offset:e.row,gutter:h});n.height=J({unit:q,span:a.row,gutter:h});break;case "ratio":k=p/q;k=F({share:k,gutterShare:g,gutter:h});n.paddingTop=J({unit:k,span:a.row,gutter:h});n.marginTop=G({unit:k,offset:e.row,gutter:h});break;case "fit":l=(k-1)/k,k=1/k*100,k=F({share:k,gutterShare:l,gutter:h}),n.top=G({unit:k,
offset:e.row,gutter:h}),n.height=J({unit:k,span:a.row,gutter:h})}e=n;return{element:d,style:e}})}}).reflow().performance(),e.mdOnLayout({$event:{performance:a}}),A=f}function n(a,b,c,d,e){var f={};switch(d){case "fixed":f.height=J({unit:e,span:b,gutter:c});f.paddingBottom="";break;case "ratio":d=1===a?0:(a-1)/a,a=1/a*100,e=1/e*a,e=F({share:e,gutterShare:d,gutter:c}),f.height="",f.paddingBottom=J({unit:e,span:b,gutter:c})}return f}function v(){return[].filter.call(g.children(),function(a){return"MD-GRID-TILE"==
a.tagName&&!a.$$mdDestroyed})}function u(a){return[].map.call(a,function(a){a=angular.element(a).controller("mdGridTile");return{row:parseInt(d.getResponsiveAttribute(a.$attrs,"md-rowspan"),10)||1,col:parseInt(d.getResponsiveAttribute(a.$attrs,"md-colspan"),10)||1}})}function w(){var a=parseInt(d.getResponsiveAttribute(k,"md-cols"),10);if(isNaN(a))throw"md-grid-list: md-cols attribute was not found, or contained a non-numeric value";return a}function q(){var a=d.getResponsiveAttribute(k,"md-row-height");
if(!a)throw"md-grid-list: md-row-height attribute was not found";switch(x()){case "fixed":return B(a);case "ratio":return a=a.split(":"),parseFloat(a[0])/parseFloat(a[1]);case "fit":return 0}}function x(){var a=d.getResponsiveAttribute(k,"md-row-height");if(!a)throw"md-grid-list: md-row-height attribute was not found";return"fit"==a?"fit":-1!==a.indexOf(":")?"ratio":"fixed"}function B(a){return/\D$/.test(a)?a:a+"px"}g.addClass("_md");g.attr("role","list");h.layoutDelegate=p;var z=angular.bind(h,h.invalidateLayout),
D=f();e.$on("$destroy",r);var A,E=a.startSymbol(),H=a.endSymbol(),F=a(E+"share"+H+"% - ("+(E+"gutter"+H)+" * "+(E+"gutterShare"+H)+")"),G=a("calc(("+(E+"unit"+H)+" + "+(E+"gutter"+H)+") * "+(E+"offset"+H)+")"),J=a("calc(("+(E+"unit"+H)+") * "+(E+"span"+H)+" + ("+(E+"span"+H)+" - 1) * "+(E+"gutter"+H)+")")}return{restrict:"E",controller:GridListController,scope:{mdOnLayout:"&"},link:e}}
function GridListController(a){this.tilesInvalidated=this.layoutInvalidated=!1;this.$timeout_=a.nextTick;this.layoutDelegate=angular.noop}GridListController.prototype={invalidateTiles:function(){this.tilesInvalidated=!0;this.invalidateLayout()},invalidateLayout:function(){this.layoutInvalidated||(this.layoutInvalidated=!0,this.$timeout_(angular.bind(this,this.layout)))},layout:function(){try{this.layoutDelegate(this.tilesInvalidated)}finally{this.tilesInvalidated=this.layoutInvalidated=!1}}};
function GridLayoutFactory(a){function b(b,c){var f,g,m,r,l;var p=a.time(function(){g=d(b,c)});return f={layoutInfo:function(){return g},map:function(b){r=a.time(function(){var a=f.layoutInfo();m=b(a.positioning,a.rowCount)});return f},reflow:function(b){l=a.time(function(){var a=b||e;a(m.grid,m.tiles)});return f},performance:function(){return{tileCount:c.length,layoutTime:p,mapTime:r,reflowTime:l,totalTime:p+r+l}}}}function c(a,b){a.element.css(a.style);b.forEach(function(a){a.element.css(a.style)})}
function d(a,b){function c(a,b,c){for(var d=a;d<a+b;d++)g[d]=Math.max(g[d]+c,0)}function d(){for(var b=[],c=0;c<a;c++)b.push(0);return b}var e=0,f=0,g=d();return{positioning:b.map(function(b,d){var k=b;if(k.col>a)throw"md-grid-list: Tile at position "+d+" has a colspan ("+k.col+") that exceeds the column count ("+a+")";for(var h=d=0;h-d<k.col;)if(e>=a)e=0,f++,c(0,a,-1);else{d=g.indexOf(0,e);var l;if(!(l=-1===d)){a:{for(h=d+1;h<g.length;h++)if(0!==g[h])break a;h=h===g.length?h:void 0}l=-1===h}l?(e=
d=h=0,f++,c(0,a,-1)):e=h+1}c(d,k.col,k.row);e=d+k.col;k={col:d,row:f};return{spans:b,position:k}}),rowCount:f+Math.max.apply(Math,g)}}var e=c;b.animateWith=function(a){e=angular.isFunction(a)?a:c};return b}
function GridTileDirective(a){function b(b,d,e,f){d.attr("role","listitem");var c=a.watchResponsiveAttributes(["md-colspan","md-rowspan"],e,angular.bind(f,f.invalidateLayout));f.invalidateTiles();b.$on("$destroy",function(){d[0].$$mdDestroyed=!0;c();f.invalidateLayout()});angular.isDefined(b.$parent.$index)&&b.$watch(function(){return b.$parent.$index},function(a,b){a!==b&&f.invalidateTiles()})}return{restrict:"E",require:"^mdGridList",template:"<figure ng-transclude></figure>",transclude:!0,scope:{},
controller:["$attrs",function(a){this.$attrs=a}],link:b}}function GridTileCaptionDirective(){return{template:"<figcaption ng-transclude></figcaption>",transclude:!0}}ngmaterial.components.gridList=angular.module("material.components.gridList");mdInputContainerDirective.$inject=["$mdTheming","$parse"];inputTextareaDirective.$inject=["$mdUtil","$window","$mdAria","$timeout","$mdGesture"];mdMaxlengthDirective.$inject=["$animate","$mdUtil"];placeholderDirective.$inject=["$compile"];ngMessageDirective.$inject=["$mdUtil"];mdSelectOnFocusDirective.$inject=["$document","$timeout"];mdInputInvalidMessagesAnimation.$inject=["$$AnimateRunner","$animateCss","$mdUtil","$log"];ngMessagesAnimation.$inject=["$$AnimateRunner","$animateCss","$mdUtil","$log"];
ngMessageAnimation.$inject=["$$AnimateRunner","$animateCss","$mdUtil","$log"];
var inputModule=angular.module("material.components.input",["material.core"]).directive("mdInputContainer",mdInputContainerDirective).directive("label",labelDirective).directive("input",inputTextareaDirective).directive("textarea",inputTextareaDirective).directive("mdMaxlength",mdMaxlengthDirective).directive("placeholder",placeholderDirective).directive("ngMessages",ngMessagesDirective).directive("ngMessage",ngMessageDirective).directive("ngMessageExp",ngMessageDirective).directive("mdSelectOnFocus",
mdSelectOnFocusDirective).animation(".md-input-invalid",mdInputInvalidMessagesAnimation).animation(".md-input-messages-animation",ngMessagesAnimation).animation(".md-input-message-animation",ngMessageAnimation);
window._mdMocksIncluded&&inputModule.service("$$mdInput",function(){return{messages:{show:showInputMessages,hide:hideInputMessages,getElement:getMessagesElement}}}).service("mdInputInvalidAnimation",mdInputInvalidMessagesAnimation).service("mdInputMessagesAnimation",ngMessagesAnimation).service("mdInputMessageAnimation",ngMessageAnimation);
function mdInputContainerDirective(a,b){function c(b){var c=b[0].querySelector(f),d=b[0].querySelector(g);c&&b.addClass("md-icon-left");d&&b.addClass("md-icon-right");return function(b,c){a(c)}}function d(a,c,d,e){var f=this;f.isErrorGetter=d.mdIsError&&b(d.mdIsError);f.delegateClick=function(){f.input.focus()};f.element=c;f.setFocused=function(a){c.toggleClass("md-input-focused",!!a)};f.setHasValue=function(a){c.toggleClass("md-input-has-value",!!a)};f.setHasPlaceholder=function(a){c.toggleClass("md-input-has-placeholder",
!!a)};f.setInvalid=function(a){a?e.addClass(c,"md-input-invalid"):e.removeClass(c,"md-input-invalid")};a.$watch(function(){return f.label&&f.input},function(a){a&&!f.label.attr("for")&&f.label.attr("for",f.input.attr("id"))})}d.$inject=["$scope","$element","$attrs","$animate"];var e=["INPUT","TEXTAREA","SELECT","MD-SELECT"],f=e.reduce(function(a,b){return a.concat(["md-icon ~ "+b,".md-icon ~ "+b])},[]).join(","),g=e.reduce(function(a,b){return a.concat([b+" ~ md-icon",b+" ~ .md-icon"])},[]).join(",");
return{restrict:"E",compile:c,controller:d}}function labelDirective(){return{restrict:"E",require:"^?mdInputContainer",link:function(a,b,c,d){!d||c.mdNoFloat||b.hasClass("md-container-ignore")||(d.label=b,a.$on("$destroy",function(){d.label=null}))}}}
function inputTextareaDirective(a,b,c,d,e){function f(f,k,h,m){function g(a){v.setHasValue(!w.$isEmpty(a));return a}function l(){v.label&&h.$observe("required",function(a){v.label.toggleClass("md-required",a&&!x)})}function p(){v.setHasValue(0<k.val().length||(k[0].validity||{}).badInput)}function n(){function c(){k.attr("rows",1).css("height","auto").addClass("md-no-flex");var a=z.offsetHeight;var b=z.scrollHeight-a;a+=Math.max(b,0);x||(b=k[0].style.padding||"",x=k.css("padding",0).prop("offsetHeight"),
k[0].style.padding=b);p&&x&&(a=Math.max(a,x*p));m&&x&&(b=x*m,b<a?(k.attr("md-no-autogrow",""),a=b):k.removeAttr("md-no-autogrow"));x&&k.attr("rows",Math.round(a/x));k.css("height",a+"px").removeClass("md-no-flex")}function g(b){a.nextTick(c);return b}function l(){if(n&&(n=!1,angular.element(b).off("resize",c),r&&r(),k.attr("md-no-autogrow","").off("input",c),u)){var a=w.$formatters.indexOf(g);-1<a&&w.$formatters.splice(a,1)}}function q(){function a(a){a.preventDefault();q=!0;n=parseFloat(k.css("height"))||
k.prop("offsetHeight")}function b(a){q&&(a.preventDefault(),l(),p.addClass("md-input-resized"))}function c(a){q&&k.css("height",n+a.pointer.distanceY+"px")}function d(){q&&(q=!1,p.removeClass("md-input-resized"))}if(!h.hasOwnProperty("mdNoResize")){var g=angular.element('<div class="md-resize-handle"></div>'),q=!1,n=0,p=v.element,m=e.register(g,"drag",{horizontal:!1});k.wrap('<div class="md-resize-wrapper">').after(g);g.on("mousedown",a);p.on("$md.dragstart",b).on("$md.drag",c).on("$md.dragend",d);
f.$on("$destroy",function(){g.off("mousedown",a).remove();p.off("$md.dragstart",b).off("$md.drag",c).off("$md.dragend",d);m();m=p=g=null})}}var n=!h.hasOwnProperty("mdNoAutogrow");q();if(n){var p=h.hasOwnProperty("rows")?parseInt(h.rows):NaN,m=h.hasOwnProperty("maxRows")?parseInt(h.maxRows):NaN,r=f.$on("md-resize-textarea",c),x=null,z=k[0];d(function(){a.nextTick(c)},10,!1);k.on("input",c);u&&w.$formatters.push(g);p||k.attr("rows",1);angular.element(b).on("resize",c);f.$on("$destroy",l);if(h.hasOwnProperty("mdDetectHidden")){var B=
function(){var a=!1;return function(){var b=0===z.offsetHeight;!1===b&&!0===a&&c();a=b}}();f.$watch(function(){a.nextTick(B,!1);return!0})}}}var v=m[0],u=!!m[1],w=m[1]||a.fakeNgModel(),q=m[2];m=angular.isDefined(h.readonly);var x=a.parseAttributeBoolean(h.mdNoAsterisk),B=k[0].tagName.toLowerCase();if(v)if("hidden"===h.type)k.attr("aria-hidden","true");else{if(v.input){if(v.input[0].contains(k[0]))return;throw Error("<md-input-container> can only have *one* <input>, <textarea> or <md-select> child element!");
}v.input=k;l();var z=angular.element('<div class="md-errors-spacer">');k.after(z);z=angular.isString(h.placeholder)?h.placeholder.trim():"";v.label||z.length||c.expect(k,"aria-label");k.addClass("md-input");k.attr("id")||k.attr("id","input_"+a.nextUid());"input"===B&&"number"===h.type&&h.min&&h.max&&!h.step?k.attr("step","any"):"textarea"===B&&n();u||p();B=v.isErrorGetter||function(){return w.$invalid&&(w.$touched||q&&q.$submitted)};f.$watch(B,v.setInvalid);h.ngValue&&h.$observe("value",p);w.$parsers.push(g);
w.$formatters.push(g);k.on("input",p);if(!m)k.on("focus",function(){a.nextTick(function(){v.setFocused(!0)})}).on("blur",function(){a.nextTick(function(){v.setFocused(!1);p()})});f.$on("$destroy",function(){v.setFocused(!1);v.setHasValue(!1);v.input=null})}}return{restrict:"E",require:["^?mdInputContainer","?ngModel","?^form"],link:f}}
function mdMaxlengthDirective(a,b){function c(c,e,f,g){function d(a){if(!l||!l.parent)return a;l.text(String(e.val()||a||"").length+" / "+h);return a}var h=parseInt(f.mdMaxlength);isNaN(h)&&(h=-1);var m=g[0],r=g[1],l,p;m.$validators["md-maxlength"]=function(a,b){if(!angular.isNumber(h)||0>h)return!0;d();return(a||e.val()||b||"").length<=h};b.nextTick(function(){p=angular.element(r.element[0].querySelector(".md-errors-spacer"));l=angular.element('<div class="md-char-counter">');p.append(l);f.$set("ngTrim",
"false");c.$watch(f.mdMaxlength,function(b){h=b;angular.isNumber(b)&&0<b?(l.parent().length||a.enter(l,p),d()):a.leave(l)})})}return{restrict:"A",require:["ngModel","^mdInputContainer"],link:c}}
function placeholderDirective(a){function b(b,d,e,f){if(f){var c=f.element.find("label"),k=f.element.attr("md-no-float");c&&c.length||""===k||b.$eval(k)?f.setHasPlaceholder(!0):"MD-SELECT"!=d[0].nodeName&&(d=angular.element('<label ng-click="delegateClick()" tabindex="-1">'+e.placeholder+"</label>"),e.$set("placeholder",null),f.element.addClass("md-icon-float").prepend(d),a(d)(b))}}return{restrict:"A",require:"^^?mdInputContainer",priority:200,link:{pre:b}}}
function mdSelectOnFocusDirective(a,b){function c(c,e){function d(){k=!0;b(function(){a[0].activeElement===e[0]&&e[0].select();k=!1},1,!1)}function g(a){k&&a.preventDefault()}if("INPUT"===e[0].nodeName||"TEXTAREA"===e[0].nodeName){var k=!1;e.on("focus",d).on("mouseup",g);c.$on("$destroy",function(){e.off("focus",d).off("mouseup",g)})}}return{restrict:"A",link:c}}var visibilityDirectives=["ngIf","ngShow","ngHide","ngSwitchWhen","ngSwitchDefault"];
function ngMessagesDirective(){function a(a,d,e,f){f&&(d.toggleClass("md-input-messages-animation",!0),d.toggleClass("md-auto-hide",!0),("false"==e.mdAutoHide||b(e))&&d.toggleClass("md-auto-hide",!1))}function b(a){return visibilityDirectives.some(function(b){return a[b]})}return{restrict:"EA",link:a,require:"^^?mdInputContainer"}}
function ngMessageDirective(a){function b(b){function c(){for(var a=b[0];a=a.parentNode;)if(a.nodeType===Node.DOCUMENT_FRAGMENT_NODE)return!0;return!1}function e(a){a.toggleClass("md-input-message-animation",!0)}if(a.getClosest(b,"md-input-container"))e(b);else if(c())return function(c,d){a.getClosest(d,"md-input-container")&&e(b)}}return{restrict:"EA",compile:b,priority:100}}var $$AnimateRunner,$animateCss,$mdUtil,$log;
function mdInputInvalidMessagesAnimation(a,b,c,d){saveSharedServices(a,b,c,d);return{addClass:function(a,b,c){showInputMessages(a,c)}}}function ngMessagesAnimation(a,b,c,d){saveSharedServices(a,b,c,d);return{enter:function(a,b){showInputMessages(a,b)},leave:function(a,b){hideInputMessages(a,b)},addClass:function(a,b,c){"ng-hide"==b?hideInputMessages(a,c):c()},removeClass:function(a,b,c){"ng-hide"==b?showInputMessages(a,c):c()}}}
function ngMessageAnimation(a,b,c,d){saveSharedServices(a,b,c,d);return{enter:function(a,b){a=showMessage(a);a.start().done(b)},leave:function(a,b){a=hideMessage(a);a.start().done(b)}}}function showInputMessages(a,b){var c=[],d,e=getMessagesElement(a),f=e.children();0==e.length||0==f.length?($log.warn("mdInput messages show animation called on invalid messages element: ",a),b()):(angular.forEach(f,function(a){d=showMessage(angular.element(a));c.push(d.start())}),$$AnimateRunner.all(c,b))}
function hideInputMessages(a,b){var c=[],d,e=getMessagesElement(a),f=e.children();0==e.length||0==f.length?($log.warn("mdInput messages hide animation called on invalid messages element: ",a),b()):(angular.forEach(f,function(a){d=hideMessage(angular.element(a));c.push(d.start())}),$$AnimateRunner.all(c,b))}
function showMessage(a){var b=parseInt(window.getComputedStyle(a[0]).height),c=parseInt(window.getComputedStyle(a[0]).marginTop),d=getMessagesElement(a);var e=a.controller("mdInputContainer");e=e.element;return(c=c>-b)||d.hasClass("md-auto-hide")&&!e.hasClass("md-input-invalid")?$animateCss(a,{}):$animateCss(a,{event:"enter",structural:!0,from:{opacity:0,"margin-top":-b+"px"},to:{opacity:1,"margin-top":"0"},duration:.3})}
function hideMessage(a){var b=a[0].offsetHeight,c=window.getComputedStyle(a[0]);return 0===parseInt(c.opacity)?$animateCss(a,{}):$animateCss(a,{event:"leave",structural:!0,from:{opacity:1,"margin-top":0},to:{opacity:0,"margin-top":-b+"px"},duration:.3})}
function getMessagesElement(a){return a.hasClass("md-input-messages-animation")?a:a.hasClass("md-input-message-animation")?angular.element($mdUtil.getClosest(a,function(a){return a.classList.contains("md-input-messages-animation")})):angular.element(a[0].querySelector(".md-input-messages-animation"))}function saveSharedServices(a,b,c,d){$$AnimateRunner=a;$animateCss=b;$mdUtil=c;$log=d}ngmaterial.components.input=angular.module("material.components.input");MdListController.$inject=["$scope","$element","$mdListInkRipple"];mdListDirective.$inject=["$mdTheming"];mdListItemDirective.$inject=["$mdAria","$mdConstant","$mdUtil","$timeout"];angular.module("material.components.list",["material.core"]).controller("MdListController",MdListController).directive("mdList",mdListDirective).directive("mdListItem",mdListItemDirective);function mdListDirective(a){return{restrict:"E",compile:function(b){b[0].setAttribute("role","list");return a}}}
function mdListItemDirective(a,b,c,d){var e=["md-checkbox","md-switch","md-menu"];return{restrict:"E",controller:"MdListController",compile:function(f,g){function k(){for(var a=["md-switch","md-checkbox"],b,c=0,d;d=a[c];++c)if((b=f.find(d)[0])&&!b.hasAttribute("aria-label")){d=f.find("p")[0];if(!d)break;b.setAttribute("aria-label","Toggle "+d.textContent)}}function h(){var a=angular.element(u),b=a.parent().hasClass("md-secondary-container")||u.parentNode.firstElementChild!==u,c="left";b&&(c="right");
a.attr("md-position-mode")||a.attr("md-position-mode",c+" target");a=a.children().eq(0);p(a[0])||a.attr("ng-click","$mdMenu.open($event)");a.attr("aria-label")||a.attr("aria-label","Open List Menu")}function m(b){"div"==b?(w=angular.element('<div class="md-no-style md-list-item-inner">'),w.append(f.contents()),f.addClass("md-proxy-focus")):(w=angular.element('<div class="md-button md-no-style">   <div class="md-list-item-inner"></div></div>'),b=angular.element('<md-button class="md-no-style"></md-button>'),
l(f[0],b[0]),b.attr("aria-label")||b.attr("aria-label",a.getText(f)),f.hasClass("md-no-focus")&&b.addClass("md-no-focus"),w.prepend(b),w.children().eq(1).append(f.contents()),f.addClass("_md-button-wrap"));f[0].setAttribute("tabindex","-1");f.append(w)}function r(){var b=angular.element('<div class="md-secondary-container">');angular.forEach(v,function(c){var d=b,k;if(k=c)k=c.nodeName.toUpperCase(),k="MD-BUTTON"==k||"BUTTON"==k,k=!k;k&&c.hasAttribute("ng-click")&&(a.expect(c,"aria-label"),k=angular.element('<md-button class="md-secondary md-icon-button">'),
l(c,k[0],["ng-if","ng-hide","ng-show"]),c.setAttribute("tabindex","-1"),k.append(c),c=k[0]);c&&(!p(c)||!g.ngClick&&-1!=e.indexOf(c.nodeName.toLowerCase()))&&angular.element(c).removeClass("md-secondary");f.addClass("md-with-secondary");d.append(c)});w.append(b)}function l(a,b,d){var e=c.prefixer("ng-if ng-click ng-dblclick aria-label ng-disabled ui-sref href ng-href rel target ng-attr-ui-sref ui-sref-opts download".split(" "));d&&(e=e.concat(c.prefixer(d)));angular.forEach(e,function(c){a.hasAttribute(c)&&
(b.setAttribute(c,a.getAttribute(c)),a.removeAttribute(c))})}function p(a){a=a.attributes;for(var b=0;b<a.length;b++)if("ngClick"===g.$normalize(a[b].name))return!0;return!1}function n(a,f,g,k){function h(){n&&n.children&&!x&&!r&&angular.forEach(e,function(a){angular.forEach(n.querySelectorAll(a+":not(.md-secondary)"),function(a){q.push(a)})})}function l(a){var b=["md-slider"];if(!a.path)return-1!==b.indexOf(a.target.tagName.toLowerCase());for(var c=a.path.indexOf(f.children()[0]),d=0;d<c;d++)if(-1!==
b.indexOf(a.path[d].tagName.toLowerCase()))return!0}f.addClass("_md");var q=[],n=f[0].firstElementChild,m=(g=f.hasClass("_md-button-wrap"))?n.firstElementChild:n,x=m&&p(m),r=f.hasClass("md-no-proxy");h();if(1==q.length||x)f.addClass("md-clickable"),x||k.attachRipple(a,angular.element(f[0].querySelector(".md-no-style")));q.length&&angular.forEach(q,function(b){b=angular.element(b);a.mouseActive=!1;b.on("mousedown",function(){a.mouseActive=!0;d(function(){a.mouseActive=!1},100)}).on("focus",function(){!1===
a.mouseActive&&f.addClass("md-focused");b.on("blur",function U(){f.removeClass("md-focused");b.off("blur",U)})})});var w=function(a){if("INPUT"!=a.target.nodeName&&"TEXTAREA"!=a.target.nodeName&&!a.target.isContentEditable){var c=a.which||a.keyCode;c==b.KEY_CODE.SPACE&&m&&(m.click(),a.preventDefault(),a.stopPropagation())}};x||q.length||m&&m.addEventListener("keypress",w);f.off("click");f.off("keypress");if(1==q.length&&m)f.children().eq(0).on("click",function(a){if(!l(a)){var b=c.getClosest(a.target,
"BUTTON");!b&&m.contains(a.target)&&angular.forEach(q,function(b){a.target===b||b.contains(a.target)||("MD-MENU"===b.nodeName&&(b=b.children[0]),angular.element(b).triggerHandler("click"))})}});a.$on("$destroy",function(){m&&m.removeEventListener("keypress",w)})}var v=f[0].querySelectorAll(".md-secondary"),u,w=f;f[0].setAttribute("role","listitem");if(g.ngClick||g.ngDblclick||g.ngHref||g.href||g.uiSref||g.ngAttrUiSref)m("button");else if(!f.hasClass("md-no-proxy")){for(var q=0,x;x=e[q];++q)if(u=f[0].querySelector(x)){var B=
!0;break}B?m("div"):f.addClass("md-no-proxy")}r();k();B&&"MD-MENU"===u.nodeName&&h();return n}}}function MdListController(a,b,c){function d(a,b){var d={};c.attach(a,b,d)}a=this;a.attachRipple=d}ngmaterial.components.list=angular.module("material.components.list");angular.module("material.components.menu",["material.core","material.components.backdrop"]);MenuController.$inject="$mdMenu $attrs $element $scope $mdUtil $timeout $rootScope $q $log".split(" ");angular.module("material.components.menu").controller("mdMenuCtrl",MenuController);
function MenuController(a,b,c,d,e,f,g,k,h){var m=e.prefixer(),r,l=this,p;this.nestLevel=parseInt(b.mdNestLevel,10)||0;this.init=function(b,f){f=f||{};r=b;p=c[0].querySelector(m.buildSelector(["ng-click","ng-mouseenter"]));p.setAttribute("aria-expanded","false");this.isInMenuBar=f.isInMenuBar;this.nestedMenus=e.nodesToArray(r[0].querySelectorAll(".md-nested-menu"));r.on("$mdInterimElementRemove",function(){l.isOpen=!1;e.nextTick(function(){l.onIsOpenChanged(l.isOpen)})});e.nextTick(function(){l.onIsOpenChanged(l.isOpen)});
b="menu_container_"+e.nextUid();r.attr("id",b);angular.element(p).attr({"aria-owns":b,"aria-haspopup":"true"});d.$on("$destroy",angular.bind(this,function(){this.disableHoverListener();a.destroy()}));r.on("$destroy",function(){a.destroy()})};var n,v,u=[];this.enableHoverListener=function(){u.push(g.$on("$mdMenuOpen",function(a,b){r[0].contains(b[0])&&(l.currentlyOpenMenu=b.controller("mdMenu"),l.isAlreadyOpening=!1,l.currentlyOpenMenu.registerContainerProxy(l.triggerContainerProxy.bind(l)))}));u.push(g.$on("$mdMenuClose",
function(a,b){r[0].contains(b[0])&&(l.currentlyOpenMenu=void 0)}));v=angular.element(e.nodesToArray(r[0].children[0].children));v.on("mouseenter",l.handleMenuItemHover);v.on("mouseleave",l.handleMenuItemMouseLeave)};this.disableHoverListener=function(){for(;u.length;)u.shift()();v&&v.off("mouseenter",l.handleMenuItemHover);v&&v.off("mouseleave",l.handleMenuItemMouseLeave)};this.handleMenuItemHover=function(a){if(!l.isAlreadyOpening){var b=a.target.querySelector("md-menu")||e.getClosest(a.target,"MD-MENU");
n=f(function(){b&&(b=angular.element(b).controller("mdMenu"));if(l.currentlyOpenMenu&&l.currentlyOpenMenu!=b){var a=l.nestLevel+1;l.currentlyOpenMenu.close(!0,{closeTo:a});l.isAlreadyOpening=!!b;b&&b.open()}else b&&!b.isOpen&&b.open&&(l.isAlreadyOpening=!!b,b&&b.open())},b?100:250);(a=a.currentTarget.querySelector(".md-button:not([disabled])"))&&a.focus()}};this.handleMenuItemMouseLeave=function(){n&&(f.cancel(n),n=void 0)};this.open=function(b){b&&b.stopPropagation();b&&b.preventDefault();l.isOpen||
(l.enableHoverListener(),l.isOpen=!0,e.nextTick(function(){l.onIsOpenChanged(l.isOpen)}),p=p||(b?b.target:c[0]),p.setAttribute("aria-expanded","true"),d.$emit("$mdMenuOpen",c),a.show({scope:d,mdMenuCtrl:l,nestLevel:l.nestLevel,element:r,target:p,preserveElement:!0,parent:"body"})["finally"](function(){p.setAttribute("aria-expanded","false");l.disableHoverListener()}))};this.onIsOpenChanged=function(a){a?(r.attr("aria-hidden","false"),c[0].classList.add("md-open"),angular.forEach(l.nestedMenus,function(a){a.classList.remove("md-open")})):
(r.attr("aria-hidden","true"),c[0].classList.remove("md-open"));d.$mdMenuIsOpen=l.isOpen};this.focusMenuContainer=function(){var a=r[0].querySelector(m.buildSelector(["md-menu-focus-target","md-autofocus"]));a||(a=r[0].querySelector(".md-button:not([disabled])"));a.focus()};this.registerContainerProxy=function(a){this.containerProxy=a};this.triggerContainerProxy=function(a){this.containerProxy&&this.containerProxy(a)};this.destroy=function(){return l.isOpen?a.destroy():k.when(!1)};this.close=function(b,
f){if(l.isOpen){l.isOpen=!1;e.nextTick(function(){l.onIsOpenChanged(l.isOpen)});var g=angular.extend({},f,{skipFocus:b});d.$emit("$mdMenuClose",c,g);a.hide(null,f);b||(b=l.restoreFocusTo||c.find("button")[0],b instanceof angular.element&&(b=b[0]),b&&b.focus())}};this.positionMode=function(){var a=(b.mdPositionMode||"target").split(" ");1==a.length&&a.push(a[0]);return{left:a[0],top:a[1]}};this.offsets=function(){var a=(b.mdOffset||"0 0").split(" ").map(parseFloat);if(2==a.length)return{left:a[0],
top:a[1]};if(1==a.length)return{top:a[0],left:a[0]};throw Error("Invalid offsets specified. Please follow format <x, y> or <n>");};d.$mdMenu={open:this.open,close:this.close};d.$mdOpenMenu=angular.bind(this,function(){h.warn("mdMenu: The $mdOpenMenu method is deprecated. Please use `$mdMenu.open`.");return this.open.apply(this,arguments)})}MenuDirective.$inject=["$mdUtil"];angular.module("material.components.menu").directive("mdMenu",MenuDirective);
function MenuDirective(a){function b(b){b.addClass("md-menu");var d=b.children()[0],f=a.prefixer();f.hasAttribute(d,"ng-click")||(d=d.querySelector(f.buildSelector(["ng-click","ng-mouseenter"]))||d);f="MD-BUTTON"===d.nodeName||"BUTTON"===d.nodeName;d&&f&&!d.hasAttribute("type")&&d.setAttribute("type","button");if(!d)throw Error("Invalid HTML for md-menu: Expected the menu to have a trigger element.");if(2!==b.children().length)throw Error("Invalid HTML for md-menu: Expected two children elements. The second element must have a `md-menu-content` element.");
d&&d.setAttribute("aria-haspopup","true");d=b[0].querySelectorAll("md-menu");var g=parseInt(b[0].getAttribute("md-nest-level"),10)||0;d&&angular.forEach(a.nodesToArray(d),function(a){a.hasAttribute("md-position-mode")||a.setAttribute("md-position-mode","cascade");a.classList.add("_md-nested-menu");a.setAttribute("md-nest-level",g+1)});return c}function c(a,b,c,g){a=g[0];g=!!g[1];var d=angular.element('<div class="_md md-open-menu-container md-whiteframe-z2"></div>');c=b.children()[1];b.addClass("_md");
c.hasAttribute("role")||c.setAttribute("role","menu");d.append(c);b.on("$destroy",function(){d.remove()});b.append(d);d[0].style.display="none";a.init(d,{isInMenuBar:g})}return{restrict:"E",require:["mdMenu","?^mdMenuBar"],controller:"mdMenuCtrl",scope:!0,compile:b}}MenuProvider.$inject=["$$interimElementProvider"];angular.module("material.components.menu").provider("$mdMenu",MenuProvider);
function MenuProvider(a){function b(a,b,f,g,k,h,m,r,l,p){function d(b,c,d){if(d.nestLevel)return angular.noop;d.disableParentScroll&&!a.getClosest(d.target,"MD-DIALOG")?d.restoreScroll=a.disableScrollAround(d.element,d.parent):d.disableParentScroll=!1;d.hasBackdrop&&(d.backdrop=a.createBackdrop(b,"md-menu-backdrop md-click-catcher"),l.enter(d.backdrop,g[0].body));return function(){d.backdrop&&d.backdrop.remove();d.disableParentScroll&&d.restoreScroll()}}function e(a,b,d){function e(){b.removeClass("md-active");
var a=b,e=d;e.preserveElement?c(a).style.display="none":c(a).parentNode===c(e.parent)&&c(e.parent).removeChild(c(a));d.alreadyOpen=!1}d.cleanupInteraction();d.cleanupBackdrop();d.cleanupResizing();d.hideBackdrop();b.removeClass("md-clickable");return!0===d.$destroy?e():r(b,{addClass:"md-leave"}).start().then(e)}function u(c,e,g){function l(){g.parent.append(e);e[0].style.display="";return h(function(a){var b=q(e,g);e.removeClass("md-leave");r(e,{addClass:"md-active",from:B.toCss(b),to:B.toCss({transform:""})}).start().then(a)})}
function n(){var a=function(a,b){return m.throttle(function(){if(!g.isRemoved){var c=q(a,b);a.css(B.toCss(c))}})}(e,g);k.addEventListener("resize",a);k.addEventListener("orientationchange",a);return function(){k.removeEventListener("resize",a);k.removeEventListener("orientationchange",a)}}function v(){if(!g.backdrop)return angular.noop;g.backdrop.on("click",u);return function(){g.backdrop.off("click",u)}}function u(a){a.preventDefault();a.stopPropagation();c.$apply(function(){g.mdMenuCtrl.close(!0,
{closeAll:!0})})}function z(){function b(b){switch(b.keyCode){case f.KEY_CODE.ESCAPE:g.mdMenuCtrl.close(!1,{closeAll:!0});var c=!0;break;case f.KEY_CODE.TAB:g.mdMenuCtrl.close(!1,{closeAll:!0});c=!1;break;case f.KEY_CODE.UP_ARROW:w(b,g.menuContentEl,g,-1)||g.nestLevel||g.mdMenuCtrl.triggerContainerProxy(b);c=!0;break;case f.KEY_CODE.DOWN_ARROW:w(b,g.menuContentEl,g,1)||g.nestLevel||g.mdMenuCtrl.triggerContainerProxy(b);c=!0;break;case f.KEY_CODE.LEFT_ARROW:g.nestLevel?g.mdMenuCtrl.close():g.mdMenuCtrl.triggerContainerProxy(b);
c=!0;break;case f.KEY_CODE.RIGHT_ARROW:(c=a.getClosest(b.target,"MD-MENU"))&&c!=g.parent[0]?b.target.click():g.mdMenuCtrl.triggerContainerProxy(b),c=!0}c&&(b.preventDefault(),b.stopImmediatePropagation())}function d(b){function d(){c.$apply(function(){g.mdMenuCtrl.close(!0,{closeAll:!0})})}function e(a,b){if(!a)return!1;for(var c=0,d;d=b[c];++c)if(x.hasAttribute(a,d))return!0;return!1}b=b.target;do{if(b==g.menuContentEl[0])break;if((e(b,["ng-click","ng-href","ui-sref"])||"BUTTON"==b.nodeName||"MD-BUTTON"==
b.nodeName)&&!e(b,["md-prevent-menu-close"])){var f=a.getClosest(b,"MD-MENU");b.hasAttribute("disabled")||f&&f!=g.parent[0]||d();break}}while(b=b.parentNode)}if(!g.menuContentEl[0])return angular.noop;g.menuContentEl.on("keydown",b);g.menuContentEl[0].addEventListener("click",d,!0);var e=g.menuContentEl[0].querySelector(x.buildSelector(["md-menu-focus-target","md-autofocus"]));if(!e)for(var k=g.menuContentEl[0].children.length,h=0;h<k;h++){var l=g.menuContentEl[0].children[h];if(e=l.querySelector(".md-button:not([disabled])"))break;
if(l.firstElementChild&&!l.firstElementChild.disabled){e=l.firstElementChild;break}}e&&e.focus();return function(){g.menuContentEl.off("keydown",b);g.menuContentEl[0].removeEventListener("click",d,!0)}}if(!g.target)throw Error("$mdMenu.show() expected a target to animate from in options.target");angular.extend(g,{alreadyOpen:!1,isRemoved:!1,target:angular.element(g.target),parent:angular.element(g.parent),menuContentEl:angular.element(e[0].querySelector("md-menu-content"))});g.menuContentEl[0]?b.inherit(g.menuContentEl,
g.target):p.warn("$mdMenu: Menu elements should always contain a `md-menu-content` element,otherwise interactivity features will not work properly.",e);g.cleanupResizing=n();g.hideBackdrop=d(c,e,g);return l().then(function(a){g.alreadyOpen=!0;g.cleanupInteraction=z();g.cleanupBackdrop=v();e.addClass("md-clickable");return a})}function w(b,c,d,e){b=a.getClosest(b.target,"MD-MENU-ITEM");c=a.nodesToArray(c[0].children);b=c.indexOf(b);for(b+=e;0<=b&&b<c.length;b+=e){var f=c[b].querySelector(".md-button");
f&&-1!=f.getAttribute("tabindex")?(f.focus(),f=g[0].activeElement==f):f=void 0;if(f)break}return f}function q(b,c){function d(a){a.top=Math.max(Math.min(a.top,m.bottom-f.offsetHeight),m.top);a.left=Math.max(Math.min(a.left,m.right-f.offsetWidth),m.left)}function e(){for(var a=0;a<h.children.length;++a)if("none"!=k.getComputedStyle(h.children[a]).display)return h.children[a]}var f=b[0],h=b[0].firstElementChild,l=h.getBoundingClientRect();b=g[0].body;var q=b.getBoundingClientRect(),p=k.getComputedStyle(h),
n=c.target[0].querySelector(x.buildSelector("md-menu-origin"))||c.target[0];b=n.getBoundingClientRect();var m={left:q.left+8,top:Math.max(q.top,0)+8,bottom:Math.max(q.bottom,Math.max(q.top,0)+q.height)-8,right:q.right-8},r={top:0,left:0,right:0,bottom:0},v={top:0,left:0,right:0,bottom:0},w=c.mdMenuCtrl.positionMode();if("target"==w.top||"target"==w.left||"target-right"==w.left)if(q=e())q=q.firstElementChild||q,q=q.querySelector(x.buildSelector("md-menu-align-target"))||q,r=q.getBoundingClientRect(),
v={top:parseFloat(f.style.top||0),left:parseFloat(f.style.left||0)};q={};var u="top ";switch(w.top){case "target":q.top=v.top+b.top-r.top;break;case "cascade":q.top=b.top-parseFloat(p.paddingTop)-n.style.top;break;case "bottom":q.top=b.top+b.height;break;default:throw Error('Invalid target mode "'+w.top+'" specified for md-menu on Y axis.');}p="rtl"==a.bidi();switch(w.left){case "target":q.left=v.left+b.left-r.left;u+=p?"right":"left";break;case "target-left":q.left=b.left;u+="left";break;case "target-right":q.left=
b.right-l.width+(l.right-r.right);u+="right";break;case "cascade":p=p?b.left-l.width<m.left:b.right+l.width<m.right;q.left=p?b.right-n.style.left:b.left-n.style.left-l.width;u+=p?"left":"right";break;case "right":p?(q.left=b.right-b.width,u+="left"):(q.left=b.right-l.width,u+="right");break;case "left":p?(q.left=b.right-l.width,u+="right"):(q.left=b.left,u+="left");break;default:throw Error('Invalid target mode "'+w.left+'" specified for md-menu on X axis.');}l=c.mdMenuCtrl.offsets();q.top+=l.top;
q.left+=l.left;d(q);l=Math.round(100*Math.min(b.width/f.offsetWidth,1))/100;b=Math.round(100*Math.min(b.height/f.offsetHeight,1))/100;return{top:Math.round(q.top),left:Math.round(q.left),transform:c.alreadyOpen?void 0:a.supplant("scale({0},{1})",[l,b]),transformOrigin:u}}var x=a.prefixer(),B=a.dom.animator;return{parent:"body",onShow:u,onRemove:e,hasBackdrop:!0,disableParentScroll:!0,skipCompile:!0,preserveScope:!0,multiple:!0,themable:!0}}function c(a){a instanceof angular.element&&(a=a[0]);return a}
b.$inject="$mdUtil $mdTheming $mdConstant $document $window $q $$rAF $animateCss $animate $log".split(" ");return a("$mdMenu").setDefaults({methods:["target"],options:b})}ngmaterial.components.menu=angular.module("material.components.menu");angular.module("material.components.menuBar",["material.core","material.components.icon","material.components.menu"]);MenuBarController.$inject="$scope $rootScope $element $attrs $mdConstant $document $mdUtil $timeout".split(" ");angular.module("material.components.menuBar").controller("MenuBarController",MenuBarController);var BOUND_MENU_METHODS=["handleKeyDown","handleMenuHover","scheduleOpenHoveredMenu","cancelScheduledOpen"];
function MenuBarController(a,b,c,d,e,f,g,k){this.$element=c;this.$attrs=d;this.$mdConstant=e;this.$mdUtil=g;this.$document=f;this.$scope=a;this.$rootScope=b;this.$timeout=k;var h=this;angular.forEach(BOUND_MENU_METHODS,function(a){h[a]=angular.bind(h,h[a])})}
MenuBarController.prototype.init=function(){var a=this.$element,b=this.$mdUtil,c=this.$scope,d=this,e=[];a.on("keydown",this.handleKeyDown);this.parentToolbar=b.getClosest(a,"MD-TOOLBAR");e.push(this.$rootScope.$on("$mdMenuOpen",function(b,c){-1!=d.getMenus().indexOf(c[0])&&(a[0].classList.add("md-open"),c[0].classList.add("md-open"),d.currentlyOpenMenu=c.controller("mdMenu"),d.currentlyOpenMenu.registerContainerProxy(d.handleKeyDown),d.enableOpenOnHover())}));e.push(this.$rootScope.$on("$mdMenuClose",
function(c,e,k){c=d.getMenus();-1!=c.indexOf(e[0])&&(a[0].classList.remove("md-open"),e[0].classList.remove("md-open"));if(a[0].contains(e[0])){for(e=e[0];e&&-1==c.indexOf(e);)e=b.getClosest(e,"MD-MENU",!0);e&&(k.skipFocus||e.querySelector("button:not([disabled])").focus(),d.currentlyOpenMenu=void 0,d.disableOpenOnHover(),d.setKeyboardMode(!0))}}));c.$on("$destroy",function(){for(d.disableOpenOnHover();e.length;)e.shift()()});this.setKeyboardMode(!0)};
MenuBarController.prototype.setKeyboardMode=function(a){a?this.$element[0].classList.add("md-keyboard-mode"):this.$element[0].classList.remove("md-keyboard-mode")};MenuBarController.prototype.enableOpenOnHover=function(){if(!this.openOnHoverEnabled){var a=this;a.openOnHoverEnabled=!0;a.parentToolbar&&(a.parentToolbar.classList.add("md-has-open-menu"),a.$mdUtil.nextTick(function(){angular.element(a.parentToolbar).on("click",a.handleParentClick)},!1));angular.element(a.getMenus()).on("mouseenter",a.handleMenuHover)}};
MenuBarController.prototype.handleMenuHover=function(a){this.setKeyboardMode(!1);this.openOnHoverEnabled&&this.scheduleOpenHoveredMenu(a)};MenuBarController.prototype.disableOpenOnHover=function(){this.openOnHoverEnabled&&(this.openOnHoverEnabled=!1,this.parentToolbar&&(this.parentToolbar.classList.remove("md-has-open-menu"),angular.element(this.parentToolbar).off("click",this.handleParentClick)),angular.element(this.getMenus()).off("mouseenter",this.handleMenuHover))};
MenuBarController.prototype.scheduleOpenHoveredMenu=function(a){a=angular.element(a.currentTarget);a=a.controller("mdMenu");this.setKeyboardMode(!1);this.scheduleOpenMenu(a)};MenuBarController.prototype.scheduleOpenMenu=function(a){var b=this,c=this.$timeout;a!=b.currentlyOpenMenu&&(c.cancel(b.pendingMenuOpen),b.pendingMenuOpen=c(function(){b.pendingMenuOpen=void 0;b.currentlyOpenMenu&&b.currentlyOpenMenu.close(!0,{closeAll:!0});a.open()},200,!1))};
MenuBarController.prototype.handleKeyDown=function(a){var b=this.$mdConstant.KEY_CODE,c=this.currentlyOpenMenu,d=c&&c.isOpen;this.setKeyboardMode(!0);switch(a.keyCode){case b.DOWN_ARROW:c?c.focusMenuContainer():this.openFocusedMenu();var e=!0;break;case b.UP_ARROW:c&&c.close();e=!0;break;case b.LEFT_ARROW:b=this.focusMenu(-1);d&&(d=angular.element(b).controller("mdMenu"),this.scheduleOpenMenu(d));e=!0;break;case b.RIGHT_ARROW:b=this.focusMenu(1),d&&(d=angular.element(b).controller("mdMenu"),this.scheduleOpenMenu(d)),
e=!0}e&&(a&&a.preventDefault&&a.preventDefault(),a&&a.stopImmediatePropagation&&a.stopImmediatePropagation())};MenuBarController.prototype.focusMenu=function(a){var b=this.getMenus(),c=this.getFocusedMenuIndex();-1==c&&(c=this.getOpenMenuIndex());var d=!1;if(-1==c)c=0,d=!0;else if(0>a&&0<c||0<a&&c<b.length-a)c+=a,d=!0;if(d)return b[c].querySelector("button").focus(),b[c]};MenuBarController.prototype.openFocusedMenu=function(){var a=this.getFocusedMenu();a&&angular.element(a).controller("mdMenu").open()};
MenuBarController.prototype.getMenus=function(){var a=this.$element;return this.$mdUtil.nodesToArray(a[0].children).filter(function(a){return"MD-MENU"==a.nodeName})};MenuBarController.prototype.getFocusedMenu=function(){return this.getMenus()[this.getFocusedMenuIndex()]};MenuBarController.prototype.getFocusedMenuIndex=function(){var a=this.$mdUtil;a=a.getClosest(this.$document[0].activeElement,"MD-MENU");return a?a=this.getMenus().indexOf(a):-1};
MenuBarController.prototype.getOpenMenuIndex=function(){for(var a=this.getMenus(),b=0;b<a.length;++b)if(a[b].classList.contains("md-open"))return b;return-1};MenuBarController.prototype.handleParentClick=function(a){var b=this.querySelector("md-menu.md-open");b&&!b.contains(a.target)&&angular.element(b).controller("mdMenu").close(!0,{closeAll:!0})};MenuBarDirective.$inject=["$mdUtil","$mdTheming"];angular.module("material.components.menuBar").directive("mdMenuBar",MenuBarDirective);
function MenuBarDirective(a,b){return{restrict:"E",require:"mdMenuBar",controller:"MenuBarController",compile:function(c,d){d.ariaRole||c[0].setAttribute("role","menubar");angular.forEach(c[0].children,function(b){"MD-MENU"==b.nodeName&&(b.hasAttribute("md-position-mode")||(b.setAttribute("md-position-mode","left bottom"),b.querySelector("button, a, md-button").setAttribute("role","menuitem")),b=a.nodesToArray(b.querySelectorAll("md-menu-content")),angular.forEach(b,function(a){a.classList.add("md-menu-bar-menu");
a.classList.add("md-dense");a.hasAttribute("width")||a.setAttribute("width",5)}))});c.find("md-menu-item").addClass("md-in-menu-bar");return function(a,c,d,k){c.addClass("_md");b(a,c);k.init()}}}}angular.module("material.components.menuBar").directive("mdMenuDivider",MenuDividerDirective);function MenuDividerDirective(){return{restrict:"E",compile:function(a,b){b.role||a[0].setAttribute("role","separator")}}}MenuItemController.$inject=["$scope","$element","$attrs"];
angular.module("material.components.menuBar").controller("MenuItemController",MenuItemController);function MenuItemController(a,b,c){this.$element=b;this.$attrs=c;this.$scope=a}MenuItemController.prototype.init=function(a){var b=this.$element,c=this.$attrs;this.ngModel=a;if("checkbox"==c.type||"radio"==c.type)this.mode=c.type,this.iconEl=b[0].children[0],this.buttonEl=b[0].children[1],a&&this.initClickListeners()};
MenuItemController.prototype.clearNgAria=function(){var a=this.$element[0],b=["role","tabindex","aria-invalid","aria-checked"];angular.forEach(b,function(b){a.removeAttribute(b)})};
MenuItemController.prototype.initClickListeners=function(){function a(a){if(a)k.off("click",h);else k.on("click",h)}var b=this,c=this.ngModel,d=this.$scope,e=this.$attrs,f=this.mode;this.handleClick=angular.bind(this,this.handleClick);var g=this.iconEl,k=angular.element(this.buttonEl),h=this.handleClick;e.$observe("disabled",a);a(e.disabled);c.$render=function(){b.clearNgAria();if("radio"==f){var a=e.ngValue?d.$eval(e.ngValue):e.value;a=c.$modelValue==a}else a=c.$modelValue;a?(g.style.display="",
k.attr("aria-checked","true")):(g.style.display="none",k.attr("aria-checked","false"))};d.$$postDigest(c.$render)};MenuItemController.prototype.handleClick=function(){var a=this.mode,b=this.ngModel,c=this.$attrs,d;"checkbox"==a?d=!b.$modelValue:"radio"==a&&(d=c.ngValue?this.$scope.$eval(c.ngValue):c.value);b.$setViewValue(d);b.$render()};MenuItemDirective.$inject=["$mdUtil","$mdConstant","$$mdSvgRegistry"];angular.module("material.components.menuBar").directive("mdMenuItem",MenuItemDirective);
function MenuItemDirective(a,b,c){return{controller:"MenuItemController",require:["mdMenuItem","?ngModel"],priority:b.BEFORE_NG_ARIA,compile:function(b,e){function d(a,c,d){d=d||b;d instanceof angular.element&&(d=d[0]);d.hasAttribute(a)||d.setAttribute(a,c)}function g(c){c=a.prefixer(c);angular.forEach(c,function(a){if(b[0].hasAttribute(a)){var c=b[0].getAttribute(a);h[0].setAttribute(a,c);b[0].removeAttribute(a)}})}e=e.type;if("checkbox"!=e&&"radio"!=e||!b.hasClass("md-in-menu-bar"))d("role","menuitem",
b[0].querySelector("md-button, button, a"));else{var k=b[0].textContent,h=angular.element('<md-button type="button"></md-button>'),m='<md-icon md-svg-src="'+c.mdChecked+'"></md-icon>';h.html(k);h.attr("tabindex","0");b.html("");b.append(angular.element(m));b.append(h);b.addClass("md-indent").removeClass("md-in-menu-bar");d("role","checkbox"==e?"menuitemcheckbox":"menuitemradio",h);g("ng-disabled")}return function(a,b,c,d){a=d[0];d=d[1];a.init(d)}}}}ngmaterial.components.menuBar=angular.module("material.components.menuBar");MdNavBarController.$inject=["$element","$scope","$timeout","$mdConstant"];MdNavItem.$inject=["$mdAria","$$rAF","$mdUtil","$window"];MdNavItemController.$inject=["$element"];MdNavBar.$inject=["$mdAria","$mdTheming"];angular.module("material.components.navBar",["material.core"]).controller("MdNavBarController",MdNavBarController).directive("mdNavBar",MdNavBar).controller("MdNavItemController",MdNavItemController).directive("mdNavItem",MdNavItem);
function MdNavBar(a,b){return{restrict:"E",transclude:!0,controller:MdNavBarController,controllerAs:"ctrl",bindToController:!0,scope:{mdSelectedNavItem:"=?",mdNoInkBar:"=?",navBarAriaLabel:"@?"},template:'<div class="md-nav-bar"><nav role="navigation"><ul class="_md-nav-bar-list" ng-transclude role="listbox" tabindex="0" ng-focus="ctrl.onFocus()" ng-keydown="ctrl.onKeydown($event)" aria-label="{{ctrl.navBarAriaLabel}}"></ul></nav><md-nav-ink-bar ng-hide="ctrl.mdNoInkBar"></md-nav-ink-bar></div>',
link:function(c,d,e,f){b(d);f.navBarAriaLabel||a.expectAsync(d,"aria-label",angular.noop)}}}function MdNavBarController(a,b,c,d){this._$timeout=c;this._$scope=b;this._$mdConstant=d;this._navBarEl=a[0];var e=this,f=this._$scope.$watch(function(){return e._navBarEl.querySelectorAll("._md-nav-button").length},function(a){0<a&&(e._initTabs(),f())})}
MdNavBarController.prototype._initTabs=function(){this._inkbar=angular.element(this._navBarEl.querySelector("md-nav-ink-bar"));var a=this;this._$timeout(function(){a._updateTabs(a.mdSelectedNavItem,void 0)});this._$scope.$watch("ctrl.mdSelectedNavItem",function(b,c){a._$timeout(function(){a._updateTabs(b,c)})})};
MdNavBarController.prototype._updateTabs=function(a,b){var c=this,d=this._getTabs();if(d){var e=-1,f=-1,g=this._getTabByName(a);if(a=this._getTabByName(b))a.setSelected(!1),e=d.indexOf(a);g&&(g.setSelected(!0),f=d.indexOf(g));this._$timeout(function(){c._updateInkBarStyles(g,f,e)})}};
MdNavBarController.prototype._updateInkBarStyles=function(a,b,c){this._inkbar.toggleClass("_md-left",b<c).toggleClass("_md-right",b>c);this._inkbar.css({display:0>b?"none":""});a&&(a=a.getButtonEl(),b=a.offsetLeft,this._inkbar.css({left:b+"px",width:a.offsetWidth+"px"}))};MdNavBarController.prototype._getTabs=function(){var a=Array.prototype.slice.call(this._navBarEl.querySelectorAll(".md-nav-item")).map(function(a){return angular.element(a).controller("mdNavItem")});return a.indexOf(void 0)?a:null};
MdNavBarController.prototype._getTabByName=function(a){return this._findTab(function(b){return b.getName()==a})};MdNavBarController.prototype._getSelectedTab=function(){return this._findTab(function(a){return a.isSelected()})};MdNavBarController.prototype.getFocusedTab=function(){return this._findTab(function(a){return a.hasFocus()})};MdNavBarController.prototype._findTab=function(a){for(var b=this._getTabs(),c=0;c<b.length;c++)if(a(b[c]))return b[c];return null};
MdNavBarController.prototype.onFocus=function(){var a=this._getSelectedTab();a&&a.setFocused(!0)};MdNavBarController.prototype._moveFocus=function(a,b){a.setFocused(!1);b.setFocused(!0)};
MdNavBarController.prototype.onKeydown=function(a){var b=this._$mdConstant.KEY_CODE,c=this._getTabs(),d=this.getFocusedTab();if(d){var e=c.indexOf(d);switch(a.keyCode){case b.UP_ARROW:case b.LEFT_ARROW:0<e&&this._moveFocus(d,c[e-1]);break;case b.DOWN_ARROW:case b.RIGHT_ARROW:e<c.length-1&&this._moveFocus(d,c[e+1]);break;case b.SPACE:case b.ENTER:this._$timeout(function(){d.getButtonEl().click()})}}};
function MdNavItem(a,b,c,d){return{restrict:"E",require:["mdNavItem","^mdNavBar"],controller:MdNavItemController,bindToController:!0,controllerAs:"ctrl",replace:!0,transclude:!0,template:function(a,b){a=b.mdNavClick;var c=b.mdNavHref,d=b.mdNavSref;b=b.srefOpts;var e,f;if(1<(a?1:0)+(c?1:0)+(d?1:0))throw Error("Must not specify more than one of the md-nav-click, md-nav-href, or md-nav-sref attributes per nav-item directive.");a?e='ng-click="ctrl.mdNavClick()"':c?e='ng-href="{{ctrl.mdNavHref}}"':d&&
(e='ui-sref="{{ctrl.mdNavSref}}"');b=b?'ui-sref-opts="{{ctrl.srefOpts}}" ':"";e&&(f='<md-button class="_md-nav-button md-accent" ng-class="ctrl.getNgClassMap()" ng-blur="ctrl.setFocused(false)" ng-disabled="ctrl.disabled" tabindex="-1" '+b+e+'><span ng-transclude class="_md-nav-button-text"></span></md-button>');return'<li class="md-nav-item" role="option" aria-selected="{{ctrl.isSelected()}}">'+(f||"")+"</li>"},scope:{mdNavClick:"&?",mdNavHref:"@?",mdNavSref:"@?",srefOpts:"=?",name:"@"},link:function(e,
f,g,k){var h;b(function(){var b=k[0],r=k[1],l=angular.element(f[0].querySelector("._md-nav-button"));b.name||(b.name=angular.element(f[0].querySelector("._md-nav-button-text")).text().trim());l.on("click",function(){r.mdSelectedNavItem=b.name;e.$apply()});b.disabled=c.parseAttributeBoolean(g.disabled,!1);if("MutationObserver"in d){l={attributes:!0,attributeFilter:["disabled"]};var p=f[0],n=function(a){c.nextTick(function(){b.disabled=c.parseAttributeBoolean(g[a[0].attributeName],!1)})};n=new MutationObserver(n);
n.observe(p,l);h=n.disconnect.bind(n)}else g.$observe("disabled",function(a){b.disabled=c.parseAttributeBoolean(a,!1)});a.expectWithText(f,"aria-label")});e.$on("destroy",function(){h()})}}}function MdNavItemController(a){this._$element=a;this._focused=this._selected=!1}MdNavItemController.prototype.getNgClassMap=function(){return{"md-active":this._selected,"md-primary":this._selected,"md-unselected":!this._selected,"md-focused":this._focused}};MdNavItemController.prototype.getName=function(){return this.name};
MdNavItemController.prototype.getButtonEl=function(){return this._$element[0].querySelector("._md-nav-button")};MdNavItemController.prototype.setSelected=function(a){this._selected=a};MdNavItemController.prototype.isSelected=function(){return this._selected};MdNavItemController.prototype.setFocused=function(a){(this._focused=a)&&this.getButtonEl().focus()};MdNavItemController.prototype.hasFocus=function(){return this._focused};ngmaterial.components.navBar=angular.module("material.components.navBar");MdPanelService.$inject=["presets","$rootElement","$rootScope","$injector","$window"];angular.module("material.components.panel",["material.core","material.components.backdrop"]).provider("$mdPanel",MdPanelProvider);var FOCUS_TRAP_TEMPLATE=angular.element('<div class="_md-panel-focus-trap" tabindex="0"></div>'),_presets={};function MdPanelProvider(){return{definePreset:definePreset,getAllPresets:getAllPresets,clearPresets:clearPresets,$get:$getProvider()}}
function definePreset(a,b){if(!a||!b)throw Error("mdPanelProvider: The panel preset definition is malformed. The name and preset object are required.");if(_presets.hasOwnProperty(a))throw Error("mdPanelProvider: The panel preset you have requested has already been defined.");delete b.id;delete b.position;delete b.animation;_presets[a]=b}function getAllPresets(){return angular.copy(_presets)}function clearPresets(){_presets={}}
function $getProvider(){return["$rootElement","$rootScope","$injector","$window",function(a,b,c,d){return new MdPanelService(_presets,a,b,c,d)}]}
function MdPanelService(a,b,c,d,e){this._defaultConfigOptions={bindToController:!0,clickOutsideToClose:!1,disableParentScroll:!1,escapeToClose:!1,focusOnOpen:!0,fullscreen:!1,hasBackdrop:!1,propagateContainerEvents:!1,transformTemplate:angular.bind(this,this._wrapTemplate),trapFocus:!1,zIndex:80};this._config={};this._presets=a;this._$rootElement=b;this._$rootScope=c;this._$injector=d;this._$window=e;this._$mdUtil=this._$injector.get("$mdUtil");this._trackedPanels={};this._groups=Object.create(null);
this.animation=MdPanelAnimation.animation;this.xPosition=MdPanelPosition.xPosition;this.yPosition=MdPanelPosition.yPosition;this.interceptorTypes=MdPanelRef.interceptorTypes;this.closeReasons=MdPanelRef.closeReasons;this.absPosition=MdPanelPosition.absPosition}
MdPanelService.prototype.create=function(a,b){"string"===typeof a?a=this._getPresetByName(a):"object"!==typeof a||!angular.isUndefined(b)&&b||(b=a,a={});a=a||{};b=b||{};if(angular.isDefined(b.id)&&this._trackedPanels[b.id])return a=this._trackedPanels[b.id],angular.extend(a.config,b),a;this._config=angular.extend({id:b.id||"panel_"+this._$mdUtil.nextUid(),scope:this._$rootScope.$new(!0),attachTo:this._$rootElement},this._defaultConfigOptions,b,a);var c=new MdPanelRef(this._config,this._$injector);
this._trackedPanels[b.id]=c;this._config.groupName&&(angular.isString(this._config.groupName)&&(this._config.groupName=[this._config.groupName]),angular.forEach(this._config.groupName,function(a){c.addToGroup(a)}));this._config.scope.$on("$destroy",angular.bind(c,c.detach));return c};MdPanelService.prototype.open=function(a,b){var c=this.create(a,b);return c.open().then(function(){return c})};
MdPanelService.prototype._getPresetByName=function(a){if(!this._presets[a])throw Error("mdPanel: The panel preset configuration that you requested does not exist. Use the $mdPanelProvider to create a preset before requesting one.");return this._presets[a]};MdPanelService.prototype.newPanelPosition=function(){return new MdPanelPosition(this._$injector)};MdPanelService.prototype.newPanelAnimation=function(){return new MdPanelAnimation(this._$injector)};
MdPanelService.prototype.newPanelGroup=function(a,b){this._groups[a]||(b=b||{},b={panels:[],openPanels:[],maxOpen:0<b.maxOpen?b.maxOpen:Infinity},this._groups[a]=b);return this._groups[a]};MdPanelService.prototype.setGroupMaxOpen=function(a,b){if(this._groups[a])this._groups[a].maxOpen=b;else throw Error("mdPanel: Group does not exist yet. Call newPanelGroup().");};
MdPanelService.prototype._openCountExceedsMaxOpen=function(a){return this._groups[a]?(a=this._groups[a],0<a.maxOpen&&a.openPanels.length>a.maxOpen):!1};MdPanelService.prototype._closeFirstOpenedPanel=function(a){this._groups[a].openPanels[0].close()};MdPanelService.prototype._wrapTemplate=function(a){a=a||"";return'<div class="md-panel-outer-wrapper">  <div class="md-panel _md-panel-offscreen">'+a+"</div></div>"};
MdPanelService.prototype._wrapContentElement=function(a){var b=angular.element('<div class="md-panel-outer-wrapper">');a.addClass("md-panel _md-panel-offscreen");b.append(a);return b};
function MdPanelRef(a,b){this._$q=b.get("$q");this._$mdCompiler=b.get("$mdCompiler");this._$mdConstant=b.get("$mdConstant");this._$mdUtil=b.get("$mdUtil");this._$mdTheming=b.get("$mdTheming");this._$rootScope=b.get("$rootScope");this._$animate=b.get("$animate");this._$mdPanel=b.get("$mdPanel");this._$log=b.get("$log");this._$window=b.get("$window");this._$$rAF=b.get("$$rAF");this.id=a.id;this.config=a;this.isAttached=!1;this._removeListeners=[];this._restoreScroll=null;this._interceptors=Object.create(null);
this._compilerCleanup=null;this._restoreCache={styles:"",classes:""}}MdPanelRef.interceptorTypes={CLOSE:"onClose"};MdPanelRef.prototype.open=function(){var a=this;return this._$q(function(b,c){b=a._done(b,a);var d=a._simpleBind(a.show,a),e=function(){a.config.groupName&&angular.forEach(a.config.groupName,function(b){a._$mdPanel._openCountExceedsMaxOpen(b)&&a._$mdPanel._closeFirstOpenedPanel(b)})};a.attach().then(d).then(e).then(b)["catch"](c)})};
MdPanelRef.prototype.close=function(a){var b=this;return this._$q(function(c,d){b._callInterceptors(MdPanelRef.interceptorTypes.CLOSE).then(function(){var e=b._done(c,b),f=b._simpleBind(b.detach,b),g=b.config.onCloseSuccess||angular.noop;g=angular.bind(b,g,b,a);b.hide().then(f).then(e).then(g)["catch"](d)},d)})};
MdPanelRef.prototype.attach=function(){if(this.isAttached&&this.panelEl)return this._$q.when(this);var a=this;return this._$q(function(b,c){b=a._done(b,a);var d=a.config.onDomAdded||angular.noop,e=function(b){a.isAttached=!0;a._addEventListeners();return b};a._$q.all([a._createBackdrop(),a._createPanel().then(e)["catch"](c)]).then(d).then(b)["catch"](c)})};
MdPanelRef.prototype.detach=function(){if(!this.isAttached)return this._$q.when(this);var a=this,b=a.config.onDomRemoved||angular.noop,c=function(){a._removeEventListeners();a._topFocusTrap&&a._topFocusTrap.parentNode&&a._topFocusTrap.parentNode.removeChild(a._topFocusTrap);a._bottomFocusTrap&&a._bottomFocusTrap.parentNode&&a._bottomFocusTrap.parentNode.removeChild(a._bottomFocusTrap);a._restoreCache.classes&&(a.panelEl[0].className=a._restoreCache.classes);a.panelEl[0].style.cssText=a._restoreCache.styles||
"";a._compilerCleanup();a.panelContainer.remove();a.isAttached=!1;return a._$q.when(a)};this._restoreScroll&&(this._restoreScroll(),this._restoreScroll=null);return this._$q(function(d,e){d=a._done(d,a);a._$q.all([c(),a._backdropRef?a._backdropRef.detach():!0]).then(b).then(d)["catch"](e)})};
MdPanelRef.prototype.destroy=function(){var a=this;this.config.groupName&&angular.forEach(this.config.groupName,function(b){a.removeFromGroup(b)});this.config.scope.$destroy();this.config.locals=null;this.config.onDomAdded=null;this.config.onDomRemoved=null;this.config.onRemoving=null;this._interceptors=this.config.onOpenComplete=null};
MdPanelRef.prototype.show=function(){if(!this.panelContainer)return this._$q(function(a,b){b("mdPanel: Panel does not exist yet. Call open() or attach().")});if(!this.panelContainer.hasClass("_md-panel-hidden"))return this._$q.when(this);var a=this,b=function(){a.panelContainer.removeClass("_md-panel-hidden");return a._animateOpen()};return this._$q(function(c,d){c=a._done(c,a);var e=a.config.onOpenComplete||angular.noop,f=function(){a.config.groupName&&angular.forEach(a.config.groupName,function(b){a._$mdPanel._groups[b].openPanels.push(a)})};
a._$q.all([a._backdropRef?a._backdropRef.show():a,b().then(function(){a._focusOnOpen()},d)]).then(e).then(f).then(c)["catch"](d)})};
MdPanelRef.prototype.hide=function(){if(!this.panelContainer)return this._$q(function(a,c){c("mdPanel: Panel does not exist yet. Call open() or attach().")});if(this.panelContainer.hasClass("_md-panel-hidden"))return this._$q.when(this);var a=this;return this._$q(function(b,c){b=a._done(b,a);var d=a.config.onRemoving||angular.noop,e=function(){a.panelContainer.addClass("_md-panel-hidden")},f=function(){if(a.config.groupName){var b;angular.forEach(a.config.groupName,function(c){c=a._$mdPanel._groups[c];
b=c.openPanels.indexOf(a);-1<b&&c.openPanels.splice(b,1)})}},g=function(){var b=a.config.origin;b&&getElement(b).focus()};a._$q.all([a._backdropRef?a._backdropRef.hide():a,a._animateClose().then(d).then(e).then(f).then(g)["catch"](c)]).then(b,c)})};
MdPanelRef.prototype.addClass=function(a,b){this._$log.warn("mdPanel: The addClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef.");if(!this.panelContainer)throw Error("mdPanel: Panel does not exist yet. Call open() or attach().");b||this.panelContainer.hasClass(a)?b&&!this.panelEl.hasClass(a)&&this.panelEl.addClass(a):
this.panelContainer.addClass(a)};
MdPanelRef.prototype.removeClass=function(a,b){this._$log.warn("mdPanel: The removeClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef.");if(!this.panelContainer)throw Error("mdPanel: Panel does not exist yet. Call open() or attach().");!b&&this.panelContainer.hasClass(a)?this.panelContainer.removeClass(a):b&&this.panelEl.hasClass(a)&&
this.panelEl.removeClass(a)};MdPanelRef.prototype.toggleClass=function(a,b){this._$log.warn("mdPanel: The toggleClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef.");if(!this.panelContainer)throw Error("mdPanel: Panel does not exist yet. Call open() or attach().");b?this.panelEl.toggleClass(a):this.panelContainer.toggleClass(a)};
MdPanelRef.prototype._compile=function(){var a=this;return a._$mdCompiler.compile(a.config).then(function(b){var c=a.config;c.contentElement?(c=b.element,a._restoreCache.styles=c[0].style.cssText,a._restoreCache.classes=c[0].className,a.panelContainer=a._$mdPanel._wrapContentElement(c),a.panelEl=c):(a.panelContainer=b.link(c.scope),a.panelEl=angular.element(a.panelContainer[0].querySelector(".md-panel")));a._compilerCleanup=b.cleanup;getElement(a.config.attachTo).append(a.panelContainer);return a})};
MdPanelRef.prototype._createPanel=function(){var a=this;return this._$q(function(b,c){a.config.locals||(a.config.locals={});a.config.locals.mdPanelRef=a;a._compile().then(function(){a.config.disableParentScroll&&(a._restoreScroll=a._$mdUtil.disableScrollAround(null,a.panelContainer,{disableScrollMask:!0}));a.config.panelClass&&a.panelEl.addClass(a.config.panelClass);a.config.propagateContainerEvents&&(a.panelContainer.css("pointer-events","none"),a.panelEl.css("pointer-events","all"));a._$animate.pin&&
a._$animate.pin(a.panelContainer,getElement(a.config.attachTo));a._configureTrapFocus();a._addStyles().then(function(){b(a)},c)},c)})};
MdPanelRef.prototype._addStyles=function(){var a=this;return this._$q(function(b){a.panelContainer.css("z-index",a.config.zIndex);a.panelEl.css("z-index",a.config.zIndex+1);var c=function(){a._setTheming();a.panelEl.removeClass("_md-panel-offscreen");a.panelContainer.addClass("_md-panel-hidden");b(a)};if(a.config.fullscreen)a.panelEl.addClass("_md-panel-fullscreen"),c();else{var d=a.config.position;d?a._$rootScope.$$postDigest(function(){a._updatePosition(!0);a._setTheming();b(a)}):c()}})};
MdPanelRef.prototype._setTheming=function(){this._$mdTheming(this.panelEl);this._$mdTheming(this.panelContainer)};MdPanelRef.prototype.updatePosition=function(a){if(!this.panelContainer)throw Error("mdPanel: Panel does not exist yet. Call open() or attach().");this.config.position=a;this._updatePosition()};
MdPanelRef.prototype._updatePosition=function(a){var b=this.config.position;b&&(b._setPanelPosition(this.panelEl),a&&(this.panelEl.removeClass("_md-panel-offscreen"),this.panelContainer.addClass("_md-panel-hidden")),this.panelEl.css(MdPanelPosition.absPosition.TOP,b.getTop()),this.panelEl.css(MdPanelPosition.absPosition.BOTTOM,b.getBottom()),this.panelEl.css(MdPanelPosition.absPosition.LEFT,b.getLeft()),this.panelEl.css(MdPanelPosition.absPosition.RIGHT,b.getRight()))};
MdPanelRef.prototype._focusOnOpen=function(){if(this.config.focusOnOpen){var a=this;this._$rootScope.$$postDigest(function(){var b=a._$mdUtil.findFocusTarget(a.panelEl)||a.panelEl;b.focus()})}};
MdPanelRef.prototype._createBackdrop=function(){if(this.config.hasBackdrop){if(!this._backdropRef){var a=this._$mdPanel.newPanelAnimation().openFrom(this.config.attachTo).withAnimation({open:"_md-opaque-enter",close:"_md-opaque-leave"});this.config.animation&&a.duration(this.config.animation._rawDuration);a={animation:a,attachTo:this.config.attachTo,focusOnOpen:!1,panelClass:"_md-panel-backdrop",zIndex:this.config.zIndex-1};this._backdropRef=this._$mdPanel.create(a)}if(!this._backdropRef.isAttached)return this._backdropRef.attach()}};
MdPanelRef.prototype._addEventListeners=function(){this._configureEscapeToClose();this._configureClickOutsideToClose();this._configureScrollListener()};MdPanelRef.prototype._removeEventListeners=function(){this._removeListeners&&this._removeListeners.forEach(function(a){a()});this._removeListeners=[]};
MdPanelRef.prototype._configureEscapeToClose=function(){if(this.config.escapeToClose){var a=getElement(this.config.attachTo),b=this,c=function(a){a.keyCode===b._$mdConstant.KEY_CODE.ESCAPE&&(a.stopPropagation(),a.preventDefault(),b.close(MdPanelRef.closeReasons.ESCAPE))};this.panelContainer.on("keydown",c);a.on("keydown",c);this._removeListeners.push(function(){b.panelContainer.off("keydown",c);a.off("keydown",c)})}};
MdPanelRef.prototype._configureClickOutsideToClose=function(){if(this.config.clickOutsideToClose){var a=this.config.propagateContainerEvents?angular.element(document.body):this.panelContainer,b,c=function(a){b=a.target},d=this,e=function(c){d.config.propagateContainerEvents?b===d.panelEl[0]||d.panelEl[0].contains(b)||d.close():b===a[0]&&c.target===a[0]&&(c.stopPropagation(),c.preventDefault(),d.close(MdPanelRef.closeReasons.CLICK_OUTSIDE))};a.on("mousedown",c);a.on("mouseup",e);this._removeListeners.push(function(){a.off("mousedown",
c);a.off("mouseup",e)})}};MdPanelRef.prototype._configureScrollListener=function(){if(!this.config.disableParentScroll){var a=angular.bind(this,this._updatePosition),b=this._$$rAF.throttle(a),c=this,d=function(){b()};this._$window.addEventListener("scroll",d,!0);this._removeListeners.push(function(){c._$window.removeEventListener("scroll",d,!0)})}};
MdPanelRef.prototype._configureTrapFocus=function(){this.panelEl.attr("tabIndex","-1");if(this.config.trapFocus){var a=this.panelEl;this._topFocusTrap=FOCUS_TRAP_TEMPLATE.clone()[0];this._bottomFocusTrap=FOCUS_TRAP_TEMPLATE.clone()[0];var b=function(){a.focus()};this._topFocusTrap.addEventListener("focus",b);this._bottomFocusTrap.addEventListener("focus",b);this._removeListeners.push(this._simpleBind(function(){this._topFocusTrap.removeEventListener("focus",b);this._bottomFocusTrap.removeEventListener("focus",
b)},this));a[0].parentNode.insertBefore(this._topFocusTrap,a[0]);a.after(this._bottomFocusTrap)}};MdPanelRef.prototype.updateAnimation=function(a){this.config.animation=a;this._backdropRef&&this._backdropRef.config.animation.duration(a._rawDuration)};
MdPanelRef.prototype._animateOpen=function(){this.panelContainer.addClass("md-panel-is-showing");var a=this.config.animation;if(!a)return this.panelContainer.addClass("_md-panel-shown"),this._$q.when(this);var b=this;return this._$q(function(c){var d=b._done(c,b);c=function(){b._$log.warn("mdPanel: MdPanel Animations failed. Showing panel without animating.");d()};a.animateOpen(b.panelEl).then(d,c)})};
MdPanelRef.prototype._animateClose=function(){var a=this.config.animation;if(!a)return this.panelContainer.removeClass("md-panel-is-showing"),this.panelContainer.removeClass("_md-panel-shown"),this._$q.when(this);var b=this;return this._$q(function(c){var d=function(){b.panelContainer.removeClass("md-panel-is-showing");c(b)},e=function(){b._$log.warn("mdPanel: MdPanel Animations failed. Hiding panel without animating.");d()};a.animateClose(b.panelEl).then(d,e)})};
MdPanelRef.prototype.registerInterceptor=function(a,b){var c=null;angular.isString(a)?angular.isFunction(b)||(c="Interceptor callback must be a function, instead got "+typeof b):c="Interceptor type must be a string, instead got "+typeof a;if(c)throw Error("MdPanel: "+c);a=this._interceptors[a]=this._interceptors[a]||[];-1===a.indexOf(b)&&a.push(b);return this};
MdPanelRef.prototype.removeInterceptor=function(a,b){b=this._interceptors[a]?this._interceptors[a].indexOf(b):-1;-1<b&&this._interceptors[a].splice(b,1);return this};MdPanelRef.prototype.removeAllInterceptors=function(a){a?this._interceptors[a]=[]:this._interceptors=Object.create(null);return this};
MdPanelRef.prototype._callInterceptors=function(a){var b=this,c=b._$q;a=b._interceptors&&b._interceptors[a]||[];return a.reduceRight(function(a,e){var d=e&&angular.isFunction(e.then),g=d?e:null;return a.then(function(){if(!g)try{g=e(b)}catch(k){g=c.reject(k)}return g})},c.resolve(b))};MdPanelRef.prototype._simpleBind=function(a,b){return function(c){return a.apply(b,c)}};MdPanelRef.prototype._done=function(a,b){return function(){a(b)}};
MdPanelRef.prototype.addToGroup=function(a){this._$mdPanel._groups[a]||this._$mdPanel.newPanelGroup(a);a=this._$mdPanel._groups[a];var b=a.panels.indexOf(this);0>b&&a.panels.push(this)};MdPanelRef.prototype.removeFromGroup=function(a){if(!this._$mdPanel._groups[a])throw Error("mdPanel: The group "+a+" does not exist.");a=this._$mdPanel._groups[a];var b=a.panels.indexOf(this);-1<b&&a.panels.splice(b,1)};MdPanelRef.closeReasons={CLICK_OUTSIDE:"clickOutsideToClose",ESCAPE:"escapeToClose"};
function MdPanelPosition(a){this._$window=a.get("$window");this._isRTL="rtl"===a.get("$mdUtil").bidi();this._$mdConstant=a.get("$mdConstant");this._absolute=!1;this._right=this._left=this._bottom=this._top="";this._translateX=[];this._translateY=[];this._positions=[]}MdPanelPosition.xPosition={CENTER:"center",ALIGN_START:"align-start",ALIGN_END:"align-end",OFFSET_START:"offset-start",OFFSET_END:"offset-end"};
MdPanelPosition.yPosition={CENTER:"center",ALIGN_TOPS:"align-tops",ALIGN_BOTTOMS:"align-bottoms",ABOVE:"above",BELOW:"below"};MdPanelPosition.absPosition={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"};MdPanelPosition.viewportMargin=8;MdPanelPosition.prototype.absolute=function(){this._absolute=!0;return this};
MdPanelPosition.prototype._setPosition=function(a,b){if(a===MdPanelPosition.absPosition.RIGHT||a===MdPanelPosition.absPosition.LEFT)this._left=this._right="";else if(a===MdPanelPosition.absPosition.BOTTOM||a===MdPanelPosition.absPosition.TOP)this._top=this._bottom="";else throw a=Object.keys(MdPanelPosition.absPosition).join().toLowerCase(),Error("mdPanel: Position must be one of "+a+".");this["_"+a]=angular.isString(b)?b:"0";return this};
MdPanelPosition.prototype.top=function(a){return this._setPosition(MdPanelPosition.absPosition.TOP,a)};MdPanelPosition.prototype.bottom=function(a){return this._setPosition(MdPanelPosition.absPosition.BOTTOM,a)};MdPanelPosition.prototype.start=function(a){var b=this._isRTL?MdPanelPosition.absPosition.RIGHT:MdPanelPosition.absPosition.LEFT;return this._setPosition(b,a)};
MdPanelPosition.prototype.end=function(a){var b=this._isRTL?MdPanelPosition.absPosition.LEFT:MdPanelPosition.absPosition.RIGHT;return this._setPosition(b,a)};MdPanelPosition.prototype.left=function(a){return this._setPosition(MdPanelPosition.absPosition.LEFT,a)};MdPanelPosition.prototype.right=function(a){return this._setPosition(MdPanelPosition.absPosition.RIGHT,a)};MdPanelPosition.prototype.centerHorizontally=function(){this._left="50%";this._right="";this._translateX=["-50%"];return this};
MdPanelPosition.prototype.centerVertically=function(){this._top="50%";this._bottom="";this._translateY=["-50%"];return this};MdPanelPosition.prototype.center=function(){return this.centerHorizontally().centerVertically()};MdPanelPosition.prototype.relativeTo=function(a){this._absolute=!1;this._relativeToEl=getElement(a);return this};
MdPanelPosition.prototype.addPanelPosition=function(a,b){if(!this._relativeToEl)throw Error("mdPanel: addPanelPosition can only be used with relative positioning. Set relativeTo first.");this._validateXPosition(a);this._validateYPosition(b);this._positions.push({x:a,y:b});return this};
MdPanelPosition.prototype._validateYPosition=function(a){if(null!=a){for(var b=Object.keys(MdPanelPosition.yPosition),c=[],d,e=0;d=b[e];e++)if(d=MdPanelPosition.yPosition[d],c.push(d),d===a)return;throw Error("mdPanel: Panel y position only accepts the following values:\n"+c.join(" | "));}};
MdPanelPosition.prototype._validateXPosition=function(a){if(null!=a){for(var b=Object.keys(MdPanelPosition.xPosition),c=[],d,e=0;d=b[e];e++)if(d=MdPanelPosition.xPosition[d],c.push(d),d===a)return;throw Error("mdPanel: Panel x Position only accepts the following values:\n"+c.join(" | "));}};MdPanelPosition.prototype.withOffsetX=function(a){this._translateX.push(addUnits(a));return this};MdPanelPosition.prototype.withOffsetY=function(a){this._translateY.push(addUnits(a));return this};
MdPanelPosition.prototype.getTop=function(){return this._top};MdPanelPosition.prototype.getBottom=function(){return this._bottom};MdPanelPosition.prototype.getLeft=function(){return this._left};MdPanelPosition.prototype.getRight=function(){return this._right};MdPanelPosition.prototype.getTransform=function(){var a=this._reduceTranslateValues("translateX",this._translateX),b=this._reduceTranslateValues("translateY",this._translateY);return(a+" "+b).trim()};
MdPanelPosition.prototype._setTransform=function(a){return a.css(this._$mdConstant.CSS.TRANSFORM,this.getTransform())};
MdPanelPosition.prototype._isOnscreen=function(a){var b=parseInt(this.getLeft()),c=parseInt(this.getTop());if(this._translateX.length||this._translateY.length){var d=this._$mdConstant.CSS.TRANSFORM,e=getComputedStyle(a[0]||a)[d],f=e.indexOf("("),g=e.lastIndexOf(")");d={x:0,y:0};-1<f&&-1<g&&(e=e.substring(f+1,g).split(", ").slice(-2),d.x=parseInt(e[0]),d.y=parseInt(e[1]));b+=d.x;c+=d.y}d=b+a[0].offsetWidth;a=c+a[0].offsetHeight;return 0<=b&&0<=c&&a<=this._$window.innerHeight&&d<=this._$window.innerWidth};
MdPanelPosition.prototype.getActualPosition=function(){return this._actualPosition};MdPanelPosition.prototype._reduceTranslateValues=function(a,b){return b.map(function(b){b=angular.isFunction(b)?addUnits(b(this)):b;return a+"("+b+")"},this).join(" ")};
MdPanelPosition.prototype._setPanelPosition=function(a){a.removeClass("_md-panel-position-adjusted");if(this._absolute)this._setTransform(a);else{if(this._actualPosition)this._calculatePanelPosition(a,this._actualPosition),this._setTransform(a);else for(var b=0;b<this._positions.length;b++)if(this._actualPosition=this._positions[b],this._calculatePanelPosition(a,this._actualPosition),this._setTransform(a),this._isOnscreen(a))return;this._constrainToViewport(a)}};
MdPanelPosition.prototype._constrainToViewport=function(a){var b=MdPanelPosition.viewportMargin,c=this._top,d=this._left;if(this.getTop()){var e=parseInt(this.getTop()),f=a[0].offsetHeight+e,g=this._$window.innerHeight;e<b?this._top=b+"px":f>g&&(this._top=e-(f-g+b)+"px")}this.getLeft()&&(e=parseInt(this.getLeft()),f=a[0].offsetWidth+e,g=this._$window.innerWidth,e<b?this._left=b+"px":f>g&&(this._left=e-(f-g+b)+"px"));a.toggleClass("_md-panel-position-adjusted",this._top!==c||this._left!==d)};
MdPanelPosition.prototype._reverseXPosition=function(a){return a===MdPanelPosition.xPosition.CENTER?a:-1<a.indexOf("start")?a.replace("start","end"):a.replace("end","start")};MdPanelPosition.prototype._bidi=function(a){return this._isRTL?this._reverseXPosition(a):a};
MdPanelPosition.prototype._calculatePanelPosition=function(a,b){var c=a[0].getBoundingClientRect(),d=Math.max(c.width,a[0].clientWidth);a=Math.max(c.height,a[0].clientHeight);c=this._relativeToEl[0].getBoundingClientRect();var e=c.left,f=c.right,g=c.width;switch(this._bidi(b.x)){case MdPanelPosition.xPosition.OFFSET_START:this._left=e-d+"px";break;case MdPanelPosition.xPosition.ALIGN_END:this._left=f-d+"px";break;case MdPanelPosition.xPosition.CENTER:d=e+.5*g-.5*d;this._left=d+"px";break;case MdPanelPosition.xPosition.ALIGN_START:this._left=
e+"px";break;case MdPanelPosition.xPosition.OFFSET_END:this._left=f+"px"}d=c.top;e=c.bottom;c=c.height;switch(b.y){case MdPanelPosition.yPosition.ABOVE:this._top=d-a+"px";break;case MdPanelPosition.yPosition.ALIGN_BOTTOMS:this._top=e-a+"px";break;case MdPanelPosition.yPosition.CENTER:b=d+.5*c-.5*a;this._top=b+"px";break;case MdPanelPosition.yPosition.ALIGN_TOPS:this._top=d+"px";break;case MdPanelPosition.yPosition.BELOW:this._top=e+"px"}};
function MdPanelAnimation(a){this._$mdUtil=a.get("$mdUtil");this._animationClass=""}MdPanelAnimation.animation={SLIDE:"md-panel-animate-slide",SCALE:"md-panel-animate-scale",FADE:"md-panel-animate-fade"};MdPanelAnimation.prototype.openFrom=function(a){a=a.target?a.target:a;this._openFrom=this._getPanelAnimationTarget(a);this._closeTo||(this._closeTo=this._openFrom);return this};MdPanelAnimation.prototype.closeTo=function(a){this._closeTo=this._getPanelAnimationTarget(a);return this};
MdPanelAnimation.prototype.duration=function(a){function b(a){if(angular.isNumber(a))return a/1E3}a&&(angular.isNumber(a)?this._openDuration=this._closeDuration=b(a):angular.isObject(a)&&(this._openDuration=b(a.open),this._closeDuration=b(a.close)));this._rawDuration=a;return this};MdPanelAnimation.prototype._getPanelAnimationTarget=function(a){return angular.isDefined(a.top)||angular.isDefined(a.left)?{element:void 0,bounds:{top:a.top||0,left:a.left||0}}:this._getBoundingClientRect(getElement(a))};
MdPanelAnimation.prototype.withAnimation=function(a){this._animationClass=a;return this};
MdPanelAnimation.prototype.animateOpen=function(a){var b=this._$mdUtil.dom.animator;this._fixBounds(a);var c=a[0].style.transform||"",d=b.toTransformCss(c),e=b.toTransformCss(c);switch(this._animationClass){case MdPanelAnimation.animation.SLIDE:a.css("opacity","1");var f={transitionInClass:"_md-panel-animate-enter"};d=b.calculateSlideToOrigin(a,this._openFrom)||"";d=b.toTransformCss(d+" "+c);break;case MdPanelAnimation.animation.SCALE:f={transitionInClass:"_md-panel-animate-enter"};d=b.calculateZoomToOrigin(a,
this._openFrom)||"";d=b.toTransformCss(d+" "+c);break;case MdPanelAnimation.animation.FADE:f={transitionInClass:"_md-panel-animate-enter"};break;default:f=angular.isString(this._animationClass)?{transitionInClass:this._animationClass}:{transitionInClass:this._animationClass.open,transitionOutClass:this._animationClass.close}}f.duration=this._openDuration;return b.translate3d(a,d,e,f)};
MdPanelAnimation.prototype.animateClose=function(a){var b=this._$mdUtil.dom.animator,c=a[0].style.transform||"",d=b.toTransformCss(c),e=b.toTransformCss(c);switch(this._animationClass){case MdPanelAnimation.animation.SLIDE:a.css("opacity","1");var f={transitionInClass:"_md-panel-animate-leave"};e=b.calculateSlideToOrigin(a,this._closeTo)||"";e=b.toTransformCss(e+" "+c);break;case MdPanelAnimation.animation.SCALE:f={transitionInClass:"_md-panel-animate-scale-out _md-panel-animate-leave"};e=b.calculateZoomToOrigin(a,
this._closeTo)||"";e=b.toTransformCss(e+" "+c);break;case MdPanelAnimation.animation.FADE:f={transitionInClass:"_md-panel-animate-fade-out _md-panel-animate-leave"};break;default:f=angular.isString(this._animationClass)?{transitionOutClass:this._animationClass}:{transitionInClass:this._animationClass.close,transitionOutClass:this._animationClass.open}}f.duration=this._closeDuration;return b.translate3d(a,d,e,f)};
MdPanelAnimation.prototype._fixBounds=function(a){var b=a[0].offsetWidth;a=a[0].offsetHeight;this._openFrom&&null==this._openFrom.bounds.height&&(this._openFrom.bounds.height=a);this._openFrom&&null==this._openFrom.bounds.width&&(this._openFrom.bounds.width=b);this._closeTo&&null==this._closeTo.bounds.height&&(this._closeTo.bounds.height=a);this._closeTo&&null==this._closeTo.bounds.width&&(this._closeTo.bounds.width=b)};
MdPanelAnimation.prototype._getBoundingClientRect=function(a){if(a instanceof angular.element)return{element:a,bounds:a[0].getBoundingClientRect()}};function getElement(a){a=angular.isString(a)?document.querySelector(a):a;return angular.element(a)}function addUnits(a){return angular.isNumber(a)?a+"px":a}ngmaterial.components.panel=angular.module("material.components.panel");angular.module("material.components.progressCircular",["material.core"]);MdProgressCircularDirective.$inject="$window $mdProgressCircular $mdTheming $mdUtil $interval $log".split(" ");angular.module("material.components.progressCircular").directive("mdProgressCircular",MdProgressCircularDirective);
function MdProgressCircularDirective(a,b,c,d,e){function f(f,p,n){function l(c,e,g,k,l,q){function n(b){z.attr("stroke-dashoffset",(v-w)*a.Math.PI*(3*(C||100)/100-b/100));z.attr("transform","rotate("+G+" "+v/2+" "+v/2+")")}var p=++H,x=d.now(),r=e-c,v=h(f.mdDiameter),w=b.strokeWidth/100*v,u=g||b.easeFn,B=k||b.duration,G=-90*(l||0),C=q||100;e===c?n(e):F=m(function P(){var b=a.Math.max(0,a.Math.min(d.now()-x,B));n(u(b,c,r,B));p===H&&b<B&&(F=m(P))})}function u(){l(D,A,b.easeFnIndeterminate,b.durationIndeterminate,
E,75);E=++E%4}function w(){G||(G=e(u,b.durationIndeterminate,0,!1),u(),p.addClass("md-mode-indeterminate").removeAttr("aria-valuenow"))}function q(){G&&(e.cancel(G),G=null,p.removeClass("md-mode-indeterminate"))}var x=p[0],B=angular.element(x.querySelector("svg")),z=angular.element(x.querySelector("path")),D=b.startIndeterminate,A=b.endIndeterminate,E=0,H=0,F,G;c(p);p.toggleClass("_md-progress-circular-disabled",n.hasOwnProperty("disabled"));"indeterminate"===f.mdMode&&w();f.$on("$destroy",function(){q();
F&&r(F)});f.$watchGroup(["value","mdMode",function(){var a=x.disabled;return!0===a||!1===a?a:angular.isDefined(p.attr("disabled"))}],function(a,b){var c=a[1],d=a[2],e=b[2];d!==e&&p.toggleClass("_md-progress-circular-disabled",!!d);d?q():("determinate"!==c&&"indeterminate"!==c&&(c="indeterminate",n.$set("mdMode",c)),"indeterminate"===c?w():(a=k(a[0]),q(),p.attr("aria-valuenow",a),l(k(b[0]),a)))});f.$watch("mdDiameter",function(c){c=h(c);var d=b.strokeWidth/100*c,e=k(f.value),q=c/2+"px",n={width:c+
"px",height:c+"px"};B[0].setAttribute("viewBox","0 0 "+c+" "+c);B.css(n).css("transform-origin",q+" "+q+" "+q);p.css(n);z.attr("stroke-width",d);z.attr("stroke-linecap","square");"indeterminate"==f.mdMode?(z.attr("d",g(c,d,!0)),z.attr("stroke-dasharray",(c-d)*a.Math.PI*.75),z.attr("stroke-dashoffset",(c-d)*a.Math.PI*2.24)):(z.attr("d",g(c,d,!1)),z.attr("stroke-dasharray",(c-d)*a.Math.PI),z.attr("stroke-dashoffset",(c-d)*a.Math.PI*3),l(e,e))})}function g(a,b,c){a/=2;var d=b/2;b=a+","+d;var e=d+","+
a;a-=d;return"M"+b+"A"+a+","+a+" 0 1 1 "+e+(c?"":"A"+a+","+a+" 0 0 1 "+b)}function k(b){return a.Math.max(0,a.Math.min(b||0,100))}function h(a){var c=b.progressSize;if(a){var d=parseFloat(a);a.lastIndexOf("%")===a.length-1&&(d=d/100*c);return d}return c}var m=a.requestAnimationFrame||a.webkitRequestAnimationFrame||angular.noop,r=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame||angular.noop;return{restrict:"E",scope:{value:"@",mdDiameter:"@",mdMode:"@"},template:'<svg xmlns="http://www.w3.org/2000/svg"><path fill="none"/></svg>',
compile:function(a,b){a.attr({"aria-valuemin":0,"aria-valuemax":100,role:"progressbar"});angular.isUndefined(b.mdMode)?(a=b.hasOwnProperty("value")?"determinate":"indeterminate",b.$set("mdMode",a)):b.$set("mdMode",b.mdMode.trim());return f}}}angular.module("material.components.progressCircular").provider("$mdProgressCircular",MdProgressCircularProvider);
function MdProgressCircularProvider(){function a(a,b,c,g){return c*a/g+b}function b(a,b,c,g){g=(a/=g)*a;a*=g;return b+c*(6*a*g+-15*g*g+10*a)}var c={progressSize:50,strokeWidth:10,duration:100,easeFn:a,durationIndeterminate:1333,startIndeterminate:1,endIndeterminate:149,easeFnIndeterminate:b,easingPresets:{linearEase:a,materialEase:b}};return{configure:function(a){return c=angular.extend(c,a||{})},$get:function(){return c}}}ngmaterial.components.progressCircular=angular.module("material.components.progressCircular");MdProgressLinearDirective.$inject=["$mdTheming","$mdUtil","$log"];angular.module("material.components.progressLinear",["material.core"]).directive("mdProgressLinear",MdProgressLinearDirective);
function MdProgressLinearDirective(a,b){function c(a){a.attr("aria-valuemin",0);a.attr("aria-valuemax",100);a.attr("role","progressbar");return d}function d(c,d,g){function e(){g.$observe("value",function(a){a=Math.max(0,Math.min(a||0,100));d.attr("aria-valuenow",a);"query"!=m()&&r(u,a)});g.$observe("mdBufferValue",function(a){r(v,Math.max(0,Math.min(a||0,100)))});g.$observe("disabled",function(a){p=!0===a||!1===a?!!a:angular.isDefined(a);d.toggleClass("_md-progress-linear-disabled",p);w.toggleClass(l,
!p)});g.$observe("mdMode",function(a){l&&w.removeClass(l);switch(a){case "query":case "buffer":case "determinate":case "indeterminate":w.addClass(l="md-mode-"+a);break;default:w.addClass(l="md-mode-indeterminate")}})}function f(){if(angular.isUndefined(g.mdMode)){var a=angular.isDefined(g.value);a=a?"determinate":"indeterminate";d.attr("md-mode",a);g.mdMode=a}}function m(){var a=(g.mdMode||"").trim();if(a)switch(a){case "determinate":case "indeterminate":case "buffer":case "query":break;default:a=
"indeterminate"}return a}function r(a,c){!p&&m()&&(c=b.supplant("translateX({0}%) scale({1},1)",[(c-100)/2,c/100]),c=n({transform:c}),angular.element(a).css(c))}a(d);var l,p=g.hasOwnProperty("disabled"),n=b.dom.animator.toCss,v=angular.element(d[0].querySelector(".md-bar1")),u=angular.element(d[0].querySelector(".md-bar2")),w=angular.element(d[0].querySelector(".md-container"));d.attr("md-mode",m()).toggleClass("_md-progress-linear-disabled",p);f();e()}return{restrict:"E",template:'<div class="md-container"><div class="md-dashed"></div><div class="md-bar md-bar1"></div><div class="md-bar md-bar2"></div></div>',
compile:c}}ngmaterial.components.progressLinear=angular.module("material.components.progressLinear");mdRadioGroupDirective.$inject=["$mdUtil","$mdConstant","$mdTheming","$timeout"];mdRadioButtonDirective.$inject=["$mdAria","$mdUtil","$mdTheming"];angular.module("material.components.radioButton",["material.core"]).directive("mdRadioGroup",mdRadioGroupDirective).directive("mdRadioButton",mdRadioButtonDirective);
function mdRadioGroupDirective(a,b,c,d){function e(e,f,g,k){function h(){f.hasClass("md-focused")||f.addClass("md-focused")}function l(c){var d=c.which||c.keyCode;if(d==b.KEY_CODE.ENTER||c.currentTarget==c.target)switch(d){case b.KEY_CODE.LEFT_ARROW:case b.KEY_CODE.UP_ARROW:c.preventDefault();m.selectPrevious();h();break;case b.KEY_CODE.RIGHT_ARROW:case b.KEY_CODE.DOWN_ARROW:c.preventDefault();m.selectNext();h();break;case b.KEY_CODE.ENTER:c=angular.element(a.getClosest(f[0],"form")),0<c.length&&
c.triggerHandler("submit")}}f.addClass("_md");c(f);var m=k[0];g=k[1]||a.fakeNgModel();m.init(g);e.mouseActive=!1;f.attr({role:"radiogroup",tabIndex:f.attr("tabindex")||"0"}).on("keydown",l).on("mousedown",function(){e.mouseActive=!0;d(function(){e.mouseActive=!1},100)}).on("focus",function(){!1===e.mouseActive&&m.$element.addClass("md-focused")}).on("blur",function(){m.$element.removeClass("md-focused")})}function f(a){this._radioButtonRenderFns=[];this.$element=a}function g(){return{init:function(a){this._ngModelCtrl=
a;this._ngModelCtrl.$render=angular.bind(this,this.render)},add:function(a){this._radioButtonRenderFns.push(a)},remove:function(a){a=this._radioButtonRenderFns.indexOf(a);-1!==a&&this._radioButtonRenderFns.splice(a,1)},render:function(){this._radioButtonRenderFns.forEach(function(a){a()})},setViewValue:function(a,b){this._ngModelCtrl.$setViewValue(a,b);this.render()},getViewValue:function(){return this._ngModelCtrl.$viewValue},selectNext:function(){return k(this.$element,1)},selectPrevious:function(){return k(this.$element,
-1)},setActiveDescendant:function(a){this.$element.attr("aria-activedescendant",a)},isDisabled:function(){return this.$element[0].hasAttribute("disabled")}}}function k(b,c){var d=a.iterator(b[0].querySelectorAll("md-radio-button"),!0);if(d.count()){var e=function(a){return!angular.element(a).attr("disabled")};b=b[0].querySelector("md-radio-button.md-checked");c=d[0>c?"previous":"next"](b,e)||d.first();angular.element(c).triggerHandler("click")}}f.prototype=g();return{restrict:"E",controller:["$element",
f],require:["mdRadioGroup","?ngModel"],link:{pre:e}}}
function mdRadioButtonDirective(a,b,c){function d(d,f,g,k){function e(){if(!k)throw"RadioButton: No RadioGroupController could be found.";k.add(r);g.$observe("value",r);f.on("click",m).on("$destroy",function(){k.remove(r)})}function m(a){f[0].hasAttribute("disabled")||k.isDisabled()||d.$apply(function(){k.setViewValue(g.value,a&&a.type)})}function r(){var a=k.getViewValue()==g.value;a!==p&&("md-radio-group"!==f[0].parentNode.nodeName.toLowerCase()&&f.parent().toggleClass("md-checked",a),a&&k.setActiveDescendant(f.attr("id")),
p=a,f.attr("aria-checked",a).toggleClass("md-checked",a))}function l(c){c.attr({id:g.id||"radio_"+b.nextUid(),role:"radio","aria-checked":"false"});a.expectWithText(c,"aria-label")}var p;c(f);l(f,d);g.ngValue?b.nextTick(e,!1):e()}return{restrict:"E",require:"^mdRadioGroup",transclude:!0,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-off"></div><div class="md-on"></div></div><div ng-transclude class="md-label"></div>',link:d}}
ngmaterial.components.radioButton=angular.module("material.components.radioButton");SelectDirective.$inject="$mdSelect $mdUtil $mdConstant $mdTheming $mdAria $parse $sce $injector".split(" ");SelectMenuDirective.$inject=["$parse","$mdUtil","$mdConstant","$mdTheming"];OptionDirective.$inject=["$mdButtonInkRipple","$mdUtil","$mdTheming"];SelectProvider.$inject=["$$interimElementProvider"];var selectNextId=0,CHECKBOX_SELECTION_INDICATOR=angular.element('<div class="md-container"><div class="md-icon"></div></div>');
angular.module("material.components.select",["material.core","material.components.backdrop"]).directive("mdSelect",SelectDirective).directive("mdSelectMenu",SelectMenuDirective).directive("mdOption",OptionDirective).directive("mdOptgroup",OptgroupDirective).directive("mdSelectHeader",SelectHeaderDirective).provider("$mdSelect",SelectProvider);
function SelectDirective(a,b,c,d,e,f,g){function k(k,m){var h=angular.element("<md-select-value><span></span></md-select-value>");h.append('<span class="md-select-icon" aria-hidden="true"></span>');h.addClass("md-select-value");h[0].hasAttribute("id")||h.attr("id","select_value_label_"+b.nextUid());var l=k.find("md-content");l.length||k.append(angular.element("<md-content>").append(k.contents()));l.attr("role","presentation");m.mdOnOpen&&(k.find("md-content").prepend(angular.element('<div> <md-progress-circular md-mode="indeterminate" ng-if="$$loadingAsyncDone === false" md-diameter="25px"></md-progress-circular></div>')),
k.find("md-option").attr("ng-show","$$loadingAsyncDone"));if(m.name){var p=angular.element('<select class="md-visually-hidden"></select>');p.attr({name:m.name,"aria-hidden":"true",tabindex:"-1"});l=k.find("md-option");angular.forEach(l,function(a){var b=angular.element("<option>"+a.innerHTML+"</option>");a.hasAttribute("ng-value")?b.attr("ng-value",a.getAttribute("ng-value")):a.hasAttribute("value")&&b.attr("value",a.getAttribute("value"));p.append(b)});p.append('<option ng-value="'+m.ngModel+'" selected></option>');
k.parent().append(p)}var n=b.parseAttributeBoolean(m.multiple);l=n?"multiple":"";var v='<div class="md-select-menu-container" aria-hidden="true" role="presentation"><md-select-menu role="presentation" {0}>{1}</md-select-menu></div>';v=b.supplant(v,[l,k.html()]);k.empty().append(h);k.append(v);m.tabindex||m.$set("tabindex",0);return function(k,h,l,p){function q(){R&&(O=O||R.find("md-select-menu").controller("mdSelectMenu"),L.setLabelText(O.selectedLabels()))}function m(){if(J){var a=O.selectedLabels({mode:"aria"});
h.attr("aria-label",a.length?J+": "+a:J)}}function x(){C&&C.setHasValue(0<O.selectedLabels().length||(h[0].validity||{}).badInput)}function r(){R=angular.element(h[0].querySelector(".md-select-menu-container"));aa=k;if(l.mdContainerClass){var a=R[0].getAttribute("class")+" "+l.mdContainerClass;R[0].setAttribute("class",a)}O=R.find("md-select-menu").controller("mdSelectMenu");O.init(K,l.ngModel);h.on("$destroy",function(){R.remove()})}function v(a){c.isNavigationKey(a)?(a.preventDefault(),u(a)):shouldHandleKey(a,
c)&&(a.preventDefault(),(a=O.optNodeForKeyboardSearch(a))&&!a.hasAttribute("disabled")&&(a=angular.element(a).controller("mdOption"),O.isMultiple||O.deselect(Object.keys(O.selected)[0]),O.select(a.hashKey,a.value),O.refreshViewValue()))}function u(){aa._mdSelectIsOpen=!0;h.attr("aria-expanded","true");a.show({scope:aa,preserveScope:!0,skipCompile:!0,element:R,target:h[0],selectCtrl:L,preserveElement:!0,hasBackdrop:!0,loadingAsync:l.mdOnOpen?k.$eval(l.mdOnOpen)||!0:!1})["finally"](function(){aa._mdSelectIsOpen=
!1;h.focus();h.attr("aria-expanded","false");K.$setTouched()})}var w=!0,G,J,C=p[0],L=p[1],K=p[2],M=p[3],S=h.find("md-select-value");p=angular.isDefined(l.readonly);var X=b.parseAttributeBoolean(l.mdNoAsterisk);X&&h.addClass("md-no-asterisk");if(C){var U=C.isErrorGetter||function(){return K.$invalid&&(K.$touched||M&&M.$submitted)};if(C.input&&h.find("md-select-header").find("input")[0]!==C.input[0])throw Error("<md-input-container> can only have *one* child <input>, <textarea> or <select> element!");
C.input=h;C.label||e.expect(h,"aria-label",h.attr("placeholder"));k.$watch(U,C.setInvalid)}var R,aa,O;r();d(h);M&&angular.isDefined(l.multiple)&&b.nextTick(function(){var a=K.$modelValue||K.$viewValue;a&&M.$setPristine()});var N=K.$render;K.$render=function(){N();q();m();x()};l.$observe("placeholder",K.$render);C&&C.label&&l.$observe("required",function(a){C.label.toggleClass("md-required",a&&!X)});L.setLabelText=function(a){L.setIsPlaceholder(!a);var b=!1;if(l.mdSelectedText&&l.mdSelectedHtml)throw Error("md-select cannot have both `md-selected-text` and `md-selected-html`");
l.mdSelectedText||l.mdSelectedHtml?(a=f(l.mdSelectedText||l.mdSelectedHtml)(k),b=!0):a||(a=(a=l.placeholder||(C&&C.label?C.label.text():""))||"",b=!0);var c=S.children().eq(0);l.mdSelectedHtml?c.html(g.getTrustedHtml(a)):b?c.text(a):c.html(a)};L.setIsPlaceholder=function(a){a?(S.addClass("md-select-placeholder"),C&&C.label&&C.label.addClass("md-placeholder")):(S.removeClass("md-select-placeholder"),C&&C.label&&C.label.removeClass("md-placeholder"))};p||(h.on("focus",function(){C&&C.setFocused(!0)}),
h.on("blur",function(a){w&&(w=!1,aa._mdSelectIsOpen&&a.stopImmediatePropagation());aa._mdSelectIsOpen||(C&&C.setFocused(!1),x())}));L.triggerClose=function(){f(l.mdOnClose)(k)};k.$$postDigest(function(){var a=h.attr("aria-label")||h.attr("placeholder");!a&&C&&C.label&&(a=C.label.text());J=a;e.expect(h,"aria-label",a);q();m()});k.$watch(function(){return O.selectedLabels()},q);var ba;l.$observe("ngMultiple",function(a){ba&&ba();var b=f(a);ba=k.$watch(function(){return b(k)},function(a,b){if(void 0!==
a||void 0!==b)a?h.attr("multiple","multiple"):h.removeAttr("multiple"),h.attr("aria-multiselectable",a?"true":"false"),R&&(O.setMultiple(a),N=K.$render,K.$render=function(){N();q();m();x()},K.$render())})});l.$observe("disabled",function(a){angular.isString(a)&&(a=!0);if(void 0===G||G!==a)if(G=a)h.attr({"aria-disabled":"true"}).removeAttr("tabindex").off("click",u).off("keydown",v);else h.attr({tabindex:l.tabindex,"aria-disabled":"false"}).on("click",u).on("keydown",v)});l.hasOwnProperty("disabled")||
l.hasOwnProperty("ngDisabled")||(h.attr({"aria-disabled":"false"}),h.on("click",u),h.on("keydown",v));p={role:"listbox","aria-expanded":"false","aria-multiselectable":n&&!l.ngMultiple?"true":"false"};h[0].hasAttribute("id")||(p.id="select_"+b.nextUid());U="select_container_"+b.nextUid();R.attr("id",U);h.find("md-select-menu").length||(p["aria-owns"]=U);h.attr(p);k.$on("$destroy",function(){a.destroy()["finally"](function(){C&&(C.setFocused(!1),C.setHasValue(!1),C.input=null);K.$setTouched()})})}}
return{restrict:"E",require:["^?mdInputContainer","mdSelect","ngModel","?^form"],compile:k,controller:function(){}}}
function SelectMenuDirective(a,b,c,d){function e(a,c,e,f){function g(a){13!=a.keyCode&&32!=a.keyCode||k(a)}function k(c){var d=b.getClosest(c.target,"md-option"),e=d&&angular.element(d).data("$mdOptionController");if(d&&e){if(d.hasAttribute("disabled"))return c.stopImmediatePropagation(),!1;var f=h.hashGetter(e.value),g=angular.isDefined(h.selected[f]);a.$apply(function(){h.isMultiple?g?h.deselect(f):h.select(f,e.value):g||(h.deselect(Object.keys(h.selected)[0]),h.select(f,e.value));h.refreshViewValue()})}}
var h=f[0];c.addClass("_md");d(c);c.on("click",k);c.on("keypress",g)}function f(d,e,f){function g(){var a=h.ngModel.$modelValue||h.ngModel.$viewValue||[];if(angular.isArray(a)){var b=Object.keys(h.selected),c=a.map(h.hashGetter);b=b.filter(function(a){return-1===c.indexOf(a)});b.forEach(h.deselect);c.forEach(function(b,c){h.select(b,a[c])})}}function k(){var a=h.ngModel.$viewValue||h.ngModel.$modelValue;Object.keys(h.selected).forEach(h.deselect);h.select(h.hashGetter(a),a)}var h=this;h.isMultiple=
angular.isDefined(e.multiple);h.selected={};h.options={};d.$watchCollection(function(){return h.options},function(){h.ngModel.$render()});var p;h.setMultiple=function(a){function b(a,b){return angular.isArray(a||b||[])}var c=h.ngModel;h.isMultiple=a;p&&p();h.isMultiple?(c.$validators["md-multiple"]=b,c.$render=g,d.$watchCollection(h.modelBinding,function(a){b(a)&&g(a)}),c.$isEmpty=function(a){return!a||0===a.length}):(delete c.$validators["md-multiple"],c.$render=k)};var n="",v,u,w;h.optNodeForKeyboardSearch=
function(a){v&&clearTimeout(v);v=setTimeout(function(){v=void 0;n="";u=w=void 0},300);a=a.keyCode-(c.isNumPadKey(a)?48:0);n+=String.fromCharCode(a);a=new RegExp("^"+n,"i");u||(u=f.find("md-option"),w=Array(u.length),angular.forEach(u,function(a,b){w[b]=a.textContent.trim()}));for(var b=0;b<w.length;++b)if(a.test(w[b]))return u[b]};h.init=function(c,e){h.ngModel=c;h.modelBinding=e;h.ngModel.$isEmpty=function(a){return!h.options[h.hashGetter(a)]};if(c=b.getModelOption(c,"trackBy")){var f={},g=a(c);
h.hashGetter=function(a,b){f.$value=a;return g(b||d,f)}}else h.hashGetter=function(a){return angular.isObject(a)?"object_"+(a.$$mdSelectId||(a.$$mdSelectId=++selectNextId)):a};h.setMultiple(h.isMultiple)};h.selectedLabels=function(a){a=a||{};a=a.mode||"html";var c=b.nodesToArray(f[0].querySelectorAll("md-option[selected]"));if(c.length){var d;"html"==a?d=function(a){if(a.hasAttribute("md-option-empty"))return"";var b=a.innerHTML,c=a.querySelector(".md-ripple-container");c&&(b=b.replace(c.outerHTML,
""));(a=a.querySelector(".md-container"))&&(b=b.replace(a.outerHTML,""));return b}:"aria"==a&&(d=function(a){return a.hasAttribute("aria-label")?a.getAttribute("aria-label"):a.textContent});return b.uniq(c.map(d)).join(", ")}return""};h.select=function(a,b){var c=h.options[a];c&&c.setSelected(!0);h.selected[a]=b};h.deselect=function(a){var b=h.options[a];b&&b.setSelected(!1);delete h.selected[a]};h.addOption=function(a,b){if(angular.isDefined(h.options[a]))throw Error('Duplicate md-option values are not allowed in a select. Duplicate value "'+
b.value+'" found.');h.options[a]=b;angular.isDefined(h.selected[a])&&(h.select(a,b.value),angular.isDefined(h.ngModel.$modelValue)&&h.hashGetter(h.ngModel.$modelValue)===a&&h.ngModel.$validate(),h.refreshViewValue())};h.removeOption=function(a){delete h.options[a]};h.refreshViewValue=function(){var a=[],c;for(d in h.selected)(c=h.options[d])?a.push(c.value):a.push(h.selected[d]);c=b.getModelOption(h.ngModel,"trackBy");a=h.isMultiple?a:a[0];var d=h.ngModel.$modelValue;(c?angular.equals(d,a):d+""===
a)||(h.ngModel.$setViewValue(a),h.ngModel.$render())}}f.$inject=["$scope","$attrs","$element"];return{restrict:"E",require:["mdSelectMenu"],scope:!1,controller:f,link:{pre:e}}}
function OptionDirective(a,b,c){function d(a,b){a.append(angular.element('<div class="md-text">').append(a.contents()));a.attr("tabindex",b.tabindex||"0");var c=b.value;b=b.ngValue;(c=c||b)||a.attr("md-option-empty","");return e}function e(d,e,f,m){function g(a,b,c){if(n.hashGetter){c=n.hashGetter(b,d);var e=n.hashGetter(a,d);h.hashKey=e;h.value=a;n.removeOption(c,h);n.addOption(e,h)}else c||d.$$postDigest(function(){g(a,b,!0)})}function k(){var a={role:"option","aria-selected":"false"};e[0].hasAttribute("id")||
(a.id="select_option_"+b.nextUid());e.attr(a)}var h=m[0],n=m[1];c(e);n.isMultiple&&(e.addClass("md-checkbox-enabled"),e.prepend(CHECKBOX_SELECTION_INDICATOR.clone()));angular.isDefined(f.ngValue)?d.$watch(f.ngValue,g):angular.isDefined(f.value)?g(f.value):d.$watch(function(){return e.text().trim()},g);f.$observe("disabled",function(a){a?e.attr("tabindex","-1"):e.attr("tabindex","0")});d.$$postDigest(function(){f.$observe("selected",function(a){angular.isDefined(a)&&("string"==typeof a&&(a=!0),a?(n.isMultiple||
n.deselect(Object.keys(n.selected)[0]),n.select(h.hashKey,h.value)):n.deselect(h.hashKey),n.refreshViewValue())})});a.attach(d,e);k();d.$on("$destroy",function(){n.removeOption(h.hashKey,h)})}function f(a){this.selected=!1;this.setSelected=function(b){b&&!this.selected?a.attr({selected:"selected","aria-selected":"true"}):!b&&this.selected&&(a.removeAttr("selected"),a.attr("aria-selected","false"));this.selected=b}}f.$inject=["$element"];return{restrict:"E",require:["mdOption","^^mdSelectMenu"],controller:f,
compile:d}}function OptgroupDirective(){function a(a,c){if(!a.parent().find("md-select-header").length){var b=a.find("label");b.length||(b=angular.element("<label>"),a.prepend(b));b.addClass("md-container-ignore");b.attr("aria-hidden","true");c.label&&b.text(c.label)}}return{restrict:"E",compile:a}}function SelectHeaderDirective(){return{restrict:"E"}}
function SelectProvider(a){function b(a,b,e,f,g,k,h,m,r){function c(a,b,c){function d(){f();b.removeClass("md-active").attr("aria-hidden","true").css("display","none");b.parent().find("md-select-value").removeAttr("aria-hidden");var a=c.selectCtrl;if(a){var d=c.selectEl.controller("mdSelectMenu");a.setLabelText(d?d.selectedLabels():"");a.triggerClose()}!c.$destroy&&c.restoreFocus&&c.target.focus()}var e=null,f=a.$on("$destroy",function(){e.end()});c=c||{};c.cleanupInteraction();c.cleanupResizing();
c.hideBackdrop();!0===c.$destroy?a=d():(e=h(b,{addClass:"md-leave"}),a=e.start(),a=a.then(d));return a}function d(c,d,l){function p(a,b,c){c.parent!==b.parent()&&b.parent().attr("aria-owns",b.attr("id"));b.parent().find("md-select-value").attr("aria-hidden","true");c.parent.append(b);return g(function(a,c){try{h(b,{removeClass:"md-leave",duration:0}).start().then(q).then(a)}catch(M){c(M)}})}function q(){return g(function(a){if(l.isRemoved)return g.reject(!1);var b=n(c,d,l);b.container.element.css(v.toCss(b.container.styles));
b.dropDown.element.css(v.toCss(b.dropDown.styles));k(function(){d.addClass("md-active");b.dropDown.element.css(v.toCss({transform:""}));a()})})}function x(a,b,c){c.disableParentScroll&&!e.getClosest(c.target,"MD-DIALOG")?c.restoreScroll=e.disableScrollAround(c.element,c.parent):c.disableParentScroll=!1;c.hasBackdrop&&(c.backdrop=e.createBackdrop(a,"md-select-backdrop md-click-catcher"),m.enter(c.backdrop,r[0].body,null,{duration:0}));return function(){c.backdrop&&c.backdrop.remove();c.disableParentScroll&&
c.restoreScroll();delete c.restoreScroll}}function w(a,b){a=d.find("md-select-menu");if(!b.target)throw Error(e.supplant("$mdSelect.show() expected a target element in options.target but got '{0}'!",[b.target]));angular.extend(b,{isRemoved:!1,target:angular.element(b.target),parent:angular.element(b.parent),selectEl:a,contentEl:d.find("md-content"),optionNodes:a[0].getElementsByTagName("md-option")})}function E(){var a=function(a,b,c){return function(){if(!c.isRemoved){var d=n(a,b,c),e=d.container;
d=d.dropDown;e.element.css(v.toCss(e.styles));d.element.css(v.toCss(d.styles))}}}(c,d,l),b=angular.element(f);b.on("resize",a);b.on("orientationchange",a);return function(){b.off("resize",a);b.off("orientationchange",a)}}function H(){l.loadingAsync&&!l.isRemoved&&(c.$$loadingAsyncDone=!1,g.when(l.loadingAsync).then(function(){c.$$loadingAsyncDone=!0;delete l.loadingAsync}).then(function(){k(q)}))}function F(){function c(b){b.preventDefault();b.stopPropagation();l.restoreFocus=!1;e.nextTick(a.hide,
!0)}function f(c){c.preventDefault();c.stopPropagation();switch(c.keyCode){case u.UP_ARROW:return g("prev"),c=void 0;case u.DOWN_ARROW:return g("next"),c=void 0;case u.SPACE:case u.ENTER:var d=e.getClosest(c.target,"md-option");d&&(k.triggerHandler({type:"click",target:d}),c.preventDefault());h(c);break;case u.TAB:case u.ESCAPE:c.stopPropagation();c.preventDefault();l.restoreFocus=!0;e.nextTick(a.hide,!0);break;default:shouldHandleKey(c,b)&&(c=k.controller("mdSelectMenu").optNodeForKeyboardSearch(c),
l.focusedNode=c||l.focusedNode,c&&c.focus())}}function g(a){var b=e.nodesToArray(l.optionNodes),c=b.indexOf(l.focusedNode);do{-1===c?c=0:"next"===a&&c<b.length-1?c++:"prev"===a&&0<c&&c--;var d=b[c];d.hasAttribute("disabled")&&(d=void 0)}while(!d&&c<b.length-1&&0<c);d&&d.focus();l.focusedNode=d}function h(b){function c(){var a=!1;if(b&&0<b.currentTarget.children.length){var c=b.currentTarget.children[0],d=c.scrollHeight>c.clientHeight;d&&0<c.children.length&&(d=b.pageX-b.currentTarget.getBoundingClientRect().left,
d>c.querySelector("md-option").offsetWidth&&(a=!0))}return a}if(!(b&&"click"==b.type&&b.currentTarget!=k[0]||c())){var d=e.getClosest(b.target,"md-option");d&&d.hasAttribute&&!d.hasAttribute("disabled")&&(b.preventDefault(),b.stopPropagation(),n.isMultiple||(l.restoreFocus=!0,e.nextTick(function(){a.hide(n.ngModel.$viewValue)},!0)))}}if(!l.isRemoved){var k=l.selectEl,n=k.controller("mdSelectMenu")||{};d.addClass("md-clickable");l.backdrop&&l.backdrop.on("click",c);k.on("keydown",f);k.on("click",h);
return function(){l.backdrop&&l.backdrop.off("click",c);k.off("keydown",f);k.off("click",h);d.removeClass("md-clickable");l.isRemoved=!0}}}H();w(c,l);l.hideBackdrop=x(c,d,l);return p(c,d,l).then(function(a){d.attr("aria-hidden","false");l.alreadyOpen=!0;l.cleanupInteraction=F();l.cleanupResizing=E();var b=l.focusedNode;b&&!b.hasAttribute("disabled")&&b.focus();return a},l.hideBackdrop)}function n(a,b,c){a=b[0];var d=c.target[0].children[0],g=r[0].body,k=c.selectEl[0],h=c.contentEl[0],l=g.getBoundingClientRect(),
n=d.getBoundingClientRect();g={left:l.left+8,top:8,bottom:l.height-8,right:l.width-8-(e.floatingScrollbars()?16:0)};var p={top:n.top-g.top,left:n.left-g.left,right:g.right-(n.left+n.width),bottom:g.bottom-(n.top+n.height)};l=l.width-16;var m=k.querySelector("md-option[selected]"),q=k.getElementsByTagName("md-option"),v=k.getElementsByTagName("md-optgroup"),x=h,u=b[0].style.display;b[0].style.display="block";x=x.scrollHeight>x.offsetHeight;b[0].style.display=u;b=x;v=(u=(u=c.loadingAsync)&&angular.isFunction(u.then))?
h.firstElementChild||h:m?m:v.length?v[0]:q.length?q[0]:h.firstElementChild||h;h.offsetWidth>l?h.style["max-width"]=l+"px":h.style.maxWidth=null;b&&k.classList.add("md-overflow");m=v;"MD-OPTGROUP"===(m.tagName||"").toUpperCase()&&(v=m=q[0]||h.firstElementChild||h);c.focusedNode=m;a.style.display="block";q=k.getBoundingClientRect();m=v?{left:v.offsetLeft,top:v.offsetTop,width:v.offsetWidth,height:v.offsetHeight}:{left:0,top:0,width:0,height:0};v&&(v=f.getComputedStyle(v),m.paddingLeft=parseInt(v.paddingLeft,
10)||0,m.paddingRight=parseInt(v.paddingRight,10)||0);b&&(v=h.offsetHeight/2,h.scrollTop=m.top+m.height/2-v,p.top<v?h.scrollTop=Math.min(m.top,h.scrollTop+v-p.top):p.bottom<v&&(h.scrollTop=Math.max(m.top+m.height-q.height,h.scrollTop-v+p.bottom)));p=n.left+m.left-m.paddingLeft+2;v=Math.floor(n.top+n.height/2-m.height/2-m.top+h.scrollTop)+2;h=m.left+n.width/2+"px "+(m.top+m.height/2-h.scrollTop)+"px 0px";l=Math.min(n.width+m.paddingLeft+m.paddingRight,l);d=window.getComputedStyle(d)["font-size"];m=
a.getBoundingClientRect();b=Math.round(100*Math.min(n.width/q.width,1))/100;n=Math.round(100*Math.min(n.height/q.height,1))/100;return{container:{element:angular.element(a),styles:{left:Math.floor(Math.max(g.left,Math.min(p,g.right-m.width))),top:Math.floor(Math.max(g.top,Math.min(v,g.bottom-m.height))),"min-width":l,"font-size":d}},dropDown:{element:angular.element(k),styles:{transformOrigin:h,transform:c.alreadyOpen?"":e.supplant("scale({0},{1})",[b,n])}}}}var v=e.dom.animator,u=b.KEY_CODE;return{parent:"body",
themable:!0,onShow:d,onRemove:c,hasBackdrop:!0,disableParentScroll:!0}}b.$inject="$mdSelect $mdConstant $mdUtil $window $q $$rAF $animateCss $animate $document".split(" ");return a("$mdSelect").setDefaults({methods:["target"],options:b})}function shouldHandleKey(a,b){var c=String.fromCharCode(a.keyCode),d=31>=a.keyCode;return c&&c.length&&!d&&!b.isMetaKey(a)&&!b.isFnLockKey(a)&&!b.hasModifierKey(a)}ngmaterial.components.select=angular.module("material.components.select");SidenavService.$inject=["$mdComponentRegistry","$mdUtil","$q","$log"];SidenavDirective.$inject="$mdMedia $mdUtil $mdConstant $mdTheming $mdInteraction $animate $compile $parse $log $q $document $window $$rAF".split(" ");SidenavController.$inject=["$scope","$attrs","$mdComponentRegistry","$q","$interpolate"];
angular.module("material.components.sidenav",["material.core","material.components.backdrop"]).factory("$mdSidenav",SidenavService).directive("mdSidenav",SidenavDirective).directive("mdSidenavFocus",SidenavFocusDirective).controller("$mdSidenavController",SidenavController);
function SidenavService(a,b,c,d){function e(a,d){var e=function(){return!1},f=function(){return c.when(b.supplant("SideNav '{0}' is not available! Did you use md-component-id='{0}'?",[d||""]))};return angular.extend({isLockedOpen:e,isOpen:e,toggle:f,open:f,close:f,onClose:angular.noop,then:function(a){return g(d).then(a||angular.noop)}},a)}function f(c,e){var f=a.get(c);if(f||e)return f;d.error(b.supplant("SideNav '{0}' is not available! Did you use md-component-id='{0}'?",[c||""]))}function g(b){return a.when(b)["catch"](d.error)}
var k={find:f,waitFor:g};return function(a,b){if(angular.isUndefined(a))return k;var c=!0===b,d=k.find(a,c);return!d&&c?k.waitFor(a):!d&&angular.isUndefined(b)?e(k,a):d}}function SidenavFocusDirective(){return{restrict:"A",require:"^mdSidenav",link:function(){}}}
function SidenavDirective(a,b,c,d,e,f,g,k,h,m,r,l,p){function n(g,n,w,q){function v(a,b){g.isLockedOpen=a;if(a===b)n.toggleClass("md-locked-open",!!a);else f[a?"addClass":"removeClass"](n,"md-locked-open");F&&F.toggleClass("md-locked-open",!!a)}function u(a){var c=b.findFocusTarget(n)||b.findFocusTarget(n,"[md-sidenav-focus]")||n,d=n.parent();d[a?"on":"off"]("keydown",A);if(F)F[a?"on":"off"]("click",E);var k=z(d,a);a&&(C=r[0].activeElement,J=e.getLastInteractionType());a&&!H?(H=G.css("overflow"),
G.css("overflow","hidden")):angular.isDefined(H)&&(G.css("overflow",H),H=void 0);return K=m.all([a&&F?f.enter(F,d):F?f.leave(F):m.when(!0),f[a?"removeClass":"addClass"](n,"md-closed")]).then(function(){g.isOpen&&(p(function(){S.triggerHandler("resize")}),c&&c.focus());k&&k()})}function z(a,b){var c=n[0],d=a[0].scrollTop;b&&d&&(L={top:c.style.top,bottom:c.style.bottom,height:c.style.height},a={top:d+"px",bottom:"auto",height:a[0].clientHeight+"px"},n.css(a),F.css(a));if(!b&&L)return function(){c.style.top=
L.top;c.style.bottom=L.bottom;c.style.height=L.height;F[0].style.top=null;F[0].style.bottom=null;L=F[0].style.height=null}}function D(a){if(g.isOpen==a)return m.when(!0);if(g.isOpen&&q.onCloseCb)q.onCloseCb();return m(function(c){g.isOpen=a;b.nextTick(function(){K.then(function(a){!g.isOpen&&C&&"keyboard"===J&&(C.focus(),C=null);c(a)})})})}function A(a){var b=a.keyCode===c.KEY_CODE.ESCAPE;return b?E(a):m.when(!0)}function E(a){a.preventDefault();return q.close()}var H,F,G=null,J,C=null,L,K=m.when(!0),
M=k(w.mdIsLockedOpen),S=angular.element(l),X=function(){return M(g.$parent,{$media:function(b){h.warn("$media is deprecated for is-locked-open. Use $mdMedia instead.");return a(b)},$mdMedia:a})};w.mdDisableScrollTarget&&((G=r[0].querySelector(w.mdDisableScrollTarget))?G=angular.element(G):h.warn(b.supplant('mdSidenav: couldn\'t find element matching selector "{selector}". Falling back to parent.',{selector:w.mdDisableScrollTarget})));G||(G=n.parent());w.hasOwnProperty("mdDisableBackdrop")||(F=b.createBackdrop(g,
"md-sidenav-backdrop md-opaque ng-enter"));n.addClass("_md");d(n);F&&d.inherit(F,n);n.on("$destroy",function(){F&&F.remove();q.destroy()});g.$on("$destroy",function(){F&&F.remove()});g.$watch(X,v);g.$watch("isOpen",u);q.$toggleOpen=D}return{restrict:"E",scope:{isOpen:"=?mdIsOpen"},controller:"$mdSidenavController",compile:function(a){a.addClass("md-closed").attr("tabIndex","-1");return n}}}
function SidenavController(a,b,c,d,e){var f=this;f.isOpen=function(){return!!a.isOpen};f.isLockedOpen=function(){return!!a.isLockedOpen};f.onClose=function(a){f.onCloseCb=a;return f};f.open=function(){return f.$toggleOpen(!0)};f.close=function(){return f.$toggleOpen(!1)};f.toggle=function(){return f.$toggleOpen(!a.isOpen)};f.$toggleOpen=function(b){return d.when(a.isOpen=b)};var g=b.mdComponentId,k=g&&-1<g.indexOf(e.startSymbol());e=k?e(g)(a.$parent):g;f.destroy=c.register(f,e);k&&b.$observe("mdComponentId",
function(a){a&&a!==f.$$mdHandle&&(f.destroy(),f.destroy=c.register(f,a))})}ngmaterial.components.sidenav=angular.module("material.components.sidenav");SliderDirective.$inject="$$rAF $window $mdAria $mdUtil $mdConstant $mdTheming $mdGesture $parse $log $timeout".split(" ");angular.module("material.components.slider",["material.core"]).directive("mdSlider",SliderDirective).directive("mdSliderContainer",SliderContainerDirective);
function SliderContainerDirective(){return{controller:function(){},compile:function(a){var b=a.find("md-slider");if(b){var c=b.attr("md-vertical");void 0!==c&&a.attr("md-vertical","");b.attr("flex")||b.attr("flex","");return function(a,b,c,g){function d(a){b.children().attr("disabled",a);b.find("input").attr("disabled",a)}b.addClass("_md");var e=angular.noop;c.disabled?d(!0):c.ngDisabled&&(e=a.$watch(c.ngDisabled,function(a){d(a)}));a.$on("$destroy",function(){e()});var f;g.fitInputWidthToTextLength=
function(a){var c=b[0].querySelector("md-input-container");if(c){var d=getComputedStyle(c),e=parseInt(d.minWidth),g=2*parseInt(d.padding);f=f||parseInt(d.maxWidth);a=Math.max(f,e+g+e/2*a);c.style.maxWidth=a+"px"}}}}}}}
function SliderDirective(a,b,c,d,e,f,g,k,h,m){function r(a,b){var d=angular.element(a[0].getElementsByClassName("md-slider-wrapper")),e=b.tabindex||0;d.attr("tabindex",e);(b.disabled||b.ngDisabled)&&d.attr("tabindex",-1);a.attr("role","slider");c.expect(a,"aria-label");return l}function l(c,l,r,u){function n(){E();K()}function p(a){Q=parseFloat(a);l.attr("aria-valuemin",a);n()}function x(a){ea=parseFloat(a);l.attr("aria-valuemax",a);n()}function v(a){W=parseFloat(a)}function z(a){Z=M(parseInt(a),
0,6)}function D(){l.attr("aria-disabled",!!T())}function A(){if(qa&&!T()&&!angular.isUndefined(W)){if(0>=W)throw h.error("Slider step value must be greater than zero when in discrete mode"),Error("Slider step value must be greater than zero when in discrete mode");var a=Math.floor((ea-Q)/W);t||(t=angular.element("<canvas>").css("position","absolute"),pa.append(t),Y=t[0].getContext("2d"));var c=H();!c||c.height||c.width||(E(),c=V);t[0].width=c.width;t[0].height=c.height;for(var d,e=0;e<=a;e++)d=b.getComputedStyle(pa[0]),
Y.fillStyle=d.color||"black",d=Math.floor(e/a*(y?c.height:c.width)),Y.fillRect(y?0:d-1,y?d-1:0,y?c.width:2,y?2:c.height)}}function E(){V=sa[0].getBoundingClientRect()}function H(){ta();return V}function F(a){if(!T()){if(y?a.keyCode===e.KEY_CODE.DOWN_ARROW:a.keyCode===e.KEY_CODE.LEFT_ARROW)var b=-W;else if(y?a.keyCode===e.KEY_CODE.UP_ARROW:a.keyCode===e.KEY_CODE.RIGHT_ARROW)b=W;if(b=ha?-b:b){if(a.metaKey||a.ctrlKey||a.altKey)b*=4;a.preventDefault();a.stopPropagation();c.$evalAsync(function(){L(P.$viewValue+
b)})}}}function G(){A();c.mouseActive=!0;da.removeClass("md-focused");m(function(){c.mouseActive=!1},100)}function J(){!1===c.mouseActive&&da.addClass("md-focused")}function C(){da.removeClass("md-focused");l.removeClass("md-active");if(t&&Y){var a=H();Y.clearRect(0,0,a.width,a.height)}}function L(a){P.$setViewValue(M(S(a)))}function K(){isNaN(P.$viewValue)&&(P.$viewValue=P.$modelValue);P.$viewValue=M(P.$viewValue);var a=ra(P.$viewValue);c.modelValue=P.$viewValue;l.attr("aria-valuenow",P.$viewValue);
X(a);na.text(P.$viewValue)}function M(a,b,c){if(angular.isNumber(a))return b=angular.isNumber(b)?b:Q,c=angular.isNumber(c)?c:ea,Math.max(b,Math.min(c,a))}function S(a){if(angular.isNumber(a)){var b=Math.round((a-Q)/W)*W+Q;b=Math.round(b*Math.pow(10,Z))/Math.pow(10,Z);ca&&ca.fitInputWidthToTextLength&&d.debounce(function(){ca.fitInputWidthToTextLength(b.toString().length)},100)();return b}}function X(a){a=Math.max(0,Math.min(a||0,1));var b=100*a+"%",c=ha?100*(1-a)+"%":b;y?ka.css("bottom",b):d.bidiProperty(ka,
"left","right",b);oa.css(y?"height":"width",c);l.toggleClass(ha?"md-max":"md-min",0===a);l.toggleClass(ha?"md-min":"md-max",1===a)}function U(a){if(!T()){l.addClass("md-active");l[0].focus();E();a=ja(ia(y?a.pointer.y:a.pointer.x));var b=M(S(a));c.$apply(function(){L(b);X(ra(b))})}}function R(a){if(!T()){l.removeClass("md-dragging");a=ja(ia(y?a.pointer.y:a.pointer.x));var b=M(S(a));c.$apply(function(){L(b);K()})}}function aa(a){T()||(la=!0,a.stopPropagation(),l.addClass("md-dragging"),ba(a))}function O(a){la&&
(a.stopPropagation(),ba(a))}function N(a){la&&(a.stopPropagation(),la=!1)}function ba(a){if(qa){a=y?a.pointer.y:a.pointer.x;var b=ja(ia(a));b=M(S(b));X(ia(a));na.text(b)}else ma(y?a.pointer.y:a.pointer.x)}function ma(a){c.$evalAsync(function(){L(ja(ia(a)))})}function ia(a){var b=y?V.top:V.left,c=y?V.height:V.width;a=(a-b)/c;y||"rtl"!==d.bidi()||(a=1-a);return Math.max(0,Math.min(1,y?1-a:a))}function ja(a){a=ha?1-a:a;return Q+a*(ea-Q)}function ra(a){a=(a-Q)/(ea-Q);return ha?1-a:a}f(l);var P=u[0]||
{$setViewValue:function(a){this.$viewValue=a;this.$viewChangeListeners.forEach(function(a){a()})},$parsers:[],$formatters:[],$viewChangeListeners:[]},ca=u[1];angular.element(d.getClosest(l,"_md-slider-container",!0));var T=r.ngDisabled?angular.bind(null,k(r.ngDisabled),c.$parent):function(){return l[0].hasAttribute("disabled")};u=angular.element(l[0].querySelector(".md-thumb"));var na=angular.element(l[0].querySelector(".md-thumb-text")),ka=u.parent(),sa=angular.element(l[0].querySelector(".md-track-container")),
oa=angular.element(l[0].querySelector(".md-track-fill")),pa=angular.element(l[0].querySelector(".md-track-ticks")),da=angular.element(l[0].getElementsByClassName("md-slider-wrapper"));angular.element(l[0].getElementsByClassName("md-slider-content"));var ta=d.throttle(E,5E3),y=angular.isDefined(r.mdVertical),qa=angular.isDefined(r.mdDiscrete),ha=angular.isDefined(r.mdInvert);angular.isDefined(r.min)?r.$observe("min",p):p(0);angular.isDefined(r.max)?r.$observe("max",x):x(100);angular.isDefined(r.step)?
r.$observe("step",v):v(1);angular.isDefined(r.round)?r.$observe("round",z):z(3);r.ngDisabled&&c.$parent.$watch(r.ngDisabled,D);g.register(da,"drag",{horizontal:!y});c.mouseActive=!1;da.on("keydown",F).on("mousedown",G).on("focus",J).on("blur",C).on("$md.pressdown",U).on("$md.pressup",R).on("$md.dragstart",aa).on("$md.drag",O).on("$md.dragend",N);setTimeout(n,0);var I=a.throttle(n);angular.element(b).on("resize",I);c.$on("$destroy",function(){angular.element(b).off("resize",I)});P.$render=K;P.$viewChangeListeners.push(K);
P.$formatters.push(M);P.$formatters.push(S);var Q,ea,W,Z,t,Y,V={};E();var la=!1}return{scope:{},require:["?ngModel","?^mdSliderContainer"],template:'<div class="md-slider-wrapper"><div class="md-slider-content"><div class="md-track-container"><div class="md-track"></div><div class="md-track md-track-fill"></div><div class="md-track-ticks"></div></div><div class="md-thumb-container"><div class="md-thumb"></div><div class="md-focus-thumb"></div><div class="md-focus-ring"></div><div class="md-sign"><span class="md-thumb-text"></span></div><div class="md-disabled-thumb"></div></div></div></div>',
compile:r}}ngmaterial.components.slider=angular.module("material.components.slider");MdSticky.$inject=["$mdConstant","$$rAF","$mdUtil","$compile"];angular.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",MdSticky);
function MdSticky(a,b,c,d){function e(d){function e(a,b){b.addClass("md-sticky-clone");var d={element:a,clone:b};q.items.push(d);c.nextTick(function(){u.prepend(d.clone)});w();return function(){q.items.forEach(function(b,c){b.element[0]===a[0]&&(q.items.splice(c,1),b.clone.remove())});w()}}function g(){q.items.forEach(k);q.items=q.items.sort(function(a,b){return a.top<b.top?-1:1});for(var a,b=u.prop("scrollTop"),c=q.items.length-1;0<=c;c--)if(b>q.items[c].top){a=q.items[c];break}p(a)}function k(a){var b=
a.element[0];a.top=0;a.left=0;for(a.right=0;b&&b!==u[0];)a.top+=b.offsetTop,a.left+=b.offsetLeft,b.offsetParent&&(a.right+=b.offsetParent.offsetWidth-b.offsetWidth-b.offsetLeft),b=b.offsetParent;a.height=a.element.prop("offsetHeight");b=c.floatingScrollbars()?"0":void 0;c.bidi(a.clone,"margin-left",a.left,b);c.bidi(a.clone,"margin-right",b,a.right)}function l(){var a=u.prop("scrollTop"),b=a>(l.prevScrollTop||0);l.prevScrollTop=a;if(0===a)p(null);else{if(b){if(q.next&&q.next.top<=a){p(q.next);return}if(q.current&&
q.next&&q.next.top-a<=q.next.height){v(q.current,a+(q.next.top-q.next.height-a));return}}if(!b){if(q.current&&q.prev&&a<q.current.top){p(q.prev);return}if(q.next&&q.current&&a>=q.next.top-q.current.height){v(q.current,a+(q.next.top-a-q.current.height));return}}q.current&&v(q.current,a)}}function p(a){q.current!==a&&(q.current&&(v(q.current,null),n(q.current,null)),a&&n(a,"active"),q.current=a,a=q.items.indexOf(a),q.next=q.items[a+1],q.prev=q.items[a-1],n(q.next,"next"),n(q.prev,"prev"))}function n(a,
b){a&&a.state!==b&&(a.state&&(a.clone.attr("sticky-prev-state",a.state),a.element.attr("sticky-prev-state",a.state)),a.clone.attr("sticky-state",b),a.element.attr("sticky-state",b),a.state=b)}function v(b,d){b&&(null===d||void 0===d?b.translateY&&(b.translateY=null,b.clone.css(a.CSS.TRANSFORM,"")):(b.translateY=d,c.bidi(b.clone,a.CSS.TRANSFORM,"translate3d("+b.left+"px,"+d+"px,0)","translateY("+d+"px)")))}var u=d.$element,w=b.throttle(g);f(u);u.on("$scrollstart",w);u.on("$scroll",l);var q;return q=
{prev:null,current:null,next:null,items:[],add:e,refreshElements:g}}function f(a){function d(){200<+c.now()-f?(e=!1,a.triggerHandler("$scrollend")):(a.triggerHandler("$scroll"),b.throttle(d))}var e,f;a.on("scroll touchmove",function(){e||(e=!0,b.throttle(d),a.triggerHandler("$scrollstart"));a.triggerHandler("$scroll");f=+c.now()})}var g=c.checkStickySupport();return function(a,b,c){var f=b.controller("mdContent");if(f)if(g)b.css({position:g,top:0,"z-index":2});else{var k=f.$element.data("$$sticky");
k||(k=e(f),f.$element.data("$$sticky",k));c=c||d(b.clone())(a);b=k.add(b,c);a.$on("$destroy",b)}}}ngmaterial.components.sticky=angular.module("material.components.sticky");MdSubheaderDirective.$inject=["$mdSticky","$compile","$mdTheming","$mdUtil","$mdAria"];angular.module("material.components.subheader",["material.core","material.components.sticky"]).directive("mdSubheader",MdSubheaderDirective);
function MdSubheaderDirective(a,b,c,d,e){return{restrict:"E",replace:!0,transclude:!0,template:'<div class="md-subheader _md">  <div class="md-subheader-inner">    <div class="md-subheader-content"></div>  </div></div>',link:function(f,g,k,h,m){function r(a){return angular.element(a[0].querySelector(".md-subheader-content"))}c(g);g.addClass("_md");d.prefixer().removeAttribute(g,"ng-repeat");var l=g[0].outerHTML;k.$set("role","heading");e.expect(g,"aria-level","2");m(f,function(a){r(g).append(a)});
g.hasClass("md-no-sticky")||m(f,function(c){var e=b('<div class="md-subheader-wrapper" aria-hidden="true">'+l+"</div>")(f);d.nextTick(function(){r(e).append(c)});a(f,g,e)})}}}ngmaterial.components.subheader=angular.module("material.components.subheader");angular.module("material.components.swipe",["material.core"]).directive("mdSwipeLeft",getDirective("SwipeLeft")).directive("mdSwipeRight",getDirective("SwipeRight")).directive("mdSwipeUp",getDirective("SwipeUp")).directive("mdSwipeDown",getDirective("SwipeDown"));
function getDirective(a){function b(a){function b(b,e,f){var g=a(f[c]);e.on(d,function(a){var c=a.currentTarget;b.$applyAsync(function(){g(b,{$event:a,$target:{current:c}})})})}return{restrict:"A",link:b}}b.$inject=["$parse"];var c="md"+a,d="$md."+a.toLowerCase();return b}ngmaterial.components.swipe=angular.module("material.components.swipe");MdSwitch.$inject="mdCheckboxDirective $mdUtil $mdConstant $parse $$rAF $mdGesture $timeout".split(" ");angular.module("material.components.switch",["material.core","material.components.checkbox"]).directive("mdSwitch",MdSwitch);
function MdSwitch(a,b,c,d,e,f,g){function k(a,k){var l=h.compile(a,k).post;a.addClass("md-dragging");return function(a,k,h,m){function n(b){D&&D(a)||(b.stopPropagation(),k.addClass("md-dragging"),F={width:A.prop("offsetWidth")})}function p(a){F&&(a.stopPropagation(),a.srcEvent&&a.srcEvent.preventDefault(),a=a.pointer.distanceX/F.width,a=u.$viewValue?1+a:a,a=Math.max(0,Math.min(1,a)),A.css(c.CSS.TRANSFORM,"translate3d("+100*a+"%,0,0)"),F.translate=a)}function r(b){F&&(b.stopPropagation(),k.removeClass("md-dragging"),
A.css(c.CSS.TRANSFORM,""),(b=u.$viewValue?.5>F.translate:.5<F.translate)&&v(!u.$viewValue),F=null,a.skipToggle=!0,g(function(){a.skipToggle=!1},1))}function v(b){a.$apply(function(){u.$setViewValue(b);u.$render()})}var u=m[1]||b.fakeNgModel(),D=null;null!=h.disabled?D=function(){return!0}:h.ngDisabled&&(D=d(h.ngDisabled));var A=angular.element(k[0].querySelector(".md-thumb-container")),E=angular.element(k[0].querySelector(".md-container")),H=angular.element(k[0].querySelector(".md-label"));e(function(){k.removeClass("md-dragging")});
l(a,k,h,m);D&&a.$watch(D,function(a){k.attr("tabindex",a?-1:0)});h.$observe("mdInvert",function(a){(a=b.parseAttributeBoolean(a))?k.prepend(H):k.prepend(E);k.toggleClass("md-inverted",a)});f.register(E,"drag");E.on("$md.dragstart",n).on("$md.drag",p).on("$md.dragend",r);var F}}var h=a[0];return{restrict:"E",priority:c.BEFORE_NG_ARIA,transclude:!0,template:'<div class="md-container"><div class="md-bar"></div><div class="md-thumb-container"><div class="md-thumb" md-ink-ripple md-ink-ripple-checkbox></div></div></div><div ng-transclude class="md-label"></div>',
require:["^?mdInputContainer","?ngModel","?^form"],compile:k}}ngmaterial.components["switch"]=angular.module("material.components.switch");angular.module("material.components.tabs",["material.core","material.components.icon"]);angular.module("material.components.tabs").service("MdTabsPaginationService",MdTabsPaginationService);
function MdTabsPaginationService(){function a(a,b){var d=a.canvas;a=c(a);var e;for(e=0;e<a.length;e++)if(a[e]>=b){var f=a[e];break}return Math.max(0,f-d.clientWidth)}function b(a,b){var e=a.canvas,f=d(a)-e.clientWidth;a=c(a);var h;for(h=0;h<a.length,a[h]<=b+e.clientWidth;h++)var m=a[h];return Math.min(f,m)}function c(a){var b,c=0,d=[];for(b=0;b<a.tabs.length;b++){var e=a.tabs[b];d.push(c);c+=e.offsetWidth}return d}function d(a){var b=0,c;for(c=0;c<a.tabs.length;c++){var d=a.tabs[c];b+=d.offsetWidth}return b}
return{decreasePageOffset:a,increasePageOffset:b,getTabOffsets:c,getTotalTabsWidth:d}}angular.module("material.components.tabs").directive("mdTab",MdTab);
function MdTab(){function a(a,d,e,f){if(f){e=f.getTabElementIndex(d);var c=b(d,"md-tab-body").remove(),k=b(d,"md-tab-label").remove(),h=f.insertTab({scope:a,parent:a.$parent,index:e,element:d,template:c.html(),label:k.html()},e);a.select=a.select||angular.noop;a.deselect=a.deselect||angular.noop;a.$watch("active",function(a){a&&f.select(h.getIndex(),!0)});a.$watch("disabled",function(){f.refreshIndex()});a.$watch(function(){return f.getTabElementIndex(d)},function(a){h.index=a;f.updateTabOrder()});
a.$on("$destroy",function(){f.removeTab(h)})}}function b(a,b){a=a[0].children;for(var c=0,d=a.length;c<d;c++){var g=a[c];if(g.tagName===b.toUpperCase())return angular.element(g)}return angular.element()}return{require:"^?mdTabs",terminal:!0,compile:function(c,d){var e=b(c,"md-tab-label"),f=b(c,"md-tab-body");0===e.length&&(e=angular.element("<md-tab-label></md-tab-label>"),d.label?e.text(d.label):e.append(c.contents()),0===f.length&&(d=c.contents().detach(),f=angular.element("<md-tab-body></md-tab-body>"),
f.append(d)));c.append(e);f.html()&&c.append(f);return a},scope:{active:"=?mdActive",disabled:"=?ngDisabled",select:"&?mdOnSelect",deselect:"&?mdOnDeselect"}}}angular.module("material.components.tabs").directive("mdTabItem",MdTabItem);function MdTabItem(){return{require:"^?mdTabs",link:function(a,b,c,d){d&&d.attachRipple(a,b)}}}angular.module("material.components.tabs").directive("mdTabLabel",MdTabLabel);function MdTabLabel(){return{terminal:!0}}MdTabScroll.$inject=["$parse"];
angular.module("material.components.tabs").directive("mdTabScroll",MdTabScroll);function MdTabScroll(a){return{restrict:"A",compile:function(b,c){var d=a(c.mdTabScroll,null,!0);return function(a,b){b.on("mousewheel",function(b){a.$apply(function(){d(a,{$event:b})})})}}}}MdTabsController.$inject="$scope $element $window $mdConstant $mdTabInkRipple $mdUtil $animateCss $attrs $compile $mdTheming $mdInteraction MdTabsPaginationService".split(" ");
angular.module("material.components.tabs").controller("MdTabsController",MdTabsController);
function MdTabsController(a,b,c,d,e,f,g,k,h,m,r,l){function p(){u("stretchTabs",x);ca("focusIndex",H,t.selectedIndex||0);ca("offsetLeft",E,0);ca("hasContent",A,!1);ca("maxTabWidth",z,ka());ca("shouldPaginate",D,!1);w("noInkBar",U);w("dynamicHeight",R);w("noPagination");w("swipeContent");w("noDisconnect");w("autoselect");w("noSelectClick");w("centerTabs",B,!1);w("enableDisconnect");t.scope=a;t.parent=a.$parent;t.tabs=[];t.lastSelectedIndex=null;t.hasFocus=!1;t.styleTabItemFocus=!1;t.shouldCenterTabs=
t.centerTabs&&!t.shouldPaginate;t.tabContentPrefix="tab-content-";n()}function n(){t.selectedIndex=t.selectedIndex||0;v();a.$watch("$mdTabsCtrl.selectedIndex",F);angular.element(c).on("resize",X);a.$on("$destroy",q);m(b);f.nextTick(function(){N();ha();da();I();t.tabs[t.selectedIndex]&&t.tabs[t.selectedIndex].scope.select();fa=!0;T()})}function v(){var a=k.$mdTabsTemplate,c=angular.element(b[0].querySelector("md-tab-data"));c.html(a);h(c.contents())(t.parent);delete k.$mdTabsTemplate}function u(a,
b){var c=k.$normalize("md-"+a);b&&ca(a,b);k.$observe(c,function(b){t[a]=b})}function w(a,b){function c(b){t[a]="false"!==b}var d=k.$normalize("md-"+a);b&&ca(a,b);k.hasOwnProperty(d)&&c(k[d]);k.$observe(d,c)}function q(){la=!0;angular.element(c).off("resize",X)}function x(){var a=N();angular.element(a.wrapper).toggleClass("md-stretch-tabs",ja());I()}function B(){t.shouldCenterTabs=t.centerTabs&&!t.shouldPaginate}function z(a,b){a!==b&&(b=N(),angular.forEach(b.tabs,function(b){b.style.maxWidth=a+"px"}),
angular.forEach(b.dummies,function(b){b.style.maxWidth=a+"px"}),f.nextTick(t.updateInkBarStyles))}function D(a,b){a!==b&&(t.maxTabWidth=ka(),t.shouldCenterTabs=t.centerTabs&&!t.shouldPaginate,f.nextTick(function(){t.maxTabWidth=ka();da(t.selectedIndex)}))}function A(a){b[a?"removeClass":"addClass"]("md-no-tab-content")}function E(b){var c=N();b=(t.shouldCenterTabs||Z()?"":"-")+b+"px";b=b.replace("--","");angular.element(c.paging).css(d.CSS.TRANSFORM,"translate3d("+b+", 0, 0)");a.$broadcast("$mdTabsPaginationChanged")}
function H(a,b){a!==b&&N().tabs[a]&&(da(),pa())}function F(b,c){b!==c&&(t.selectedIndex=P(b),t.lastSelectedIndex=c,t.updateInkBarStyles(),ha(),da(b),a.$broadcast("$mdTabsChanged"),t.tabs[c]&&t.tabs[c].scope.deselect(),t.tabs[b]&&t.tabs[b].scope.select())}function G(a){var c=b[0].getElementsByTagName("md-tab");return Array.prototype.indexOf.call(c,a[0])}function J(){J.watcher||(J.watcher=a.$watch(function(){f.nextTick(function(){J.watcher&&b.prop("offsetParent")&&(J.watcher(),J.watcher=null,X())},
!1)}))}function C(a){switch(a.keyCode){case d.KEY_CODE.LEFT_ARROW:a.preventDefault();oa(-1,!0);break;case d.KEY_CODE.RIGHT_ARROW:a.preventDefault();oa(1,!0);break;case d.KEY_CODE.SPACE:case d.KEY_CODE.ENTER:a.preventDefault();Y||L(t.focusIndex);break;case d.KEY_CODE.TAB:t.focusIndex!==t.selectedIndex&&(t.focusIndex=t.selectedIndex)}}function L(a,b){Y||(t.focusIndex=t.selectedIndex=a);b&&t.noSelectClick||f.nextTick(function(){t.tabs[a].element.triggerHandler("click")},!1)}function K(a){t.shouldPaginate&&
(a.preventDefault(),t.offsetLeft=Q(t.offsetLeft-a.wheelDelta))}function M(){if(t.canPageForward()){var a=l.increasePageOffset(N(),t.offsetLeft);t.offsetLeft=Q(a)}}function S(){if(t.canPageBack()){var a=l.decreasePageOffset(N(),t.offsetLeft);t.offsetLeft=Q(a)}}function X(){t.lastSelectedIndex=t.selectedIndex;t.offsetLeft=Q(t.offsetLeft);f.nextTick(function(){t.updateInkBarStyles();T()})}function U(a){angular.element(N().inkBar).toggleClass("ng-hide",a)}function R(a){b.toggleClass("md-dynamic-height",
a)}function aa(a){if(!la){var b=t.selectedIndex;a=t.tabs.splice(a.getIndex(),1)[0];qa();t.selectedIndex===b&&(a.scope.deselect(),t.tabs[t.selectedIndex]&&t.tabs[t.selectedIndex].scope.select());f.nextTick(function(){T();t.offsetLeft=Q(t.offsetLeft)})}}function O(a,b){var c=fa,d={getIndex:function(){return t.tabs.indexOf(e)},isActive:function(){return this.getIndex()===t.selectedIndex},isLeft:function(){return this.getIndex()<t.selectedIndex},isRight:function(){return this.getIndex()>t.selectedIndex},
shouldRender:function(){return!t.noDisconnect||this.isActive()},hasFocus:function(){return t.styleTabItemFocus&&t.hasFocus&&this.getIndex()===t.focusIndex},id:f.nextUid(),hasContent:!(!a.template||!a.template.trim())},e=angular.extend(d,a);angular.isDefined(b)?t.tabs.splice(b,0,e):t.tabs.push(e);ta();y();f.nextTick(function(){T();W(e);c&&t.autoselect&&f.nextTick(function(){f.nextTick(function(){L(t.tabs.indexOf(e))})})});return e}function N(){var a={},c=b[0];a.wrapper=c.querySelector("md-tabs-wrapper");
a.canvas=a.wrapper.querySelector("md-tabs-canvas");a.paging=a.canvas.querySelector("md-pagination-wrapper");a.inkBar=a.paging.querySelector("md-ink-bar");a.nextButton=c.querySelector("md-next-button");a.prevButton=c.querySelector("md-prev-button");a.contents=c.querySelectorAll("md-tabs-content-wrapper > md-tab-content");a.tabs=a.paging.querySelectorAll("md-tab-item");a.dummies=a.canvas.querySelectorAll("md-dummy-tab");return a}function ba(){return 0<t.offsetLeft}function ma(){var a=N(),b=a.tabs[a.tabs.length-
1];return Z()?t.offsetLeft<a.paging.offsetWidth-a.canvas.offsetWidth:b&&b.offsetLeft+b.offsetWidth>a.canvas.clientWidth+t.offsetLeft}function ia(){var a=t.tabs[t.focusIndex];return a&&a.id?"tab-item-"+a.id:null}function ja(){switch(t.stretchTabs){case "always":return!0;case "never":return!1;default:return!t.shouldPaginate&&c.matchMedia("(max-width: 600px)").matches}}function ra(){if(t.noPagination||!fa)return!1;var a=b.prop("clientWidth");angular.forEach(N().tabs,function(b){a-=b.offsetWidth});return 0>
a}function P(a){if(-1===a)return-1;var b=Math.max(t.tabs.length-a,a),c,d;for(c=0;c<=b;c++)if((d=t.tabs[a+c])&&!0!==d.scope.disabled||(d=t.tabs[a-c])&&!0!==d.scope.disabled)return d.getIndex();return a}function ca(a,b,c){Object.defineProperty(t,a,{get:function(){return c},set:function(a){var d=c;c=a;b&&b(a,d)}})}function T(){t.maxTabWidth=ka();t.shouldPaginate=ra()}function na(a){var b=0;angular.forEach(a,function(a){b+=Math.max(a.offsetWidth,a.getBoundingClientRect().width)});return Math.ceil(b)}
function ka(){var a=N();a=a.canvas.clientWidth;return Math.max(0,Math.min(a-1,264))}function sa(){var a=t.tabs[t.selectedIndex],b=t.tabs[t.focusIndex];t.tabs=t.tabs.sort(function(a,b){return a.index-b.index});t.selectedIndex=t.tabs.indexOf(a);t.focusIndex=t.tabs.indexOf(b)}function oa(a,b){var c=b?"focusIndex":"selectedIndex",d=t[c];for(b=d+a;t.tabs[b]&&t.tabs[b].scope.disabled;b+=a);b=(d+a+t.tabs.length)%t.tabs.length;t.tabs[b]&&(t[c]=b)}function pa(){t.styleTabItemFocus="keyboard"===r.getLastInteractionType();
N().tabs[t.focusIndex].focus()}function da(a){var b=N();angular.isNumber(a)||(a=t.focusIndex);if(b.tabs[a]&&!t.shouldCenterTabs){var c=b.tabs[a],d=c.offsetLeft;c=c.offsetWidth+d;0==a?t.offsetLeft=0:Z()?(d=na(Array.prototype.slice.call(b.tabs,0,a)),a=na(Array.prototype.slice.call(b.tabs,0,a+1)),t.offsetLeft=Math.min(t.offsetLeft,Q(d)),t.offsetLeft=Math.max(t.offsetLeft,Q(a-b.canvas.clientWidth))):(t.offsetLeft=Math.max(t.offsetLeft,Q(c-b.canvas.clientWidth+32)),t.offsetLeft=Math.min(t.offsetLeft,Q(d)))}}
function ta(){V.forEach(function(a){f.nextTick(a)});V=[]}function y(){for(var a=!1,b=0;b<t.tabs.length;b++)if(t.tabs[b].hasContent){a=!0;break}t.hasContent=a}function qa(){t.selectedIndex=P(t.selectedIndex);t.focusIndex=P(t.focusIndex)}function ha(){if(!t.dynamicHeight)return b.css("height","");if(!t.tabs.length)return V.push(ha);var a=N(),c=a.contents[t.selectedIndex];c=c?c.offsetHeight:0;a=a.wrapper.offsetHeight;c+=a;var d=b.prop("clientHeight");d!==c&&("bottom"===b.attr("md-align-tabs")&&(d-=a,
c-=a,void 0!==b.attr("md-border-bottom")&&++d),Y=!0,a={height:d+"px"},c={height:c+"px"},b.css(a),g(b,{from:a,to:c,easing:"cubic-bezier(0.35, 0, 0.25, 1)",duration:.5}).start().done(function(){b.css({transition:"none",height:""});f.nextTick(function(){b.css("transition","")});Y=!1}))}function I(){var a=N();if(a.tabs[t.selectedIndex]){if(!t.tabs.length)return V.push(t.updateInkBarStyles);if(!b.prop("offsetParent"))return J();var c=t.selectedIndex,d=a.paging.offsetWidth,e=a.tabs[c];c=e.offsetLeft;e=
d-c-e.offsetWidth;if(t.shouldCenterTabs){var g=na(a.tabs);d>g&&f.nextTick(I,!1)}var k=N();d=t.selectedIndex;g=t.lastSelectedIndex;k=angular.element(k.inkBar);angular.isNumber(g)&&k.toggleClass("md-left",d<g).toggleClass("md-right",d>g);angular.element(a.inkBar).css({left:c+"px",right:e+"px"})}else angular.element(a.inkBar).css({left:"auto",right:"auto"})}function Q(a){var b=N();if(!b.tabs.length||!t.shouldPaginate)return 0;var c=b.tabs[b.tabs.length-1];c=c.offsetLeft+c.offsetWidth;Z()?(a=Math.min(b.paging.offsetWidth-
b.canvas.clientWidth,a),a=Math.max(0,a)):(a=Math.max(0,a),a=Math.min(c-b.canvas.clientWidth,a));return a}function ea(a,b){var c=N();c={colorElement:angular.element(c.inkBar)};e.attach(a,b,c)}function W(a){if(a.hasContent){var c=b[0].querySelectorAll('[md-tab-id="'+a.id+'"]');angular.element(c).attr("aria-controls",t.tabContentPrefix+a.id)}}function Z(){return"rtl"==f.bidi()}var t=this,Y=!1;N();var V=[],la=!1,fa=!1;t.$onInit=p;t.updatePagination=f.debounce(T,100);t.redirectFocus=pa;t.attachRipple=
ea;t.insertTab=O;t.removeTab=aa;t.select=L;t.scroll=K;t.nextPage=M;t.previousPage=S;t.keydown=C;t.canPageForward=ma;t.canPageBack=ba;t.refreshIndex=qa;t.incrementIndex=oa;t.getTabElementIndex=G;t.updateInkBarStyles=f.debounce(I,100);t.updateTabOrder=f.debounce(sa,100);t.getFocusedTabId=ia;1===angular.version.major&&4>=angular.version.minor&&this.$onInit()}MdTabs.$inject=["$$mdSvgRegistry"];angular.module("material.components.tabs").directive("mdTabs",MdTabs);
function MdTabs(a){return{scope:{selectedIndex:"=?mdSelected"},template:function(b,c){c.$mdTabsTemplate=b.html();return'<md-tabs-wrapper> <md-tab-data></md-tab-data> <md-prev-button tabindex="-1" role="button" aria-label="Previous Page" aria-disabled="{{!$mdTabsCtrl.canPageBack()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageBack() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.previousPage()"> <md-icon md-svg-src="'+a.mdTabsArrow+'"></md-icon> </md-prev-button> <md-next-button tabindex="-1" role="button" aria-label="Next Page" aria-disabled="{{!$mdTabsCtrl.canPageForward()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageForward() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.nextPage()"> <md-icon md-svg-src="'+
a.mdTabsArrow+'"></md-icon> </md-next-button> <md-tabs-canvas ng-focus="$mdTabsCtrl.redirectFocus()" ng-class="{ \'md-paginated\': $mdTabsCtrl.shouldPaginate, \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" ng-keydown="$mdTabsCtrl.keydown($event)"> <md-pagination-wrapper ng-class="{ \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" md-tab-scroll="$mdTabsCtrl.scroll($event)" role="tablist"> <md-tab-item tabindex="{{ tab.isActive() ? 0 : -1 }}" class="md-tab" ng-repeat="tab in $mdTabsCtrl.tabs" role="tab" id="tab-item-{{::tab.id}}" md-tab-id="{{::tab.id}}"aria-selected="{{tab.isActive()}}" aria-disabled="{{tab.scope.disabled || \'false\'}}" ng-click="$mdTabsCtrl.select(tab.getIndex())" ng-focus="$mdTabsCtrl.hasFocus = true" ng-blur="$mdTabsCtrl.hasFocus = false" ng-class="{ \'md-active\':    tab.isActive(), \'md-focused\':   tab.hasFocus(), \'md-disabled\':  tab.scope.disabled }" ng-disabled="tab.scope.disabled" md-swipe-left="$mdTabsCtrl.nextPage()" md-swipe-right="$mdTabsCtrl.previousPage()" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-tab-item> <md-ink-bar></md-ink-bar> </md-pagination-wrapper> <md-tabs-dummy-wrapper aria-hidden="true" class="md-visually-hidden md-dummy-wrapper"> <md-dummy-tab class="md-tab" tabindex="-1" ng-repeat="tab in $mdTabsCtrl.tabs" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-dummy-tab> </md-tabs-dummy-wrapper> </md-tabs-canvas> </md-tabs-wrapper> <md-tabs-content-wrapper ng-show="$mdTabsCtrl.hasContent && $mdTabsCtrl.selectedIndex >= 0" class="_md"> <md-tab-content id="{{:: $mdTabsCtrl.tabContentPrefix + tab.id}}" class="_md" role="tabpanel" aria-labelledby="tab-item-{{::tab.id}}" md-swipe-left="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(1)" md-swipe-right="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(-1)" ng-if="tab.hasContent" ng-repeat="(index, tab) in $mdTabsCtrl.tabs" ng-class="{ \'md-no-transition\': $mdTabsCtrl.lastSelectedIndex == null, \'md-active\':        tab.isActive(), \'md-left\':          tab.isLeft(), \'md-right\':         tab.isRight(), \'md-no-scroll\':     $mdTabsCtrl.dynamicHeight }"> <div md-tabs-template="::tab.template" md-connected-if="tab.isActive()" md-scope="::tab.parent" ng-if="$mdTabsCtrl.enableDisconnect || tab.shouldRender()"></div> </md-tab-content> </md-tabs-content-wrapper>'},
controller:"MdTabsController",controllerAs:"$mdTabsCtrl",bindToController:!0}}MdTabsDummyWrapper.$inject=["$mdUtil","$window"];angular.module("material.components.tabs").directive("mdTabsDummyWrapper",MdTabsDummyWrapper);
function MdTabsDummyWrapper(a,b){return{require:"^?mdTabs",link:function(c,d,e,f){if(f){var g=function(){f.updatePagination();f.updateInkBarStyles()};if("MutationObserver"in b){e={childList:!0,subtree:!0,characterData:!0};g=new MutationObserver(g);g.observe(d[0],e);var k=g.disconnect.bind(g)}else e=a.debounce(g,15,null,!1),d.on("DOMSubtreeModified",e),k=d.off.bind(d,"DOMSubtreeModified",e);c.$on("$destroy",function(){k()})}}}}MdTabsTemplate.$inject=["$compile","$mdUtil"];
angular.module("material.components.tabs").directive("mdTabsTemplate",MdTabsTemplate);
function MdTabsTemplate(a,b){function c(c,e,f,g){function d(){c.$watch("connected",function(a){!1===a?g.enableDisconnect&&b.disconnectScope(m):h()});c.$on("$destroy",h)}function h(){g.enableDisconnect&&b.reconnectScope(m)}if(g){var m=g.enableDisconnect?c.compileScope.$new():c.compileScope;e.html(c.template);a(e.contents())(m);return b.nextTick(d)}}return{restrict:"A",link:c,scope:{template:"=mdTabsTemplate",connected:"=?mdConnectedIf",compileScope:"=mdScope"},require:"^?mdTabs"}}
ngmaterial.components.tabs=angular.module("material.components.tabs");MdToastDirective.$inject=["$mdToast"];MdToastProvider.$inject=["$$interimElementProvider"];angular.module("material.components.toast",["material.core","material.components.button"]).directive("mdToast",MdToastDirective).provider("$mdToast",MdToastProvider);function MdToastDirective(a){return{restrict:"E",link:function(b,c){c.addClass("_md");b.$on("$destroy",function(){a.destroy()})}}}
function MdToastProvider(a){function b(a){e=a}function c(a,b){this.$onInit=function(){var c=this;c.highlightAction&&(b.highlightClasses=["md-highlight",c.highlightClass]);b.$watch(function(){return e},function(){c.content=e});this.resolve=function(){a.hide("ok")}}}function d(a,b,c,d){function f(f,g,h){e=h.textContent||h.content;var l=!d("gt-sm");g=c.extractElementByName(g,"md-toast",!0);h.element=g;h.onSwipe=function(a){a=a.type.replace("$md.","");var d=a.replace("swipe","");"down"===d&&-1!=h.position.indexOf("top")&&
!l||"up"===d&&(-1!=h.position.indexOf("bottom")||l)||("left"===d||"right"===d)&&l||(g.addClass("md-"+a),c.nextTick(b.cancel))};h.openClass=k(h.position);g.addClass(h.toastClass);h.parent.addClass(h.openClass);c.hasComputedStyle(h.parent,"position","static")&&h.parent.css("position","relative");g.on("$md.swipeleft $md.swiperight $md.swipeup $md.swipedown",h.onSwipe);g.addClass(l?"md-bottom":h.position.split(" ").map(function(a){return"md-"+a}).join(" "));h.parent&&h.parent.addClass("md-toast-animating");
return a.enter(g,h.parent).then(function(){h.parent&&h.parent.removeClass("md-toast-animating")})}function g(b,d,e){d.off("$md.swipeleft $md.swiperight $md.swipeup $md.swipedown",e.onSwipe);e.parent&&e.parent.addClass("md-toast-animating");e.openClass&&e.parent.removeClass(e.openClass);return(1==e.$destroy?d.remove():a.leave(d)).then(function(){e.parent&&e.parent.removeClass("md-toast-animating");c.hasComputedStyle(e.parent,"position","static")&&e.parent.css("position","")})}function k(a){return d("gt-xs")?
"md-toast-open-"+(-1<a.indexOf("top")?"top":"bottom"):"md-toast-open-bottom"}return{onShow:f,onRemove:g,toastClass:"",position:"bottom left",themable:!0,hideDelay:3E3,autoWrap:!0,transformTemplate:function(a,b){if(b=b.autoWrap&&a&&!/md-toast-content/g.test(a)){b=document.createElement("md-template");b.innerHTML=a;for(a=0;a<b.children.length;a++)if("MD-TOAST"===b.children[a].nodeName){var c=angular.element('<div class="md-toast-content">');c.append(angular.element(b.children[a].childNodes));b.children[a].appendChild(c[0])}return b.innerHTML}return a||
""}}}c.$inject=["$mdToast","$scope"];d.$inject=["$animate","$mdToast","$mdUtil","$mdMedia"];var e;return a=a("$mdToast").setDefaults({methods:"position hideDelay capsule parent position toastClass".split(" "),options:d}).addPreset("simple",{argOption:"textContent",methods:"textContent content action highlightAction highlightClass theme parent".split(" "),options:["$mdToast","$mdTheming",function(a,b){return{template:'<md-toast md-theme="{{ toast.theme }}" ng-class="{\'md-capsule\': toast.capsule}">  <div class="md-toast-content">    <span class="md-toast-text" role="alert" aria-relevant="all" aria-atomic="true">      {{ toast.content }}    </span>    <md-button class="md-action" ng-if="toast.action" ng-click="toast.resolve()"         ng-class="highlightClasses">      {{ toast.action }}    </md-button>  </div></md-toast>',
controller:c,theme:b.defaultTheme(),controllerAs:"toast",bindToController:!0}}]}).addMethod("updateTextContent",b).addMethod("updateContent",b)}ngmaterial.components.toast=angular.module("material.components.toast");mdToolbarDirective.$inject=["$$rAF","$mdConstant","$mdUtil","$mdTheming","$animate"];angular.module("material.components.toolbar",["material.core","material.components.content"]).directive("mdToolbar",mdToolbarDirective);
function mdToolbarDirective(a,b,c,d,e){var f=angular.bind(null,c.supplant,"translate3d(0,{0}px,0)");return{template:"",restrict:"E",link:function(g,k,h){function m(){function d(a){var b=k.parent().find("md-content");!w&&b.length&&l(null,b);a=g.$eval(a);!1===a?q():q=n()}function l(a,b){b&&k.parent()[0]===b.parent()[0]&&(w&&w.off("scroll",D),w=b,q=n())}function m(a){a=a?a.target.scrollTop:B;A();x=Math.min(u/z,Math.max(0,x+a-B));k.css(b.CSS.TRANSFORM,f([-x*z]));w.css(b.CSS.TRANSFORM,f([(u-x)*z]));B=
a;c.nextTick(function(){var a=k.hasClass("md-whiteframe-z1");a&&!x?e.removeClass(k,"md-whiteframe-z1"):!a&&x&&e.addClass(k,"md-whiteframe-z1")})}function n(){if(!w)return angular.noop;w.on("scroll",D);w.attr("scroll-shrink","true");c.nextTick(v,!1);return function(){w.off("scroll",D);w.attr("scroll-shrink","false");v()}}function v(){u=k.prop("offsetHeight");var a=-u*z+"px";w.css({"margin-top":a,"margin-bottom":a});m()}var u,w,q=angular.noop,x=0,B=0,z=h.mdShrinkSpeedFactor||.5,D=a.throttle(m),A=c.debounce(v,
5E3);g.$on("$mdContentLoaded",l);h.$observe("mdScrollShrink",d);h.ngShow&&g.$watch(h.ngShow,v);h.ngHide&&g.$watch(h.ngHide,v);g.$on("$destroy",q)}k.addClass("_md");d(k);c.nextTick(function(){k.addClass("_md-toolbar-transitions")},!1);angular.isDefined(h.mdScrollShrink)&&m()}}}ngmaterial.components.toolbar=angular.module("material.components.toolbar");MdTooltipDirective.$inject="$timeout $window $$rAF $document $interpolate $mdUtil $mdPanel $$mdTooltipRegistry".split(" ");angular.module("material.components.tooltip",["material.core","material.components.panel"]).directive("mdTooltip",MdTooltipDirective).service("$$mdTooltipRegistry",MdTooltipRegistry);
function MdTooltipDirective(a,b,c,d,e,f,g,k){function h(h,l,p){function n(){h.mdZIndex=h.mdZIndex||100;h.mdDelay=h.mdDelay||0;m[h.mdDirection]||(h.mdDirection="bottom")}function r(a){a=a||e(l.text().trim())(h.$parent);if(!A.attr("aria-label")&&!A.attr("aria-labelledby")||A.attr("md-labeled-by-tooltip"))A.attr("aria-label",a),A.attr("md-labeled-by-tooltip")||A.attr("md-labeled-by-tooltip",D)}function u(){n();C&&C.panelEl&&C.panelEl.removeClass(F);F="md-origin-"+h.mdDirection;G=m[h.mdDirection];J=g.newPanelPosition().relativeTo(A).addPanelPosition(G.x,
G.y);C&&C.panelEl&&(C.panelEl.addClass(F),C.updatePosition(J))}function w(){function c(a){a.some(function(a){return"disabled"===a.attributeName&&A[0].disabled});return!1}function e(){x(!1)}function g(){M=document.activeElement===A[0]}function l(a){if("focus"===a.type&&M)M=!1;else if(!h.mdVisible&&(A.on("blur touchcancel mouseleave",m),x(!0),"touchstart"===a.type))A.one("touchend",function(){f.nextTick(function(){d.one("touchend",m)},!1)})}function m(){if((L=h.hasOwnProperty("mdAutohide")?h.mdAutohide:
p.hasOwnProperty("mdAutohide"))||H||d[0].activeElement!==A[0])K&&(a.cancel(K),x.queued=!1,K=null),A.off("blur touchcancel mouseleave",m),A.triggerHandler("blur"),x(!1);H=!1}function n(){H=!0}function q(){k.deregister("scroll",e,!0);k.deregister("blur",g);k.deregister("resize",E);A.off("focus touchstart mouseenter",l).off("blur touchcancel mouseleave",m).off("mousedown",n);m();r&&r.disconnect()}if(A[0]&&"MutationObserver"in b){var r=new MutationObserver(function(a){c(a)&&f.nextTick(function(){x(!1)})});
r.observe(A[0],{attributes:!0})}M=!1;k.register("scroll",e,!0);k.register("blur",g);k.register("resize",E);h.$on("$destroy",q);A.on("mousedown",n);A.on("focus touchstart mouseenter",l)}function q(){function a(){h.$destroy()}if(l[0]&&"MutationObserver"in b){var c=new MutationObserver(function(a){a.forEach(function(a){"md-visible"!==a.attributeName||h.visibleWatcher||(h.visibleWatcher=h.$watch("mdVisible",B))})});c.observe(l[0],{attributes:!0});p.hasOwnProperty("mdVisible")&&(h.visibleWatcher=h.$watch("mdVisible",
B))}else h.visibleWatcher=h.$watch("mdVisible",B);h.$watch("mdDirection",u);l.one("$destroy",a);A.one("$destroy",a);h.$on("$destroy",function(){x(!1);C&&C.destroy();c&&c.disconnect();l.remove()});-1<l.text().indexOf(e.startSymbol())&&h.$watch(function(){return l.text().trim()},r)}function x(b){x.queued&&x.value===!!b||!x.queued&&h.mdVisible===!!b||(x.value=!!b,x.queued||(b?(x.queued=!0,K=a(function(){h.mdVisible=x.value;x.queued=!1;K=null;h.visibleWatcher||B(h.mdVisible)},h.mdDelay)):f.nextTick(function(){h.mdVisible=
!1;h.visibleWatcher||B(!1)})))}function B(a){a?z():C&&C.close()}function z(){if(!l[0].textContent.trim())throw Error("Text for the tooltip has not been provided. Please include text within the mdTooltip element.");if(!C){var a=angular.element(document.body),b=g.newPanelAnimation().openFrom(A).closeTo(A).withAnimation({open:"md-show",close:"md-hide"});a={id:D,attachTo:a,contentElement:l,propagateContainerEvents:!0,panelClass:"md-tooltip",animation:b,position:J,zIndex:h.mdZIndex,focusOnOpen:!1,onDomAdded:function(){C.panelEl.addClass(F)}};
C=g.create(a)}C.open().then(function(){C.panelEl.attr("role","tooltip")})}var D="md-tooltip-"+f.nextUid(),A=f.getParentWithPointerEvents(l),E=c.throttle(u),H=!1,F,G,J,C,L,K,M=null;n();r();l.detach();u();w();q()}var m={top:{x:g.xPosition.CENTER,y:g.yPosition.ABOVE},right:{x:g.xPosition.OFFSET_END,y:g.yPosition.CENTER},bottom:{x:g.xPosition.CENTER,y:g.yPosition.BELOW},left:{x:g.xPosition.OFFSET_START,y:g.yPosition.CENTER}};return{restrict:"E",priority:210,scope:{mdZIndex:"=?mdZIndex",mdDelay:"=?mdDelay",
mdVisible:"=?mdVisible",mdAutohide:"=?mdAutohide",mdDirection:"@?mdDirection"},link:h}}
function MdTooltipRegistry(){function a(a){d[a.type]&&d[a.type].forEach(function(b){b.call(this,a)},this)}function b(b,c,k){var f=d[b]=d[b]||[];f.length||(k?window.addEventListener(b,a,!0):e.on(b,a));-1===f.indexOf(c)&&f.push(c)}function c(b,c,k){var f=d[b];c=f?f.indexOf(c):-1;-1<c&&(f.splice(c,1),0===f.length&&(k?window.removeEventListener(b,a,!0):e.off(b,a)))}var d={},e=angular.element(window);return{register:b,deregister:c}}ngmaterial.components.tooltip=angular.module("material.components.tooltip");MdWhiteframeDirective.$inject=["$log"];angular.module("material.components.whiteframe",["material.core"]).directive("mdWhiteframe",MdWhiteframeDirective);function MdWhiteframeDirective(a){function b(b,d,e){var c="";e.$observe("mdWhiteframe",function(b){b=parseInt(b,10)||4;-1!=b&&(24<b||1>b)&&(a.warn("md-whiteframe attribute value is invalid. It should be a number between 1 and 24",d[0]),b=4);b=-1==b?"":"md-whiteframe-"+b+"dp";e.$updateClass(b,c);c=b})}return{link:b}}
ngmaterial.components.whiteframe=angular.module("material.components.whiteframe");/*
 Angular Material Design
 https://github.com/angular/material
 @license MIT
 v1.1.0
*/
angular.module("ngMaterial","ng ngAnimate ngAria material.core material.core.gestures material.core.layout material.core.theming.palette material.core.theming material.core.animate material.components.autocomplete material.components.backdrop material.components.bottomSheet material.components.button material.components.card material.components.checkbox material.components.chips material.components.colors material.components.content material.components.datepicker material.components.dialog material.components.divider material.components.fabActions material.components.fabShared material.components.fabSpeedDial material.components.fabToolbar material.components.gridList material.components.icon material.components.input material.components.list material.components.menu material.components.menuBar material.components.navBar material.components.panel material.components.progressCircular material.components.progressLinear material.components.radioButton material.components.select material.components.showHide material.components.sidenav material.components.slider material.components.sticky material.components.subheader material.components.swipe material.components.switch material.components.tabs material.components.toast material.components.toolbar material.components.tooltip material.components.virtualRepeat material.components.whiteframe".split(" "));

